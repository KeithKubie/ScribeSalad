WEBVTT
Kind: captions
Language: en

00:00:00.590 --> 00:00:07.990
Okay, so I'll remind you,
what a Markov chain is, cuz a week ago.

00:00:07.990 --> 00:00:12.830
Markov chain, in a certain sense, is kinda
memoryless type of thing, in that you're

00:00:12.830 --> 00:00:16.880
imagining that this particle
bouncing around from state to state,

00:00:16.880 --> 00:00:19.010
and it doesn't remember how it got.

00:00:19.010 --> 00:00:22.715
It's memoryless, not in as quite
the same sense as the exponential, but

00:00:22.715 --> 00:00:25.645
it's memoryless in the sense
that it doesn't remember or

00:00:25.645 --> 00:00:27.947
care how it got to the state it's in,
right?

00:00:27.947 --> 00:00:33.509
It's only just like the only information
you need is what the current state is.

00:00:33.509 --> 00:00:38.930
All right, so
it's this conditional independence thing.

00:00:38.930 --> 00:00:42.340
Given the present,
that is what state it's at now.

00:00:42.340 --> 00:00:45.136
The future and
the past are conditionally independent.

00:00:45.136 --> 00:00:47.610
All right, so it's the conditional
independence property.

00:00:47.610 --> 00:00:50.580
And it helps to really
just think about pictures.

00:00:50.580 --> 00:00:53.880
So I'm gonna draw just several
simple pictures of Markov chains.

00:00:53.880 --> 00:00:57.890
And we can kinda just stare at
the pictures for a while, and

00:00:57.890 --> 00:01:01.010
try to get some intuition for
how these chains behave.

00:01:01.010 --> 00:01:02.880
And then we'll talk about
a few new concepts.

00:01:02.880 --> 00:01:05.610
And then the most important thing
is stationary distributions,

00:01:05.610 --> 00:01:06.960
going through some of those properties.

00:01:06.960 --> 00:01:10.620
But there are a few other concepts that we
can see pretty easily just by looking at

00:01:10.620 --> 00:01:11.690
some pictures.

00:01:11.690 --> 00:01:14.700
Okay, so I'm just gonna draw
some pictures of chains.

00:01:14.700 --> 00:01:16.742
Here is a pretty nice one.

00:01:16.742 --> 00:01:20.364
So I'll just call the states 1, 2, 3.

00:01:20.364 --> 00:01:23.850
And there are many examples I
could draw that would be nice.

00:01:23.850 --> 00:01:27.480
And I'll explain what I mean
by nice when we get there.

00:01:27.480 --> 00:01:29.160
But first, let's draw a few pictures.

00:01:29.160 --> 00:01:30.976
So suppose you can go from 1 to 2,

00:01:30.976 --> 00:01:34.180
you're just wandering around
from state to state, right?

00:01:34.180 --> 00:01:35.160
Now that's a Markov chain.

00:01:35.160 --> 00:01:38.830
You can picture it this way like we're
doing last time, just draw states and

00:01:38.830 --> 00:01:40.150
arrows.

00:01:40.150 --> 00:01:43.890
And I could put different probabilities
on these arrows if I want.

00:01:43.890 --> 00:01:47.140
But just for simplicity, let's assume

00:01:49.110 --> 00:01:55.220
that from any state,
you look at all of the possible arrows and

00:01:55.220 --> 00:01:59.840
then put, make equally likely follow
a random arrow or something like that.

00:01:59.840 --> 00:02:01.700
We could put different
probabilities if we want.

00:02:01.700 --> 00:02:08.557
But let's say from 1, we can stay at 1 or
we can go to 2, from 2, have to go to 3.

00:02:08.557 --> 00:02:14.520
From 3, you can go back to 2 or back to 1,
for example, or even just stay at 3.

00:02:15.560 --> 00:02:18.616
These loops are optional,
just for illustrative.

00:02:18.616 --> 00:02:22.116
It would be a different chain
if I got rid of this, but for

00:02:22.116 --> 00:02:27.050
what I'm trying to say right now,
it doesn't have to be this particular one.

00:02:27.050 --> 00:02:31.287
Okay, so in a certain sense,
this would be a pretty nice one, and

00:02:31.287 --> 00:02:34.000
I'll say what that means.

00:02:34.000 --> 00:02:36.550
So that's chain number 1.

00:02:36.550 --> 00:02:41.870
And then, let's do kind of a nastier
chain, in a certain sense.

00:02:41.870 --> 00:02:44.964
So we could have something that
looks kind of similar, 1, 2, 3.

00:02:44.964 --> 00:02:48.828
And maybe it has these back and
forth things, and

00:02:48.828 --> 00:02:51.870
maybe it has some loops like that.

00:02:51.870 --> 00:02:55.550
But there are also states 4,
5, 6 down here.

00:02:57.300 --> 00:03:01.097
And the thing that's, I don't know,
maybe it looks similar like that.

00:03:05.082 --> 00:03:09.779
You can just, without having studied much
about Markov chains or a lot of technical

00:03:09.779 --> 00:03:15.040
stuff, you can see that there's something
kind of annoying about this chain, right?

00:03:15.040 --> 00:03:18.880
You can never get from state 1,
2, or 3 down here.

00:03:18.880 --> 00:03:21.550
And from here,
you could never get back up.

00:03:21.550 --> 00:03:26.481
Okay, so there's something kind
of annoying about that chain.

00:03:26.481 --> 00:03:32.710
A couple more quick examples, what if
we had a chain that looked like this?

00:03:35.180 --> 00:03:37.030
Usually we number the states 1 to M, but

00:03:37.030 --> 00:03:39.690
there's no particular reason
you have to do it that way.

00:03:39.690 --> 00:03:41.390
Sometimes it's just more
convenient to start at 0.

00:03:41.390 --> 00:03:45.460
And they don't actually have to
be labeled by integers either.

00:03:45.460 --> 00:03:50.880
What matters is not the name of the state
so much for what we are talking about now.

00:03:50.880 --> 00:03:55.768
Anyway, suppose we could
go from state 0 to 1,

00:03:55.768 --> 00:04:00.100
let's say to 2 to let's say 3.

00:04:00.100 --> 00:04:02.900
And you can always go back and
fourth one step.

00:04:05.390 --> 00:04:07.490
Except I didn't draw the way I wanted.

00:04:07.490 --> 00:04:11.520
I don't want an arrow there, and
I don't want an arrow there.

00:04:12.540 --> 00:04:17.750
So from state 1,
you can either go to 0 or 2.

00:04:17.750 --> 00:04:20.080
From 2, you can go to 1 or 3.

00:04:20.080 --> 00:04:24.020
At 0, though, just stays at 0,
and at 3, stays at 3.

00:04:25.230 --> 00:04:28.120
You can see that there's also something
kind of annoying about this chain, right?

00:04:28.120 --> 00:04:33.250
Because if it ever lands in state 0,
then, it's just gonna stay there forever.

00:04:33.250 --> 00:04:35.570
Whatever lands in state 3,
it's gonna stay there forever.

00:04:36.780 --> 00:04:41.240
Okay, and one more simple picture
of a chain just to stare at for

00:04:41.240 --> 00:04:45.420
a while would be,
what if the chain looked like this?

00:04:45.420 --> 00:04:49.505
So from state 1,
it has to go to state 2, from state 2,

00:04:49.505 --> 00:04:53.606
it has to go to state 3,
then it has to go back to state 1.

00:04:53.606 --> 00:04:56.692
Well, this is a very simple chain
to see what's gonna happen,

00:04:56.692 --> 00:05:00.990
it's just gonna go around and around and
around and around like a clock.

00:05:00.990 --> 00:05:03.374
So in a sense,
we don't need to do any math, I mean,

00:05:03.374 --> 00:05:06.010
we already know perfectly
how this is gonna behave.

00:05:06.010 --> 00:05:08.080
But it's kind of annoying that
it's just going around and

00:05:08.080 --> 00:05:11.260
around and around like that,
deterministically.

00:05:11.260 --> 00:05:15.647
So basically, we want to find ways
to rule things like that out.

00:05:15.647 --> 00:05:19.240
So these three all have kind of
annoying properties that we'll mention.

00:05:19.240 --> 00:05:20.170
This is an example of a nice one.

00:05:20.170 --> 00:05:21.820
There are many nice ones.

00:05:21.820 --> 00:05:23.920
Okay, so we need a couple definitions.

00:05:24.940 --> 00:05:29.004
So the chain is irreducible.

00:05:32.170 --> 00:05:35.100
I think connected would have been
a better term than irreducible, but

00:05:35.100 --> 00:05:36.800
that's standard terminology.

00:05:36.800 --> 00:05:40.170
Irreducible means you can get
from anywhere to anywhere, so,

00:05:40.170 --> 00:05:42.070
if it's possible.

00:05:42.070 --> 00:05:47.734
By possible,
I mean with positive probability

00:05:47.734 --> 00:05:51.850
to get from anywhere in the chain.

00:05:51.850 --> 00:05:54.132
Not necessarily in one step,

00:05:54.132 --> 00:05:59.070
but in some finite number of steps,
from anywhere to anywhere.

00:06:03.542 --> 00:06:08.276
Okay, so, just looking at these pictures,
clearly, this one is irreducible,

00:06:08.276 --> 00:06:11.100
cuz you can get from anywhere to anywhere.

00:06:11.100 --> 00:06:15.390
This one's irreducible and
these two are not.

00:06:16.710 --> 00:06:19.722
You can get from state 1 to state 0 but
you can't get from state 0 to state 1.

00:06:19.722 --> 00:06:22.090
Once you're in state 0, it's a trap.

00:06:22.090 --> 00:06:27.800
So these two are,
I'll just write irreducible, irr.

00:06:27.800 --> 00:06:30.100
Reducible, this one is reducible.

00:06:30.100 --> 00:06:32.680
This one is reducible and
this one is irreducible.

00:06:34.960 --> 00:06:39.730
Red stands for reducible,
just for right now, okay?

00:06:39.730 --> 00:06:43.780
So, that you can see just by
looking at the pictures, right?

00:06:45.910 --> 00:06:51.530
Now, reducible chains are kind of annoying
just as you can see intuitively like this.

00:06:51.530 --> 00:06:53.352
On the other hand,
it's not that big a deal.

00:06:53.352 --> 00:06:56.281
Because if you happen to
have a reducible chain,

00:06:56.281 --> 00:07:00.498
you can always split it up into
irreducible components, and then just

00:07:00.498 --> 00:07:05.150
study those irreducible components and
try to put them back together.

00:07:05.150 --> 00:07:06.150
So this reducible chain,

00:07:06.150 --> 00:07:09.820
I can think of that as kind of two
separate Markov chains, right?

00:07:09.820 --> 00:07:12.220
I could just study this thing up here and

00:07:12.220 --> 00:07:16.090
this one down here, which I happened
to draw it with the same structure.

00:07:16.090 --> 00:07:19.200
But it didn't have to be the same,
I just drew that as an example.

00:07:19.200 --> 00:07:21.880
If I could study this chain on 1,
2, 3, and

00:07:21.880 --> 00:07:25.190
this one on 4, 5, 6,
it'd just be a separate thing, right?

00:07:25.190 --> 00:07:28.850
It could be because if you start out up
here, then you're just up here forever and

00:07:28.850 --> 00:07:31.640
states 4, 5, and
6 are completely irrelevant.

00:07:31.640 --> 00:07:35.930
Okay, so for the most part, we only
need to look at irreducible chains.

00:07:36.930 --> 00:07:42.015
Okay, just another couple,
quick definitions, a state, this is for

00:07:42.015 --> 00:07:48.143
the whole chain, you can get from anywhere
to anywhere, from any state to any state.

00:07:48.143 --> 00:07:53.740
Now we're talking about one
particular state within the chain,

00:07:53.740 --> 00:07:56.290
and it's called recurrent.

00:07:59.002 --> 00:08:05.740
If it's true that If the chain starts in
that state, it's guaranteed to come back.

00:08:07.330 --> 00:08:12.579
So if starting there,
chain has probability

00:08:12.579 --> 00:08:18.252
one of returning, To that state.

00:08:23.041 --> 00:08:27.345
So it's kind of like certain
like tourist agencies for

00:08:27.345 --> 00:08:30.714
certain cities like If you visit our city,

00:08:30.714 --> 00:08:35.645
then you're always going
to keep coming back, right?

00:08:35.645 --> 00:08:36.805
That's our recurrent.

00:08:36.805 --> 00:08:40.705
It keeps recurring over and
over again with probability one.

00:08:40.705 --> 00:08:45.105
That is,
there can't even be a 0.001 chance

00:08:45.105 --> 00:08:48.235
that you will not come back to that state.

00:08:48.235 --> 00:08:52.195
And otherwise, it's called transient.

00:08:52.195 --> 00:08:55.314
So transient is just
the opposite of recurrent.

00:08:58.530 --> 00:09:02.360
Okay, so
that's pretty intuitive terminology.

00:09:02.360 --> 00:09:06.109
Irreducible is kind of a strange word,
but recurrent and

00:09:06.109 --> 00:09:10.580
transient is pretty
natural terminology and So

00:09:10.580 --> 00:09:14.858
just to see in this picture, intuitively,

00:09:14.858 --> 00:09:21.230
all of these states are recurrent,
in this first picture.

00:09:21.230 --> 00:09:26.590
Because like if you start out at state two
and you know it's always gonna go to state

00:09:26.590 --> 00:09:30.420
three, maybe it will go to state one for
a while, maybe it'll stay at state one for

00:09:30.420 --> 00:09:33.380
a million years but
eventually it's gonna go back there.

00:09:33.380 --> 00:09:34.950
That's probably one.

00:09:34.950 --> 00:09:37.210
It's kind of like, you know Murphy's Law?

00:09:37.210 --> 00:09:40.180
Anything that can go wrong, will go wrong.

00:09:41.330 --> 00:09:45.560
I see this as kind of
the generalization of the probabilistic

00:09:45.560 --> 00:09:47.670
generalization of Murphy's Law.

00:09:47.670 --> 00:09:51.124
It's basically that
anything that happens with

00:09:51.124 --> 00:09:55.180
positive probability will
happen eventually, right?

00:09:55.180 --> 00:09:57.500
That's true within the finite.

00:09:57.500 --> 00:10:02.560
So what we're assuming,
finite number of states here.

00:10:02.560 --> 00:10:05.730
Different things can happen within
an infinite number of states, but

00:10:05.730 --> 00:10:12.380
with the finite number of states,
then even if it's extremely unlikely,

00:10:12.380 --> 00:10:16.120
it's like extremely, if you start out
here In this example it's not difficult.

00:10:16.120 --> 00:10:19.820
But if you can imagine a larger example
where if you start at state two and

00:10:19.820 --> 00:10:22.520
it's extremely difficult to get back,
right?

00:10:22.520 --> 00:10:30.020
But as long as it's possible,
eventually it's gonna to happen.

00:10:30.020 --> 00:10:35.390
So actually in the irreducible case
If there's a finite number of states,

00:10:35.390 --> 00:10:38.100
all the states are going
to be recurrent anyway.

00:10:38.100 --> 00:10:42.670
Just wait long enough and
it's going to happen.

00:10:42.670 --> 00:10:49.830
In this example here, all of the states
are recurrent because even though we can't

00:10:49.830 --> 00:10:54.440
get from state one to state four, this
says if we start out at a certain state.

00:10:54.440 --> 00:11:00.420
So if we start out at stage four, then the
chain is just gonna be down here forever.

00:11:00.420 --> 00:11:04.010
So it will visit four over and over again.

00:11:04.010 --> 00:11:04.730
And by the way,

00:11:04.730 --> 00:11:09.710
I said that it will return probability
one of returning to that stage once.

00:11:09.710 --> 00:11:13.580
But if that is true with probability one,
then I can also say with probability one

00:11:13.580 --> 00:11:16.700
they will return infinitely
many times Right?

00:11:16.700 --> 00:11:18.678
If it's going to return once,
it's probably one, but

00:11:18.678 --> 00:11:22.950
then once it's back there, then he could
say, well, what if the probability of

00:11:22.950 --> 00:11:28.020
the second return somehow decreased and
it got less and less likely each time?

00:11:28.020 --> 00:11:30.770
Then it would not be a Markov chain,
right?

00:11:30.770 --> 00:11:35.980
Once let's say you start at state four,
wander around, get back to state four.

00:11:37.410 --> 00:11:41.610
Since it's Markov, then you no longer care
about that whole pass history, right?

00:11:41.610 --> 00:11:44.700
It's the same problem again, so it's
probably one that's gonna come back again

00:11:44.700 --> 00:11:47.510
and it will probably
wanna come back again.

00:11:47.510 --> 00:11:50.250
So if it's reoccurring,
it's gonna come back infinitely often.

00:11:52.010 --> 00:11:58.690
On the other hand, if it's transient,
then it might come back again and again,

00:11:58.690 --> 00:12:05.790
for a while but eventually it will stop
and it will never go back again, okay?

00:12:05.790 --> 00:12:09.950
So, let's modify,

00:12:09.950 --> 00:12:14.730
I don't wanna draw a whole new picture to
this but let's modify this one slightly.

00:12:15.990 --> 00:12:18.020
But after an important modification, but

00:12:18.020 --> 00:12:23.390
if we add an extra edge let's say
from state three to state six, okay.

00:12:23.390 --> 00:12:28.670
So suppose now that we have that edge,
it's still not irreducible

00:12:28.670 --> 00:12:33.120
because you still can't get from state
four back to state one, for example.

00:12:33.120 --> 00:12:34.340
So it's not irreducible.

00:12:35.370 --> 00:12:40.780
But now states one, two, and
three have become transient.

00:12:40.780 --> 00:12:42.770
Because if you just imagine
what this would look like.

00:12:42.770 --> 00:12:44.810
if you start out at state one,
two, or three,

00:12:44.810 --> 00:12:48.760
it may wander around up here for
years and years.

00:12:48.760 --> 00:12:52.640
Eventually though it's
gonna cross this arrow here

00:12:52.640 --> 00:12:55.160
then there's no turning back, right?

00:12:55.160 --> 00:12:59.300
And then the rest of its infinite life
is gonna be here in four, five and

00:12:59.300 --> 00:13:02.280
six, it will never go back, it can't.

00:13:02.280 --> 00:13:06.650
So if I added this edge here,
these three states would be transient,

00:13:06.650 --> 00:13:08.980
these three would be recurrent, right?

00:13:10.350 --> 00:13:14.660
So that should make sense intuitively,
thinking about how it'd behave.

00:13:17.860 --> 00:13:19.730
Let's think about this one here.

00:13:21.180 --> 00:13:26.730
State, node one and two, lets think about
whether they're recurrent or transient.

00:13:26.730 --> 00:13:32.890
Let's suppose it starts out state two,
and may it wanders around between one and

00:13:32.890 --> 00:13:37.860
two for a while eventually it's gonna hit
state zero or it's gonna hit state three.

00:13:39.200 --> 00:13:44.900
Once it's in state zero, or
state three it's trapped forever.

00:13:44.900 --> 00:13:52.068
Okay that's called an absorbing state,
and this one is absorbing.

00:13:53.874 --> 00:13:58.150
So it just gets trapped there
forever like a black hole.

00:13:58.150 --> 00:14:01.569
Therefore the states one and
two are transient, states zero and

00:14:01.569 --> 00:14:03.310
three are recurrent.

00:14:03.310 --> 00:14:06.700
Because if you start in states zero
then you're in state zero forever so

00:14:06.700 --> 00:14:08.630
it's clearly recurrent.

00:14:08.630 --> 00:14:12.460
By the way, this example is
really just a gambler's ruin.

00:14:12.460 --> 00:14:14.780
Just drawn as a Markov Chain, all right.

00:14:14.780 --> 00:14:17.770
So this is just, we're studying the,

00:14:17.770 --> 00:14:20.840
of course I could have had more
intermediates states here.

00:14:20.840 --> 00:14:23.660
That's just the gambler's ruin
problem visualized as a Markov Chain,

00:14:23.660 --> 00:14:28.210
which is saying how much money does
gambler a have at a certain time?

00:14:28.210 --> 00:14:30.610
And you know wanders
around at some point and

00:14:30.610 --> 00:14:34.290
then it eventually ends with
either gambler a is bankrupt and

00:14:34.290 --> 00:14:38.650
then stays bankrupt forever in that
problem or gambler a has all the money.

00:14:38.650 --> 00:14:42.250
Gambler b is bankrupt and
then it stays that way forever okay.

00:14:42.250 --> 00:14:44.970
That's just a visualization
of a gambler's ruin.

00:14:46.060 --> 00:14:49.140
Okay so this one everything is recurrent.

00:14:49.140 --> 00:14:51.523
But it still has this kind of periodicity,
so

00:14:51.523 --> 00:14:53.727
this one will be called a periodic chain.

00:14:56.277 --> 00:15:01.177
Because, for example,
let's say it starts here, well,

00:15:01.177 --> 00:15:06.410
it's an index time, so at time one,
it's here, at time two.

00:15:06.410 --> 00:15:10.220
Three, four, five times six,
seven eight, nine and so on,

00:15:10.220 --> 00:15:15.050
so notice that if I index it that way,
at times that are multiples of three,

00:15:15.050 --> 00:15:18.940
it's always in state three,
okay, whereas you know, so

00:15:18.940 --> 00:15:24.220
then it's like completely predictable
at what it's gonna do for this example.

00:15:24.220 --> 00:15:27.010
So we wanna exclude things like that.

00:15:28.470 --> 00:15:33.070
Okay, so those are just some
examples to keep in mind, pictures.

00:15:34.640 --> 00:15:38.310
The nicest one is this one
where it's irreducible and

00:15:38.310 --> 00:15:39.680
all the states are recurrent.

00:15:39.680 --> 00:15:45.310
For this one, if we also added some
way to get from here back up to here,

00:15:45.310 --> 00:15:46.890
then it becomes a nice one as well.

00:15:46.890 --> 00:15:48.010
It would be irreducible.

00:15:48.010 --> 00:15:49.510
Everything would be recurring.

00:15:49.510 --> 00:15:53.040
But we can only go one way and
that's kind of a bad one.

00:15:53.040 --> 00:15:53.650
Okay?

00:15:53.650 --> 00:15:55.600
That will be reducible.

00:15:55.600 --> 00:15:57.000
Alright.

00:15:57.000 --> 00:16:01.730
Now we can talk about
Stationary distributions.

00:16:01.730 --> 00:16:04.300
We talked very briefly
about them last time, but

00:16:04.300 --> 00:16:05.780
I'll remind you of the definition.

00:16:06.870 --> 00:16:13.010
So, S which is a probability vector,

00:16:14.160 --> 00:16:19.290
you can just think of that as a pmf just

00:16:19.290 --> 00:16:24.700
written out as I'll say probability row
vector, that's written out as a row.

00:16:24.700 --> 00:16:28.270
Just think of it as the pmf
just written out as a row.

00:16:28.270 --> 00:16:32.490
And it's called a stationary
distribution for

00:16:32.490 --> 00:16:34.600
the particular chain that we're studying.

00:16:40.510 --> 00:16:48.100
So chain with transition matrix Q,
just the notation we were using last time.

00:16:48.100 --> 00:16:51.010
That's just the big matrix of
the probabilities of going from one state

00:16:51.010 --> 00:16:52.480
to another one.

00:16:52.480 --> 00:16:59.248
So the definition of stationarity
is that s times Q equals s.

00:17:02.405 --> 00:17:07.509
And from last time we showed
that if you start out like

00:17:07.509 --> 00:17:13.310
pick a random state that's
distributed according to S.

00:17:13.310 --> 00:17:16.140
Where S is not necessarily stationary yet.

00:17:16.140 --> 00:17:19.670
And then if you multiply by Q that says

00:17:19.670 --> 00:17:24.060
what's the probability distribution
over states one step later.

00:17:24.060 --> 00:17:30.700
We're picking a random state according
to S, let the chain evolve one step and

00:17:30.700 --> 00:17:33.960
this will be the distribution after
one step and if we want two steps,

00:17:33.960 --> 00:17:39.540
we would do s Q square and if we want
three steps, we do s Q cubed and so on.

00:17:39.540 --> 00:17:43.430
So powers of Q are telling
us the higher transitions,

00:17:43.430 --> 00:17:45.820
like the probability of
going from state I to j,

00:17:45.820 --> 00:17:50.466
in some certain number of steps now,
we talked about that that last time.

00:17:50.466 --> 00:17:55.400
But if s Q is just collapses back down to
s, that's why it's called stationary cuz

00:17:55.400 --> 00:17:59.210
that's saying that if the chains starts
out with the stationary distribution

00:17:59.210 --> 00:18:02.820
then it's gonna have the stationary
distribution at the next step and

00:18:02.820 --> 00:18:05.210
then the next step and so on, so forever.

00:18:06.530 --> 00:18:10.096
Okay, so with those of you who've
done Eigenvalues and Eigenvectors,

00:18:10.096 --> 00:18:14.000
you can just interpret this as an
eigenvalue, eigenvector equation which in

00:18:14.000 --> 00:18:19.950
general might be very, if this is very
large like a large number of states,

00:18:19.950 --> 00:18:24.580
this may be computationally very
intensive, you know, problem to do.

00:18:24.580 --> 00:18:29.750
You'll do all the matrix calculations
even with the computer may be

00:18:29.750 --> 00:18:34.660
to computationally intensive,
depending on the size of the problem.

00:18:34.660 --> 00:18:39.660
But anyways, in principle all you
have to do to solve for a stationary

00:18:39.660 --> 00:18:42.920
distribution is to solve, this is just
a system of linear equations, right?

00:18:42.920 --> 00:18:46.450
It's written in matrix form, but in
principle you could write everything out

00:18:46.450 --> 00:18:49.690
as just a linear system and
you know just do you usual thing you know,

00:18:49.690 --> 00:18:52.150
eliminate variables one by one or
you know.

00:18:52.150 --> 00:18:55.650
Gaussian elimination or
whatever and solve the system.

00:18:55.650 --> 00:19:00.210
Well, of course, there's a question which
I asked at the very end last time but

00:19:00.210 --> 00:19:06.580
didn't answer in detail, it's just like,
can we solve this is it unique?

00:19:06.580 --> 00:19:12.200
And so on, okay so
I'm gonna state these as theorem.

00:19:12.200 --> 00:19:17.570
To prove these would involve a lot more
linear algebra then I want to get into or

00:19:17.570 --> 00:19:22.760
lot more matrices, some of this
stuff follows from theorems and

00:19:22.760 --> 00:19:27.260
linear algebra that should in principle
be taught in every linear algebra course.

00:19:27.260 --> 00:19:30.030
But in practice do not get taught.

00:19:30.030 --> 00:19:34.390
Which would mean a pretty large detour
into linear algebra if we wanna prove

00:19:34.390 --> 00:19:39.580
these, but at least, we'll state
the theorems and also what they mean.

00:19:40.680 --> 00:19:44.540
So, just the kinda the basic theorems
about stationary distributions.

00:19:45.880 --> 00:19:51.258
Okay, so, for any,
well we want the chain to be irreducible,

00:19:51.258 --> 00:19:55.950
to avoid kinda these
annoying reducible chains.

00:19:55.950 --> 00:20:01.055
So for any irreducible, Markov chain,

00:20:01.055 --> 00:20:04.267
and we're always assuming
finitely many states and

00:20:04.267 --> 00:20:09.377
I won't necessarily always say that
explicitly, but I'll just remind you here,

00:20:09.377 --> 00:20:14.710
finitely many states, cuz different things
can happen with infinitely many states.

00:20:16.742 --> 00:20:21.731
Then, okay and
we wanna know some basic facts

00:20:21.731 --> 00:20:26.985
about stationary
distributions first of all,

00:20:26.985 --> 00:20:31.070
a stationary distribution exists.

00:20:33.140 --> 00:20:35.880
I'll just say a stationary distribution,
S.

00:20:35.880 --> 00:20:37.195
It doesn't matter what you call it.

00:20:37.195 --> 00:20:42.550
[COUGH]
But, I'm calling ss for

00:20:42.550 --> 00:20:46.800
stationary, stationary distributions
exist, that that's always true.

00:20:46.800 --> 00:20:50.850
So you can solve this system and
in particular, I mean,

00:20:50.850 --> 00:20:55.000
when you solve this thing you'll be, if
you got a solution that had some positive

00:20:55.000 --> 00:20:58.680
element and some negative elements
that would be kinda bad, right?

00:20:58.680 --> 00:21:00.200
But if everything is positive or

00:21:00.200 --> 00:21:04.830
if everything is negative,
then you can just renormalize it so

00:21:04.830 --> 00:21:10.500
the entries are non-negative and
add up to one, and you can always do that.

00:21:12.040 --> 00:21:13.510
Secondly, it's unique.

00:21:19.700 --> 00:21:23.350
So there exists a unique
stationary distribution

00:21:23.350 --> 00:21:26.360
even if there a trillion states.

00:21:28.330 --> 00:21:33.190
Thirdly there's actually

00:21:33.190 --> 00:21:37.560
a formula in a sense that's kind

00:21:37.560 --> 00:21:42.950
of interesting in giving more intuition
for what the stationary distribution does.

00:21:42.950 --> 00:21:48.630
And that's that Si equals 1

00:21:48.630 --> 00:21:53.740
over ri where, ri

00:21:54.750 --> 00:22:01.260
is the average time it takes to return
to state i, starting at state i.

00:22:01.260 --> 00:22:03.730
So ri is an expected value.

00:22:03.730 --> 00:22:08.110
It's as if you start the chain
at state i and let it run

00:22:08.110 --> 00:22:12.660
since this is irreducible, in the finite
case that also means it's recurrent so

00:22:12.660 --> 00:22:15.380
eventually it's going to
come back to state i.

00:22:15.380 --> 00:22:17.810
Anyone know how long does it take?

00:22:17.810 --> 00:22:22.130
On average by definition that's our i, and

00:22:22.130 --> 00:22:24.830
that's reciprocal to
the stationary distribution.

00:22:24.830 --> 00:22:29.860
So I'll just say that's the average
return time that is how

00:22:29.860 --> 00:22:35.985
many steps does it take to return
to i if the chain starts at i.

00:22:43.601 --> 00:22:47.130
So I don't think it's obvious
that these should be equal.

00:22:47.130 --> 00:22:52.110
I think it makes sense intuitively that
these should be inversely related, right?

00:22:52.110 --> 00:22:57.620
Because one way to think of a stationary
distribution intuitively is

00:22:57.620 --> 00:23:03.170
that it's gonna be the long run fraction
of time of being in a certain state.

00:23:03.170 --> 00:23:07.390
So Si, to interpret this intuitively,
think of that as you run the chain for

00:23:07.390 --> 00:23:08.680
a long, long time and

00:23:08.680 --> 00:23:14.290
then they say what fraction of times
was it inhabiting state i right?

00:23:14.290 --> 00:23:20.000
That's gonna converge to Si
under some mild conditions.

00:23:20.000 --> 00:23:25.170
So this is the long run fraction
of time at state y, and so, like

00:23:25.170 --> 00:23:31.750
if the chain is at y one tenth of the time
in the long run what this is saying is if

00:23:31.750 --> 00:23:36.170
you start at state i then on average it'll
take ten steps to get back to state i.

00:23:36.170 --> 00:23:38.970
So that's kinda neat that
there's just this very,

00:23:38.970 --> 00:23:43.280
very simple relationship
between these things.

00:23:43.280 --> 00:23:49.058
Then the last thing is
convergence that is,

00:23:49.058 --> 00:23:55.429
how do we know That what I
just said about the long run,

00:23:55.429 --> 00:24:00.220
that s is supposed to be like long run
on fraction of time in a certain state.

00:24:00.220 --> 00:24:02.200
And how do we know the other thing.

00:24:02.200 --> 00:24:05.930
Stationary distribution is
also called equilibrium or

00:24:05.930 --> 00:24:09.024
steady state,
all these terms from physics or

00:24:09.024 --> 00:24:13.486
econ that are saying it's something
to do with long run behavior.

00:24:13.486 --> 00:24:18.126
So to state that,
if there's no periodicity,

00:24:18.126 --> 00:24:23.570
what we need to rule out
is just this periodic case.

00:24:23.570 --> 00:24:29.284
These first three things are true even for
that periodic case that we'd only assume.

00:24:29.284 --> 00:24:33.114
But if we also assume there's
no periodicity problem, and

00:24:33.114 --> 00:24:36.493
there are different ways
to get rid of periodicity.

00:24:36.493 --> 00:24:44.231
Well, one simple way is just to say if Q
to the m is strictly positive for some m.

00:24:48.480 --> 00:24:50.830
That also implies irreducibility.

00:24:50.830 --> 00:24:55.610
Just remember Q to the m is the m
step transition probabilities,

00:24:55.610 --> 00:24:59.020
probability of going from somewhere
to somewhere in exactly m steps.

00:25:01.830 --> 00:25:02.400
Okay?

00:25:02.400 --> 00:25:06.600
If you write out the transition matrix for
this example,

00:25:06.600 --> 00:25:09.100
it's a three by three matrix
that you can write down easily.

00:25:09.100 --> 00:25:12.213
And start taking powers of that matrix.

00:25:12.213 --> 00:25:17.490
What you'll see is that 0s show up in some
places, and you take another power and

00:25:17.490 --> 00:25:21.852
the 0s move and the 0s oscillate back and
forth where the 0s are.

00:25:21.852 --> 00:25:25.116
But you can never find one power
of the transition matrix here

00:25:25.116 --> 00:25:28.090
where all the entries are positive.

00:25:28.090 --> 00:25:28.920
Okay?

00:25:28.920 --> 00:25:34.635
But if it is true that we can find one
value of m, such that we don't have any

00:25:34.635 --> 00:25:40.060
0s in this matrix, that will rule
out any kind of periodicity problem.

00:25:40.060 --> 00:25:44.895
And in that case, then we can just
say that we do have convergence.

00:25:44.895 --> 00:25:53.140
I'll just say this as the probability
that Xn, or Xn, is the chain,

00:25:55.460 --> 00:26:00.390
converges to Si as n goes to infinity.

00:26:03.540 --> 00:26:06.684
No matter what the starting,

00:26:06.684 --> 00:26:11.348
Xn is the state of
the Markov chain at time n.

00:26:11.348 --> 00:26:14.220
No matter what the starting state, so

00:26:14.220 --> 00:26:19.960
we could say start out deterministically,
start at state 1, always.

00:26:19.960 --> 00:26:23.030
Or we can say we choose a random
state according to some distribution,

00:26:23.030 --> 00:26:25.290
which may or
may not be the stationary distribution.

00:26:25.290 --> 00:26:28.950
You just have to give it some initial
condition, but no matter what the initial

00:26:28.950 --> 00:26:33.260
condition is, in the long run,
as n goes to infinity, the distribution,

00:26:33.260 --> 00:26:39.360
that's just the PMF at time n,
converges to the stationary distribution.

00:26:39.360 --> 00:26:43.759
In matrix terms,
another way to say that would be just

00:26:43.759 --> 00:26:49.250
that tQ to the n converges.

00:26:50.680 --> 00:26:55.060
So last time,
we showed that if we start out, so

00:26:55.060 --> 00:26:59.918
t is just any probability vector,
not necessarily the stationary one.

00:26:59.918 --> 00:27:02.270
So think of t is just like.

00:27:02.270 --> 00:27:07.060
Initially, we choose a random state
where the probability is given by t.

00:27:07.060 --> 00:27:11.788
If we wanna be deterministic, then just
make t have a 1, and everything else 0s.

00:27:17.671 --> 00:27:21.620
We showed last time that this is
our starting probability vector.

00:27:21.620 --> 00:27:25.080
Each time you multiply it by Q, that's
just going one step forward in time for

00:27:25.080 --> 00:27:26.340
the probabilities.

00:27:26.340 --> 00:27:32.290
This is saying, go n steps forward
in time, that that's gonna converge

00:27:32.290 --> 00:27:37.360
to the stationary distribution, so that
this converges to S as m goes to infinity.

00:27:39.950 --> 00:27:42.560
So t could be any probability vector,
right?

00:27:42.560 --> 00:27:45.610
Because that's just saying,
start up the chain however you want,

00:27:45.610 --> 00:27:51.850
then let long time elapse and it
converges to the stationary distribution.

00:27:51.850 --> 00:27:52.350
Okay.

00:27:53.810 --> 00:27:57.510
So this theorem tells us
stationary distribution is

00:27:57.510 --> 00:27:59.630
a very important thing to look at, right?

00:27:59.630 --> 00:28:02.830
Because it's capturing
the long run behavior.

00:28:02.830 --> 00:28:07.670
It's also capturing 1 over
expected time to return to

00:28:07.670 --> 00:28:12.719
a certain state, it exist,
it's unique, so very, very nice.

00:28:14.390 --> 00:28:18.090
The only difficulty with this theorem,
really,

00:28:18.090 --> 00:28:23.870
is that it doesn't give us much
of a clue for how to compute it.

00:28:23.870 --> 00:28:27.620
You could say, well,
we can use this tip to compute it, but

00:28:27.620 --> 00:28:31.231
then we have to find ri which
is also a difficult problem.

00:28:31.231 --> 00:28:32.370
Okay?

00:28:32.370 --> 00:28:35.970
So this is a great result,
a great theorem,

00:28:35.970 --> 00:28:40.662
but how do we actually compute the
stationary distribution assuming we don't

00:28:40.662 --> 00:28:45.440
wanna spend the rest of our life
doing matrix algebra on sQ = s?

00:28:46.660 --> 00:28:47.260
Okay?

00:28:47.260 --> 00:28:51.840
So there's one, especially nice class

00:28:51.840 --> 00:28:57.010
of Markov chains where the computations
are really, really nice.

00:28:57.010 --> 00:29:01.370
That is we can get the stationary
distribution quickly and easily.

00:29:01.370 --> 00:29:06.910
Not necessarily easily in the sense that
it may be hard, but it's the good kind.

00:29:07.910 --> 00:29:12.666
By good kind, it means it may be
difficult, but you think about it and

00:29:12.666 --> 00:29:13.981
you figure it out.

00:29:13.981 --> 00:29:18.170
But it's not tedious, so I like that more.

00:29:18.170 --> 00:29:21.365
So that type of chain
is called reversible.

00:29:26.175 --> 00:29:30.091
So I'll tell you what that word means,
and then I'll show you how do we find

00:29:30.091 --> 00:29:33.897
the stationary distributions in
the case of a reversible Markov chain.

00:29:40.150 --> 00:29:43.320
Reversible chains, just in general,
are much nicer and

00:29:43.320 --> 00:29:46.070
easier to work with than
non-reversible chains.

00:29:46.070 --> 00:29:47.730
Reversible, here's the definition.

00:29:51.700 --> 00:29:56.265
So a chain, a Markov chain

00:29:56.265 --> 00:30:01.246
with transition matrix that

00:30:01.246 --> 00:30:06.640
we've been writing Q, Q, and

00:30:06.640 --> 00:30:12.244
let's say individual elements

00:30:12.244 --> 00:30:18.052
of Q are just written as (q i j),

00:30:18.052 --> 00:30:22.616
that's row i, column j,

00:30:22.616 --> 00:30:27.805
is called reversible if there

00:30:27.805 --> 00:30:34.265
is a probability vector S such that.

00:30:34.265 --> 00:30:37.421
Here's the key equation or reversibility.

00:30:37.421 --> 00:30:42.156
Si qij =

00:30:42.156 --> 00:30:46.894
Sj qji.

00:30:46.894 --> 00:30:50.496
And it's kind of a cute looking equation,

00:30:50.496 --> 00:30:54.508
very useful if this holds for
all states i and j.

00:31:00.562 --> 00:31:03.119
Okay?
So look from the left-hand side to

00:31:03.119 --> 00:31:06.071
the right-hand side,
you just kind of swapped the is.

00:31:06.071 --> 00:31:10.030
We just interchanged i and
j, and this became that.

00:31:10.030 --> 00:31:13.090
So for any particular Markov chain,
it may or

00:31:13.090 --> 00:31:18.100
may not be true that you
could find such an S, and

00:31:18.100 --> 00:31:21.890
this doesn't tell us how to find S either.

00:31:22.950 --> 00:31:27.300
But if you assume, for the moment,

00:31:27.300 --> 00:31:33.398
that this equation holds,
then S is stationary.

00:31:33.398 --> 00:31:34.570
That's why I called it S.

00:31:35.720 --> 00:31:40.913
So if, I'll just say,
if reversible with respect to S,

00:31:40.913 --> 00:31:46.865
that is if this equation holds
with respect to that particular S,

00:31:46.865 --> 00:31:49.375
then that S is stationary.

00:31:56.916 --> 00:32:03.330
So, if you are lucky enough
to have this equation.

00:32:03.330 --> 00:32:06.772
Then you've essentially
bypassed doing all matrix,

00:32:06.772 --> 00:32:11.132
solving matrix equations, and
Gaussian elimination, and stuff.

00:32:11.132 --> 00:32:14.300
Because once this holds,
we know we have the stationary equation.

00:32:14.300 --> 00:32:16.510
We're going to prove that in a minute.

00:32:16.510 --> 00:32:21.940
Of course you could say, how do we
come up with s in the first place,

00:32:21.940 --> 00:32:26.690
at least for solving this matrix system,
that there's a well known system for

00:32:26.690 --> 00:32:29.300
doing that, they do in algebra class,

00:32:29.300 --> 00:32:34.770
just solving this linear system whereas
here we have to cleverly come up with s.

00:32:35.770 --> 00:32:40.950
So it may take more thought but
you get nicer results, more insight.

00:32:40.950 --> 00:32:45.020
And for example, a lot times you
can prove something for all,

00:32:45.020 --> 00:32:50.250
you can have Markov chains that have n
states where you're not specifying n,

00:32:50.250 --> 00:32:51.940
or m states where you're not specifying m.

00:32:51.940 --> 00:32:55.850
And then in some cases, you can
still solve this thing even without

00:32:55.850 --> 00:32:59.320
explicitly knowing what
the size of the space is.

00:32:59.320 --> 00:33:00.440
Think things like that.

00:33:01.580 --> 00:33:04.590
Okay, so let me tell just
a little bit about the intuition.

00:33:04.590 --> 00:33:06.050
Why this is called reversible.

00:33:06.050 --> 00:33:09.590
Then we'll show that this
implies stationarity.

00:33:09.590 --> 00:33:12.040
Then we'll do an example, okay?

00:33:12.040 --> 00:33:18.190
So for the intuition,
reversible is also called time reversible.

00:33:18.190 --> 00:33:20.260
This reversibility refers to time.

00:33:21.870 --> 00:33:27.700
What it says is that if you start up
the chain with distribution s and

00:33:27.700 --> 00:33:30.855
then imagine recording a video of,

00:33:30.855 --> 00:33:35.567
imagine one of these pictures,
one of these chains and

00:33:35.567 --> 00:33:42.340
you kind of videotaping this particle
is wandering around in this process.

00:33:42.340 --> 00:33:45.020
Reversibility says that if
you then took that tape and

00:33:45.020 --> 00:33:49.970
played it backwards in time, you reversed
it, and you showed that to someone else,

00:33:49.970 --> 00:33:54.070
they would not know whether it was
going forwards or backwards in time.

00:33:54.070 --> 00:33:55.360
It looks the same.

00:33:55.360 --> 00:34:00.910
So, this is saying that if you run time
forwards or backwards, it looks the same.

00:34:00.910 --> 00:34:04.320
And you can check that basically
using definition of conditional

00:34:04.320 --> 00:34:05.760
probability and rule.

00:34:05.760 --> 00:34:07.960
That's what this corresponds to.

00:34:07.960 --> 00:34:10.800
So this is also pretty important
in physics too, right?

00:34:10.800 --> 00:34:15.620
In physics they like to talk about, one of
the laws of physics are time reversible,

00:34:15.620 --> 00:34:21.660
the things like that, very important
in thermodynamics, stuff like that.

00:34:21.660 --> 00:34:26.520
But anyway,
that's what this means intuitively.

00:34:28.030 --> 00:34:32.380
And, yeah, I should also mention that
in physics this is also called detailed

00:34:32.380 --> 00:34:34.280
balance, which you don't need to know.

00:34:34.280 --> 00:34:37.410
But in case you ever come across
that term, that's just a synonym.

00:34:37.410 --> 00:34:41.940
Detailed balance is reversibility, but
I like the term reversibility more.

00:34:41.940 --> 00:34:47.580
All right, so let's show that if this is
true, then, in fact, S is stationary.

00:34:49.010 --> 00:34:53.838
Okay, so It's a quick proof and

00:34:53.838 --> 00:34:58.220
it's good practice with this concept.

00:34:58.220 --> 00:35:04.302
So suppose that Si Qij = Sj Qji for

00:35:04.302 --> 00:35:09.515
all ij, so we've found this

00:35:09.515 --> 00:35:14.740
S that makes it reversible.

00:35:14.740 --> 00:35:18.090
We want to show,
that in fact S is stationary.

00:35:18.090 --> 00:35:22.730
So we want to show that S times Q = S.

00:35:22.730 --> 00:35:25.050
That's the definition of
stationary distribution.

00:35:27.206 --> 00:35:27.733
Okay?

00:35:29.860 --> 00:35:34.980
All we have to do is sum up both sides.

00:35:36.730 --> 00:35:37.310
Take this equation.

00:35:37.310 --> 00:35:40.190
This is for all ij, for
all states i and j.

00:35:40.190 --> 00:35:43.060
So just sum both sides, sum over all i.

00:35:45.410 --> 00:35:47.640
So I'm summing over all states i.

00:35:47.640 --> 00:35:49.170
I'm just writing sum over i but

00:35:49.170 --> 00:35:54.260
the indexing is that we're summing
over all the states of the chain.

00:35:54.260 --> 00:35:58.210
So the sum of Si qij equals the sum of sj

00:36:00.370 --> 00:36:03.270
qji, because those are equal.

00:36:03.270 --> 00:36:05.600
And so the sums are equal.

00:36:05.600 --> 00:36:10.990
But now, this is actually very
easy at this point, because Sj

00:36:13.500 --> 00:36:16.150
doesn't depend on i, so
we can take that out of the sum.

00:36:16.150 --> 00:36:20.770
So this is just Sj, times the sum over i

00:36:20.770 --> 00:36:25.770
of qji, but
if you think about what that means,

00:36:25.770 --> 00:36:30.500
that's the probability of going from state
j to state i summed over all states i.

00:36:30.500 --> 00:36:33.730
That sum is just 1 cuz
it has to go somewhere.

00:36:33.730 --> 00:36:36.760
That's just I remember each
row of q has to add up to 1.

00:36:36.760 --> 00:36:40.330
That has to go from j to somewhere,
so that's just sj.

00:36:43.840 --> 00:36:48.650
Okay, now if you think about what this
equation means in terms of matrices,

00:36:50.550 --> 00:36:54.540
this says to take, or look at this one.

00:36:54.540 --> 00:36:59.070
We're taking s and
we're writing it out as a row.

00:36:59.070 --> 00:37:01.420
Like this s1, 2 blah, blah, blah sm.

00:37:02.480 --> 00:37:03.580
And we're multiplying by q.

00:37:03.580 --> 00:37:06.840
How do we actually do that?

00:37:06.840 --> 00:37:09.020
Well, we just do the dot product.

00:37:09.020 --> 00:37:10.990
This, and we take a column here, and

00:37:10.990 --> 00:37:14.730
we go this times this plus
this matrix multiplication.

00:37:14.730 --> 00:37:18.310
And what you get then is just for

00:37:18.310 --> 00:37:22.750
the j of entry, it's just definition
of matrix multiplication at this point.

00:37:24.240 --> 00:37:32.290
So Sq equals S, that's just the definition
of matrix multiplication, okay?

00:37:32.290 --> 00:37:36.320
So, reversibility implies stationarity.

00:37:38.500 --> 00:37:41.040
So, okay, I mean,
that's all well and good,

00:37:41.040 --> 00:37:45.160
but are there any interesting examples
where we can actually do this?

00:37:45.160 --> 00:37:48.090
And there are,
there are a couple in the handout.

00:37:48.090 --> 00:37:52.770
I'll talk about the one
that's the most important one

00:37:53.950 --> 00:37:56.720
and the most interesting one, I think.

00:37:56.720 --> 00:37:57.680
We'll talk about it now.

00:37:59.080 --> 00:38:03.590
So an example of a reversible Markov chain

00:38:06.810 --> 00:38:11.120
would be a random walk on
an undirected network.

00:38:11.120 --> 00:38:15.890
This is a very general,
very, very general example.

00:38:15.890 --> 00:38:20.410
So you can think of lots of problems
that you could encode into this format,

00:38:20.410 --> 00:38:22.100
on an undirected.

00:38:24.840 --> 00:38:30.100
So far you had a couple homework problems
about networks or graphs, right?

00:38:30.100 --> 00:38:34.980
And we've just been looking at undirected
ones, that is, the edges don't have

00:38:34.980 --> 00:38:38.190
arrows, that is they're actually two
way streets, not one way streets.

00:38:38.190 --> 00:38:40.800
But for emphasis,
let's say undirected here.

00:38:44.930 --> 00:38:49.390
Any Markov chain at all,
you can think of that as a random

00:38:49.390 --> 00:38:53.650
walk on some directed network.

00:38:53.650 --> 00:38:58.400
Like any of these, each state, think
of that as a node, and we have nodes,

00:38:58.400 --> 00:39:02.470
and we have directed edges,
which are arrows.

00:39:02.470 --> 00:39:04.670
And if you want to be more
general than these examples,

00:39:04.670 --> 00:39:09.680
we can put different probabilities,
right, on different arrows, okay.

00:39:09.680 --> 00:39:11.230
So that's too general.

00:39:12.760 --> 00:39:15.830
Undirected means that we have
a picture that looks like,

00:39:15.830 --> 00:39:17.310
I'm just gonna make up an example.

00:39:20.530 --> 00:39:23.060
So I'm just drawing some nodes and

00:39:23.060 --> 00:39:28.570
I'm gonna stick some edges,
let's just do a simple one.

00:39:28.570 --> 00:39:33.290
Let's say only four nodes.

00:39:33.290 --> 00:39:36.510
So I'm not drawing arrows now,
I'm just drawing undirected edges.

00:39:36.510 --> 00:39:41.470
Let's say one and two are connected, and
three is connected to everything else,

00:39:41.470 --> 00:39:46.630
and see if I want any more edges.

00:39:46.630 --> 00:39:50.470
Any example we want, we'll be able to
do any of these very, very quickly.

00:39:50.470 --> 00:39:54.470
Just for illustrative purposes,
I'm just drawing one of them.

00:39:54.470 --> 00:39:56.800
So I think this is a good one.

00:39:56.800 --> 00:40:00.130
All right, so that's our network.

00:40:00.130 --> 00:40:07.490
So our random walk just says Imagine that
you start out at one of these states and

00:40:07.490 --> 00:40:12.850
then, wherever you are you look at
all of your available edges and

00:40:12.850 --> 00:40:16.960
you pick one randomly
with equal probabilities.

00:40:16.960 --> 00:40:21.314
So that's a pretty natural, you have been
given a lot of different problems that you

00:40:21.314 --> 00:40:23.353
could express in this format, right?

00:40:23.353 --> 00:40:28.227
And okay, so for example,
from state 3 there're three outgoing

00:40:28.227 --> 00:40:32.770
edges of the same as incoming
edges cuz it's not directed.

00:40:32.770 --> 00:40:38.066
From state 3, you can either go here,
here or here, probably one-third each.

00:40:38.066 --> 00:40:40.546
And from state 4 you have
to go back to state 3,

00:40:40.546 --> 00:40:43.298
from state 1 you can either go from 2 or
3 and so on.

00:40:43.298 --> 00:40:46.250
And then just randomly wandering around,

00:40:46.250 --> 00:40:50.024
that's why it's called
random walk on this network.

00:40:50.024 --> 00:40:52.545
Okay so that's a mark off chain right?

00:40:53.988 --> 00:40:57.192
You can write down the transition
matrix if you want, but

00:40:57.192 --> 00:40:59.747
we wanna find the stationary distribution.

00:40:59.747 --> 00:41:04.119
Clearly it's irreducible,
it'd be kind of annoying if we had node 5

00:41:04.119 --> 00:41:07.370
over here that's not
connected to anything else.

00:41:07.370 --> 00:41:11.170
Then that would not be
irreducible anymore.

00:41:11.170 --> 00:41:13.490
But let's assume that
the graph is connected,

00:41:13.490 --> 00:41:16.535
that is you can get from
anywhere to anywhere, okay.

00:41:16.535 --> 00:41:24.505
And let's d sub i be the degree of i.

00:41:24.505 --> 00:41:30.236
And degree just means that the number
of edges that are attached there.

00:41:30.236 --> 00:41:37.017
So for this example, d1 = 2,
so I'm just counting, 1, 2.

00:41:37.017 --> 00:41:42.072
d2 = 2, d3

00:41:42.072 --> 00:41:46.854
= 3 and d4 = 1, okay?

00:41:46.854 --> 00:41:50.311
Those are just called the degrees,
all right,

00:41:50.311 --> 00:41:54.209
just count the number of
choices of path at each node.

00:41:54.209 --> 00:41:59.690
Okay, now notice that we have,

00:42:02.537 --> 00:42:04.879
The following equation is true.

00:42:04.879 --> 00:42:09.259
di qij = dj qji where q is

00:42:09.259 --> 00:42:13.865
the transition matrix.

00:42:17.286 --> 00:42:21.002
So let's check,
I'm claiming this is true, but

00:42:21.002 --> 00:42:24.012
let's check why this is true for all ij.

00:42:27.973 --> 00:42:32.316
By the way I drew this
without loops that is I

00:42:32.316 --> 00:42:36.550
don't want edges like from 1 to itself.

00:42:36.550 --> 00:42:41.291
You can generalize and
extend this to handle loops if you want,

00:42:41.291 --> 00:42:45.493
but right now I'm assuming
there are not these loops and

00:42:45.493 --> 00:42:48.105
edge from a node to itself, okay.

00:42:48.105 --> 00:42:53.152
So to show that this equation is true,
well i equals j

00:42:53.152 --> 00:43:00.178
then it just says di qii = di qii
that's always true so nothing to check.

00:43:00.178 --> 00:43:03.148
So we can assume i not equal j,

00:43:06.302 --> 00:43:09.648
Okay so
I'm just gonna prove this equation.

00:43:09.648 --> 00:43:13.660
So let's assume that i is not equal to j,

00:43:13.660 --> 00:43:19.620
then let's just think about
what does qij look like?

00:43:19.620 --> 00:43:24.316
First of all qij and qji are either

00:43:24.316 --> 00:43:29.320
both 0, Or both non-zero.

00:43:31.857 --> 00:43:39.190
Right, that's where this key
undirected property comes into play.

00:43:39.190 --> 00:43:42.500
If we had an arrow here that
said you can go from 3 to 2, but

00:43:42.500 --> 00:43:47.070
you can't go from 2 back to 3, what I
wrote would not be true anymore, right?

00:43:47.070 --> 00:43:49.660
And then you have to worry about if
one side of the equation is zero and

00:43:49.660 --> 00:43:54.120
the other side is non-zero and
causes some problems.

00:43:54.120 --> 00:43:57.608
But in this case we assume that
all of these are two way streets.

00:43:57.608 --> 00:44:00.887
So that means in particular,

00:44:00.887 --> 00:44:05.871
that means that it's either 0 equals 0, or

00:44:05.871 --> 00:44:11.660
something non-zero equals
something non-zero.

00:44:11.660 --> 00:44:13.610
Of course 0 equals 0 is always true, so

00:44:13.610 --> 00:44:17.480
we only need to look at the case
where both sides are non 0, right?

00:44:19.320 --> 00:44:23.499
Now, if there is an edge, ij,

00:44:26.788 --> 00:44:32.164
So this notation just means if i is
connected to j by an edge like 1,

00:44:32.164 --> 00:44:37.060
3 is an edge, then let's just
write down a formula for qij.

00:44:37.060 --> 00:44:41.604
gij =, and let's just think about it.

00:44:41.604 --> 00:44:43.601
What is qij mean?

00:44:43.601 --> 00:44:46.129
It means that we're at state i and

00:44:46.129 --> 00:44:51.366
when we're at state i we look at all
available roads and we pick one and

00:44:51.366 --> 00:44:57.110
we're assuming for now that it's
just randomly pick one, right?

00:44:57.110 --> 00:45:01.460
So the probability of each particular
one is one over the degree, right?

00:45:01.460 --> 00:45:03.780
Cuz over here's, there's two choices,
so it's one-half, one-half.

00:45:03.780 --> 00:45:05.841
So this is just 1/di.

00:45:09.723 --> 00:45:15.493
Okay, so
in the case where both sides are non-zero,

00:45:15.493 --> 00:45:23.350
this just becomes di times 1/di = dj 1/dj,
that's true, right?

00:45:23.350 --> 00:45:24.990
That just says 1 equals 1.

00:45:24.990 --> 00:45:29.750
So because qij is 1/di,
in the non-zero case,

00:45:29.750 --> 00:45:34.120
you plug that in here, then you see
that this is always true for all states,

00:45:34.120 --> 00:45:35.140
which is what we're trying to show.

00:45:36.830 --> 00:45:41.926
Okay, so notice, just with this one,
few lines right here,

00:45:41.926 --> 00:45:47.904
we derived a result that did not require
us to write down any matrixes, or

00:45:47.904 --> 00:45:54.177
do any Gaussian elimination, and
row and column operations and whatever.

00:45:54.177 --> 00:45:58.302
And, it's extremely general because
I drew this example with four states,

00:45:58.302 --> 00:46:00.950
but there could be four billion states.

00:46:00.950 --> 00:46:03.160
This is still completely valid, right?

00:46:04.510 --> 00:46:08.450
Of course we had some assumptions
the most important one being that this is

00:46:08.450 --> 00:46:09.490
undirected.

00:46:09.490 --> 00:46:14.771
We could generalize this to the case
where we put weights on the edges and

00:46:14.771 --> 00:46:18.127
it's a fairly straightforward extension.

00:46:18.127 --> 00:46:21.239
But the thing that would make things much,

00:46:21.239 --> 00:46:27.100
much more complicated would be if the
weight or probability from here to here.

00:46:27.100 --> 00:46:31.400
If that had a different weight
than going back like that, okay?

00:46:31.400 --> 00:46:33.815
But you can see this is extremely general.

00:46:33.815 --> 00:46:39.064
Let's write down the stationary
distribution now.

00:46:39.064 --> 00:46:42.838
This is exactly the reversibility
equation, right?

00:46:42.838 --> 00:46:50.000
Except that the di, these are non-negative
or positive integers, right?

00:46:50.000 --> 00:46:52.343
So we just need to normalize it.

00:46:54.392 --> 00:47:00.842
So to do that, all we have to do is
multiply both sides by a constant.

00:47:00.842 --> 00:47:04.363
This will still be valid if we multiply
both sides by a constant right?

00:47:04.363 --> 00:47:09.060
So we just need to chose a constant so
that we actually get a probability vector.

00:47:09.060 --> 00:47:14.090
So that just says that,
in general let's say we have M nodes,

00:47:15.700 --> 00:47:17.550
which are labeled 1 through m.

00:47:18.900 --> 00:47:23.940
And degrees are di,
that is degree of node i,

00:47:25.010 --> 00:47:29.283
then, Just by this equation,

00:47:29.283 --> 00:47:35.211
it follows that if we take, Here's S,

00:47:35.211 --> 00:47:40.957
we just let Si =,
it's proportional to the degree, right?

00:47:40.957 --> 00:47:44.759
So it's di divided by
the sum of all the degrees.

00:47:44.759 --> 00:47:50.050
So this j is a dummy variable
something over all the degrees.

00:47:50.050 --> 00:47:53.340
So in other words take the vector
of all the degrees and

00:47:53.340 --> 00:47:56.640
divide by sum of all the degrees
just to make it after one.

00:47:57.750 --> 00:47:59.400
Then this is gonna miss dictionary.

00:48:01.450 --> 00:48:05.540
So we've found the dictionary
distribution, and it's a pretty into

00:48:05.540 --> 00:48:10.126
results it says it's a dictionary
probability are proportional to degrees.

00:48:10.126 --> 00:48:14.348
Which kinda makes sense if you're
imagining this in the long-run,

00:48:14.348 --> 00:48:18.878
it's gonna be spending more time in
the states of higher degree, right?

00:48:18.878 --> 00:48:21.630
Okay, so that's all for today.

00:48:21.630 --> 00:48:22.960
See you on Wednesday then.

