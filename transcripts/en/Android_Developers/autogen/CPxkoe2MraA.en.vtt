WEBVTT
Kind: captions
Language: en

00:00:04.940 --> 00:00:07.400
 
hi I'm Chet Haase from the Android

00:00:07.400 --> 00:00:07.410
hi I'm Chet Haase from the Android
 

00:00:07.410 --> 00:00:09.500
hi I'm Chet Haase from the Android
development team I work on graphics and

00:00:09.500 --> 00:00:09.510
development team I work on graphics and
 

00:00:09.510 --> 00:00:11.000
development team I work on graphics and
animations and today I wanted to talk

00:00:11.000 --> 00:00:11.010
animations and today I wanted to talk
 

00:00:11.010 --> 00:00:12.980
animations and today I wanted to talk
about animation specifically I want to

00:00:12.980 --> 00:00:12.990
about animation specifically I want to
 

00:00:12.990 --> 00:00:15.320
about animation specifically I want to
talk about activity animations so

00:00:15.320 --> 00:00:15.330
talk about activity animations so
 

00:00:15.330 --> 00:00:17.540
talk about activity animations so
typically when an activity launches or

00:00:17.540 --> 00:00:17.550
typically when an activity launches or
 

00:00:17.550 --> 00:00:19.040
typically when an activity launches or
even a sub activity you get standard

00:00:19.040 --> 00:00:19.050
even a sub activity you get standard
 

00:00:19.050 --> 00:00:20.630
even a sub activity you get standard
animations from the window manager and

00:00:20.630 --> 00:00:20.640
animations from the window manager and
 

00:00:20.640 --> 00:00:22.310
animations from the window manager and
you can choose the kind of animation

00:00:22.310 --> 00:00:22.320
you can choose the kind of animation
 

00:00:22.320 --> 00:00:24.140
you can choose the kind of animation
that you want you can load in resource

00:00:24.140 --> 00:00:24.150
that you want you can load in resource
 

00:00:24.150 --> 00:00:26.689
that you want you can load in resource
for this and as of jellybean we also

00:00:26.689 --> 00:00:26.699
for this and as of jellybean we also
 

00:00:26.699 --> 00:00:28.250
for this and as of jellybean we also
allow you to specify a thumbnail that

00:00:28.250 --> 00:00:28.260
allow you to specify a thumbnail that
 

00:00:28.260 --> 00:00:30.349
allow you to specify a thumbnail that
you can scale from and potentially

00:00:30.349 --> 00:00:30.359
you can scale from and potentially
 

00:00:30.359 --> 00:00:32.150
you can scale from and potentially
crossfade from but that's about it

00:00:32.150 --> 00:00:32.160
crossfade from but that's about it
 

00:00:32.160 --> 00:00:33.740
crossfade from but that's about it
there's not a lot of customization

00:00:33.740 --> 00:00:33.750
there's not a lot of customization
 

00:00:33.750 --> 00:00:35.389
there's not a lot of customization
possible with window animations what if

00:00:35.389 --> 00:00:35.399
possible with window animations what if
 

00:00:35.399 --> 00:00:37.010
possible with window animations what if
you want to do something really custom

00:00:37.010 --> 00:00:37.020
you want to do something really custom
 

00:00:37.020 --> 00:00:38.450
you want to do something really custom
so we're going to see how to do that

00:00:38.450 --> 00:00:38.460
so we're going to see how to do that
 

00:00:38.460 --> 00:00:40.700
so we're going to see how to do that
today so if we run this little demo

00:00:40.700 --> 00:00:40.710
today so if we run this little demo
 

00:00:40.710 --> 00:00:43.670
today so if we run this little demo
called activity animations you see as we

00:00:43.670 --> 00:00:43.680
called activity animations you see as we
 

00:00:43.680 --> 00:00:45.170
called activity animations you see as we
have the main activity with these

00:00:45.170 --> 00:00:45.180
have the main activity with these
 

00:00:45.180 --> 00:00:46.850
have the main activity with these
grayscale thumbnails and we click on one

00:00:46.850 --> 00:00:46.860
grayscale thumbnails and we click on one
 

00:00:46.860 --> 00:00:48.500
grayscale thumbnails and we click on one
of those thumbnails and we launch into

00:00:48.500 --> 00:00:48.510
of those thumbnails and we launch into
 

00:00:48.510 --> 00:00:50.389
of those thumbnails and we launch into
the sub activity it shows a detailed

00:00:50.389 --> 00:00:50.399
the sub activity it shows a detailed
 

00:00:50.399 --> 00:00:52.220
the sub activity it shows a detailed
view of the picture and then the text

00:00:52.220 --> 00:00:52.230
view of the picture and then the text
 

00:00:52.230 --> 00:00:53.990
view of the picture and then the text
that goes along with the picture so

00:00:53.990 --> 00:00:54.000
that goes along with the picture so
 

00:00:54.000 --> 00:00:55.880
that goes along with the picture so
again click on the thumbnail it color

00:00:55.880 --> 00:00:55.890
again click on the thumbnail it color
 

00:00:55.890 --> 00:00:57.740
again click on the thumbnail it color
eise's the picture it zooms up into the

00:00:57.740 --> 00:00:57.750
eise's the picture it zooms up into the
 

00:00:57.750 --> 00:01:00.139
eise's the picture it zooms up into the
full-scale view and we see the text

00:01:00.139 --> 00:01:00.149
full-scale view and we see the text
 

00:01:00.149 --> 00:01:01.400
full-scale view and we see the text
slide out from underneath the picture

00:01:01.400 --> 00:01:01.410
slide out from underneath the picture
 

00:01:01.410 --> 00:01:02.660
slide out from underneath the picture
kind of nice we can slow down the

00:01:02.660 --> 00:01:02.670
kind of nice we can slow down the
 

00:01:02.670 --> 00:01:04.219
kind of nice we can slow down the
animation so we can see it a little bit

00:01:04.219 --> 00:01:04.229
animation so we can see it a little bit
 

00:01:04.229 --> 00:01:05.570
animation so we can see it a little bit
more in detail and you see there's also

00:01:05.570 --> 00:01:05.580
more in detail and you see there's also
 

00:01:05.580 --> 00:01:07.100
more in detail and you see there's also
a drop shadow in there giving you the

00:01:07.100 --> 00:01:07.110
a drop shadow in there giving you the
 

00:01:07.110 --> 00:01:09.080
a drop shadow in there giving you the
effect of the picture really popping out

00:01:09.080 --> 00:01:09.090
effect of the picture really popping out
 

00:01:09.090 --> 00:01:11.210
effect of the picture really popping out
toward the viewer and then popping back

00:01:11.210 --> 00:01:11.220
toward the viewer and then popping back
 

00:01:11.220 --> 00:01:13.100
toward the viewer and then popping back
when the activity goes back to the main

00:01:13.100 --> 00:01:13.110
when the activity goes back to the main
 

00:01:13.110 --> 00:01:15.800
when the activity goes back to the main
activity so how do we do that so the

00:01:15.800 --> 00:01:15.810
activity so how do we do that so the
 

00:01:15.810 --> 00:01:18.590
activity so how do we do that so the
main idea behind this is that we disable

00:01:18.590 --> 00:01:18.600
main idea behind this is that we disable
 

00:01:18.600 --> 00:01:20.030
main idea behind this is that we disable
window animations because we don't

00:01:20.030 --> 00:01:20.040
window animations because we don't
 

00:01:20.040 --> 00:01:21.740
window animations because we don't
actually want them to do anything that

00:01:21.740 --> 00:01:21.750
actually want them to do anything that
 

00:01:21.750 --> 00:01:23.840
actually want them to do anything that
they're used to do is doing instead we

00:01:23.840 --> 00:01:23.850
they're used to do is doing instead we
 

00:01:23.850 --> 00:01:26.030
they're used to do is doing instead we
launch the sub activity immediately or

00:01:26.030 --> 00:01:26.040
launch the sub activity immediately or
 

00:01:26.040 --> 00:01:27.710
launch the sub activity immediately or
we launch the activity that we're going

00:01:27.710 --> 00:01:27.720
we launch the activity that we're going
 

00:01:27.720 --> 00:01:30.050
we launch the activity that we're going
back to immediately and then we run

00:01:30.050 --> 00:01:30.060
back to immediately and then we run
 

00:01:30.060 --> 00:01:31.490
back to immediately and then we run
custom animations using the normal

00:01:31.490 --> 00:01:31.500
custom animations using the normal
 

00:01:31.500 --> 00:01:34.609
custom animations using the normal
property animation system and once we're

00:01:34.609 --> 00:01:34.619
property animation system and once we're
 

00:01:34.619 --> 00:01:36.109
property animation system and once we're
into the activity with property

00:01:36.109 --> 00:01:36.119
into the activity with property
 

00:01:36.119 --> 00:01:37.490
into the activity with property
animations you can do anything you want

00:01:37.490 --> 00:01:37.500
animations you can do anything you want
 

00:01:37.500 --> 00:01:41.149
animations you can do anything you want
so again we disable window animations we

00:01:41.149 --> 00:01:41.159
so again we disable window animations we
 

00:01:41.159 --> 00:01:42.530
so again we disable window animations we
get into the activity and then in the

00:01:42.530 --> 00:01:42.540
get into the activity and then in the
 

00:01:42.540 --> 00:01:44.210
get into the activity and then in the
activity we can do whatever we want and

00:01:44.210 --> 00:01:44.220
activity we can do whatever we want and
 

00:01:44.220 --> 00:01:46.359
activity we can do whatever we want and
the trick with handling these sort of

00:01:46.359 --> 00:01:46.369
the trick with handling these sort of
 

00:01:46.369 --> 00:01:48.980
the trick with handling these sort of
interactivity things like launching from

00:01:48.980 --> 00:01:48.990
interactivity things like launching from
 

00:01:48.990 --> 00:01:50.780
interactivity things like launching from
a thumbnail from one into a full-scale

00:01:50.780 --> 00:01:50.790
a thumbnail from one into a full-scale
 

00:01:50.790 --> 00:01:53.300
a thumbnail from one into a full-scale
view of the other is to pass the

00:01:53.300 --> 00:01:53.310
view of the other is to pass the
 

00:01:53.310 --> 00:01:54.920
view of the other is to pass the
information in a bundle so that we have

00:01:54.920 --> 00:01:54.930
information in a bundle so that we have
 

00:01:54.930 --> 00:01:56.480
information in a bundle so that we have
the appropriate information that we can

00:01:56.480 --> 00:01:56.490
the appropriate information that we can
 

00:01:56.490 --> 00:01:58.639
the appropriate information that we can
key off of to get the effect that we're

00:01:58.639 --> 00:01:58.649
key off of to get the effect that we're
 

00:01:58.649 --> 00:02:01.459
key off of to get the effect that we're
looking for so first of all let's take a

00:02:01.459 --> 00:02:01.469
looking for so first of all let's take a
 

00:02:01.469 --> 00:02:05.240
looking for so first of all let's take a
look at the application manifest here we

00:02:05.240 --> 00:02:05.250
look at the application manifest here we
 

00:02:05.250 --> 00:02:07.399
look at the application manifest here we
can see that we've set up a style of our

00:02:07.399 --> 00:02:07.409
can see that we've set up a style of our
 

00:02:07.409 --> 00:02:09.440
can see that we've set up a style of our
sub activity of transparent and this is

00:02:09.440 --> 00:02:09.450
sub activity of transparent and this is
 

00:02:09.450 --> 00:02:10.580
sub activity of transparent and this is
something that I've defined in the

00:02:10.580 --> 00:02:10.590
something that I've defined in the
 

00:02:10.590 --> 00:02:12.830
something that I've defined in the
Styles XML file so we have the same

00:02:12.830 --> 00:02:12.840
Styles XML file so we have the same
 

00:02:12.840 --> 00:02:13.610
Styles XML file so we have the same
transparent

00:02:13.610 --> 00:02:13.620
transparent
 

00:02:13.620 --> 00:02:15.380
transparent
we're say the window background is

00:02:15.380 --> 00:02:15.390
we're say the window background is
 

00:02:15.390 --> 00:02:17.630
we're say the window background is
transparent this means that when the sub

00:02:17.630 --> 00:02:17.640
transparent this means that when the sub
 

00:02:17.640 --> 00:02:19.670
transparent this means that when the sub
activity launches it's not actually

00:02:19.670 --> 00:02:19.680
activity launches it's not actually
 

00:02:19.680 --> 00:02:22.040
activity launches it's not actually
going to paint a default color over the

00:02:22.040 --> 00:02:22.050
going to paint a default color over the
 

00:02:22.050 --> 00:02:23.420
going to paint a default color over the
activity that we're launching from which

00:02:23.420 --> 00:02:23.430
activity that we're launching from which
 

00:02:23.430 --> 00:02:25.040
activity that we're launching from which
is the effect that we want we want the

00:02:25.040 --> 00:02:25.050
is the effect that we want we want the
 

00:02:25.050 --> 00:02:26.690
is the effect that we want we want the
activity to launch immediately but we

00:02:26.690 --> 00:02:26.700
activity to launch immediately but we
 

00:02:26.700 --> 00:02:29.270
activity to launch immediately but we
don't want that obvious to the user by

00:02:29.270 --> 00:02:29.280
don't want that obvious to the user by
 

00:02:29.280 --> 00:02:31.130
don't want that obvious to the user by
seeing someone pick draw a color drawn

00:02:31.130 --> 00:02:31.140
seeing someone pick draw a color drawn
 

00:02:31.140 --> 00:02:32.390
seeing someone pick draw a color drawn
in front of the previous activity

00:02:32.390 --> 00:02:32.400
in front of the previous activity
 

00:02:32.400 --> 00:02:33.350
in front of the previous activity
instead we wanted to launch

00:02:33.350 --> 00:02:33.360
instead we wanted to launch
 

00:02:33.360 --> 00:02:35.600
instead we wanted to launch
transparently and then do its thing now

00:02:35.600 --> 00:02:35.610
transparently and then do its thing now
 

00:02:35.610 --> 00:02:38.150
transparently and then do its thing now
one important caveat about transparent

00:02:38.150 --> 00:02:38.160
one important caveat about transparent
 

00:02:38.160 --> 00:02:39.949
one important caveat about transparent
activities is this means that the window

00:02:39.949 --> 00:02:39.959
activities is this means that the window
 

00:02:39.959 --> 00:02:41.690
activities is this means that the window
manager in the system is going to be

00:02:41.690 --> 00:02:41.700
manager in the system is going to be
 

00:02:41.700 --> 00:02:43.610
manager in the system is going to be
drawing the other activity behind there

00:02:43.610 --> 00:02:43.620
drawing the other activity behind there
 

00:02:43.620 --> 00:02:45.289
drawing the other activity behind there
every time the window is drawn on the

00:02:45.289 --> 00:02:45.299
every time the window is drawn on the
 

00:02:45.299 --> 00:02:46.400
every time the window is drawn on the
screen it's going to have to draw the

00:02:46.400 --> 00:02:46.410
screen it's going to have to draw the
 

00:02:46.410 --> 00:02:48.650
screen it's going to have to draw the
activity behind it this could

00:02:48.650 --> 00:02:48.660
activity behind it this could
 

00:02:48.660 --> 00:02:50.420
activity behind it this could
potentially be a performance issue so

00:02:50.420 --> 00:02:50.430
potentially be a performance issue so
 

00:02:50.430 --> 00:02:51.770
potentially be a performance issue so
it's not something you want to do in

00:02:51.770 --> 00:02:51.780
it's not something you want to do in
 

00:02:51.780 --> 00:02:53.809
it's not something you want to do in
every situation and if it's a really

00:02:53.809 --> 00:02:53.819
every situation and if it's a really
 

00:02:53.819 --> 00:02:56.479
every situation and if it's a really
complex set of views that you're you're

00:02:56.479 --> 00:02:56.489
complex set of views that you're you're
 

00:02:56.489 --> 00:02:57.830
complex set of views that you're you're
dealing with there maybe it's not

00:02:57.830 --> 00:02:57.840
dealing with there maybe it's not
 

00:02:57.840 --> 00:02:59.119
dealing with there maybe it's not
something you want to do but for this

00:02:59.119 --> 00:02:59.129
something you want to do but for this
 

00:02:59.129 --> 00:03:01.160
something you want to do but for this
sort of transient behavior of going from

00:03:01.160 --> 00:03:01.170
sort of transient behavior of going from
 

00:03:01.170 --> 00:03:03.860
sort of transient behavior of going from
one activity to the other it's it's a

00:03:03.860 --> 00:03:03.870
one activity to the other it's it's a
 

00:03:03.870 --> 00:03:05.509
one activity to the other it's it's a
pretty neat effect but you just need to

00:03:05.509 --> 00:03:05.519
pretty neat effect but you just need to
 

00:03:05.519 --> 00:03:07.069
pretty neat effect but you just need to
be able to determine the correct

00:03:07.069 --> 00:03:07.079
be able to determine the correct
 

00:03:07.079 --> 00:03:09.039
be able to determine the correct
trade-off for your own application

00:03:09.039 --> 00:03:09.049
trade-off for your own application
 

00:03:09.049 --> 00:03:11.809
trade-off for your own application
anyway let's take a look at the actual

00:03:11.809 --> 00:03:11.819
anyway let's take a look at the actual
 

00:03:11.819 --> 00:03:14.150
anyway let's take a look at the actual
code so there's a few things going on

00:03:14.150 --> 00:03:14.160
code so there's a few things going on
 

00:03:14.160 --> 00:03:15.860
code so there's a few things going on
here one is that we have this main

00:03:15.860 --> 00:03:15.870
here one is that we have this main
 

00:03:15.870 --> 00:03:18.530
here one is that we have this main
activity called activity animations we

00:03:18.530 --> 00:03:18.540
activity called activity animations we
 

00:03:18.540 --> 00:03:20.860
activity called activity animations we
set up a color matrix color filter

00:03:20.860 --> 00:03:20.870
set up a color matrix color filter
 

00:03:20.870 --> 00:03:23.270
set up a color matrix color filter
arguably the longest class name in the

00:03:23.270 --> 00:03:23.280
arguably the longest class name in the
 

00:03:23.280 --> 00:03:25.460
arguably the longest class name in the
android framework and this is to create

00:03:25.460 --> 00:03:25.470
android framework and this is to create
 

00:03:25.470 --> 00:03:26.930
android framework and this is to create
the grayscale effect on those thumbnails

00:03:26.930 --> 00:03:26.940
the grayscale effect on those thumbnails
 

00:03:26.940 --> 00:03:28.460
the grayscale effect on those thumbnails
so we're loading these full scale images

00:03:28.460 --> 00:03:28.470
so we're loading these full scale images
 

00:03:28.470 --> 00:03:29.750
so we're loading these full scale images
we're creating thumbnails out of them

00:03:29.750 --> 00:03:29.760
we're creating thumbnails out of them
 

00:03:29.760 --> 00:03:31.039
we're creating thumbnails out of them
now we're setting a filter which will

00:03:31.039 --> 00:03:31.049
now we're setting a filter which will
 

00:03:31.049 --> 00:03:32.870
now we're setting a filter which will
make them appear as grayscale in the

00:03:32.870 --> 00:03:32.880
make them appear as grayscale in the
 

00:03:32.880 --> 00:03:34.280
make them appear as grayscale in the
thumbnail view and then we're going to

00:03:34.280 --> 00:03:34.290
thumbnail view and then we're going to
 

00:03:34.290 --> 00:03:35.449
thumbnail view and then we're going to
launch from the thumbnail into the

00:03:35.449 --> 00:03:35.459
launch from the thumbnail into the
 

00:03:35.459 --> 00:03:37.129
launch from the thumbnail into the
colorized view so we're going to set up

00:03:37.129 --> 00:03:37.139
colorized view so we're going to set up
 

00:03:37.139 --> 00:03:39.349
colorized view so we're going to set up
grayscale filters on those we're going

00:03:39.349 --> 00:03:39.359
grayscale filters on those we're going
 

00:03:39.359 --> 00:03:41.390
grayscale filters on those we're going
to set up a layout we're going to load

00:03:41.390 --> 00:03:41.400
to set up a layout we're going to load
 

00:03:41.400 --> 00:03:42.800
to set up a layout we're going to load
in the pictures and add them to the

00:03:42.800 --> 00:03:42.810
in the pictures and add them to the
 

00:03:42.810 --> 00:03:44.360
in the pictures and add them to the
layout nothing really amazing going on

00:03:44.360 --> 00:03:44.370
layout nothing really amazing going on
 

00:03:44.370 --> 00:03:46.759
layout nothing really amazing going on
here and then we're going to set a click

00:03:46.759 --> 00:03:46.769
here and then we're going to set a click
 

00:03:46.769 --> 00:03:48.559
here and then we're going to set a click
listener so that we know whenever we

00:03:48.559 --> 00:03:48.569
listener so that we know whenever we
 

00:03:48.569 --> 00:03:50.930
listener so that we know whenever we
click on a particular thumbnail then our

00:03:50.930 --> 00:03:50.940
click on a particular thumbnail then our
 

00:03:50.940 --> 00:03:52.370
click on a particular thumbnail then our
listener is going to kick in and we'll

00:03:52.370 --> 00:03:52.380
listener is going to kick in and we'll
 

00:03:52.380 --> 00:03:55.159
listener is going to kick in and we'll
do the appropriate thing so that happens

00:03:55.159 --> 00:03:55.169
do the appropriate thing so that happens
 

00:03:55.169 --> 00:04:00.559
do the appropriate thing so that happens
down here on click listener so here

00:04:00.559 --> 00:04:00.569
down here on click listener so here
 

00:04:00.569 --> 00:04:01.580
down here on click listener so here
we're going to package up the

00:04:01.580 --> 00:04:01.590
we're going to package up the
 

00:04:01.590 --> 00:04:03.589
we're going to package up the
information that we need to pass to the

00:04:03.589 --> 00:04:03.599
information that we need to pass to the
 

00:04:03.599 --> 00:04:05.659
information that we need to pass to the
sub activity so that it knows where to

00:04:05.659 --> 00:04:05.669
sub activity so that it knows where to
 

00:04:05.669 --> 00:04:07.670
sub activity so that it knows where to
launch its picture from we're zoom in

00:04:07.670 --> 00:04:07.680
launch its picture from we're zoom in
 

00:04:07.680 --> 00:04:10.729
launch its picture from we're zoom in
from and what picture to zoom in from so

00:04:10.729 --> 00:04:10.739
from and what picture to zoom in from so
 

00:04:10.739 --> 00:04:12.259
from and what picture to zoom in from so
that it can do the correct animation

00:04:12.259 --> 00:04:12.269
that it can do the correct animation
 

00:04:12.269 --> 00:04:14.599
that it can do the correct animation
into the the full view of that picture

00:04:14.599 --> 00:04:14.609
into the the full view of that picture
 

00:04:14.609 --> 00:04:16.759
into the the full view of that picture
so here we figure out where the

00:04:16.759 --> 00:04:16.769
so here we figure out where the
 

00:04:16.769 --> 00:04:19.310
so here we figure out where the
thumbnail is on the screen how large it

00:04:19.310 --> 00:04:19.320
thumbnail is on the screen how large it
 

00:04:19.320 --> 00:04:21.529
thumbnail is on the screen how large it
is and also the orientation I'll talk

00:04:21.529 --> 00:04:21.539
is and also the orientation I'll talk
 

00:04:21.539 --> 00:04:22.690
is and also the orientation I'll talk
about this a little bit later

00:04:22.690 --> 00:04:22.700
about this a little bit later
 

00:04:22.700 --> 00:04:24.340
about this a little bit later
and then the resource ID of the picture

00:04:24.340 --> 00:04:24.350
and then the resource ID of the picture
 

00:04:24.350 --> 00:04:25.660
and then the resource ID of the picture
so we're going to give all the

00:04:25.660 --> 00:04:25.670
so we're going to give all the
 

00:04:25.670 --> 00:04:27.370
so we're going to give all the
information that sub activity needs to

00:04:27.370 --> 00:04:27.380
information that sub activity needs to
 

00:04:27.380 --> 00:04:31.600
information that sub activity needs to
know where and what size to zoom in from

00:04:31.600 --> 00:04:31.610
know where and what size to zoom in from
 

00:04:31.610 --> 00:04:33.550
know where and what size to zoom in from
as well as what picture to actually zoom

00:04:33.550 --> 00:04:33.560
as well as what picture to actually zoom
 

00:04:33.560 --> 00:04:35.620
as well as what picture to actually zoom
into and then the text description as

00:04:35.620 --> 00:04:35.630
into and then the text description as
 

00:04:35.630 --> 00:04:37.390
into and then the text description as
well that's associated with a picture we

00:04:37.390 --> 00:04:37.400
well that's associated with a picture we
 

00:04:37.400 --> 00:04:39.490
well that's associated with a picture we
put all of this into the extras so we're

00:04:39.490 --> 00:04:39.500
put all of this into the extras so we're
 

00:04:39.500 --> 00:04:41.650
put all of this into the extras so we're
going to launch this sub activity with

00:04:41.650 --> 00:04:41.660
going to launch this sub activity with
 

00:04:41.660 --> 00:04:43.690
going to launch this sub activity with
this extra information and then the sub

00:04:43.690 --> 00:04:43.700
this extra information and then the sub
 

00:04:43.700 --> 00:04:45.790
this extra information and then the sub
activity can extract it now here's an

00:04:45.790 --> 00:04:45.800
activity can extract it now here's an
 

00:04:45.800 --> 00:04:47.320
activity can extract it now here's an
important point if you're doing this

00:04:47.320 --> 00:04:47.330
important point if you're doing this
 

00:04:47.330 --> 00:04:49.720
important point if you're doing this
technique you want to override pending

00:04:49.720 --> 00:04:49.730
technique you want to override pending
 

00:04:49.730 --> 00:04:51.130
technique you want to override pending
transitions after you've started the

00:04:51.130 --> 00:04:51.140
transitions after you've started the
 

00:04:51.140 --> 00:04:52.900
transitions after you've started the
activity and this will tell the window

00:04:52.900 --> 00:04:52.910
activity and this will tell the window
 

00:04:52.910 --> 00:04:54.430
activity and this will tell the window
manager to back off and not run the

00:04:54.430 --> 00:04:54.440
manager to back off and not run the
 

00:04:54.440 --> 00:04:56.560
manager to back off and not run the
standard window animations on top of

00:04:56.560 --> 00:04:56.570
standard window animations on top of
 

00:04:56.570 --> 00:04:57.850
standard window animations on top of
what you're already trying to do in your

00:04:57.850 --> 00:04:57.860
what you're already trying to do in your
 

00:04:57.860 --> 00:05:00.280
what you're already trying to do in your
custom activity animations okay so

00:05:00.280 --> 00:05:00.290
custom activity animations okay so
 

00:05:00.290 --> 00:05:02.230
custom activity animations okay so
that's all not much going on in the main

00:05:02.230 --> 00:05:02.240
that's all not much going on in the main
 

00:05:02.240 --> 00:05:04.360
that's all not much going on in the main
activity all the interesting bit is in

00:05:04.360 --> 00:05:04.370
activity all the interesting bit is in
 

00:05:04.370 --> 00:05:05.920
activity all the interesting bit is in
the sub activity so let's take a look at

00:05:05.920 --> 00:05:05.930
the sub activity so let's take a look at
 

00:05:05.930 --> 00:05:09.430
the sub activity so let's take a look at
that in picture details activity file we

00:05:09.430 --> 00:05:09.440
that in picture details activity file we
 

00:05:09.440 --> 00:05:12.160
that in picture details activity file we
have various fields that we need we have

00:05:12.160 --> 00:05:12.170
have various fields that we need we have
 

00:05:12.170 --> 00:05:13.810
have various fields that we need we have
a couple of custom interpolators that

00:05:13.810 --> 00:05:13.820
a couple of custom interpolators that
 

00:05:13.820 --> 00:05:15.250
a couple of custom interpolators that
we've defined there for the animations

00:05:15.250 --> 00:05:15.260
we've defined there for the animations
 

00:05:15.260 --> 00:05:17.110
we've defined there for the animations
and then we get down here and do the

00:05:17.110 --> 00:05:17.120
and then we get down here and do the
 

00:05:17.120 --> 00:05:18.550
and then we get down here and do the
oncreate this is going to be called when

00:05:18.550 --> 00:05:18.560
oncreate this is going to be called when
 

00:05:18.560 --> 00:05:20.410
oncreate this is going to be called when
the activity launches and at that point

00:05:20.410 --> 00:05:20.420
the activity launches and at that point
 

00:05:20.420 --> 00:05:21.940
the activity launches and at that point
we can extract the bundle which is the

00:05:21.940 --> 00:05:21.950
we can extract the bundle which is the
 

00:05:21.950 --> 00:05:24.400
we can extract the bundle which is the
information that we packaged up about

00:05:24.400 --> 00:05:24.410
information that we packaged up about
 

00:05:24.410 --> 00:05:25.690
information that we packaged up about
the thumbnail that we're actually

00:05:25.690 --> 00:05:25.700
the thumbnail that we're actually
 

00:05:25.700 --> 00:05:28.120
the thumbnail that we're actually
launching from so from that we get all

00:05:28.120 --> 00:05:28.130
launching from so from that we get all
 

00:05:28.130 --> 00:05:30.670
launching from so from that we get all
the information about location size the

00:05:30.670 --> 00:05:30.680
the information about location size the
 

00:05:30.680 --> 00:05:32.110
the information about location size the
picture of the text description all that

00:05:32.110 --> 00:05:32.120
picture of the text description all that
 

00:05:32.120 --> 00:05:34.870
picture of the text description all that
stuff and then we can actually run our

00:05:34.870 --> 00:05:34.880
stuff and then we can actually run our
 

00:05:34.880 --> 00:05:39.400
stuff and then we can actually run our
animations so we come down here this is

00:05:39.400 --> 00:05:39.410
animations so we come down here this is
 

00:05:39.410 --> 00:05:41.170
animations so we come down here this is
an important point here if the saved

00:05:41.170 --> 00:05:41.180
an important point here if the saved
 

00:05:41.180 --> 00:05:43.150
an important point here if the saved
instance state is null then we want to

00:05:43.150 --> 00:05:43.160
instance state is null then we want to
 

00:05:43.160 --> 00:05:44.950
instance state is null then we want to
go ahead and run the information if not

00:05:44.950 --> 00:05:44.960
go ahead and run the information if not
 

00:05:44.960 --> 00:05:46.450
go ahead and run the information if not
then we're actually launching the sub

00:05:46.450 --> 00:05:46.460
then we're actually launching the sub
 

00:05:46.460 --> 00:05:49.000
then we're actually launching the sub
activity from something like returning

00:05:49.000 --> 00:05:49.010
activity from something like returning
 

00:05:49.010 --> 00:05:50.740
activity from something like returning
to it from the the launcher maybe

00:05:50.740 --> 00:05:50.750
to it from the the launcher maybe
 

00:05:50.750 --> 00:05:52.210
to it from the the launcher maybe
somebody launches your activity from

00:05:52.210 --> 00:05:52.220
somebody launches your activity from
 

00:05:52.220 --> 00:05:54.550
somebody launches your activity from
reasons we don't want to do the custom

00:05:54.550 --> 00:05:54.560
reasons we don't want to do the custom
 

00:05:54.560 --> 00:05:56.050
reasons we don't want to do the custom
animation in that case we just want to

00:05:56.050 --> 00:05:56.060
animation in that case we just want to
 

00:05:56.060 --> 00:05:57.310
animation in that case we just want to
launch the activity with the standard

00:05:57.310 --> 00:05:57.320
launch the activity with the standard
 

00:05:57.320 --> 00:05:59.500
launch the activity with the standard
animation but if the saved instance

00:05:59.500 --> 00:05:59.510
animation but if the saved instance
 

00:05:59.510 --> 00:06:00.730
animation but if the saved instance
state isn't all that we were launched

00:06:00.730 --> 00:06:00.740
state isn't all that we were launched
 

00:06:00.740 --> 00:06:02.200
state isn't all that we were launched
from the main activity so let's go ahead

00:06:02.200 --> 00:06:02.210
from the main activity so let's go ahead
 

00:06:02.210 --> 00:06:04.870
from the main activity so let's go ahead
and run the animation okay so here's a

00:06:04.870 --> 00:06:04.880
and run the animation okay so here's a
 

00:06:04.880 --> 00:06:06.100
and run the animation okay so here's a
technique that I use in a lot of my

00:06:06.100 --> 00:06:06.110
technique that I use in a lot of my
 

00:06:06.110 --> 00:06:08.710
technique that I use in a lot of my
animation demos which is a non pre-draw

00:06:08.710 --> 00:06:08.720
animation demos which is a non pre-draw
 

00:06:08.720 --> 00:06:10.990
animation demos which is a non pre-draw
listener this gets called break before

00:06:10.990 --> 00:06:11.000
listener this gets called break before
 

00:06:11.000 --> 00:06:12.580
listener this gets called break before
we're about to draw things which is an

00:06:12.580 --> 00:06:12.590
we're about to draw things which is an
 

00:06:12.590 --> 00:06:14.620
we're about to draw things which is an
excellent time to track information

00:06:14.620 --> 00:06:14.630
excellent time to track information
 

00:06:14.630 --> 00:06:17.050
excellent time to track information
that's going to be set up prior to that

00:06:17.050 --> 00:06:17.060
that's going to be set up prior to that
 

00:06:17.060 --> 00:06:19.930
that's going to be set up prior to that
first draw in particular we want to know

00:06:19.930 --> 00:06:19.940
first draw in particular we want to know
 

00:06:19.940 --> 00:06:21.880
first draw in particular we want to know
where everything is going to be like our

00:06:21.880 --> 00:06:21.890
where everything is going to be like our
 

00:06:21.890 --> 00:06:23.500
where everything is going to be like our
main picture view everything's going to

00:06:23.500 --> 00:06:23.510
main picture view everything's going to
 

00:06:23.510 --> 00:06:25.030
main picture view everything's going to
be set up to be rendered in the main

00:06:25.030 --> 00:06:25.040
be set up to be rendered in the main
 

00:06:25.040 --> 00:06:27.010
be set up to be rendered in the main
activity and this is the time for us to

00:06:27.010 --> 00:06:27.020
activity and this is the time for us to
 

00:06:27.020 --> 00:06:28.480
activity and this is the time for us to
kick in and say ok now that we know

00:06:28.480 --> 00:06:28.490
kick in and say ok now that we know
 

00:06:28.490 --> 00:06:30.250
kick in and say ok now that we know
where everything's going to be now we

00:06:30.250 --> 00:06:30.260
where everything's going to be now we
 

00:06:30.260 --> 00:06:31.300
where everything's going to be now we
can run our animator

00:06:31.300 --> 00:06:31.310
can run our animator
 

00:06:31.310 --> 00:06:33.580
can run our animator
to animate from where it was in the

00:06:33.580 --> 00:06:33.590
to animate from where it was in the
 

00:06:33.590 --> 00:06:35.530
to animate from where it was in the
previous activity into this sub activity

00:06:35.530 --> 00:06:35.540
previous activity into this sub activity
 

00:06:35.540 --> 00:06:37.720
previous activity into this sub activity
so we handle the on pre draw we remove

00:06:37.720 --> 00:06:37.730
so we handle the on pre draw we remove
 

00:06:37.730 --> 00:06:38.800
so we handle the on pre draw we remove
the listener because we don't want to

00:06:38.800 --> 00:06:38.810
the listener because we don't want to
 

00:06:38.810 --> 00:06:40.240
the listener because we don't want to
listen to it after this that would be

00:06:40.240 --> 00:06:40.250
listen to it after this that would be
 

00:06:40.250 --> 00:06:43.330
listen to it after this that would be
silly then we get the location on the

00:06:43.330 --> 00:06:43.340
silly then we get the location on the
 

00:06:43.340 --> 00:06:44.890
silly then we get the location on the
screen of the picture that we're going

00:06:44.890 --> 00:06:44.900
screen of the picture that we're going
 

00:06:44.900 --> 00:06:46.660
screen of the picture that we're going
to we also get the size and then we

00:06:46.660 --> 00:06:46.670
to we also get the size and then we
 

00:06:46.670 --> 00:06:49.120
to we also get the size and then we
create scale factors and this basically

00:06:49.120 --> 00:06:49.130
create scale factors and this basically
 

00:06:49.130 --> 00:06:50.260
create scale factors and this basically
what the technique that we're going to

00:06:50.260 --> 00:06:50.270
what the technique that we're going to
 

00:06:50.270 --> 00:06:51.550
what the technique that we're going to
use in the animation is we're going to

00:06:51.550 --> 00:06:51.560
use in the animation is we're going to
 

00:06:51.560 --> 00:06:53.680
use in the animation is we're going to
pre scale down to the size of the

00:06:53.680 --> 00:06:53.690
pre scale down to the size of the
 

00:06:53.690 --> 00:06:54.970
pre scale down to the size of the
thumbnail that we're coming from and

00:06:54.970 --> 00:06:54.980
thumbnail that we're coming from and
 

00:06:54.980 --> 00:06:56.800
thumbnail that we're coming from and
then we're going to scale up to one

00:06:56.800 --> 00:06:56.810
then we're going to scale up to one
 

00:06:56.810 --> 00:06:58.540
then we're going to scale up to one
right so we have the full size of the

00:06:58.540 --> 00:06:58.550
right so we have the full size of the
 

00:06:58.550 --> 00:07:00.040
right so we have the full size of the
image we're going to pre scale it down

00:07:00.040 --> 00:07:00.050
image we're going to pre scale it down
 

00:07:00.050 --> 00:07:02.290
image we're going to pre scale it down
to some fractional size and then scale

00:07:02.290 --> 00:07:02.300
to some fractional size and then scale
 

00:07:02.300 --> 00:07:03.880
to some fractional size and then scale
it up to one until it reaches the full

00:07:03.880 --> 00:07:03.890
it up to one until it reaches the full
 

00:07:03.890 --> 00:07:05.590
it up to one until it reaches the full
size and then we run the rent at the

00:07:05.590 --> 00:07:05.600
size and then we run the rent at the
 

00:07:05.600 --> 00:07:07.720
size and then we run the rent at the
entry animation here's another important

00:07:07.720 --> 00:07:07.730
entry animation here's another important
 

00:07:07.730 --> 00:07:09.610
entry animation here's another important
point if you override on pre-draw

00:07:09.610 --> 00:07:09.620
point if you override on pre-draw
 

00:07:09.620 --> 00:07:12.940
point if you override on pre-draw
listener return true by default I des

00:07:12.940 --> 00:07:12.950
listener return true by default I des
 

00:07:12.950 --> 00:07:14.650
listener return true by default I des
like to have you return false which is

00:07:14.650 --> 00:07:14.660
like to have you return false which is
 

00:07:14.660 --> 00:07:16.690
like to have you return false which is
silly because that basically disables

00:07:16.690 --> 00:07:16.700
silly because that basically disables
 

00:07:16.700 --> 00:07:18.310
silly because that basically disables
rendering on this frame we wanted to go

00:07:18.310 --> 00:07:18.320
rendering on this frame we wanted to go
 

00:07:18.320 --> 00:07:20.290
rendering on this frame we wanted to go
ahead and draw the first frame so return

00:07:20.290 --> 00:07:20.300
ahead and draw the first frame so return
 

00:07:20.300 --> 00:07:22.690
ahead and draw the first frame so return
true it's the right thing to do then we

00:07:22.690 --> 00:07:22.700
true it's the right thing to do then we
 

00:07:22.700 --> 00:07:24.700
true it's the right thing to do then we
run the enter animation we calculate a

00:07:24.700 --> 00:07:24.710
run the enter animation we calculate a
 

00:07:24.710 --> 00:07:27.130
run the enter animation we calculate a
duration based on whether we've enabled

00:07:27.130 --> 00:07:27.140
duration based on whether we've enabled
 

00:07:27.140 --> 00:07:29.020
duration based on whether we've enabled
that scale animation property in the

00:07:29.020 --> 00:07:29.030
that scale animation property in the
 

00:07:29.030 --> 00:07:31.600
that scale animation property in the
menu no big deal there we set up some

00:07:31.600 --> 00:07:31.610
menu no big deal there we set up some
 

00:07:31.610 --> 00:07:33.850
menu no big deal there we set up some
initial values so the pivot point that

00:07:33.850 --> 00:07:33.860
initial values so the pivot point that
 

00:07:33.860 --> 00:07:36.130
initial values so the pivot point that
we're scaling around were the scale

00:07:36.130 --> 00:07:36.140
we're scaling around were the scale
 

00:07:36.140 --> 00:07:37.510
we're scaling around were the scale
factor that we're going to scale down to

00:07:37.510 --> 00:07:37.520
factor that we're going to scale down to
 

00:07:37.520 --> 00:07:39.850
factor that we're going to scale down to
before we start the animation and then

00:07:39.850 --> 00:07:39.860
before we start the animation and then
 

00:07:39.860 --> 00:07:41.350
before we start the animation and then
the translation X&amp;Y so we're going to

00:07:41.350 --> 00:07:41.360
the translation X&amp;Y so we're going to
 

00:07:41.360 --> 00:07:43.390
the translation X&amp;Y so we're going to
scale from a particular size and from a

00:07:43.390 --> 00:07:43.400
scale from a particular size and from a
 

00:07:43.400 --> 00:07:46.060
scale from a particular size and from a
particular location we also tell the

00:07:46.060 --> 00:07:46.070
particular location we also tell the
 

00:07:46.070 --> 00:07:47.620
particular location we also tell the
textview which is going to hold the text

00:07:47.620 --> 00:07:47.630
textview which is going to hold the text
 

00:07:47.630 --> 00:07:49.660
textview which is going to hold the text
description for the picture to alpha

00:07:49.660 --> 00:07:49.670
description for the picture to alpha
 

00:07:49.670 --> 00:07:51.040
description for the picture to alpha
zero so it's going to be initially

00:07:51.040 --> 00:07:51.050
zero so it's going to be initially
 

00:07:51.050 --> 00:07:52.240
zero so it's going to be initially
transparent then we're going to fade it

00:07:52.240 --> 00:07:52.250
transparent then we're going to fade it
 

00:07:52.250 --> 00:07:55.240
transparent then we're going to fade it
in here's the main animation so for the

00:07:55.240 --> 00:07:55.250
in here's the main animation so for the
 

00:07:55.250 --> 00:07:56.860
in here's the main animation so for the
image view we're going to run a view

00:07:56.860 --> 00:07:56.870
image view we're going to run a view
 

00:07:56.870 --> 00:07:58.600
image view we're going to run a view
property animator at that duration we

00:07:58.600 --> 00:07:58.610
property animator at that duration we
 

00:07:58.610 --> 00:08:00.610
property animator at that duration we
calculated earlier we're going to scale

00:08:00.610 --> 00:08:00.620
calculated earlier we're going to scale
 

00:08:00.620 --> 00:08:03.070
calculated earlier we're going to scale
X&amp;Y into one so it's going to be the

00:08:03.070 --> 00:08:03.080
X&amp;Y into one so it's going to be the
 

00:08:03.080 --> 00:08:04.380
X&amp;Y into one so it's going to be the
full size of the picture when it's done

00:08:04.380 --> 00:08:04.390
full size of the picture when it's done
 

00:08:04.390 --> 00:08:06.790
full size of the picture when it's done
translation X and what translation Y

00:08:06.790 --> 00:08:06.800
translation X and what translation Y
 

00:08:06.800 --> 00:08:08.230
translation X and what translation Y
you're going to go to zero from that

00:08:08.230 --> 00:08:08.240
you're going to go to zero from that
 

00:08:08.240 --> 00:08:10.030
you're going to go to zero from that
initial location they had from the

00:08:10.030 --> 00:08:10.040
initial location they had from the
 

00:08:10.040 --> 00:08:11.260
initial location they had from the
thumbnail that we're launching from

00:08:11.260 --> 00:08:11.270
thumbnail that we're launching from
 

00:08:11.270 --> 00:08:12.880
thumbnail that we're launching from
we're going to have a decelerate

00:08:12.880 --> 00:08:12.890
we're going to have a decelerate
 

00:08:12.890 --> 00:08:14.080
we're going to have a decelerate
interpolator which means it's going to

00:08:14.080 --> 00:08:14.090
interpolator which means it's going to
 

00:08:14.090 --> 00:08:15.790
interpolator which means it's going to
start fast and then slow down and lock

00:08:15.790 --> 00:08:15.800
start fast and then slow down and lock
 

00:08:15.800 --> 00:08:17.800
start fast and then slow down and lock
into place and then when the animation

00:08:17.800 --> 00:08:17.810
into place and then when the animation
 

00:08:17.810 --> 00:08:19.120
into place and then when the animation
ends we're going to run the following

00:08:19.120 --> 00:08:19.130
ends we're going to run the following
 

00:08:19.130 --> 00:08:22.360
ends we're going to run the following
runnable which is going to go ahead and

00:08:22.360 --> 00:08:22.370
runnable which is going to go ahead and
 

00:08:22.370 --> 00:08:24.580
runnable which is going to go ahead and
start the textview animation so we're

00:08:24.580 --> 00:08:24.590
start the textview animation so we're
 

00:08:24.590 --> 00:08:26.530
start the textview animation so we're
going to set the translation Y to be

00:08:26.530 --> 00:08:26.540
going to set the translation Y to be
 

00:08:26.540 --> 00:08:28.510
going to set the translation Y to be
basically up underneath the picture and

00:08:28.510 --> 00:08:28.520
basically up underneath the picture and
 

00:08:28.520 --> 00:08:30.220
basically up underneath the picture and
then we're going to animate it down to

00:08:30.220 --> 00:08:30.230
then we're going to animate it down to
 

00:08:30.230 --> 00:08:31.750
then we're going to animate it down to
translation Y of zero and we're going to

00:08:31.750 --> 00:08:31.760
translation Y of zero and we're going to
 

00:08:31.760 --> 00:08:33.640
translation Y of zero and we're going to
fade it in at the same time again using

00:08:33.640 --> 00:08:33.650
fade it in at the same time again using
 

00:08:33.650 --> 00:08:35.770
fade it in at the same time again using
a view property animator on the textview

00:08:35.770 --> 00:08:35.780
a view property animator on the textview
 

00:08:35.780 --> 00:08:38.110
a view property animator on the textview
itself in parallel we're going to fade

00:08:38.110 --> 00:08:38.120
itself in parallel we're going to fade
 

00:08:38.120 --> 00:08:40.930
itself in parallel we're going to fade
in a black background so if we see the

00:08:40.930 --> 00:08:40.940
in a black background so if we see the
 

00:08:40.940 --> 00:08:42.820
in a black background so if we see the
the demo again you can see that we're

00:08:42.820 --> 00:08:42.830
the demo again you can see that we're
 

00:08:42.830 --> 00:08:43.830
the demo again you can see that we're
fading in the background

00:08:43.830 --> 00:08:43.840
fading in the background
 

00:08:43.840 --> 00:08:45.720
fading in the background
to this opaque black background behind

00:08:45.720 --> 00:08:45.730
to this opaque black background behind
 

00:08:45.730 --> 00:08:47.940
to this opaque black background behind
the picture once we're finally doing so

00:08:47.940 --> 00:08:47.950
the picture once we're finally doing so
 

00:08:47.950 --> 00:08:49.320
the picture once we're finally doing so
that's going to happen in parallel so

00:08:49.320 --> 00:08:49.330
that's going to happen in parallel so
 

00:08:49.330 --> 00:08:51.600
that's going to happen in parallel so
we're going to animate the Alpha value

00:08:51.600 --> 00:08:51.610
we're going to animate the Alpha value
 

00:08:51.610 --> 00:08:53.100
we're going to animate the Alpha value
of this background that we've already

00:08:53.100 --> 00:08:53.110
of this background that we've already
 

00:08:53.110 --> 00:08:55.680
of this background that we've already
defined we're also going to run a

00:08:55.680 --> 00:08:55.690
defined we're also going to run a
 

00:08:55.690 --> 00:08:56.600
defined we're also going to run a
colorizer

00:08:56.600 --> 00:08:56.610
colorizer
 

00:08:56.610 --> 00:08:58.710
colorizer
animation now this is not a standard

00:08:58.710 --> 00:08:58.720
animation now this is not a standard
 

00:08:58.720 --> 00:09:00.300
animation now this is not a standard
property instead it's a property that

00:09:00.300 --> 00:09:00.310
property instead it's a property that
 

00:09:00.310 --> 00:09:02.400
property instead it's a property that
I've defined on this class called

00:09:02.400 --> 00:09:02.410
I've defined on this class called
 

00:09:02.410 --> 00:09:04.710
I've defined on this class called
saturation so I just created a property

00:09:04.710 --> 00:09:04.720
saturation so I just created a property
 

00:09:04.720 --> 00:09:06.600
saturation so I just created a property
setter called set saturation which we'll

00:09:06.600 --> 00:09:06.610
setter called set saturation which we'll
 

00:09:06.610 --> 00:09:08.610
setter called set saturation which we'll
see down below and we're going to run

00:09:08.610 --> 00:09:08.620
see down below and we're going to run
 

00:09:08.620 --> 00:09:10.950
see down below and we're going to run
that from 0 to 1 and as that runs we're

00:09:10.950 --> 00:09:10.960
that from 0 to 1 and as that runs we're
 

00:09:10.960 --> 00:09:12.390
that from 0 to 1 and as that runs we're
going to change the color filter which

00:09:12.390 --> 00:09:12.400
going to change the color filter which
 

00:09:12.400 --> 00:09:13.920
going to change the color filter which
is going to colorize that image from the

00:09:13.920 --> 00:09:13.930
is going to colorize that image from the
 

00:09:13.930 --> 00:09:16.080
is going to colorize that image from the
initial grayscale up into the full color

00:09:16.080 --> 00:09:16.090
initial grayscale up into the full color
 

00:09:16.090 --> 00:09:18.420
initial grayscale up into the full color
version of the picture and we're also

00:09:18.420 --> 00:09:18.430
version of the picture and we're also
 

00:09:18.430 --> 00:09:19.980
version of the picture and we're also
going to animate a drop show we'll see

00:09:19.980 --> 00:09:19.990
going to animate a drop show we'll see
 

00:09:19.990 --> 00:09:21.300
going to animate a drop show we'll see
how the rendering of this works in a

00:09:21.300 --> 00:09:21.310
how the rendering of this works in a
 

00:09:21.310 --> 00:09:24.270
how the rendering of this works in a
minute but it's enough now to know that

00:09:24.270 --> 00:09:24.280
minute but it's enough now to know that
 

00:09:24.280 --> 00:09:26.100
minute but it's enough now to know that
we're going to animate the shadow depth

00:09:26.100 --> 00:09:26.110
we're going to animate the shadow depth
 

00:09:26.110 --> 00:09:27.840
we're going to animate the shadow depth
from 0 which is basically the shadow is

00:09:27.840 --> 00:09:27.850
from 0 which is basically the shadow is
 

00:09:27.850 --> 00:09:30.240
from 0 which is basically the shadow is
going to be exactly mapped behind the

00:09:30.240 --> 00:09:30.250
going to be exactly mapped behind the
 

00:09:30.250 --> 00:09:33.390
going to be exactly mapped behind the
image to some offset value which will

00:09:33.390 --> 00:09:33.400
image to some offset value which will
 

00:09:33.400 --> 00:09:35.430
image to some offset value which will
then use to calculate alpha as well as

00:09:35.430 --> 00:09:35.440
then use to calculate alpha as well as
 

00:09:35.440 --> 00:09:37.950
then use to calculate alpha as well as
offsets for the shadow and the the idea

00:09:37.950 --> 00:09:37.960
offsets for the shadow and the the idea
 

00:09:37.960 --> 00:09:39.750
offsets for the shadow and the the idea
here is that we want to start with the

00:09:39.750 --> 00:09:39.760
here is that we want to start with the
 

00:09:39.760 --> 00:09:41.640
here is that we want to start with the
thumbnail starting on the plane that

00:09:41.640 --> 00:09:41.650
thumbnail starting on the plane that
 

00:09:41.650 --> 00:09:43.440
thumbnail starting on the plane that
we're projecting onto and then as the

00:09:43.440 --> 00:09:43.450
we're projecting onto and then as the
 

00:09:43.450 --> 00:09:45.660
we're projecting onto and then as the
thumbnail pops out we want the shadow to

00:09:45.660 --> 00:09:45.670
thumbnail pops out we want the shadow to
 

00:09:45.670 --> 00:09:47.580
thumbnail pops out we want the shadow to
help give the illusion that the the

00:09:47.580 --> 00:09:47.590
help give the illusion that the the
 

00:09:47.590 --> 00:09:49.140
help give the illusion that the the
image is actually popping out toward the

00:09:49.140 --> 00:09:49.150
image is actually popping out toward the
 

00:09:49.150 --> 00:09:52.770
image is actually popping out toward the
user and then we start the animation so

00:09:52.770 --> 00:09:52.780
user and then we start the animation so
 

00:09:52.780 --> 00:09:55.170
user and then we start the animation so
we also have a run exit animation it's

00:09:55.170 --> 00:09:55.180
we also have a run exit animation it's
 

00:09:55.180 --> 00:09:57.030
we also have a run exit animation it's
basically the same animations in Reverse

00:09:57.030 --> 00:09:57.040
basically the same animations in Reverse
 

00:09:57.040 --> 00:09:58.830
basically the same animations in Reverse
so I won't go through the code there but

00:09:58.830 --> 00:09:58.840
so I won't go through the code there but
 

00:09:58.840 --> 00:10:00.240
so I won't go through the code there but
there's some other interesting bits to

00:10:00.240 --> 00:10:00.250
there's some other interesting bits to
 

00:10:00.250 --> 00:10:04.140
there's some other interesting bits to
look at here one is the saturation this

00:10:04.140 --> 00:10:04.150
look at here one is the saturation this
 

00:10:04.150 --> 00:10:05.670
look at here one is the saturation this
is the property setter that I define

00:10:05.670 --> 00:10:05.680
is the property setter that I define
 

00:10:05.680 --> 00:10:07.050
is the property setter that I define
that's going to be called by the object

00:10:07.050 --> 00:10:07.060
that's going to be called by the object
 

00:10:07.060 --> 00:10:08.700
that's going to be called by the object
animator we're going to set the

00:10:08.700 --> 00:10:08.710
animator we're going to set the
 

00:10:08.710 --> 00:10:10.350
animator we're going to set the
saturation of the color matrix and then

00:10:10.350 --> 00:10:10.360
saturation of the color matrix and then
 

00:10:10.360 --> 00:10:11.700
saturation of the color matrix and then
we're going to define a new filter and

00:10:11.700 --> 00:10:11.710
we're going to define a new filter and
 

00:10:11.710 --> 00:10:13.260
we're going to define a new filter and
set it on the drawable this is an

00:10:13.260 --> 00:10:13.270
set it on the drawable this is an
 

00:10:13.270 --> 00:10:15.060
set it on the drawable this is an
important point we can't animate the

00:10:15.060 --> 00:10:15.070
important point we can't animate the
 

00:10:15.070 --> 00:10:17.460
important point we can't animate the
filter itself because it's not a mutable

00:10:17.460 --> 00:10:17.470
filter itself because it's not a mutable
 

00:10:17.470 --> 00:10:19.590
filter itself because it's not a mutable
object instead we need to create a new

00:10:19.590 --> 00:10:19.600
object instead we need to create a new
 

00:10:19.600 --> 00:10:22.170
object instead we need to create a new
filter with this saturation value and

00:10:22.170 --> 00:10:22.180
filter with this saturation value and
 

00:10:22.180 --> 00:10:23.820
filter with this saturation value and
then set that on the drawable and that's

00:10:23.820 --> 00:10:23.830
then set that on the drawable and that's
 

00:10:23.830 --> 00:10:26.100
then set that on the drawable and that's
how we animate the the colorization of

00:10:26.100 --> 00:10:26.110
how we animate the the colorization of
 

00:10:26.110 --> 00:10:28.380
how we animate the the colorization of
the drawable itself two more points here

00:10:28.380 --> 00:10:28.390
the drawable itself two more points here
 

00:10:28.390 --> 00:10:30.780
the drawable itself two more points here
is on back pressed we override this so

00:10:30.780 --> 00:10:30.790
is on back pressed we override this so
 

00:10:30.790 --> 00:10:31.980
is on back pressed we override this so
that when the back button is pressed

00:10:31.980 --> 00:10:31.990
that when the back button is pressed
 

00:10:31.990 --> 00:10:33.360
that when the back button is pressed
we'd like to go back into the main

00:10:33.360 --> 00:10:33.370
we'd like to go back into the main
 

00:10:33.370 --> 00:10:35.520
we'd like to go back into the main
activity but we want to animate that and

00:10:35.520 --> 00:10:35.530
activity but we want to animate that and
 

00:10:35.530 --> 00:10:37.470
activity but we want to animate that and
to do that we need to run the animation

00:10:37.470 --> 00:10:37.480
to do that we need to run the animation
 

00:10:37.480 --> 00:10:39.540
to do that we need to run the animation
and then finish the activity by default

00:10:39.540 --> 00:10:39.550
and then finish the activity by default
 

00:10:39.550 --> 00:10:41.250
and then finish the activity by default
on back press simply runs finish

00:10:41.250 --> 00:10:41.260
on back press simply runs finish
 

00:10:41.260 --> 00:10:43.320
on back press simply runs finish
immediately what we want to do is run

00:10:43.320 --> 00:10:43.330
immediately what we want to do is run
 

00:10:43.330 --> 00:10:45.240
immediately what we want to do is run
our animation first which is going to

00:10:45.240 --> 00:10:45.250
our animation first which is going to
 

00:10:45.250 --> 00:10:47.640
our animation first which is going to
happen in that method that I skipped

00:10:47.640 --> 00:10:47.650
happen in that method that I skipped
 

00:10:47.650 --> 00:10:50.700
happen in that method that I skipped
before run exit animation and then when

00:10:50.700 --> 00:10:50.710
before run exit animation and then when
 

00:10:50.710 --> 00:10:51.990
before run exit animation and then when
it's done this runnable is going to

00:10:51.990 --> 00:10:52.000
it's done this runnable is going to
 

00:10:52.000 --> 00:10:53.519
it's done this runnable is going to
execute

00:10:53.519 --> 00:10:53.529
execute
 

00:10:53.529 --> 00:10:55.439
execute
that's going to call finish we also

00:10:55.439 --> 00:10:55.449
that's going to call finish we also
 

00:10:55.449 --> 00:10:57.780
that's going to call finish we also
override finish for the sole reason of

00:10:57.780 --> 00:10:57.790
override finish for the sole reason of
 

00:10:57.790 --> 00:10:59.939
override finish for the sole reason of
overriding pending transitions same as

00:10:59.939 --> 00:10:59.949
overriding pending transitions same as
 

00:10:59.949 --> 00:11:00.420
overriding pending transitions same as
before

00:11:00.420 --> 00:11:00.430
before
 

00:11:00.430 --> 00:11:02.129
before
I don't want window animations to run

00:11:02.129 --> 00:11:02.139
I don't want window animations to run
 

00:11:02.139 --> 00:11:03.629
I don't want window animations to run
when I'm returning to the main activity

00:11:03.629 --> 00:11:03.639
when I'm returning to the main activity
 

00:11:03.639 --> 00:11:05.699
when I'm returning to the main activity
because I have my own custom animation

00:11:05.699 --> 00:11:05.709
because I have my own custom animation
 

00:11:05.709 --> 00:11:08.100
because I have my own custom animation
to run only one more detail here is the

00:11:08.100 --> 00:11:08.110
to run only one more detail here is the
 

00:11:08.110 --> 00:11:10.439
to run only one more detail here is the
shadow layout this is a neat rendering

00:11:10.439 --> 00:11:10.449
shadow layout this is a neat rendering
 

00:11:10.449 --> 00:11:12.809
shadow layout this is a neat rendering
trick for drawing shadows this is sort

00:11:12.809 --> 00:11:12.819
trick for drawing shadows this is sort
 

00:11:12.819 --> 00:11:14.369
trick for drawing shadows this is sort
of a general container that will draw

00:11:14.369 --> 00:11:14.379
of a general container that will draw
 

00:11:14.379 --> 00:11:16.559
of a general container that will draw
shadows behind all children in this

00:11:16.559 --> 00:11:16.569
shadows behind all children in this
 

00:11:16.569 --> 00:11:17.970
shadows behind all children in this
particular case it's just drawing

00:11:17.970 --> 00:11:17.980
particular case it's just drawing
 

00:11:17.980 --> 00:11:19.710
particular case it's just drawing
shadows behind the one child that the

00:11:19.710 --> 00:11:19.720
shadows behind the one child that the
 

00:11:19.720 --> 00:11:21.480
shadows behind the one child that the
that our container has which is this

00:11:21.480 --> 00:11:21.490
that our container has which is this
 

00:11:21.490 --> 00:11:24.509
that our container has which is this
this image that we're animating into so

00:11:24.509 --> 00:11:24.519
this image that we're animating into so
 

00:11:24.519 --> 00:11:26.730
this image that we're animating into so
we set up some initial values here we

00:11:26.730 --> 00:11:26.740
we set up some initial values here we
 

00:11:26.740 --> 00:11:28.889
we set up some initial values here we
use a trick of blurring the edges

00:11:28.889 --> 00:11:28.899
use a trick of blurring the edges
 

00:11:28.899 --> 00:11:30.030
use a trick of blurring the edges
because it's kind of nice to have this

00:11:30.030 --> 00:11:30.040
because it's kind of nice to have this
 

00:11:30.040 --> 00:11:32.129
because it's kind of nice to have this
sort of blurry anti-aliased edge to the

00:11:32.129 --> 00:11:32.139
sort of blurry anti-aliased edge to the
 

00:11:32.139 --> 00:11:35.220
sort of blurry anti-aliased edge to the
shadow so we draw a round rect with the

00:11:35.220 --> 00:11:35.230
shadow so we draw a round rect with the
 

00:11:35.230 --> 00:11:37.079
shadow so we draw a round rect with the
blur into this bitmap and then we're

00:11:37.079 --> 00:11:37.089
blur into this bitmap and then we're
 

00:11:37.089 --> 00:11:38.670
blur into this bitmap and then we're
going to draw the bitmap the appropriate

00:11:38.670 --> 00:11:38.680
going to draw the bitmap the appropriate
 

00:11:38.680 --> 00:11:41.610
going to draw the bitmap the appropriate
size whenever we render ourselves this

00:11:41.610 --> 00:11:41.620
size whenever we render ourselves this
 

00:11:41.620 --> 00:11:43.559
size whenever we render ourselves this
property setter is going to be called by

00:11:43.559 --> 00:11:43.569
property setter is going to be called by
 

00:11:43.569 --> 00:11:45.749
property setter is going to be called by
the object animator which animates the

00:11:45.749 --> 00:11:45.759
the object animator which animates the
 

00:11:45.759 --> 00:11:48.239
the object animator which animates the
shadow depth so it's going to set a

00:11:48.239 --> 00:11:48.249
shadow depth so it's going to set a
 

00:11:48.249 --> 00:11:50.610
shadow depth so it's going to set a
couple of values in here including the

00:11:50.610 --> 00:11:50.620
couple of values in here including the
 

00:11:50.620 --> 00:11:51.749
couple of values in here including the
Alpha on the paint that we're going to

00:11:51.749 --> 00:11:51.759
Alpha on the paint that we're going to
 

00:11:51.759 --> 00:11:54.269
Alpha on the paint that we're going to
render with and then we invalidate this

00:11:54.269 --> 00:11:54.279
render with and then we invalidate this
 

00:11:54.279 --> 00:11:56.040
render with and then we invalidate this
container so that we can actually have a

00:11:56.040 --> 00:11:56.050
container so that we can actually have a
 

00:11:56.050 --> 00:11:58.559
container so that we can actually have a
chance to render our shadow as we draw

00:11:58.559 --> 00:11:58.569
chance to render our shadow as we draw
 

00:11:58.569 --> 00:12:01.019
chance to render our shadow as we draw
and then on draw we override to actually

00:12:01.019 --> 00:12:01.029
and then on draw we override to actually
 

00:12:01.029 --> 00:12:02.579
and then on draw we override to actually
draw the shadows behind all of our

00:12:02.579 --> 00:12:02.589
draw the shadows behind all of our
 

00:12:02.589 --> 00:12:03.720
draw the shadows behind all of our
children so we're going to walk through

00:12:03.720 --> 00:12:03.730
children so we're going to walk through
 

00:12:03.730 --> 00:12:05.699
children so we're going to walk through
all of our children in this particular

00:12:05.699 --> 00:12:05.709
all of our children in this particular
 

00:12:05.709 --> 00:12:07.079
all of our children in this particular
case there's only one but you could see

00:12:07.079 --> 00:12:07.089
case there's only one but you could see
 

00:12:07.089 --> 00:12:08.460
case there's only one but you could see
how maybe there would be several

00:12:08.460 --> 00:12:08.470
how maybe there would be several
 

00:12:08.470 --> 00:12:10.439
how maybe there would be several
children where we want to draw with this

00:12:10.439 --> 00:12:10.449
children where we want to draw with this
 

00:12:10.449 --> 00:12:12.749
children where we want to draw with this
shadow so we're going to get the child

00:12:12.749 --> 00:12:12.759
shadow so we're going to get the child
 

00:12:12.759 --> 00:12:14.460
shadow so we're going to get the child
we're going to calculate a depth factor

00:12:14.460 --> 00:12:14.470
we're going to calculate a depth factor
 

00:12:14.470 --> 00:12:16.350
we're going to calculate a depth factor
here we're going to set some values on

00:12:16.350 --> 00:12:16.360
here we're going to set some values on
 

00:12:16.360 --> 00:12:17.579
here we're going to set some values on
the canvas that we're drawing with

00:12:17.579 --> 00:12:17.589
the canvas that we're drawing with
 

00:12:17.589 --> 00:12:19.650
the canvas that we're drawing with
specifically we're going to translate to

00:12:19.650 --> 00:12:19.660
specifically we're going to translate to
 

00:12:19.660 --> 00:12:22.439
specifically we're going to translate to
where we want the shadow and then we're

00:12:22.439 --> 00:12:22.449
where we want the shadow and then we're
 

00:12:22.449 --> 00:12:23.970
where we want the shadow and then we're
going to go ahead and draw the bitmap

00:12:23.970 --> 00:12:23.980
going to go ahead and draw the bitmap
 

00:12:23.980 --> 00:12:26.309
going to go ahead and draw the bitmap
that we created before and that's it

00:12:26.309 --> 00:12:26.319
that we created before and that's it
 

00:12:26.319 --> 00:12:28.650
that we created before and that's it
again an important point is transparent

00:12:28.650 --> 00:12:28.660
again an important point is transparent
 

00:12:28.660 --> 00:12:30.240
again an important point is transparent
activities aren't a good idea in general

00:12:30.240 --> 00:12:30.250
activities aren't a good idea in general
 

00:12:30.250 --> 00:12:31.799
activities aren't a good idea in general
for performance reasons but if you

00:12:31.799 --> 00:12:31.809
for performance reasons but if you
 

00:12:31.809 --> 00:12:33.600
for performance reasons but if you
really want a custom animation going

00:12:33.600 --> 00:12:33.610
really want a custom animation going
 

00:12:33.610 --> 00:12:36.269
really want a custom animation going
into that sub activity this is a pretty

00:12:36.269 --> 00:12:36.279
into that sub activity this is a pretty
 

00:12:36.279 --> 00:12:39.059
into that sub activity this is a pretty
good way to go about it you can check

00:12:39.059 --> 00:12:39.069
good way to go about it you can check
 

00:12:39.069 --> 00:12:41.970
good way to go about it you can check
out information about the code itself

00:12:41.970 --> 00:12:41.980
out information about the code itself
 

00:12:41.980 --> 00:12:43.590
out information about the code itself
add a link that's provided in the

00:12:43.590 --> 00:12:43.600
add a link that's provided in the
 

00:12:43.600 --> 00:12:45.419
add a link that's provided in the
description of the video and check out

00:12:45.419 --> 00:12:45.429
description of the video and check out
 

00:12:45.429 --> 00:12:46.919
description of the video and check out
the other dev bytes for more animation

00:12:46.919 --> 00:12:46.929
the other dev bytes for more animation
 

00:12:46.929 --> 00:12:49.949
the other dev bytes for more animation
information thanks

