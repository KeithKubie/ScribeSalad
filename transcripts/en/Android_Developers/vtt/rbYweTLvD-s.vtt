WEBVTT
Kind: captions
Language: en

00:00:00.000 --> 00:00:03.339
[MUSIC PLAYING]

00:00:08.109 --> 00:00:09.750
TODD KERPELMAN: Hello,
game developers.

00:00:09.750 --> 00:00:13.140
And welcome to yet another
episode of "Game On!"

00:00:13.140 --> 00:00:14.920
I'm your host, Todd Kerpelman.

00:00:14.920 --> 00:00:16.787
And I'm here today
with Wolff Dobson, who

00:00:16.787 --> 00:00:18.495
is not going to be
talking about physics,

00:00:18.495 --> 00:00:21.740
but is going to be talking about
something just as exciting.

00:00:21.740 --> 00:00:23.470
And that's the
turn-based multiplayer

00:00:23.470 --> 00:00:26.910
features that we just
released a few days ago.

00:00:26.910 --> 00:00:28.880
Wolff, why don't you
tell us about this stuff?

00:00:28.880 --> 00:00:29.963
WOLFF DOBSON: I'd love to.

00:00:29.963 --> 00:00:31.000
TODD KERPELMAN: Awesome

00:00:31.000 --> 00:00:32.499
WOLFF DOBSON: So,
first question is,

00:00:32.499 --> 00:00:35.880
what is Turn-Based Multiplayer?

00:00:35.880 --> 00:00:38.220
Turn-Based Multiplayer
means a single shared state

00:00:38.220 --> 00:00:40.050
passed between multiple players.

00:00:40.050 --> 00:00:42.500
Only one player has
permission to edit the shared

00:00:42.500 --> 00:00:43.450
state at a time.

00:00:43.450 --> 00:00:45.200
Once you've edited it
as much as you want,

00:00:45.200 --> 00:00:47.090
you pass it on to somebody else.

00:00:47.090 --> 00:00:50.307
We support 2 to 8 players,
including Automatch.

00:00:50.307 --> 00:00:52.390
And you can actually mix
and match your Automatch.

00:00:52.390 --> 00:00:53.806
You can have some
invited players,

00:00:53.806 --> 00:00:55.820
some Automatch players.

00:00:55.820 --> 00:00:58.760
You can see all the
documentation and stuff

00:00:58.760 --> 00:01:01.585
at this URL that our
producer has added here.

00:01:01.585 --> 00:01:02.960
TODD KERPELMAN:
Oh, look at that.

00:01:02.960 --> 00:01:04.001
Magic of post-processing.

00:01:06.469 --> 00:01:07.885
WOLFF DOBSON: So
who can use this?

00:01:07.885 --> 00:01:10.200
This is all part of
Google Play services.

00:01:10.200 --> 00:01:13.860
So anything you want,
going back to Gingerbread,

00:01:13.860 --> 00:01:16.030
it should be on your
phone right now,

00:01:16.030 --> 00:01:19.450
or a Play Store
update very near you.

00:01:19.450 --> 00:01:22.841
We're also publishing REST
bindings for web or desktop

00:01:22.841 --> 00:01:23.340
apps.

00:01:23.340 --> 00:01:26.120
But be warned, we don't really
have a notification system.

00:01:26.120 --> 00:01:28.250
The notifications only
appear on Android.

00:01:32.590 --> 00:01:34.360
And now let's do a little demo.

00:01:34.360 --> 00:01:35.700
TODD KERPELMAN: All right.

00:01:35.700 --> 00:01:40.940
WOLFF DOBSON: So this is a
game that I wrote called "8 Bit

00:01:40.940 --> 00:01:45.695
Artist," and it uses the
Turn-Based Multiplayer.

00:01:45.695 --> 00:01:48.320
TODD KERPELMAN: All right, well
I'm going to start a game here.

00:01:48.320 --> 00:01:51.250
So this is basically a
guess what I'm drawing game.

00:01:51.250 --> 00:01:53.050
But you've added
a fun twist to it,

00:01:53.050 --> 00:01:55.440
which is the grid is
basically 10 by 10.

00:01:55.440 --> 00:01:57.570
So all of our art
is equally crappy.

00:01:57.570 --> 00:01:59.570
And as a crappy
artist, I appreciate

00:01:59.570 --> 00:02:01.490
being put in the
same level playing

00:02:01.490 --> 00:02:02.640
field as everybody else.

00:02:02.640 --> 00:02:05.650
So I'm going to start a
match with this account.

00:02:05.650 --> 00:02:07.452
And it looks like I
have some opponents

00:02:07.452 --> 00:02:08.410
that I can choose from.

00:02:08.410 --> 00:02:11.210
These are basically
populated from my G+ circles.

00:02:11.210 --> 00:02:14.794
WOLFF DOBSON: And this is using
the built-in invitation UI

00:02:14.794 --> 00:02:15.460
that we provide.

00:02:15.460 --> 00:02:15.680
TODD KERPELMAN: Awesome.

00:02:15.680 --> 00:02:17.018
Should I invite Vic Gangotra?

00:02:17.018 --> 00:02:17.726
WOLFF DOBSON: No.

00:02:17.726 --> 00:02:18.820
TODD KERPELMAN: I'll
just invite you.

00:02:18.820 --> 00:02:19.903
WOLFF DOBSON: That's cool.

00:02:19.903 --> 00:02:21.400
TODD KERPELMAN: All right.

00:02:21.400 --> 00:02:23.806
WOLFF DOBSON: And then on
my screen-- there you go.

00:02:23.806 --> 00:02:25.697
Now you have to
draw, so it's going

00:02:25.697 --> 00:02:27.030
to give you a word to draw here.

00:02:27.030 --> 00:02:29.540
TODD KERPELMAN: Reading.

00:02:29.540 --> 00:02:30.760
That's actually a tough one.

00:02:30.760 --> 00:02:33.450
I'm going to try
and draw a book.

00:02:33.450 --> 00:02:36.767
And that looks like a heart.

00:02:36.767 --> 00:02:38.350
You know what, because
this is a demo,

00:02:38.350 --> 00:02:40.240
I'm not going to spend a lot
of time making this look good.

00:02:40.240 --> 00:02:41.420
I'm just going to assume--

00:02:41.420 --> 00:02:42.310
WOLFF DOBSON: It's
a heart bleeding.

00:02:42.310 --> 00:02:44.180
TODD KERPELMAN:
This is very clearly

00:02:44.180 --> 00:02:46.970
an awesome picture of a
book with words on it.

00:02:46.970 --> 00:02:47.570
I think I'm--

00:02:47.570 --> 00:02:49.040
WOLFF DOBSON: I'm just going to
press Done for you right there.

00:02:49.040 --> 00:02:50.602
There we go.

00:02:50.602 --> 00:02:53.452
TODD KERPELMAN: All right,
so this gets sent and--

00:02:53.452 --> 00:02:54.910
WOLFF DOBSON: On
my screen, you see

00:02:54.910 --> 00:02:58.040
that I got a little
pop-up that tells me

00:02:58.040 --> 00:02:59.850
that the game was updated.

00:02:59.850 --> 00:03:02.780
So now I can check
my available games.

00:03:02.780 --> 00:03:05.520
And, sure enough, there's an
invitation from Todd Kerpelman.

00:03:05.520 --> 00:03:08.960
So I'll accept his invitation.

00:03:08.960 --> 00:03:13.325
And then it's my turn to guess
his amazing, amazing drawing.

00:03:13.325 --> 00:03:14.070
Let me see here.

00:03:14.070 --> 00:03:15.820
TODD KERPELMAN: So basically,
the state that got passed--

00:03:15.820 --> 00:03:16.140
WOLFF DOBSON: It's lungs.

00:03:16.140 --> 00:03:16.440
It's lungs.

00:03:16.440 --> 00:03:17.500
It's definitely lungs.

00:03:17.500 --> 00:03:18.570
TODD KERPELMAN: It kind
of looks like lungs.

00:03:18.570 --> 00:03:20.486
WOLFF DOBSON: I have a
couple of choices here.

00:03:20.486 --> 00:03:24.270
I have Reading, Victim, Spring,
Drink, Super Whale, Heart

00:03:24.270 --> 00:03:26.608
and Lungs.

00:03:26.608 --> 00:03:27.524
Now I have to--

00:03:27.524 --> 00:03:29.940
TODD KERPELMAN: You do happen
to know that it was reading.

00:03:29.940 --> 00:03:32.419
WOLFF DOBSON: So I'm just
gonna click Reading here.

00:03:32.419 --> 00:03:33.210
Ah, that's correct.

00:03:33.210 --> 00:03:34.091
So I can keep going.

00:03:34.091 --> 00:03:35.090
TODD KERPELMAN: So now--

00:03:35.090 --> 00:03:36.040
WOLFF DOBSON: Maybe it
was a coffee factory.

00:03:36.040 --> 00:03:38.373
TODD KERPELMAN: So now, when
I sent you that first game,

00:03:38.373 --> 00:03:40.980
you saw that little notification
right there on your screen.

00:03:40.980 --> 00:03:43.550
Because I guess you were in
the middle of an "8 Bit Artist"

00:03:43.550 --> 00:03:44.050
game.

00:03:44.050 --> 00:03:47.346
What would happen if you were
reading your Gmail or something

00:03:47.346 --> 00:03:48.720
and I sent you a
game invitation?

00:03:48.720 --> 00:03:50.428
WOLFF DOBSON: If the
game is not running,

00:03:50.428 --> 00:03:53.380
then what's going to happen is
you'll get a regular Android

00:03:53.380 --> 00:03:56.184
notification with the
game logo at the top.

00:03:56.184 --> 00:03:58.100
And it's going to say,
hey you've got a game .

00:03:58.100 --> 00:03:59.330
If you click on
that notification,

00:03:59.330 --> 00:04:00.455
it takes you to that inbox.

00:04:00.455 --> 00:04:02.726
And you can choose to either
play the game or skip it

00:04:02.726 --> 00:04:04.140
or whatever you want to do.

00:04:04.140 --> 00:04:05.848
TODD KERPELMAN: So
this is pretty, pretty

00:04:05.848 --> 00:04:06.854
standard notifications.

00:04:06.854 --> 00:04:08.520
What if I don't have
the game installed?

00:04:08.520 --> 00:04:09.800
WOLFF DOBSON: If you don't
have the game installed,

00:04:09.800 --> 00:04:11.604
you'll still get
the notification.

00:04:11.604 --> 00:04:13.520
But, when you try to
play it, it will take you

00:04:13.520 --> 00:04:14.272
to the Play Store.

00:04:14.272 --> 00:04:15.980
TODD KERPELMAN: I
guess that makes sense.

00:04:15.980 --> 00:04:17.230
You kind of need the
game installed to play.

00:04:17.230 --> 00:04:18.146
WOLFF DOBSON: Exactly.

00:04:18.146 --> 00:04:20.454
TODD KERPELMAN: So I could
really invite anybody,

00:04:20.454 --> 00:04:21.870
whether they have
the game or not.

00:04:21.870 --> 00:04:22.700
WOLFF DOBSON: Mhm.

00:04:22.700 --> 00:04:25.584
TODD KERPELMAN: And hopefully
they will see the notification

00:04:25.584 --> 00:04:27.500
and then-- I guess if I
were a game developer,

00:04:27.500 --> 00:04:29.910
this might be a good way to
get word out about my game

00:04:29.910 --> 00:04:31.650
because people have started
inviting their friends to play

00:04:31.650 --> 00:04:32.390
and blah, blah, blah.

00:04:32.390 --> 00:04:33.720
WOLFF DOBSON: If you
have a good game.

00:04:33.720 --> 00:04:36.095
TODD KERPELMAN: I guess our
recommendation here would be,

00:04:36.095 --> 00:04:39.130
unlike a real-time game--
go ahead and encourage

00:04:39.130 --> 00:04:40.690
people to invite their friends.

00:04:40.690 --> 00:04:44.430
Because you're not dependent
on that other person

00:04:44.430 --> 00:04:46.950
to be on their phone, at
that moment, with the game

00:04:46.950 --> 00:04:48.340
open ready to play.

00:04:48.340 --> 00:04:50.900
These types of turn-based
games are generally

00:04:50.900 --> 00:04:53.390
assumed that it might
take 24 hours or so

00:04:53.390 --> 00:04:55.910
for the other person to
notice that it's they're turn

00:04:55.910 --> 00:04:57.490
and to take their turn.

00:04:57.490 --> 00:04:59.360
And, in this case,
it is much more

00:04:59.360 --> 00:05:01.230
fun playing with
people you know.

00:05:01.230 --> 00:05:04.560
WOLFF DOBSON: All right,
well let's keep going.

00:05:04.560 --> 00:05:08.570
How do you set all this
cool turn-basedness up?

00:05:08.570 --> 00:05:11.470
First, you've got to do all the
regular Google Play services

00:05:11.470 --> 00:05:12.670
stuff.

00:05:12.670 --> 00:05:15.570
It's covered in a lot
of our other videos.

00:05:15.570 --> 00:05:18.720
Create an application, link
an Android application to it,

00:05:18.720 --> 00:05:21.100
put that ID in your application.

00:05:21.100 --> 00:05:23.780
We have lots and lots of sample
code and instructions for this.

00:05:23.780 --> 00:05:25.210
And you should check it out.

00:05:25.210 --> 00:05:26.585
TODD KERPELMAN:
Is "8 Bit Artist"

00:05:26.585 --> 00:05:27.940
available as a sample game?

00:05:27.940 --> 00:05:29.800
WOLFF DOBSON: It will be soon.

00:05:29.800 --> 00:05:30.400
TODD KERPELMAN:
So what do people

00:05:30.400 --> 00:05:31.150
have right now to look at?

00:05:31.150 --> 00:05:33.025
WOLFF DOBSON: Right now,
they have Turn-Based

00:05:33.025 --> 00:05:35.557
Multiplayer's "Skeleton," which
is just like "8 Bit Artist,"

00:05:35.557 --> 00:05:36.890
but we've removed all the games.

00:05:36.890 --> 00:05:39.545
So you're just passing a string
back and forth to each other.

00:05:39.545 --> 00:05:40.130
TODD KERPELMAN: So
it's like a string

00:05:40.130 --> 00:05:41.960
that I can modify, send it back.

00:05:41.960 --> 00:05:42.876
WOLFF DOBSON: Exactly.

00:05:42.876 --> 00:05:44.100
TODD KERPELMAN: Perfect.

00:05:44.100 --> 00:05:46.350
WOLFF DOBSON: One really
important difference, though,

00:05:46.350 --> 00:05:51.450
is when you go to your
application in the console,

00:05:51.450 --> 00:05:53.639
you need to flip this switch.

00:05:53.639 --> 00:05:55.180
It's right there in
the game services

00:05:55.180 --> 00:05:58.080
tab on the Play
Developer console.

00:05:58.080 --> 00:06:01.560
If you don't, you'll
get weird errors.

00:06:01.560 --> 00:06:04.580
So, how do you invite
people to a game?

00:06:04.580 --> 00:06:06.760
This is our default
invitation screen.

00:06:06.760 --> 00:06:08.520
You can write your own
invitation screens.

00:06:08.520 --> 00:06:10.460
We have methods in the
game client for that.

00:06:10.460 --> 00:06:11.640
But you're welcome to use ours.

00:06:11.640 --> 00:06:13.348
And we actually
recommend it because it's

00:06:13.348 --> 00:06:16.930
going to be familiar between
other applications that

00:06:16.930 --> 00:06:18.780
use Turn-Based Multiplayer.

00:06:18.780 --> 00:06:22.330
And it'll stay up-to-date if we
learn something and change it.

00:06:22.330 --> 00:06:25.700
TODD KERPELMAN: So, really
only write your own game plan

00:06:25.700 --> 00:06:27.400
if you're willing
to spend the time

00:06:27.400 --> 00:06:29.030
to continually
update this thing.

00:06:29.030 --> 00:06:31.102
And you're maybe a
large company that's

00:06:31.102 --> 00:06:33.560
got a very strong brand that
you're concerned with keeping.

00:06:33.560 --> 00:06:34.010
WOLFF DOBSON: Exactly.

00:06:34.010 --> 00:06:36.093
TODD KERPELMAN: If you're
a three person start-up,

00:06:36.093 --> 00:06:37.150
maybe just use our UI.

00:06:37.150 --> 00:06:41.516
It will save you lots
of time in the long run.

00:06:41.516 --> 00:06:43.640
WOLFF DOBSON: Putting up
that screen we just showed

00:06:43.640 --> 00:06:44.920
is really easy.

00:06:44.920 --> 00:06:46.910
It takes this much code.

00:06:46.910 --> 00:06:50.820
Just create an
intent and start it.

00:06:50.820 --> 00:06:52.850
Then you'll need a
Listener on the other side

00:06:52.850 --> 00:06:56.820
to check to see what result
you got and whether or not

00:06:56.820 --> 00:06:57.680
they hit cancel.

00:06:57.680 --> 00:07:00.950
That's what the Check If
Result Is Not Equal To OK.

00:07:00.950 --> 00:07:07.090
So to gather invitees off the
list, just grab the data extras

00:07:07.090 --> 00:07:09.157
and look for extra players.

00:07:09.157 --> 00:07:11.240
And then you can add that
to your Turn-Based Match

00:07:11.240 --> 00:07:12.162
Configuration.

00:07:12.162 --> 00:07:13.620
TODD KERPELMAN:
I'm not quite sure.

00:07:13.620 --> 00:07:14.490
Can you go back?

00:07:14.490 --> 00:07:16.400
WOLFF DOBSON: Sure.

00:07:16.400 --> 00:07:19.110
TODD KERPELMAN: This Get
String Array List Extra,

00:07:19.110 --> 00:07:20.037
extra players.

00:07:20.037 --> 00:07:20.870
What does this mean?

00:07:20.870 --> 00:07:22.936
Is this grabbing from
the UI that I just

00:07:22.936 --> 00:07:24.560
dismissed the players
I want to invite?

00:07:24.560 --> 00:07:25.476
WOLFF DOBSON: Exactly.

00:07:25.476 --> 00:07:26.864
TODD KERPELMAN: Gotcha.

00:07:26.864 --> 00:07:29.030
WOLFF DOBSON: And then you
create a Turn-Based Match

00:07:29.030 --> 00:07:30.470
Config using a builder.

00:07:30.470 --> 00:07:32.380
Add that list of invitees.

00:07:32.380 --> 00:07:34.890
And then call Create
Turn-Based Match.

00:07:34.890 --> 00:07:35.850
TODD KERPELMAN: Gotcha.

00:07:35.850 --> 00:07:37.850
WOLFF DOBSON: It's a
little bit more complicated

00:07:37.850 --> 00:07:40.860
if you want to use Automatching,
which we absolutely

00:07:40.860 --> 00:07:42.044
recommend you try.

00:07:42.044 --> 00:07:43.710
TODD KERPELMAN: That
is still important.

00:07:43.710 --> 00:07:44.220
WOLFF DOBSON: Yes.

00:07:44.220 --> 00:07:46.386
TODD KERPELMAN: Some players
might not have friends.

00:07:46.386 --> 00:07:49.360
WOLFF DOBSON: So, as you saw
when we were showing the demo,

00:07:49.360 --> 00:07:51.800
there's Always Add
Autopic Player.

00:07:51.800 --> 00:07:53.240
And anybody can choose that.

00:07:53.240 --> 00:07:55.090
And then, in that
case, you'll get

00:07:55.090 --> 00:07:58.490
a minimum and maximum
number of Automatch players.

00:07:58.490 --> 00:08:00.730
This is a lot like our
real-time multiplayer code,

00:08:00.730 --> 00:08:02.520
in terms of managing
Automatch players.

00:08:02.520 --> 00:08:05.990
So you could look at that
as a reference as well.

00:08:05.990 --> 00:08:08.240
But basically, grab
the min and max numbers

00:08:08.240 --> 00:08:12.170
and create an Automatch
criteria object and pass

00:08:12.170 --> 00:08:15.054
that to the builder for
the turn-based match.

00:08:15.054 --> 00:08:16.720
TODD KERPELMAN: So,
I know in real-time,

00:08:16.720 --> 00:08:19.970
we were encouraging developers
to also have a Quick Match

00:08:19.970 --> 00:08:23.810
button that sets up Automatching
without going to that UI.

00:08:23.810 --> 00:08:26.280
Is that what this code does?

00:08:26.280 --> 00:08:29.380
WOLFF DOBSON: This code actually
will grab the information

00:08:29.380 --> 00:08:30.506
from the invitation screen.

00:08:30.506 --> 00:08:32.213
So when you pop up
the invitation screen,

00:08:32.213 --> 00:08:33.867
you have an Automatch
button thing.

00:08:33.867 --> 00:08:35.450
If you want to skip
that, and you just

00:08:35.450 --> 00:08:37.616
want to have an Automatch
button, all you have to do

00:08:37.616 --> 00:08:40.154
is follow the second
step there where it says,

00:08:40.154 --> 00:08:42.070
If min Automatch players
is greater than zero.

00:08:42.070 --> 00:08:45.800
Just say, Automatch Criteria,
Create Automatch Criteria,

00:08:45.800 --> 00:08:47.310
Number of Automatch
Slots you want.

00:08:47.310 --> 00:08:49.470
Which might be one, in the
case of "8 Bit Artist."

00:08:49.470 --> 00:08:50.428
TODD KERPELMAN: Gotcha.

00:08:50.428 --> 00:08:51.580
OK.

00:08:51.580 --> 00:08:53.876
WOLFF DOBSON: After that,
pass Set Automatch Criteria

00:08:53.876 --> 00:08:55.250
for your Turn-Based
Match Config.

00:08:55.250 --> 00:08:57.030
And then, call Create
Turn-Based Match.

00:08:59.990 --> 00:09:02.990
Now, the way we're
doing Automatch, I think

00:09:02.990 --> 00:09:03.640
is really neat.

00:09:03.640 --> 00:09:06.370
We're doing what's called
Rolling Automatch, where

00:09:06.370 --> 00:09:08.415
you can start a game,
take your first turn

00:09:08.415 --> 00:09:09.380
and pass it on to somebody else.

00:09:09.380 --> 00:09:10.800
So let's make that
concrete here.

00:09:13.440 --> 00:09:15.257
Let's say I'm player one.

00:09:15.257 --> 00:09:17.590
I've decided I want to play
against an Automatch player.

00:09:17.590 --> 00:09:20.799
What happens is, I
take my first turn.

00:09:20.799 --> 00:09:22.340
So, if I were playing
"8 Bit Artist,"

00:09:22.340 --> 00:09:24.600
I draw my first
picture and I hit Send.

00:09:24.600 --> 00:09:25.440
TODD KERPELMAN: By
this point, the system

00:09:25.440 --> 00:09:26.570
doesn't know who
I'm playing against.

00:09:26.570 --> 00:09:27.170
WOLFF DOBSON: It has no idea.

00:09:27.170 --> 00:09:28.495
It just knows you're going
to play against an Automatch

00:09:28.495 --> 00:09:28.995
player.

00:09:28.995 --> 00:09:30.830
And at that point, it
goes up into the cloud

00:09:30.830 --> 00:09:32.940
and waits around
to be Automatched.

00:09:32.940 --> 00:09:35.100
Now, say Todd's playing.

00:09:35.100 --> 00:09:36.660
Todd wants to play
and he hits, I

00:09:36.660 --> 00:09:38.380
want to play against
an Automatch person.

00:09:38.380 --> 00:09:41.420
At that point, the system
actually knows, well, OK.

00:09:41.420 --> 00:09:43.310
There's this open
Automatch slot.

00:09:43.310 --> 00:09:45.780
So let's just put
those guys together,

00:09:45.780 --> 00:09:47.950
and have them play each other.

00:09:47.950 --> 00:09:50.320
So when Todd gets
his game, I will

00:09:50.320 --> 00:09:51.560
have already taken my turn.

00:09:51.560 --> 00:09:55.050
And you'll be able to guess,
and then draw your own.

00:09:55.050 --> 00:09:57.180
So Rolling Automatch gets
people going in the game

00:09:57.180 --> 00:10:01.980
right away, even
in situations where

00:10:01.980 --> 00:10:04.589
your game rules support that.

00:10:04.589 --> 00:10:06.130
TODD KERPELMAN: So
the advantage here

00:10:06.130 --> 00:10:08.922
is, basically, we don't have to
take that additional step of,

00:10:08.922 --> 00:10:10.255
I'm looking for someone to play.

00:10:10.255 --> 00:10:12.500
Oh, Wolff has decided he's
going to play with me.

00:10:12.500 --> 00:10:13.660
OK, now I take my turn.

00:10:13.660 --> 00:10:16.480
It basically gets me right
into the game a lot faster.

00:10:16.480 --> 00:10:18.840
WOLFF DOBSON: Yeah, I mean
if your game supports people

00:10:18.840 --> 00:10:20.550
taking their turns before
they know who they're playing

00:10:20.550 --> 00:10:22.950
against, you should totally
use Rolling Automatch.

00:10:22.950 --> 00:10:23.740
It's very neat.

00:10:23.740 --> 00:10:26.190
TODD KERPELMAN:
That sounds good.

00:10:26.190 --> 00:10:29.911
WOLFF DOBSON: No matter
how your game starts,

00:10:29.911 --> 00:10:31.910
you're going to get a
Turn-Based Match Initiated

00:10:31.910 --> 00:10:33.420
callback from the games client.

00:10:33.420 --> 00:10:35.620
You can register Listener.

00:10:35.620 --> 00:10:37.660
As with all these
callbacks, you should

00:10:37.660 --> 00:10:40.340
check that your status
codes are right.

00:10:40.340 --> 00:10:42.830
Sometimes things go wrong,
like network errors.

00:10:42.830 --> 00:10:45.700
Every callback comes with status
codes and you should use them.

00:10:45.700 --> 00:10:49.420
We have sample codes showing
how to interpret them.

00:10:49.420 --> 00:10:50.970
You may already
have a game going.

00:10:50.970 --> 00:10:52.765
So when the game
gets started, you

00:10:52.765 --> 00:10:55.480
should actually look to see if
your match data is not null.

00:10:55.480 --> 00:10:57.169
If your match data
is null, it means A,

00:10:57.169 --> 00:10:59.710
you just got a fresh game and
you should take the first turn.

00:10:59.710 --> 00:11:02.530
And you should call whatever
your game initialization

00:11:02.530 --> 00:11:03.439
steps are.

00:11:03.439 --> 00:11:05.480
But you might have one of
these Rolling Automatch

00:11:05.480 --> 00:11:06.840
games, at which
point, your like, oh.

00:11:06.840 --> 00:11:07.370
We're already playing.

00:11:07.370 --> 00:11:07.870
Never mind.

00:11:07.870 --> 00:11:09.810
Just go straight to the
turn-taking interface.

00:11:09.810 --> 00:11:10.685
TODD KERPELMAN: Cool.

00:11:10.685 --> 00:11:13.640
WOLFF DOBSON: So that's what
this code is demonstrating.

00:11:13.640 --> 00:11:16.660
So speaking of taking
turns, let's talk

00:11:16.660 --> 00:11:20.400
about actually playing games.

00:11:20.400 --> 00:11:23.144
For us, playing games
is taking turns.

00:11:23.144 --> 00:11:24.560
When you're playing
a game, you'll

00:11:24.560 --> 00:11:26.132
be passing around
this match data.

00:11:26.132 --> 00:11:27.340
What's inside the match data?

00:11:27.340 --> 00:11:32.240
First, you just get game
data, which is a byte array.

00:11:32.240 --> 00:11:34.110
It's 128k.

00:11:34.110 --> 00:11:35.420
It's whatever you want.

00:11:35.420 --> 00:11:36.320
It's opaque to us.

00:11:36.320 --> 00:11:37.732
We don't even know.

00:11:37.732 --> 00:11:40.360
Whatever you store here gets
propagated to everybody,

00:11:40.360 --> 00:11:42.030
on all their signed in devices.

00:11:42.030 --> 00:11:44.270
So if I'm multiply
signed in, that's

00:11:44.270 --> 00:11:46.190
going to get sent
out to everything.

00:11:46.190 --> 00:11:47.690
You also get a list
of participants.

00:11:47.690 --> 00:11:49.454
Each comes with a
unique participant ID.

00:11:49.454 --> 00:11:51.370
For games that have not
finished Automatching,

00:11:51.370 --> 00:11:53.350
you'll only get the
current participants.

00:11:53.350 --> 00:11:57.620
And then you'll get a number
of unused Automatch slots.

00:11:57.620 --> 00:12:02.720
Lastly, your gonna get some
status bits on the game itself.

00:12:02.720 --> 00:12:05.665
There's Turn and
Match status bits.

00:12:08.880 --> 00:12:12.390
Status bits like, is it my
turn, and is this game over?

00:12:12.390 --> 00:12:13.300
Are we Automatching?

00:12:13.300 --> 00:12:15.680
What's going on?

00:12:15.680 --> 00:12:18.270
Even when it's not
your turn, you'll

00:12:18.270 --> 00:12:20.910
still get these updates every
time somebody takes their turn.

00:12:20.910 --> 00:12:23.214
So people can monitor their
game as it's going by.

00:12:23.214 --> 00:12:25.380
TODD KERPELMAN: So we're
playing a four player game.

00:12:25.380 --> 00:12:26.664
I'm player one.

00:12:26.664 --> 00:12:28.955
I pass my state data, my game
state data to player two.

00:12:28.955 --> 00:12:30.640
Player two takes a turn.

00:12:30.640 --> 00:12:32.420
I will still get a
notification of--

00:12:32.420 --> 00:12:34.211
WOLFF DOBSON: You won't
get a notification.

00:12:34.211 --> 00:12:35.500
Your data will get updated.

00:12:35.500 --> 00:12:37.930
And when you open and check,
you'll say, oh, yeah look.

00:12:37.930 --> 00:12:39.070
Player two took his turn.

00:12:39.070 --> 00:12:41.028
TODD KERPELMAN: So I can
see player two's turn.

00:12:41.028 --> 00:12:43.366
I will see somewhere
in the Turn Status

00:12:43.366 --> 00:12:44.751
that it's still not my turn.

00:12:44.751 --> 00:12:46.750
Match status is that the
game is still going on.

00:12:46.750 --> 00:12:47.666
WOLFF DOBSON: Exactly.

00:12:52.170 --> 00:12:55.659
Speaking of participants, this
should feel pretty familiar,

00:12:55.659 --> 00:12:57.200
if you've used
real-time multiplayer.

00:12:57.200 --> 00:13:01.400
Participant comes with a
participant ID and a display

00:13:01.400 --> 00:13:02.660
name.

00:13:02.660 --> 00:13:05.240
And, if they
weren't Automatched,

00:13:05.240 --> 00:13:07.360
then they come with a
Person data structure,

00:13:07.360 --> 00:13:11.505
which has a way you can
get their profile picture

00:13:11.505 --> 00:13:12.380
and things like that.

00:13:14.990 --> 00:13:17.320
Actually playing
a game is create

00:13:17.320 --> 00:13:19.240
some kind of shared
state, and then

00:13:19.240 --> 00:13:22.700
call TakeTurn with somebody
else's participant ID.

00:13:22.700 --> 00:13:26.140
So if I finished
drawing, I'm going

00:13:26.140 --> 00:13:29.550
to say TakeTurn, and
put your participant ID,

00:13:29.550 --> 00:13:32.420
not your Person ID.

00:13:32.420 --> 00:13:34.370
If you want to pass it
off to Automatching,

00:13:34.370 --> 00:13:37.600
you just pass Null In, and
it'll go off to the cloud,

00:13:37.600 --> 00:13:41.470
assuming that you have
Automatch slots left.

00:13:41.470 --> 00:13:45.120
And lastly, this
gets to Turn Order.

00:13:45.120 --> 00:13:47.680
Turn Order is entirely
client dependent.

00:13:47.680 --> 00:13:49.660
Each time you take
a turn, that client

00:13:49.660 --> 00:13:51.670
decides who's going to go next.

00:13:51.670 --> 00:13:54.760
Round Robin is a
logical choice, but it's

00:13:54.760 --> 00:13:56.170
up to your game to decide.

00:13:56.170 --> 00:13:58.000
And, as we were
talking about earlier,

00:13:58.000 --> 00:14:01.250
sometimes, you're going to call
yourself as the next player.

00:14:01.250 --> 00:14:02.180
And that's OK.

00:14:02.180 --> 00:14:04.700
And what that'll do is
checkpoint the data.

00:14:04.700 --> 00:14:09.040
And have that
uploaded to the cloud.

00:14:09.040 --> 00:14:11.280
Here's a code, as we
were talking about,

00:14:11.280 --> 00:14:12.430
for taking turns.

00:14:12.430 --> 00:14:15.250
So when you click
the Done button,

00:14:15.250 --> 00:14:17.996
find out who the next
participant is, increase--

00:14:17.996 --> 00:14:19.370
I just have a turn
counter thing,

00:14:19.370 --> 00:14:20.980
so I increase the turn counter.

00:14:20.980 --> 00:14:22.970
Show a spinner
because it's going

00:14:22.970 --> 00:14:24.960
to take some asynchronous
process to do this.

00:14:24.960 --> 00:14:29.270
And then you call TakeTurn
with your match ID, the data

00:14:29.270 --> 00:14:33.930
that you want to persist,
and whose turn it is next.

00:14:33.930 --> 00:14:35.100
It's very easy.

00:14:35.100 --> 00:14:38.360
After that, Null out your
turn data because it's

00:14:38.360 --> 00:14:41.765
going to be invalid
at this point.

00:14:41.765 --> 00:14:46.500
One last note on Turn Order.

00:14:46.500 --> 00:14:50.800
Remember, Turn Order is in
the order of your client.

00:14:50.800 --> 00:14:53.160
You can go Round Robin,
that's really common,

00:14:53.160 --> 00:14:56.280
but a game like Bridge,
where the winner

00:14:56.280 --> 00:15:00.530
is who's bidding start, we
give you that flexibility.

00:15:00.530 --> 00:15:04.890
What happens when
the game is finished?

00:15:04.890 --> 00:15:10.690
When a game is over, I made my
last move in a Risk-like game,

00:15:10.690 --> 00:15:13.350
then I'm going to call
FinishTurnBaseMatch.

00:15:13.350 --> 00:15:18.750
Once this happens, you can't
continue modifying the state.

00:15:18.750 --> 00:15:20.660
Each player gets an
alert immediately

00:15:20.660 --> 00:15:24.990
that says they can all look and
see what the final state was.

00:15:24.990 --> 00:15:27.060
And then they call
Finish themselves.

00:15:27.060 --> 00:15:30.490
And finally, after everybody
calls Finish themselves,

00:15:30.490 --> 00:15:32.050
the game moves to
a complete state

00:15:32.050 --> 00:15:33.480
where everyone
has called Finish.

00:15:37.540 --> 00:15:39.330
Next, you can leave.

00:15:39.330 --> 00:15:44.669
Leaving is akin to just
getting up and walking out.

00:15:44.669 --> 00:15:46.585
That's saying I no longer
want to participate,

00:15:46.585 --> 00:15:48.642
but the game can
continue going on.

00:15:48.642 --> 00:15:50.350
So, if we're all
playing poker and I say,

00:15:50.350 --> 00:15:51.700
ah, I gotta go pick up my kid.

00:15:51.700 --> 00:15:53.560
Then get up and walk away.

00:15:53.560 --> 00:15:55.690
That's leaving.

00:15:55.690 --> 00:15:56.816
You can leave on your turn.

00:15:56.816 --> 00:15:58.315
And there's actually
a separate call

00:15:58.315 --> 00:15:59.660
for leaving not on your turn.

00:15:59.660 --> 00:16:03.780
Once you give up your
seat, the game keeps going,

00:16:03.780 --> 00:16:05.860
but no one can take your place.

00:16:05.860 --> 00:16:08.620
So you can't just have a
continuously rolling game,

00:16:08.620 --> 00:16:11.340
where thousands of
people have all joined.

00:16:11.340 --> 00:16:15.870
The number of people who
join all the Automatch slots

00:16:15.870 --> 00:16:18.590
are full, that's the last
person who can join the game.

00:16:18.590 --> 00:16:20.730
But any number of
people can leave.

00:16:20.730 --> 00:16:22.355
TODD KERPELMAN: So
this might be useful

00:16:22.355 --> 00:16:24.560
if there was an
elimination type game.

00:16:24.560 --> 00:16:26.880
And I get eliminated from
the map and I'm like, well,

00:16:26.880 --> 00:16:28.880
I guess I don't want to
participate in this game

00:16:28.880 --> 00:16:29.880
anymore because I'm out.

00:16:29.880 --> 00:16:32.190
WOLFF DOBSON: Or the
client may automatically

00:16:32.190 --> 00:16:33.803
call leave for you
because you're not

00:16:33.803 --> 00:16:35.677
going to make any more
moves and we no longer

00:16:35.677 --> 00:16:39.500
want to pass you the turn.

00:16:39.500 --> 00:16:41.342
TODD KERPELMAN: Gotcha.

00:16:41.342 --> 00:16:42.800
WOLFF DOBSON: If
you cancel a game,

00:16:42.800 --> 00:16:45.660
it just spontaneously
ceases to be.

00:16:45.660 --> 00:16:48.250
We don't recommend calling
cancel, unless you're

00:16:48.250 --> 00:16:52.390
doing debugging or
administration kills.

00:16:52.390 --> 00:16:54.480
This is like a
marriage annulment.

00:16:54.480 --> 00:16:55.710
The game never was.

00:16:55.710 --> 00:16:59.230
It ceased to happen.

00:16:59.230 --> 00:17:01.330
Lastly is expiration.

00:17:01.330 --> 00:17:02.600
People do drop out of games.

00:17:02.600 --> 00:17:04.160
It's very sad.

00:17:04.160 --> 00:17:08.920
We have a built in expiration
that happens after two weeks.

00:17:08.920 --> 00:17:11.310
If somebody just doesn't take
their turn for two weeks,

00:17:11.310 --> 00:17:13.890
it just ends.

00:17:13.890 --> 00:17:17.470
If Automatch does not find
a taker within 24 hours,

00:17:17.470 --> 00:17:20.329
it also expires.

00:17:20.329 --> 00:17:23.660
And if a game expires,
it can never come back.

00:17:23.660 --> 00:17:25.605
It's over.

00:17:25.605 --> 00:17:26.980
TODD KERPELMAN:
So take your turn

00:17:26.980 --> 00:17:28.329
at least once every two weeks.

00:17:28.329 --> 00:17:29.760
WOLFF DOBSON: Yes, exactly.

00:17:29.760 --> 00:17:30.310
TODD KERPELMAN:
You gotta figure,

00:17:30.310 --> 00:17:32.890
if you're waiting that long,
it's probably not a very--

00:17:32.890 --> 00:17:34.473
WOLFF DOBSON: So I
have a Q&amp;A section,

00:17:34.473 --> 00:17:37.569
where I've given you some
cues so you won't stump me.

00:17:37.569 --> 00:17:38.360
TODD KERPELMAN: Oh.

00:17:38.360 --> 00:17:39.510
Here we go.

00:17:39.510 --> 00:17:40.745
All right.

00:17:40.745 --> 00:17:43.370
Say, Wolff, what happens if most
of my gameplay is server-side?

00:17:43.370 --> 00:17:44.911
Actually, this is
a very common case.

00:17:44.911 --> 00:17:46.520
We have seen a lot
of game developers

00:17:46.520 --> 00:17:50.482
that already run most of
their logic on the server

00:17:50.482 --> 00:17:52.190
because they want to
make sure it's fair.

00:17:52.190 --> 00:17:53.460
And they don't always
trust the clients.

00:17:53.460 --> 00:17:54.370
That sort of thing.

00:17:54.370 --> 00:17:56.670
So can I still take
advantage of this stuff?

00:17:56.670 --> 00:17:57.890
WOLFF DOBSON: Absolutely.

00:17:57.890 --> 00:17:59.400
At this point, the
player matching

00:17:59.400 --> 00:18:00.770
is going to be really
valuable to you.

00:18:00.770 --> 00:18:02.010
And also, the
notification system

00:18:02.010 --> 00:18:03.260
is going to be pretty
valuable to you

00:18:03.260 --> 00:18:05.672
because it can be integrated
into the rest of their Play

00:18:05.672 --> 00:18:06.380
Games experience.

00:18:08.950 --> 00:18:11.320
We can also do Rolling
Automatch for you.

00:18:11.320 --> 00:18:13.966
So, at that point, the turn that
you're passing back and forth

00:18:13.966 --> 00:18:15.590
to each other is
probably just the idea

00:18:15.590 --> 00:18:17.092
of the turn on your server.

00:18:17.092 --> 00:18:18.050
TODD KERPELMAN: Gotcha.

00:18:18.050 --> 00:18:20.047
WOLFF DOBSON: And then
the game has to sync.

00:18:20.047 --> 00:18:22.130
You have to do all of
you're own syncing basically

00:18:22.130 --> 00:18:23.630
in the game state.

00:18:23.630 --> 00:18:26.590
And they'll probably have to
be connected to the internet

00:18:26.590 --> 00:18:28.574
when your game is being played.

00:18:28.574 --> 00:18:29.740
TODD KERPELMAN: Makes sense.

00:18:29.740 --> 00:18:31.530
WOLFF DOBSON: But
yes, absolutely.

00:18:31.530 --> 00:18:33.797
Even if all of your stuff
is happening server-side,

00:18:33.797 --> 00:18:34.880
you should look into this.

00:18:34.880 --> 00:18:35.640
TODD KERPELMAN:
Clearly, server-side,

00:18:35.640 --> 00:18:36.931
a little more of an investment.

00:18:36.931 --> 00:18:39.096
If maybe I'm a small
company trying out

00:18:39.096 --> 00:18:40.220
my game for the first time.

00:18:40.220 --> 00:18:42.360
Maybe I want to do it
client-side at first.

00:18:42.360 --> 00:18:43.740
Then it becomes very successful.

00:18:43.740 --> 00:18:45.090
Lots of people are playing.

00:18:45.090 --> 00:18:47.400
I then might shift to a
more server-side model,

00:18:47.400 --> 00:18:48.409
if that's appropriate.

00:18:48.409 --> 00:18:49.200
WOLFF DOBSON: Sure.

00:18:49.200 --> 00:18:50.190
TODD KERPELMAN: OK.

00:18:50.190 --> 00:18:52.240
Or really, you're just
an established game

00:18:52.240 --> 00:18:54.310
that already some
server-side stuff.

00:18:54.310 --> 00:18:56.060
WOLFF DOBSON: We have
lots of sample code.

00:18:56.060 --> 00:18:58.850
You're welcome to ask questions
to us on Google+ or Stack

00:18:58.850 --> 00:18:59.510
Overflow.

00:18:59.510 --> 00:19:02.209
And drop us a line.

00:19:02.209 --> 00:19:04.250
TODD KERPELMAN: Yeah, we'd
love to hear from you.

00:19:04.250 --> 00:19:05.080
Thanks, everybody.

00:19:05.080 --> 00:19:05.830
WOLFF DOBSON: Bye.

00:19:05.830 --> 00:19:07.380
TODD KERPELMAN: Bye.

