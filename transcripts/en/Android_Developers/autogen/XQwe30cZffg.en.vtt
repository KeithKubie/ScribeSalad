WEBVTT
Kind: captions
Language: en

00:00:04.580 --> 00:00:07.160
we're here to talk about media playback

00:00:07.160 --> 00:00:07.170
we're here to talk about media playback
 

00:00:07.170 --> 00:00:10.879
we're here to talk about media playback
the right way so we're really gonna kind

00:00:10.879 --> 00:00:10.889
the right way so we're really gonna kind
 

00:00:10.889 --> 00:00:12.650
the right way so we're really gonna kind
of go through all of the different

00:00:12.650 --> 00:00:12.660
of go through all of the different
 

00:00:12.660 --> 00:00:15.110
of go through all of the different
components and district different system

00:00:15.110 --> 00:00:15.120
components and district different system
 

00:00:15.120 --> 00:00:16.849
components and district different system
things that you need to actually

00:00:16.849 --> 00:00:16.859
things that you need to actually
 

00:00:16.859 --> 00:00:19.130
things that you need to actually
integrate with if you really want a

00:00:19.130 --> 00:00:19.140
integrate with if you really want a
 

00:00:19.140 --> 00:00:24.650
integrate with if you really want a
top-of-the-line media playback so a

00:00:24.650 --> 00:00:24.660
top-of-the-line media playback so a
 

00:00:24.660 --> 00:00:26.720
top-of-the-line media playback so a
little bit about me I've been doing

00:00:26.720 --> 00:00:26.730
little bit about me I've been doing
 

00:00:26.730 --> 00:00:28.580
little bit about me I've been doing
Android development for just about five

00:00:28.580 --> 00:00:28.590
Android development for just about five
 

00:00:28.590 --> 00:00:29.679
Android development for just about five
years now

00:00:29.679 --> 00:00:29.689
years now
 

00:00:29.689 --> 00:00:32.420
years now
started kind of on my own in my spare

00:00:32.420 --> 00:00:32.430
started kind of on my own in my spare
 

00:00:32.430 --> 00:00:35.600
started kind of on my own in my spare
time got caught up in part of my

00:00:35.600 --> 00:00:35.610
time got caught up in part of my
 

00:00:35.610 --> 00:00:38.060
time got caught up in part of my
master's degree and then transitioned to

00:00:38.060 --> 00:00:38.070
master's degree and then transitioned to
 

00:00:38.070 --> 00:00:40.250
master's degree and then transitioned to
doing a full time first at a fun where

00:00:40.250 --> 00:00:40.260
doing a full time first at a fun where
 

00:00:40.260 --> 00:00:42.560
doing a full time first at a fun where
and then at Facebook I'm sorry I didn't

00:00:42.560 --> 00:00:42.570
and then at Facebook I'm sorry I didn't
 

00:00:42.570 --> 00:00:45.729
and then at Facebook I'm sorry I didn't
fix everything I wanted to and then

00:00:45.729 --> 00:00:45.739
fix everything I wanted to and then
 

00:00:45.739 --> 00:00:48.319
fix everything I wanted to and then
there's there's a lot more I wanted to

00:00:48.319 --> 00:00:48.329
there's there's a lot more I wanted to
 

00:00:48.329 --> 00:00:51.380
there's there's a lot more I wanted to
fix but this last year I've been working

00:00:51.380 --> 00:00:51.390
fix but this last year I've been working
 

00:00:51.390 --> 00:00:53.779
fix but this last year I've been working
as a developer advocate at Google so

00:00:53.779 --> 00:00:53.789
as a developer advocate at Google so
 

00:00:53.789 --> 00:00:56.090
as a developer advocate at Google so
talking to the community and kind of

00:00:56.090 --> 00:00:56.100
talking to the community and kind of
 

00:00:56.100 --> 00:00:57.590
talking to the community and kind of
bringing a lot of your feedback back to

00:00:57.590 --> 00:00:57.600
bringing a lot of your feedback back to
 

00:00:57.600 --> 00:01:00.290
bringing a lot of your feedback back to
the engineering teams as well I've been

00:01:00.290 --> 00:01:00.300
the engineering teams as well I've been
 

00:01:00.300 --> 00:01:02.779
the engineering teams as well I've been
working on two major projects since then

00:01:02.779 --> 00:01:02.789
working on two major projects since then
 

00:01:02.789 --> 00:01:05.450
working on two major projects since then
we did an advanced Android class for

00:01:05.450 --> 00:01:05.460
we did an advanced Android class for
 

00:01:05.460 --> 00:01:07.910
we did an advanced Android class for
Udacity so kind of online learning kind

00:01:07.910 --> 00:01:07.920
Udacity so kind of online learning kind
 

00:01:07.920 --> 00:01:09.740
Udacity so kind of online learning kind
of going a little bit deeper into a

00:01:09.740 --> 00:01:09.750
of going a little bit deeper into a
 

00:01:09.750 --> 00:01:14.120
of going a little bit deeper into a
parka texture and then as well then just

00:01:14.120 --> 00:01:14.130
parka texture and then as well then just
 

00:01:14.130 --> 00:01:16.070
parka texture and then as well then just
recently launched Android development

00:01:16.070 --> 00:01:16.080
recently launched Android development
 

00:01:16.080 --> 00:01:19.130
recently launched Android development
patterns a video series as well as pro

00:01:19.130 --> 00:01:19.140
patterns a video series as well as pro
 

00:01:19.140 --> 00:01:21.440
patterns a video series as well as pro
tips around kind of all of the things

00:01:21.440 --> 00:01:21.450
tips around kind of all of the things
 

00:01:21.450 --> 00:01:24.170
tips around kind of all of the things
that really are the best practices for

00:01:24.170 --> 00:01:24.180
that really are the best practices for
 

00:01:24.180 --> 00:01:27.590
that really are the best practices for
Android development and my focus has

00:01:27.590 --> 00:01:27.600
Android development and my focus has
 

00:01:27.600 --> 00:01:29.780
Android development and my focus has
generally been on the android framework

00:01:29.780 --> 00:01:29.790
generally been on the android framework
 

00:01:29.790 --> 00:01:32.090
generally been on the android framework
and the android support library which

00:01:32.090 --> 00:01:32.100
and the android support library which
 

00:01:32.100 --> 00:01:35.710
and the android support library which
both which play very nicely into this

00:01:35.710 --> 00:01:35.720
both which play very nicely into this
 

00:01:35.720 --> 00:01:38.450
both which play very nicely into this
now when we talk about media playback

00:01:38.450 --> 00:01:38.460
now when we talk about media playback
 

00:01:38.460 --> 00:01:41.390
now when we talk about media playback
there's actually like tons of levels and

00:01:41.390 --> 00:01:41.400
there's actually like tons of levels and
 

00:01:41.400 --> 00:01:43.420
there's actually like tons of levels and
many things we could talk about here and

00:01:43.420 --> 00:01:43.430
many things we could talk about here and
 

00:01:43.430 --> 00:01:46.609
many things we could talk about here and
we're really gonna talk about just one

00:01:46.609 --> 00:01:46.619
we're really gonna talk about just one
 

00:01:46.619 --> 00:01:49.609
we're really gonna talk about just one
part specifically audio playback now

00:01:49.609 --> 00:01:49.619
part specifically audio playback now
 

00:01:49.619 --> 00:01:51.950
part specifically audio playback now
it's important to note that if you're

00:01:51.950 --> 00:01:51.960
it's important to note that if you're
 

00:01:51.960 --> 00:01:55.069
it's important to note that if you're
doing video playback almost all this

00:01:55.069 --> 00:01:55.079
doing video playback almost all this
 

00:01:55.079 --> 00:01:57.109
doing video playback almost all this
still applies to you right the

00:01:57.109 --> 00:01:57.119
still applies to you right the
 

00:01:57.119 --> 00:01:58.940
still applies to you right the
interactions with the system and that

00:01:58.940 --> 00:01:58.950
interactions with the system and that
 

00:01:58.950 --> 00:02:01.429
interactions with the system and that
type of stuff still matter if you're

00:02:01.429 --> 00:02:01.439
type of stuff still matter if you're
 

00:02:01.439 --> 00:02:04.039
type of stuff still matter if you're
doing video but video is a little bit of

00:02:04.039 --> 00:02:04.049
doing video but video is a little bit of
 

00:02:04.049 --> 00:02:06.649
doing video but video is a little bit of
a head start on us the actual cast

00:02:06.649 --> 00:02:06.659
a head start on us the actual cast
 

00:02:06.659 --> 00:02:10.279
a head start on us the actual cast
companion library it's out something our

00:02:10.279 --> 00:02:10.289
companion library it's out something our
 

00:02:10.289 --> 00:02:12.170
companion library it's out something our
team actually supports and keeps up to

00:02:12.170 --> 00:02:12.180
team actually supports and keeps up to
 

00:02:12.180 --> 00:02:13.790
team actually supports and keeps up to
date but it in capsule

00:02:13.790 --> 00:02:13.800
date but it in capsule
 

00:02:13.800 --> 00:02:16.250
date but it in capsule
a lot of the best practices around video

00:02:16.250 --> 00:02:16.260
a lot of the best practices around video
 

00:02:16.260 --> 00:02:18.080
a lot of the best practices around video
and integrating with things like Google

00:02:18.080 --> 00:02:18.090
and integrating with things like Google
 

00:02:18.090 --> 00:02:19.970
and integrating with things like Google
cast as well so you kind of get that

00:02:19.970 --> 00:02:19.980
cast as well so you kind of get that
 

00:02:19.980 --> 00:02:25.250
cast as well so you kind of get that
full multi-room experience so let's

00:02:25.250 --> 00:02:25.260
full multi-room experience so let's
 

00:02:25.260 --> 00:02:27.260
full multi-room experience so let's
let's start at the beginning and the

00:02:27.260 --> 00:02:27.270
let's start at the beginning and the
 

00:02:27.270 --> 00:02:29.810
let's start at the beginning and the
beginning should always be with the user

00:02:29.810 --> 00:02:29.820
beginning should always be with the user
 

00:02:29.820 --> 00:02:31.880
beginning should always be with the user
right they're kind of the most important

00:02:31.880 --> 00:02:31.890
right they're kind of the most important
 

00:02:31.890 --> 00:02:34.850
right they're kind of the most important
part in actually making our apps useful

00:02:34.850 --> 00:02:34.860
part in actually making our apps useful
 

00:02:34.860 --> 00:02:38.720
part in actually making our apps useful
pieces of information and when we think

00:02:38.720 --> 00:02:38.730
pieces of information and when we think
 

00:02:38.730 --> 00:02:40.070
pieces of information and when we think
about that we really want to think about

00:02:40.070 --> 00:02:40.080
about that we really want to think about
 

00:02:40.080 --> 00:02:42.710
about that we really want to think about
what the user is expecting right when

00:02:42.710 --> 00:02:42.720
what the user is expecting right when
 

00:02:42.720 --> 00:02:44.780
what the user is expecting right when
they're going into your app what you

00:02:44.780 --> 00:02:44.790
they're going into your app what you
 

00:02:44.790 --> 00:02:48.680
they're going into your app what you
don't want them is to be surprised in a

00:02:48.680 --> 00:02:48.690
don't want them is to be surprised in a
 

00:02:48.690 --> 00:02:50.810
don't want them is to be surprised in a
negative way right but you want those

00:02:50.810 --> 00:02:50.820
negative way right but you want those
 

00:02:50.820 --> 00:02:52.880
negative way right but you want those
positive surprises though I didn't know

00:02:52.880 --> 00:02:52.890
positive surprises though I didn't know
 

00:02:52.890 --> 00:02:55.280
positive surprises though I didn't know
the app could do that right or like oh

00:02:55.280 --> 00:02:55.290
the app could do that right or like oh
 

00:02:55.290 --> 00:02:57.470
the app could do that right or like oh
wow it's actually doing everything I

00:02:57.470 --> 00:02:57.480
wow it's actually doing everything I
 

00:02:57.480 --> 00:02:59.570
wow it's actually doing everything I
expect and it's doing it great right and

00:02:59.570 --> 00:02:59.580
expect and it's doing it great right and
 

00:02:59.580 --> 00:03:01.520
expect and it's doing it great right and
that's where we want our media apps to

00:03:01.520 --> 00:03:01.530
that's where we want our media apps to
 

00:03:01.530 --> 00:03:04.430
that's where we want our media apps to
be not in meeting expectations but

00:03:04.430 --> 00:03:04.440
be not in meeting expectations but
 

00:03:04.440 --> 00:03:07.630
be not in meeting expectations but
really exceeding those expectations and

00:03:07.630 --> 00:03:07.640
really exceeding those expectations and
 

00:03:07.640 --> 00:03:11.240
really exceeding those expectations and
of course for an audio app you can't

00:03:11.240 --> 00:03:11.250
of course for an audio app you can't
 

00:03:11.250 --> 00:03:13.190
of course for an audio app you can't
really do that without background

00:03:13.190 --> 00:03:13.200
really do that without background
 

00:03:13.200 --> 00:03:15.800
really do that without background
playback right there's literally no

00:03:15.800 --> 00:03:15.810
playback right there's literally no
 

00:03:15.810 --> 00:03:17.620
playback right there's literally no
audio app you'll find out there that

00:03:17.620 --> 00:03:17.630
audio app you'll find out there that
 

00:03:17.630 --> 00:03:21.590
audio app you'll find out there that
forces you to keep the activity open the

00:03:21.590 --> 00:03:21.600
forces you to keep the activity open the
 

00:03:21.600 --> 00:03:24.080
forces you to keep the activity open the
entire time you're playing audio just

00:03:24.080 --> 00:03:24.090
entire time you're playing audio just
 

00:03:24.090 --> 00:03:25.850
entire time you're playing audio just
doesn't work very well on Android

00:03:25.850 --> 00:03:25.860
doesn't work very well on Android
 

00:03:25.860 --> 00:03:27.530
doesn't work very well on Android
especially when you consider phone calls

00:03:27.530 --> 00:03:27.540
especially when you consider phone calls
 

00:03:27.540 --> 00:03:30.410
especially when you consider phone calls
and other interruptions like that so we

00:03:30.410 --> 00:03:30.420
and other interruptions like that so we
 

00:03:30.420 --> 00:03:31.550
and other interruptions like that so we
really need to get the basics down

00:03:31.550 --> 00:03:31.560
really need to get the basics down
 

00:03:31.560 --> 00:03:35.750
really need to get the basics down
before we can exceed expectations now

00:03:35.750 --> 00:03:35.760
before we can exceed expectations now
 

00:03:35.760 --> 00:03:39.020
before we can exceed expectations now
when you think background playback that

00:03:39.020 --> 00:03:39.030
when you think background playback that
 

00:03:39.030 --> 00:03:40.580
when you think background playback that
should immediately ring bells boy oh

00:03:40.580 --> 00:03:40.590
should immediately ring bells boy oh
 

00:03:40.590 --> 00:03:43.070
should immediately ring bells boy oh
maybe a service makes a lot of sense

00:03:43.070 --> 00:03:43.080
maybe a service makes a lot of sense
 

00:03:43.080 --> 00:03:45.170
maybe a service makes a lot of sense
right they're specifically designed for

00:03:45.170 --> 00:03:45.180
right they're specifically designed for
 

00:03:45.180 --> 00:03:47.420
right they're specifically designed for
doing that kind of background work not

00:03:47.420 --> 00:03:47.430
doing that kind of background work not
 

00:03:47.430 --> 00:03:52.729
doing that kind of background work not
tied to any UI piece now when it comes

00:03:52.729 --> 00:03:52.739
tied to any UI piece now when it comes
 

00:03:52.739 --> 00:03:57.080
tied to any UI piece now when it comes
to media playback in a service what what

00:03:57.080 --> 00:03:57.090
to media playback in a service what what
 

00:03:57.090 --> 00:03:59.120
to media playback in a service what what
kind of things are we actually doing in

00:03:59.120 --> 00:03:59.130
kind of things are we actually doing in
 

00:03:59.130 --> 00:04:03.020
kind of things are we actually doing in
that service right so naturally every

00:04:03.020 --> 00:04:03.030
that service right so naturally every
 

00:04:03.030 --> 00:04:05.240
that service right so naturally every
service is created at some point right

00:04:05.240 --> 00:04:05.250
service is created at some point right
 

00:04:05.250 --> 00:04:07.040
service is created at some point right
that is what kind of kicks off the

00:04:07.040 --> 00:04:07.050
that is what kind of kicks off the
 

00:04:07.050 --> 00:04:10.400
that is what kind of kicks off the
process that's our one time feedback or

00:04:10.400 --> 00:04:10.410
process that's our one time feedback or
 

00:04:10.410 --> 00:04:13.040
process that's our one time feedback or
one time initialization kind of step and

00:04:13.040 --> 00:04:13.050
one time initialization kind of step and
 

00:04:13.050 --> 00:04:16.280
one time initialization kind of step and
then for most media apps you kind of

00:04:16.280 --> 00:04:16.290
then for most media apps you kind of
 

00:04:16.290 --> 00:04:19.909
then for most media apps you kind of
have to I would say top level states you

00:04:19.909 --> 00:04:19.919
have to I would say top level states you
 

00:04:19.919 --> 00:04:22.730
have to I would say top level states you
have playing which I'll use a shorthand

00:04:22.730 --> 00:04:22.740
have playing which I'll use a shorthand
 

00:04:22.740 --> 00:04:25.430
have playing which I'll use a shorthand
for audio is actually coming out of the

00:04:25.430 --> 00:04:25.440
for audio is actually coming out of the
 

00:04:25.440 --> 00:04:27.740
for audio is actually coming out of the
device and then you have paused

00:04:27.740 --> 00:04:27.750
device and then you have paused
 

00:04:27.750 --> 00:04:29.270
device and then you have paused
which is kind of all those other states

00:04:29.270 --> 00:04:29.280
which is kind of all those other states
 

00:04:29.280 --> 00:04:31.370
which is kind of all those other states
whether they're buffering or actually

00:04:31.370 --> 00:04:31.380
whether they're buffering or actually
 

00:04:31.380 --> 00:04:34.700
whether they're buffering or actually
paused where audio is not being played

00:04:34.700 --> 00:04:34.710
paused where audio is not being played
 

00:04:34.710 --> 00:04:37.370
paused where audio is not being played
but is in a state where the user may

00:04:37.370 --> 00:04:37.380
but is in a state where the user may
 

00:04:37.380 --> 00:04:40.510
but is in a state where the user may
want to transition back to playing

00:04:40.510 --> 00:04:40.520
want to transition back to playing
 

00:04:40.520 --> 00:04:44.660
want to transition back to playing
similarly stopped is kind of the final

00:04:44.660 --> 00:04:44.670
similarly stopped is kind of the final
 

00:04:44.670 --> 00:04:47.120
similarly stopped is kind of the final
state right when the user says I'm done

00:04:47.120 --> 00:04:47.130
state right when the user says I'm done
 

00:04:47.130 --> 00:04:49.160
state right when the user says I'm done
with your app I've moved on

00:04:49.160 --> 00:04:49.170
with your app I've moved on
 

00:04:49.170 --> 00:04:51.230
with your app I've moved on
maybe I've opened up another media app

00:04:51.230 --> 00:04:51.240
maybe I've opened up another media app
 

00:04:51.240 --> 00:04:54.710
maybe I've opened up another media app
etc and that of course services

00:04:54.710 --> 00:04:54.720
etc and that of course services
 

00:04:54.720 --> 00:04:57.350
etc and that of course services
hopefully eventually get destroyed and

00:04:57.350 --> 00:04:57.360
hopefully eventually get destroyed and
 

00:04:57.360 --> 00:04:59.990
hopefully eventually get destroyed and
this is where it will reclaim our final

00:04:59.990 --> 00:05:00.000
this is where it will reclaim our final
 

00:05:00.000 --> 00:05:02.150
this is where it will reclaim our final
memory and get back to kind of a steady

00:05:02.150 --> 00:05:02.160
memory and get back to kind of a steady
 

00:05:02.160 --> 00:05:08.090
memory and get back to kind of a steady
state of our app is not running so it

00:05:08.090 --> 00:05:08.100
state of our app is not running so it
 

00:05:08.100 --> 00:05:10.220
state of our app is not running so it
wouldn't be much about audio app if we

00:05:10.220 --> 00:05:10.230
wouldn't be much about audio app if we
 

00:05:10.230 --> 00:05:14.000
wouldn't be much about audio app if we
didn't actually play audio on Android we

00:05:14.000 --> 00:05:14.010
didn't actually play audio on Android we
 

00:05:14.010 --> 00:05:16.370
didn't actually play audio on Android we
have a media player which does exactly

00:05:16.370 --> 00:05:16.380
have a media player which does exactly
 

00:05:16.380 --> 00:05:18.410
have a media player which does exactly
that it's really good at playing audio

00:05:18.410 --> 00:05:18.420
that it's really good at playing audio
 

00:05:18.420 --> 00:05:20.870
that it's really good at playing audio
tracks but it's maybe not the most

00:05:20.870 --> 00:05:20.880
tracks but it's maybe not the most
 

00:05:20.880 --> 00:05:23.330
tracks but it's maybe not the most
customizable thing of all time

00:05:23.330 --> 00:05:23.340
customizable thing of all time
 

00:05:23.340 --> 00:05:25.820
customizable thing of all time
we do have exoplayer which is another

00:05:25.820 --> 00:05:25.830
we do have exoplayer which is another
 

00:05:25.830 --> 00:05:28.700
we do have exoplayer which is another
player that's sported on higher API

00:05:28.700 --> 00:05:28.710
player that's sported on higher API
 

00:05:28.710 --> 00:05:31.460
player that's sported on higher API
levels that you can use if you need more

00:05:31.460 --> 00:05:31.470
levels that you can use if you need more
 

00:05:31.470 --> 00:05:34.280
levels that you can use if you need more
control over here but for the whole rest

00:05:34.280 --> 00:05:34.290
control over here but for the whole rest
 

00:05:34.290 --> 00:05:36.409
control over here but for the whole rest
of this talk everything I talked about

00:05:36.409 --> 00:05:36.419
of this talk everything I talked about
 

00:05:36.419 --> 00:05:39.260
of this talk everything I talked about
would be player agnostic so whether

00:05:39.260 --> 00:05:39.270
would be player agnostic so whether
 

00:05:39.270 --> 00:05:41.630
would be player agnostic so whether
you're doing something that specifically

00:05:41.630 --> 00:05:41.640
you're doing something that specifically
 

00:05:41.640 --> 00:05:43.640
you're doing something that specifically
requires media player X the player

00:05:43.640 --> 00:05:43.650
requires media player X the player
 

00:05:43.650 --> 00:05:45.409
requires media player X the player
should all fit in the framework of

00:05:45.409 --> 00:05:45.419
should all fit in the framework of
 

00:05:45.419 --> 00:05:46.640
should all fit in the framework of
everything else we're going to talk

00:05:46.640 --> 00:05:46.650
everything else we're going to talk
 

00:05:46.650 --> 00:05:51.740
everything else we're going to talk
about so how do our events that we just

00:05:51.740 --> 00:05:51.750
about so how do our events that we just
 

00:05:51.750 --> 00:05:53.930
about so how do our events that we just
talked about map to say media player

00:05:53.930 --> 00:05:53.940
talked about map to say media player
 

00:05:53.940 --> 00:05:56.480
talked about map to say media player
right so it's actually really

00:05:56.480 --> 00:05:56.490
right so it's actually really
 

00:05:56.490 --> 00:05:58.340
right so it's actually really
straightforward right created we're

00:05:58.340 --> 00:05:58.350
straightforward right created we're
 

00:05:58.350 --> 00:06:00.080
straightforward right created we're
going to create a new media player and

00:06:00.080 --> 00:06:00.090
going to create a new media player and
 

00:06:00.090 --> 00:06:02.659
going to create a new media player and
then when we're playing we'll prepare

00:06:02.659 --> 00:06:02.669
then when we're playing we'll prepare
 

00:06:02.669 --> 00:06:05.750
then when we're playing we'll prepare
and then play the track pause pause stop

00:06:05.750 --> 00:06:05.760
and then play the track pause pause stop
 

00:06:05.760 --> 00:06:07.969
and then play the track pause pause stop
stop and then when we're finally

00:06:07.969 --> 00:06:07.979
stop and then when we're finally
 

00:06:07.979 --> 00:06:09.500
stop and then when we're finally
destroyed we'll release all of our

00:06:09.500 --> 00:06:09.510
destroyed we'll release all of our
 

00:06:09.510 --> 00:06:13.090
destroyed we'll release all of our
service right this super straightforward

00:06:13.090 --> 00:06:13.100
service right this super straightforward
 

00:06:13.100 --> 00:06:15.740
service right this super straightforward
creating and getting everything done and

00:06:15.740 --> 00:06:15.750
creating and getting everything done and
 

00:06:15.750 --> 00:06:18.340
creating and getting everything done and
we're done all right lots of time back

00:06:18.340 --> 00:06:18.350
we're done all right lots of time back
 

00:06:18.350 --> 00:06:23.630
we're done all right lots of time back
where we're playing audio right but the

00:06:23.630 --> 00:06:23.640
where we're playing audio right but the
 

00:06:23.640 --> 00:06:27.770
where we're playing audio right but the
problem is that just playing audio in

00:06:27.770 --> 00:06:27.780
problem is that just playing audio in
 

00:06:27.780 --> 00:06:30.770
problem is that just playing audio in
the background is probably a detriment

00:06:30.770 --> 00:06:30.780
the background is probably a detriment
 

00:06:30.780 --> 00:06:33.530
the background is probably a detriment
to users rather than a positive right

00:06:33.530 --> 00:06:33.540
to users rather than a positive right
 

00:06:33.540 --> 00:06:36.020
to users rather than a positive right
we've given them controls over it and

00:06:36.020 --> 00:06:36.030
we've given them controls over it and
 

00:06:36.030 --> 00:06:38.719
we've given them controls over it and
other apps are now trying to interact

00:06:38.719 --> 00:06:38.729
other apps are now trying to interact
 

00:06:38.729 --> 00:06:41.480
other apps are now trying to interact
with them and really were in kind of

00:06:41.480 --> 00:06:41.490
with them and really were in kind of
 

00:06:41.490 --> 00:06:44.029
with them and really were in kind of
negative kind of perspective well what

00:06:44.029 --> 00:06:44.039
negative kind of perspective well what
 

00:06:44.039 --> 00:06:45.890
negative kind of perspective well what
we actually want to do is go a lot

00:06:45.890 --> 00:06:45.900
we actually want to do is go a lot
 

00:06:45.900 --> 00:06:50.089
we actually want to do is go a lot
farther and that actually means that we

00:06:50.089 --> 00:06:50.099
farther and that actually means that we
 

00:06:50.099 --> 00:06:51.860
farther and that actually means that we
need to do a few more things to actually

00:06:51.860 --> 00:06:51.870
need to do a few more things to actually
 

00:06:51.870 --> 00:06:53.659
need to do a few more things to actually
get us play nicely with the rest of the

00:06:53.659 --> 00:06:53.669
get us play nicely with the rest of the
 

00:06:53.669 --> 00:06:56.390
get us play nicely with the rest of the
system be a good citizen on Android and

00:06:56.390 --> 00:06:56.400
system be a good citizen on Android and
 

00:06:56.400 --> 00:07:00.860
system be a good citizen on Android and
really be the best app we can be so the

00:07:00.860 --> 00:07:00.870
really be the best app we can be so the
 

00:07:00.870 --> 00:07:02.809
really be the best app we can be so the
first thing here is going to be audio

00:07:02.809 --> 00:07:02.819
first thing here is going to be audio
 

00:07:02.819 --> 00:07:06.400
first thing here is going to be audio
focus now audio focus is kind of this

00:07:06.400 --> 00:07:06.410
focus now audio focus is kind of this
 

00:07:06.410 --> 00:07:09.350
focus now audio focus is kind of this
key and Android of being that good

00:07:09.350 --> 00:07:09.360
key and Android of being that good
 

00:07:09.360 --> 00:07:12.520
key and Android of being that good
citizen right it's that concept that

00:07:12.520 --> 00:07:12.530
citizen right it's that concept that
 

00:07:12.530 --> 00:07:15.710
citizen right it's that concept that
your app is going to play audio right

00:07:15.710 --> 00:07:15.720
your app is going to play audio right
 

00:07:15.720 --> 00:07:17.930
your app is going to play audio right
and that is your consideration of being

00:07:17.930 --> 00:07:17.940
and that is your consideration of being
 

00:07:17.940 --> 00:07:20.480
and that is your consideration of being
the audio focus right but that doesn't

00:07:20.480 --> 00:07:20.490
the audio focus right but that doesn't
 

00:07:20.490 --> 00:07:23.059
the audio focus right but that doesn't
mean that you can ignore every other app

00:07:23.059 --> 00:07:23.069
mean that you can ignore every other app
 

00:07:23.069 --> 00:07:25.339
mean that you can ignore every other app
on the system right every notification

00:07:25.339 --> 00:07:25.349
on the system right every notification
 

00:07:25.349 --> 00:07:28.249
on the system right every notification
beep that comes in right players other

00:07:28.249 --> 00:07:28.259
beep that comes in right players other
 

00:07:28.259 --> 00:07:31.879
beep that comes in right players other
players starting Maps Navigation is a

00:07:31.879 --> 00:07:31.889
players starting Maps Navigation is a
 

00:07:31.889 --> 00:07:34.070
players starting Maps Navigation is a
really good example of this right we

00:07:34.070 --> 00:07:34.080
really good example of this right we
 

00:07:34.080 --> 00:07:35.960
really good example of this right we
really want to be considerate of those

00:07:35.960 --> 00:07:35.970
really want to be considerate of those
 

00:07:35.970 --> 00:07:37.460
really want to be considerate of those
other apps when you're doing audio

00:07:37.460 --> 00:07:37.470
other apps when you're doing audio
 

00:07:37.470 --> 00:07:41.870
other apps when you're doing audio
playback now this is slightly distinct

00:07:41.870 --> 00:07:41.880
playback now this is slightly distinct
 

00:07:41.880 --> 00:07:44.659
playback now this is slightly distinct
from actually playing audio right will

00:07:44.659 --> 00:07:44.669
from actually playing audio right will
 

00:07:44.669 --> 00:07:46.790
from actually playing audio right will
actually still want to use audio focus

00:07:46.790 --> 00:07:46.800
actually still want to use audio focus
 

00:07:46.800 --> 00:07:49.820
actually still want to use audio focus
when were paused or in that kind of

00:07:49.820 --> 00:07:49.830
when were paused or in that kind of
 

00:07:49.830 --> 00:07:52.670
when were paused or in that kind of
intermediate state because if another

00:07:52.670 --> 00:07:52.680
intermediate state because if another
 

00:07:52.680 --> 00:07:55.550
intermediate state because if another
player were to start playing while we're

00:07:55.550 --> 00:07:55.560
player were to start playing while we're
 

00:07:55.560 --> 00:07:58.070
player were to start playing while we're
buffering for example we still don't

00:07:58.070 --> 00:07:58.080
buffering for example we still don't
 

00:07:58.080 --> 00:08:00.499
buffering for example we still don't
want to talk over that other app when

00:08:00.499 --> 00:08:00.509
want to talk over that other app when
 

00:08:00.509 --> 00:08:02.830
want to talk over that other app when
we're actually ready to play

00:08:02.830 --> 00:08:02.840
we're actually ready to play
 

00:08:02.840 --> 00:08:07.580
we're actually ready to play
so some code actually registering our

00:08:07.580 --> 00:08:07.590
so some code actually registering our
 

00:08:07.590 --> 00:08:13.010
so some code actually registering our
audio focus and you can see here we'll

00:08:13.010 --> 00:08:13.020
audio focus and you can see here we'll
 

00:08:13.020 --> 00:08:15.379
audio focus and you can see here we'll
use audio manager for this it's kind of

00:08:15.379 --> 00:08:15.389
use audio manager for this it's kind of
 

00:08:15.389 --> 00:08:18.200
use audio manager for this it's kind of
the core for doing this core audio kind

00:08:18.200 --> 00:08:18.210
the core for doing this core audio kind
 

00:08:18.210 --> 00:08:20.209
the core for doing this core audio kind
of work and then we'll call request

00:08:20.209 --> 00:08:20.219
of work and then we'll call request
 

00:08:20.219 --> 00:08:23.330
of work and then we'll call request
audio focus in this case we'll pass in a

00:08:23.330 --> 00:08:23.340
audio focus in this case we'll pass in a
 

00:08:23.340 --> 00:08:26.450
audio focus in this case we'll pass in a
special on stream listener which is

00:08:26.450 --> 00:08:26.460
special on stream listener which is
 

00:08:26.460 --> 00:08:28.399
special on stream listener which is
where we'll get these callbacks back and

00:08:28.399 --> 00:08:28.409
where we'll get these callbacks back and
 

00:08:28.409 --> 00:08:30.140
where we'll get these callbacks back and
we'll talk about that momentarily and

00:08:30.140 --> 00:08:30.150
we'll talk about that momentarily and
 

00:08:30.150 --> 00:08:32.300
we'll talk about that momentarily and
then we'll want to say we're streaming

00:08:32.300 --> 00:08:32.310
then we'll want to say we're streaming
 

00:08:32.310 --> 00:08:34.940
then we'll want to say we're streaming
music or media and then we're gonna say

00:08:34.940 --> 00:08:34.950
music or media and then we're gonna say
 

00:08:34.950 --> 00:08:38.469
music or media and then we're gonna say
we're going to gain audio focus now in

00:08:38.469 --> 00:08:38.479
we're going to gain audio focus now in
 

00:08:38.479 --> 00:08:41.569
we're going to gain audio focus now in
almost all cases you'll get granted back

00:08:41.569 --> 00:08:41.579
almost all cases you'll get granted back
 

00:08:41.579 --> 00:08:43.610
almost all cases you'll get granted back
the system will say oh great you are

00:08:43.610 --> 00:08:43.620
the system will say oh great you are
 

00:08:43.620 --> 00:08:45.829
the system will say oh great you are
requesting audio focus you are a nice

00:08:45.829 --> 00:08:45.839
requesting audio focus you are a nice
 

00:08:45.839 --> 00:08:48.530
requesting audio focus you are a nice
app I like you and you get audio focus

00:08:48.530 --> 00:08:48.540
app I like you and you get audio focus
 

00:08:48.540 --> 00:08:50.600
app I like you and you get audio focus
now there are some examples where you

00:08:50.600 --> 00:08:50.610
now there are some examples where you
 

00:08:50.610 --> 00:08:53.510
now there are some examples where you
won't get audio focus for example if the

00:08:53.510 --> 00:08:53.520
won't get audio focus for example if the
 

00:08:53.520 --> 00:08:55.310
won't get audio focus for example if the
user is currently in a phone call

00:08:55.310 --> 00:08:55.320
user is currently in a phone call
 

00:08:55.320 --> 00:08:57.680
user is currently in a phone call
you won't get audiofocus in that sense

00:08:57.680 --> 00:08:57.690
you won't get audiofocus in that sense
 

00:08:57.690 --> 00:08:59.630
you won't get audiofocus in that sense
because they're actively talking in a

00:08:59.630 --> 00:08:59.640
because they're actively talking in a
 

00:08:59.640 --> 00:09:03.200
because they're actively talking in a
call and you'll want to wait until the

00:09:03.200 --> 00:09:03.210
call and you'll want to wait until the
 

00:09:03.210 --> 00:09:05.840
call and you'll want to wait until the
actual phone calls done and then do the

00:09:05.840 --> 00:09:05.850
actual phone calls done and then do the
 

00:09:05.850 --> 00:09:08.780
actual phone calls done and then do the
call from there or have the use of

00:09:08.780 --> 00:09:08.790
call from there or have the use of
 

00:09:08.790 --> 00:09:11.000
call from there or have the use of
repress the play button when they're

00:09:11.000 --> 00:09:11.010
repress the play button when they're
 

00:09:11.010 --> 00:09:14.270
repress the play button when they're
done with their phone call so what does

00:09:14.270 --> 00:09:14.280
done with their phone call so what does
 

00:09:14.280 --> 00:09:17.210
done with their phone call so what does
that focus change actually give us well

00:09:17.210 --> 00:09:17.220
that focus change actually give us well
 

00:09:17.220 --> 00:09:20.180
that focus change actually give us well
it's really kind of that key between our

00:09:20.180 --> 00:09:20.190
it's really kind of that key between our
 

00:09:20.190 --> 00:09:22.580
it's really kind of that key between our
app and all of the other apps on the

00:09:22.580 --> 00:09:22.590
app and all of the other apps on the
 

00:09:22.590 --> 00:09:24.380
app and all of the other apps on the
system right where we get all that

00:09:24.380 --> 00:09:24.390
system right where we get all that
 

00:09:24.390 --> 00:09:26.930
system right where we get all that
information so for example you may get

00:09:26.930 --> 00:09:26.940
information so for example you may get
 

00:09:26.940 --> 00:09:30.380
information so for example you may get
an audio focus loss symbol now this is

00:09:30.380 --> 00:09:30.390
an audio focus loss symbol now this is
 

00:09:30.390 --> 00:09:33.830
an audio focus loss symbol now this is
kind of that permanent loss of focus at

00:09:33.830 --> 00:09:33.840
kind of that permanent loss of focus at
 

00:09:33.840 --> 00:09:36.650
kind of that permanent loss of focus at
this point they've said well the user

00:09:36.650 --> 00:09:36.660
this point they've said well the user
 

00:09:36.660 --> 00:09:39.050
this point they've said well the user
has moved on another app has said I want

00:09:39.050 --> 00:09:39.060
has moved on another app has said I want
 

00:09:39.060 --> 00:09:42.260
has moved on another app has said I want
to gain focus forever and it's not

00:09:42.260 --> 00:09:42.270
to gain focus forever and it's not
 

00:09:42.270 --> 00:09:42.830
to gain focus forever and it's not
coming back

00:09:42.830 --> 00:09:42.840
coming back
 

00:09:42.840 --> 00:09:46.130
coming back
it's just not coming back so in this

00:09:46.130 --> 00:09:46.140
it's just not coming back so in this
 

00:09:46.140 --> 00:09:48.350
it's just not coming back so in this
case you probably just want to stop

00:09:48.350 --> 00:09:48.360
case you probably just want to stop
 

00:09:48.360 --> 00:09:50.060
case you probably just want to stop
playback you say all right I will

00:09:50.060 --> 00:09:50.070
playback you say all right I will
 

00:09:50.070 --> 00:09:53.600
playback you say all right I will
gracefully exit stage and allow the

00:09:53.600 --> 00:09:53.610
gracefully exit stage and allow the
 

00:09:53.610 --> 00:09:56.120
gracefully exit stage and allow the
other app which has requested focus to

00:09:56.120 --> 00:09:56.130
other app which has requested focus to
 

00:09:56.130 --> 00:09:58.970
other app which has requested focus to
continue on now one thing you might

00:09:58.970 --> 00:09:58.980
continue on now one thing you might
 

00:09:58.980 --> 00:10:02.090
continue on now one thing you might
consider here is if the user

00:10:02.090 --> 00:10:02.100
consider here is if the user
 

00:10:02.100 --> 00:10:03.800
consider here is if the user
accidentally hit the play button in

00:10:03.800 --> 00:10:03.810
accidentally hit the play button in
 

00:10:03.810 --> 00:10:06.200
accidentally hit the play button in
another app instead of immediately

00:10:06.200 --> 00:10:06.210
another app instead of immediately
 

00:10:06.210 --> 00:10:09.680
another app instead of immediately
stopping you may pause wait 30 seconds

00:10:09.680 --> 00:10:09.690
stopping you may pause wait 30 seconds
 

00:10:09.690 --> 00:10:11.710
stopping you may pause wait 30 seconds
and then stop right that's certainly a

00:10:11.710 --> 00:10:11.720
and then stop right that's certainly a
 

00:10:11.720 --> 00:10:13.940
and then stop right that's certainly a
active pattern if you want to prevent

00:10:13.940 --> 00:10:13.950
active pattern if you want to prevent
 

00:10:13.950 --> 00:10:17.030
active pattern if you want to prevent
some of those false negatives now

00:10:17.030 --> 00:10:17.040
some of those false negatives now
 

00:10:17.040 --> 00:10:19.520
some of those false negatives now
another one that they can use if someone

00:10:19.520 --> 00:10:19.530
another one that they can use if someone
 

00:10:19.530 --> 00:10:22.550
another one that they can use if someone
is using gain transient in this case the

00:10:22.550 --> 00:10:22.560
is using gain transient in this case the
 

00:10:22.560 --> 00:10:25.000
is using gain transient in this case the
other app is asking for you to stop

00:10:25.000 --> 00:10:25.010
other app is asking for you to stop
 

00:10:25.010 --> 00:10:28.100
other app is asking for you to stop
temporarily right so in this case you

00:10:28.100 --> 00:10:28.110
temporarily right so in this case you
 

00:10:28.110 --> 00:10:30.110
temporarily right so in this case you
probably just want to pause the playback

00:10:30.110 --> 00:10:30.120
probably just want to pause the playback
 

00:10:30.120 --> 00:10:32.840
probably just want to pause the playback
and wait for them to finish their 15

00:10:32.840 --> 00:10:32.850
and wait for them to finish their 15
 

00:10:32.850 --> 00:10:35.660
and wait for them to finish their 15
seconds or whatever so you may take this

00:10:35.660 --> 00:10:35.670
seconds or whatever so you may take this
 

00:10:35.670 --> 00:10:38.570
seconds or whatever so you may take this
as an example of someone saying

00:10:38.570 --> 00:10:38.580
as an example of someone saying
 

00:10:38.580 --> 00:10:40.730
as an example of someone saying
something out loud or say you're on a

00:10:40.730 --> 00:10:40.740
something out loud or say you're on a
 

00:10:40.740 --> 00:10:42.380
something out loud or say you're on a
running app and the running app is

00:10:42.380 --> 00:10:42.390
running app and the running app is
 

00:10:42.390 --> 00:10:44.120
running app and the running app is
saying you'll like your splits and pace

00:10:44.120 --> 00:10:44.130
saying you'll like your splits and pace
 

00:10:44.130 --> 00:10:46.490
saying you'll like your splits and pace
and maybe they don't want to talk over

00:10:46.490 --> 00:10:46.500
and maybe they don't want to talk over
 

00:10:46.500 --> 00:10:47.990
and maybe they don't want to talk over
your other app they just want you to

00:10:47.990 --> 00:10:48.000
your other app they just want you to
 

00:10:48.000 --> 00:10:50.030
your other app they just want you to
pause for a second and then you'll come

00:10:50.030 --> 00:10:50.040
pause for a second and then you'll come
 

00:10:50.040 --> 00:10:52.730
pause for a second and then you'll come
back now the last transient one is

00:10:52.730 --> 00:10:52.740
back now the last transient one is
 

00:10:52.740 --> 00:10:55.310
back now the last transient one is
actually called can duck and we talked

00:10:55.310 --> 00:10:55.320
actually called can duck and we talked
 

00:10:55.320 --> 00:10:57.260
actually called can duck and we talked
about ducking earlier this is a

00:10:57.260 --> 00:10:57.270
about ducking earlier this is a
 

00:10:57.270 --> 00:11:01.910
about ducking earlier this is a
different ducking this is actual can

00:11:01.910 --> 00:11:01.920
different ducking this is actual can
 

00:11:01.920 --> 00:11:03.920
different ducking this is actual can
ducking and that really just means

00:11:03.920 --> 00:11:03.930
ducking and that really just means
 

00:11:03.930 --> 00:11:06.650
ducking and that really just means
lowering the volume temporarily so in

00:11:06.650 --> 00:11:06.660
lowering the volume temporarily so in
 

00:11:06.660 --> 00:11:08.930
lowering the volume temporarily so in
this case this is what say no

00:11:08.930 --> 00:11:08.940
this case this is what say no
 

00:11:08.940 --> 00:11:10.520
this case this is what say no
vacations use right when you get a

00:11:10.520 --> 00:11:10.530
vacations use right when you get a
 

00:11:10.530 --> 00:11:12.530
vacations use right when you get a
notification in instead of the music

00:11:12.530 --> 00:11:12.540
notification in instead of the music
 

00:11:12.540 --> 00:11:15.680
notification in instead of the music
completely stopping it'll just lower in

00:11:15.680 --> 00:11:15.690
completely stopping it'll just lower in
 

00:11:15.690 --> 00:11:17.870
completely stopping it'll just lower in
volume you hear the chime and then it'll

00:11:17.870 --> 00:11:17.880
volume you hear the chime and then it'll
 

00:11:17.880 --> 00:11:20.390
volume you hear the chime and then it'll
come back up and it comes back up when

00:11:20.390 --> 00:11:20.400
come back up and it comes back up when
 

00:11:20.400 --> 00:11:23.120
come back up and it comes back up when
you get an audio focus gain so this is

00:11:23.120 --> 00:11:23.130
you get an audio focus gain so this is
 

00:11:23.130 --> 00:11:24.590
you get an audio focus gain so this is
when you've returned from any of those

00:11:24.590 --> 00:11:24.600
when you've returned from any of those
 

00:11:24.600 --> 00:11:27.980
when you've returned from any of those
transient losses now one thing to note

00:11:27.980 --> 00:11:27.990
transient losses now one thing to note
 

00:11:27.990 --> 00:11:30.200
transient losses now one thing to note
about the can duck is that it doesn't

00:11:30.200 --> 00:11:30.210
about the can duck is that it doesn't
 

00:11:30.210 --> 00:11:32.240
about the can duck is that it doesn't
mean you have to lower the volume if

00:11:32.240 --> 00:11:32.250
mean you have to lower the volume if
 

00:11:32.250 --> 00:11:34.850
mean you have to lower the volume if
you're doing say a podcast player or

00:11:34.850 --> 00:11:34.860
you're doing say a podcast player or
 

00:11:34.860 --> 00:11:37.370
you're doing say a podcast player or
something with spoken words where it's

00:11:37.370 --> 00:11:37.380
something with spoken words where it's
 

00:11:37.380 --> 00:11:40.310
something with spoken words where it's
really important you get every word or

00:11:40.310 --> 00:11:40.320
really important you get every word or
 

00:11:40.320 --> 00:11:42.470
really important you get every word or
else you know if you're talking for 10

00:11:42.470 --> 00:11:42.480
else you know if you're talking for 10
 

00:11:42.480 --> 00:11:44.990
else you know if you're talking for 10
seconds while there's another sound

00:11:44.990 --> 00:11:45.000
seconds while there's another sound
 

00:11:45.000 --> 00:11:46.730
seconds while there's another sound
going on that's not going to be very

00:11:46.730 --> 00:11:46.740
going on that's not going to be very
 

00:11:46.740 --> 00:11:49.130
going on that's not going to be very
intelligible so you can certainly pause

00:11:49.130 --> 00:11:49.140
intelligible so you can certainly pause
 

00:11:49.140 --> 00:11:51.530
intelligible so you can certainly pause
or do whatever you need to do in that

00:11:51.530 --> 00:11:51.540
or do whatever you need to do in that
 

00:11:51.540 --> 00:11:53.840
or do whatever you need to do in that
can duck scenario you don't have to just

00:11:53.840 --> 00:11:53.850
can duck scenario you don't have to just
 

00:11:53.850 --> 00:12:01.820
can duck scenario you don't have to just
lower the volume so our updated life

00:12:01.820 --> 00:12:01.830
lower the volume so our updated life
 

00:12:01.830 --> 00:12:04.610
lower the volume so our updated life
cycle we're playing or pausing we're

00:12:04.610 --> 00:12:04.620
cycle we're playing or pausing we're
 

00:12:04.620 --> 00:12:06.680
cycle we're playing or pausing we're
stopping we're ducking well lots of

00:12:06.680 --> 00:12:06.690
stopping we're ducking well lots of
 

00:12:06.690 --> 00:12:09.290
stopping we're ducking well lots of
things but you can see we've kind of

00:12:09.290 --> 00:12:09.300
things but you can see we've kind of
 

00:12:09.300 --> 00:12:11.750
things but you can see we've kind of
filled in a new row here where as soon

00:12:11.750 --> 00:12:11.760
filled in a new row here where as soon
 

00:12:11.760 --> 00:12:13.700
filled in a new row here where as soon
as we start playing for that first time

00:12:13.700 --> 00:12:13.710
as we start playing for that first time
 

00:12:13.710 --> 00:12:15.860
as we start playing for that first time
we're gonna long that request audio

00:12:15.860 --> 00:12:15.870
we're gonna long that request audio
 

00:12:15.870 --> 00:12:18.740
we're gonna long that request audio
focus and then start our playback once

00:12:18.740 --> 00:12:18.750
focus and then start our playback once
 

00:12:18.750 --> 00:12:21.170
focus and then start our playback once
we've received that granted playback and

00:12:21.170 --> 00:12:21.180
we've received that granted playback and
 

00:12:21.180 --> 00:12:23.720
we've received that granted playback and
then when we've actually stopped and

00:12:23.720 --> 00:12:23.730
then when we've actually stopped and
 

00:12:23.730 --> 00:12:27.260
then when we've actually stopped and
we're done playing audio entirely we'll

00:12:27.260 --> 00:12:27.270
we're done playing audio entirely we'll
 

00:12:27.270 --> 00:12:31.880
we're done playing audio entirely we'll
want to abandon audio focus and so that

00:12:31.880 --> 00:12:31.890
want to abandon audio focus and so that
 

00:12:31.890 --> 00:12:35.180
want to abandon audio focus and so that
already makes this a lot better part of

00:12:35.180 --> 00:12:35.190
already makes this a lot better part of
 

00:12:35.190 --> 00:12:37.370
already makes this a lot better part of
the overall system right we're no longer

00:12:37.370 --> 00:12:37.380
the overall system right we're no longer
 

00:12:37.380 --> 00:12:40.120
the overall system right we're no longer
to be talking over other apps it's great

00:12:40.120 --> 00:12:40.130
to be talking over other apps it's great
 

00:12:40.130 --> 00:12:43.700
to be talking over other apps it's great
but it's not all we can do actually one

00:12:43.700 --> 00:12:43.710
but it's not all we can do actually one
 

00:12:43.710 --> 00:12:46.220
but it's not all we can do actually one
of my favorite broadcasts of all time is

00:12:46.220 --> 00:12:46.230
of my favorite broadcasts of all time is
 

00:12:46.230 --> 00:12:49.340
of my favorite broadcasts of all time is
the becoming noisy or the noisy

00:12:49.340 --> 00:12:49.350
the becoming noisy or the noisy
 

00:12:49.350 --> 00:12:52.370
the becoming noisy or the noisy
broadcast so this is actually when say

00:12:52.370 --> 00:12:52.380
broadcast so this is actually when say
 

00:12:52.380 --> 00:12:53.990
broadcast so this is actually when say
you're listening on headphones and that

00:12:53.990 --> 00:12:54.000
you're listening on headphones and that
 

00:12:54.000 --> 00:12:56.180
you're listening on headphones and that
type of thing and then your speaker

00:12:56.180 --> 00:12:56.190
type of thing and then your speaker
 

00:12:56.190 --> 00:12:57.829
type of thing and then your speaker
comes out and all of a sudden you're

00:12:57.829 --> 00:12:57.839
comes out and all of a sudden you're
 

00:12:57.839 --> 00:13:01.160
comes out and all of a sudden you're
blaring to the whole audience and you

00:13:01.160 --> 00:13:01.170
blaring to the whole audience and you
 

00:13:01.170 --> 00:13:03.980
blaring to the whole audience and you
know we can't really control what our

00:13:03.980 --> 00:13:03.990
know we can't really control what our
 

00:13:03.990 --> 00:13:07.310
know we can't really control what our
tastes in music are for our users but we

00:13:07.310 --> 00:13:07.320
tastes in music are for our users but we
 

00:13:07.320 --> 00:13:09.470
tastes in music are for our users but we
can prevent them from some embarrassing

00:13:09.470 --> 00:13:09.480
can prevent them from some embarrassing
 

00:13:09.480 --> 00:13:12.860
can prevent them from some embarrassing
situations on that case by registering

00:13:12.860 --> 00:13:12.870
situations on that case by registering
 

00:13:12.870 --> 00:13:15.590
situations on that case by registering
just a simple broadcast receiver that

00:13:15.590 --> 00:13:15.600
just a simple broadcast receiver that
 

00:13:15.600 --> 00:13:18.800
just a simple broadcast receiver that
listens for that becoming noisy intent

00:13:18.800 --> 00:13:18.810
listens for that becoming noisy intent
 

00:13:18.810 --> 00:13:21.830
listens for that becoming noisy intent
and then pauses our music

00:13:21.830 --> 00:13:21.840
and then pauses our music
 

00:13:21.840 --> 00:13:24.890
and then pauses our music
so in this case we're gonna want to tie

00:13:24.890 --> 00:13:24.900
so in this case we're gonna want to tie
 

00:13:24.900 --> 00:13:27.560
so in this case we're gonna want to tie
this to the life cycle of actually

00:13:27.560 --> 00:13:27.570
this to the life cycle of actually
 

00:13:27.570 --> 00:13:30.170
this to the life cycle of actually
playing audio right there's no reason to

00:13:30.170 --> 00:13:30.180
playing audio right there's no reason to
 

00:13:30.180 --> 00:13:33.050
playing audio right there's no reason to
listen for being noisy if you are not

00:13:33.050 --> 00:13:33.060
listen for being noisy if you are not
 

00:13:33.060 --> 00:13:37.130
listen for being noisy if you are not
being noisy right so we'll register when

00:13:37.130 --> 00:13:37.140
being noisy right so we'll register when
 

00:13:37.140 --> 00:13:38.990
being noisy right so we'll register when
we actually start playback right right

00:13:38.990 --> 00:13:39.000
we actually start playback right right
 

00:13:39.000 --> 00:13:41.030
we actually start playback right right
after we get audio focus and then

00:13:41.030 --> 00:13:41.040
after we get audio focus and then
 

00:13:41.040 --> 00:13:43.520
after we get audio focus and then
actually unregister as soon as we pause

00:13:43.520 --> 00:13:43.530
actually unregister as soon as we pause
 

00:13:43.530 --> 00:13:46.370
actually unregister as soon as we pause
playback right so in this case it's

00:13:46.370 --> 00:13:46.380
playback right so in this case it's
 

00:13:46.380 --> 00:13:47.810
playback right so in this case it's
really more of that little bit of

00:13:47.810 --> 00:13:47.820
really more of that little bit of
 

00:13:47.820 --> 00:13:49.850
really more of that little bit of
connection in there just say like okay

00:13:49.850 --> 00:13:49.860
connection in there just say like okay
 

00:13:49.860 --> 00:13:52.040
connection in there just say like okay
well I really don't want the user to get

00:13:52.040 --> 00:13:52.050
well I really don't want the user to get
 

00:13:52.050 --> 00:13:58.520
well I really don't want the user to get
into this bad scenario so Adam register

00:13:58.520 --> 00:13:58.530
into this bad scenario so Adam register
 

00:13:58.530 --> 00:14:01.700
into this bad scenario so Adam register
unregistered easy done okay now at this

00:14:01.700 --> 00:14:01.710
unregistered easy done okay now at this
 

00:14:01.710 --> 00:14:04.190
unregistered easy done okay now at this
point we're actually fairly well off

00:14:04.190 --> 00:14:04.200
point we're actually fairly well off
 

00:14:04.200 --> 00:14:06.560
point we're actually fairly well off
from an audio perspective right we're

00:14:06.560 --> 00:14:06.570
from an audio perspective right we're
 

00:14:06.570 --> 00:14:08.240
from an audio perspective right we're
not going to be playing audio and we're

00:14:08.240 --> 00:14:08.250
not going to be playing audio and we're
 

00:14:08.250 --> 00:14:10.370
not going to be playing audio and we're
not supposed to be playing audio but

00:14:10.370 --> 00:14:10.380
not supposed to be playing audio but
 

00:14:10.380 --> 00:14:12.920
not supposed to be playing audio but
there's a lot more we can do to be an

00:14:12.920 --> 00:14:12.930
there's a lot more we can do to be an
 

00:14:12.930 --> 00:14:16.610
there's a lot more we can do to be an
amazing app another part of it is really

00:14:16.610 --> 00:14:16.620
amazing app another part of it is really
 

00:14:16.620 --> 00:14:20.000
amazing app another part of it is really
that sense of controlling audio playback

00:14:20.000 --> 00:14:20.010
that sense of controlling audio playback
 

00:14:20.010 --> 00:14:23.090
that sense of controlling audio playback
right that reaching for the next track

00:14:23.090 --> 00:14:23.100
right that reaching for the next track
 

00:14:23.100 --> 00:14:25.250
right that reaching for the next track
button or the pause button right these

00:14:25.250 --> 00:14:25.260
button or the pause button right these
 

00:14:25.260 --> 00:14:26.630
button or the pause button right these
are the kind of things that people are

00:14:26.630 --> 00:14:26.640
are the kind of things that people are
 

00:14:26.640 --> 00:14:30.200
are the kind of things that people are
going to use your app and do a lot right

00:14:30.200 --> 00:14:30.210
going to use your app and do a lot right
 

00:14:30.210 --> 00:14:32.270
going to use your app and do a lot right
and we don't want to make that really

00:14:32.270 --> 00:14:32.280
and we don't want to make that really
 

00:14:32.280 --> 00:14:34.460
and we don't want to make that really
tricky to use we actually want to make

00:14:34.460 --> 00:14:34.470
tricky to use we actually want to make
 

00:14:34.470 --> 00:14:37.100
tricky to use we actually want to make
it as easy as possible for users to get

00:14:37.100 --> 00:14:37.110
it as easy as possible for users to get
 

00:14:37.110 --> 00:14:39.110
it as easy as possible for users to get
and control your media playback and

00:14:39.110 --> 00:14:39.120
and control your media playback and
 

00:14:39.120 --> 00:14:40.910
and control your media playback and
thankfully there's a lot of ways to do

00:14:40.910 --> 00:14:40.920
thankfully there's a lot of ways to do
 

00:14:40.920 --> 00:14:43.940
thankfully there's a lot of ways to do
that in the android framework one of the

00:14:43.940 --> 00:14:43.950
that in the android framework one of the
 

00:14:43.950 --> 00:14:45.860
that in the android framework one of the
first ones you might think of our

00:14:45.860 --> 00:14:45.870
first ones you might think of our
 

00:14:45.870 --> 00:14:49.130
first ones you might think of our
headphone and bluetooth controls now for

00:14:49.130 --> 00:14:49.140
headphone and bluetooth controls now for
 

00:14:49.140 --> 00:14:51.080
headphone and bluetooth controls now for
me personally this is probably the most

00:14:51.080 --> 00:14:51.090
me personally this is probably the most
 

00:14:51.090 --> 00:14:53.930
me personally this is probably the most
frustrating one when you when apps don't

00:14:53.930 --> 00:14:53.940
frustrating one when you when apps don't
 

00:14:53.940 --> 00:14:55.760
frustrating one when you when apps don't
do it correctly if you're in your car

00:14:55.760 --> 00:14:55.770
do it correctly if you're in your car
 

00:14:55.770 --> 00:14:56.900
do it correctly if you're in your car
and you have integrated Bluetooth

00:14:56.900 --> 00:14:56.910
and you have integrated Bluetooth
 

00:14:56.910 --> 00:14:59.330
and you have integrated Bluetooth
controls those are the kind of scenarios

00:14:59.330 --> 00:14:59.340
controls those are the kind of scenarios
 

00:14:59.340 --> 00:15:03.440
controls those are the kind of scenarios
that users should not should not ever

00:15:03.440 --> 00:15:03.450
that users should not should not ever
 

00:15:03.450 --> 00:15:06.170
that users should not should not ever
have to go into your app to find a pause

00:15:06.170 --> 00:15:06.180
have to go into your app to find a pause
 

00:15:06.180 --> 00:15:08.300
have to go into your app to find a pause
button or hit the play button or

00:15:08.300 --> 00:15:08.310
button or hit the play button or
 

00:15:08.310 --> 00:15:09.230
button or hit the play button or
anything like that

00:15:09.230 --> 00:15:09.240
anything like that
 

00:15:09.240 --> 00:15:12.470
anything like that
instead you should be handling these in

00:15:12.470 --> 00:15:12.480
instead you should be handling these in
 

00:15:12.480 --> 00:15:16.720
instead you should be handling these in
your app now we generally call all these

00:15:16.720 --> 00:15:16.730
your app now we generally call all these
 

00:15:16.730 --> 00:15:18.860
your app now we generally call all these
headphone and Bluetooth controls

00:15:18.860 --> 00:15:18.870
headphone and Bluetooth controls
 

00:15:18.870 --> 00:15:22.310
headphone and Bluetooth controls
collectively media buttons so in fact

00:15:22.310 --> 00:15:22.320
collectively media buttons so in fact
 

00:15:22.320 --> 00:15:23.750
collectively media buttons so in fact
they're actually just like any other

00:15:23.750 --> 00:15:23.760
they're actually just like any other
 

00:15:23.760 --> 00:15:26.390
they're actually just like any other
keyboard event from androids point of

00:15:26.390 --> 00:15:26.400
keyboard event from androids point of
 

00:15:26.400 --> 00:15:28.130
keyboard event from androids point of
view you get a key down when someone

00:15:28.130 --> 00:15:28.140
view you get a key down when someone
 

00:15:28.140 --> 00:15:29.660
view you get a key down when someone
depresses the button and they key up

00:15:29.660 --> 00:15:29.670
depresses the button and they key up
 

00:15:29.670 --> 00:15:33.760
depresses the button and they key up
when they release the button now

00:15:33.760 --> 00:15:33.770
when they release the button now
 

00:15:33.770 --> 00:15:35.920
when they release the button now
by default the systems actually going to

00:15:35.920 --> 00:15:35.930
by default the systems actually going to
 

00:15:35.930 --> 00:15:37.900
by default the systems actually going to
send out a broadcast whenever it gets

00:15:37.900 --> 00:15:37.910
send out a broadcast whenever it gets
 

00:15:37.910 --> 00:15:41.110
send out a broadcast whenever it gets
one of these messages using the aptly

00:15:41.110 --> 00:15:41.120
one of these messages using the aptly
 

00:15:41.120 --> 00:15:44.830
one of these messages using the aptly
named media button intent and this

00:15:44.830 --> 00:15:44.840
named media button intent and this
 

00:15:44.840 --> 00:15:46.840
named media button intent and this
intent actually includes the key event

00:15:46.840 --> 00:15:46.850
intent actually includes the key event
 

00:15:46.850 --> 00:15:49.360
intent actually includes the key event
of the down or up and what action was

00:15:49.360 --> 00:15:49.370
of the down or up and what action was
 

00:15:49.370 --> 00:15:54.880
of the down or up and what action was
actually hit so in that sense we can

00:15:54.880 --> 00:15:54.890
actually hit so in that sense we can
 

00:15:54.890 --> 00:15:57.940
actually hit so in that sense we can
create our own but in the sport library

00:15:57.940 --> 00:15:57.950
create our own but in the sport library
 

00:15:57.950 --> 00:16:01.210
create our own but in the sport library
and then brand-new 23.1 release that

00:16:01.210 --> 00:16:01.220
and then brand-new 23.1 release that
 

00:16:01.220 --> 00:16:03.490
and then brand-new 23.1 release that
came out just a few days ago now we've

00:16:03.490 --> 00:16:03.500
came out just a few days ago now we've
 

00:16:03.500 --> 00:16:05.110
came out just a few days ago now we've
actually created a media button receiver

00:16:05.110 --> 00:16:05.120
actually created a media button receiver
 

00:16:05.120 --> 00:16:10.060
actually created a media button receiver
which does exactly this for you now one

00:16:10.060 --> 00:16:10.070
which does exactly this for you now one
 

00:16:10.070 --> 00:16:11.680
which does exactly this for you now one
of the problems with this kind of

00:16:11.680 --> 00:16:11.690
of the problems with this kind of
 

00:16:11.690 --> 00:16:14.200
of the problems with this kind of
broadcast receiver is because it's a

00:16:14.200 --> 00:16:14.210
broadcast receiver is because it's a
 

00:16:14.210 --> 00:16:15.550
broadcast receiver is because it's a
broadcast receiver in your manifest

00:16:15.550 --> 00:16:15.560
broadcast receiver in your manifest
 

00:16:15.560 --> 00:16:17.950
broadcast receiver in your manifest
somehow you need to get that information

00:16:17.950 --> 00:16:17.960
somehow you need to get that information
 

00:16:17.960 --> 00:16:20.290
somehow you need to get that information
into your actual service that we've been

00:16:20.290 --> 00:16:20.300
into your actual service that we've been
 

00:16:20.300 --> 00:16:21.850
into your actual service that we've been
talking about right you can't

00:16:21.850 --> 00:16:21.860
talking about right you can't
 

00:16:21.860 --> 00:16:24.670
talking about right you can't
necessarily play from the broadcast

00:16:24.670 --> 00:16:24.680
necessarily play from the broadcast
 

00:16:24.680 --> 00:16:27.220
necessarily play from the broadcast
receiver when it's service how do you do

00:16:27.220 --> 00:16:27.230
receiver when it's service how do you do
 

00:16:27.230 --> 00:16:28.840
receiver when it's service how do you do
all that communication and that's what

00:16:28.840 --> 00:16:28.850
all that communication and that's what
 

00:16:28.850 --> 00:16:30.730
all that communication and that's what
Media button receiver actually does for

00:16:30.730 --> 00:16:30.740
Media button receiver actually does for
 

00:16:30.740 --> 00:16:33.880
Media button receiver actually does for
you so how do you set up a media button

00:16:33.880 --> 00:16:33.890
you so how do you set up a media button
 

00:16:33.890 --> 00:16:35.800
you so how do you set up a media button
receiver you just register it in your

00:16:35.800 --> 00:16:35.810
receiver you just register it in your
 

00:16:35.810 --> 00:16:37.720
receiver you just register it in your
manifest right it's a simple receiver

00:16:37.720 --> 00:16:37.730
manifest right it's a simple receiver
 

00:16:37.730 --> 00:16:40.900
manifest right it's a simple receiver
you see our media button intent filter

00:16:40.900 --> 00:16:40.910
you see our media button intent filter
 

00:16:40.910 --> 00:16:43.630
you see our media button intent filter
here note that you're not you haven't

00:16:43.630 --> 00:16:43.640
here note that you're not you haven't
 

00:16:43.640 --> 00:16:46.720
here note that you're not you haven't
written any code at all but what it'll

00:16:46.720 --> 00:16:46.730
written any code at all but what it'll
 

00:16:46.730 --> 00:16:51.160
written any code at all but what it'll
do is when it finds a service which also

00:16:51.160 --> 00:16:51.170
do is when it finds a service which also
 

00:16:51.170 --> 00:16:54.640
do is when it finds a service which also
has the media button intent filter it'll

00:16:54.640 --> 00:16:54.650
has the media button intent filter it'll
 

00:16:54.650 --> 00:16:57.250
has the media button intent filter it'll
automatically pass any intents that are

00:16:57.250 --> 00:16:57.260
automatically pass any intents that are
 

00:16:57.260 --> 00:16:59.260
automatically pass any intents that are
received such as those media buttons on

00:16:59.260 --> 00:16:59.270
received such as those media buttons on
 

00:16:59.270 --> 00:17:02.800
received such as those media buttons on
to your service and now the service can

00:17:02.800 --> 00:17:02.810
to your service and now the service can
 

00:17:02.810 --> 00:17:05.410
to your service and now the service can
actually handle those play and pause and

00:17:05.410 --> 00:17:05.420
actually handle those play and pause and
 

00:17:05.420 --> 00:17:08.320
actually handle those play and pause and
toggle play controls in its on start

00:17:08.320 --> 00:17:08.330
toggle play controls in its on start
 

00:17:08.330 --> 00:17:10.840
toggle play controls in its on start
command no longer you have to write this

00:17:10.840 --> 00:17:10.850
command no longer you have to write this
 

00:17:10.850 --> 00:17:12.460
command no longer you have to write this
communication layer between your

00:17:12.460 --> 00:17:12.470
communication layer between your
 

00:17:12.470 --> 00:17:14.830
communication layer between your
broadcast receiver and your service to

00:17:14.830 --> 00:17:14.840
broadcast receiver and your service to
 

00:17:14.840 --> 00:17:17.440
broadcast receiver and your service to
get through everything there's one

00:17:17.440 --> 00:17:17.450
get through everything there's one
 

00:17:17.450 --> 00:17:19.090
get through everything there's one
problem though if you write this

00:17:19.090 --> 00:17:19.100
problem though if you write this
 

00:17:19.100 --> 00:17:23.320
problem though if you write this
it won't work at all so why is that why

00:17:23.320 --> 00:17:23.330
it won't work at all so why is that why
 

00:17:23.330 --> 00:17:26.290
it won't work at all so why is that why
we rewrote Media button receiver right

00:17:26.290 --> 00:17:26.300
we rewrote Media button receiver right
 

00:17:26.300 --> 00:17:30.160
we rewrote Media button receiver right
it should just work it turns out that

00:17:30.160 --> 00:17:30.170
it should just work it turns out that
 

00:17:30.170 --> 00:17:32.920
it should just work it turns out that
sending a broadcast to every media app

00:17:32.920 --> 00:17:32.930
sending a broadcast to every media app
 

00:17:32.930 --> 00:17:36.160
sending a broadcast to every media app
on your device not a good idea you don't

00:17:36.160 --> 00:17:36.170
on your device not a good idea you don't
 

00:17:36.170 --> 00:17:37.960
on your device not a good idea you don't
want to see what happens when you hit

00:17:37.960 --> 00:17:37.970
want to see what happens when you hit
 

00:17:37.970 --> 00:17:40.330
want to see what happens when you hit
play on 10 different media players all

00:17:40.330 --> 00:17:40.340
play on 10 different media players all
 

00:17:40.340 --> 00:17:43.440
play on 10 different media players all
at the same time it's not pretty

00:17:43.440 --> 00:17:43.450
at the same time it's not pretty
 

00:17:43.450 --> 00:17:46.540
at the same time it's not pretty
thankfully audiofocus handles most of it

00:17:46.540 --> 00:17:46.550
thankfully audiofocus handles most of it
 

00:17:46.550 --> 00:17:49.480
thankfully audiofocus handles most of it
but it will look funny so instead this

00:17:49.480 --> 00:17:49.490
but it will look funny so instead this
 

00:17:49.490 --> 00:17:52.000
but it will look funny so instead this
system has this concept of a preferred

00:17:52.000 --> 00:17:52.010
system has this concept of a preferred
 

00:17:52.010 --> 00:17:53.650
system has this concept of a preferred
Media button receiver

00:17:53.650 --> 00:17:53.660
Media button receiver
 

00:17:53.660 --> 00:17:56.890
Media button receiver
it's basically a last wins kind of a

00:17:56.890 --> 00:17:56.900
it's basically a last wins kind of a
 

00:17:56.900 --> 00:17:59.200
it's basically a last wins kind of a
model so the last one to register that

00:17:59.200 --> 00:17:59.210
model so the last one to register that
 

00:17:59.210 --> 00:18:01.060
model so the last one to register that
they want to be the preferred media

00:18:01.060 --> 00:18:01.070
they want to be the preferred media
 

00:18:01.070 --> 00:18:03.400
they want to be the preferred media
button wins very similar to kind of the

00:18:03.400 --> 00:18:03.410
button wins very similar to kind of the
 

00:18:03.410 --> 00:18:06.100
button wins very similar to kind of the
audiofocus model where you know as

00:18:06.100 --> 00:18:06.110
audiofocus model where you know as
 

00:18:06.110 --> 00:18:07.870
audiofocus model where you know as
you're the last one to say I want audio

00:18:07.870 --> 00:18:07.880
you're the last one to say I want audio
 

00:18:07.880 --> 00:18:10.990
you're the last one to say I want audio
focus you get it so if you've ever had

00:18:10.990 --> 00:18:11.000
focus you get it so if you've ever had
 

00:18:11.000 --> 00:18:13.060
focus you get it so if you've ever had
play music respond to a Bluetooth

00:18:13.060 --> 00:18:13.070
play music respond to a Bluetooth
 

00:18:13.070 --> 00:18:15.280
play music respond to a Bluetooth
control when you're in fact listening to

00:18:15.280 --> 00:18:15.290
control when you're in fact listening to
 

00:18:15.290 --> 00:18:17.980
control when you're in fact listening to
another app that's because something's

00:18:17.980 --> 00:18:17.990
another app that's because something's
 

00:18:17.990 --> 00:18:19.570
another app that's because something's
messed up in the preferred Media button

00:18:19.570 --> 00:18:19.580
messed up in the preferred Media button
 

00:18:19.580 --> 00:18:25.060
messed up in the preferred Media button
receiver so that is one of many things

00:18:25.060 --> 00:18:25.070
receiver so that is one of many things
 

00:18:25.070 --> 00:18:28.650
receiver so that is one of many things
that mediasessioncompat gives you now

00:18:28.650 --> 00:18:28.660
that mediasessioncompat gives you now
 

00:18:28.660 --> 00:18:31.720
that mediasessioncompat gives you now
mediasessioncompat does a lot it's

00:18:31.720 --> 00:18:31.730
mediasessioncompat does a lot it's
 

00:18:31.730 --> 00:18:35.590
mediasessioncompat does a lot it's
actually based on a lollipop Edition

00:18:35.590 --> 00:18:35.600
actually based on a lollipop Edition
 

00:18:35.600 --> 00:18:38.430
actually based on a lollipop Edition
called media session funnily enough and

00:18:38.430 --> 00:18:38.440
called media session funnily enough and
 

00:18:38.440 --> 00:18:43.090
called media session funnily enough and
it's our entry point between our media

00:18:43.090 --> 00:18:43.100
it's our entry point between our media
 

00:18:43.100 --> 00:18:46.150
it's our entry point between our media
app and all of the media framework api's

00:18:46.150 --> 00:18:46.160
app and all of the media framework api's
 

00:18:46.160 --> 00:18:48.670
app and all of the media framework api's
so all of the things that we're going to

00:18:48.670 --> 00:18:48.680
so all of the things that we're going to
 

00:18:48.680 --> 00:18:50.860
so all of the things that we're going to
talk about here shortly are all kind of

00:18:50.860 --> 00:18:50.870
talk about here shortly are all kind of
 

00:18:50.870 --> 00:18:54.640
talk about here shortly are all kind of
tied into this one object now the nice

00:18:54.640 --> 00:18:54.650
tied into this one object now the nice
 

00:18:54.650 --> 00:18:56.950
tied into this one object now the nice
part is is that this object even though

00:18:56.950 --> 00:18:56.960
part is is that this object even though
 

00:18:56.960 --> 00:19:00.490
part is is that this object even though
it was built in API 21 Auto translates

00:19:00.490 --> 00:19:00.500
it was built in API 21 Auto translates
 

00:19:00.500 --> 00:19:02.950
it was built in API 21 Auto translates
to older API so if you ever used remote

00:19:02.950 --> 00:19:02.960
to older API so if you ever used remote
 

00:19:02.960 --> 00:19:06.010
to older API so if you ever used remote
control receiver and other things we

00:19:06.010 --> 00:19:06.020
control receiver and other things we
 

00:19:06.020 --> 00:19:09.640
control receiver and other things we
won't mention those deprecated API s you

00:19:09.640 --> 00:19:09.650
won't mention those deprecated API s you
 

00:19:09.650 --> 00:19:10.360
won't mention those deprecated API s you
don't have to use them

00:19:10.360 --> 00:19:10.370
don't have to use them
 

00:19:10.370 --> 00:19:12.430
don't have to use them
mediasessioncompat will automatically do

00:19:12.430 --> 00:19:12.440
mediasessioncompat will automatically do
 

00:19:12.440 --> 00:19:16.930
mediasessioncompat will automatically do
the right thing for you now first we'll

00:19:16.930 --> 00:19:16.940
the right thing for you now first we'll
 

00:19:16.940 --> 00:19:19.540
the right thing for you now first we'll
want to create our media session we'll

00:19:19.540 --> 00:19:19.550
want to create our media session we'll
 

00:19:19.550 --> 00:19:22.060
want to create our media session we'll
create it in our service pretty much as

00:19:22.060 --> 00:19:22.070
create it in our service pretty much as
 

00:19:22.070 --> 00:19:24.070
create it in our service pretty much as
soon as our service is created just like

00:19:24.070 --> 00:19:24.080
soon as our service is created just like
 

00:19:24.080 --> 00:19:27.400
soon as our service is created just like
our media player that will create as

00:19:27.400 --> 00:19:27.410
our media player that will create as
 

00:19:27.410 --> 00:19:28.300
our media player that will create as
soon as possible

00:19:28.300 --> 00:19:28.310
soon as possible
 

00:19:28.310 --> 00:19:31.630
soon as possible
passing in a logging tag so anything

00:19:31.630 --> 00:19:31.640
passing in a logging tag so anything
 

00:19:31.640 --> 00:19:33.400
passing in a logging tag so anything
goes wrong it's very easy to actually

00:19:33.400 --> 00:19:33.410
goes wrong it's very easy to actually
 

00:19:33.410 --> 00:19:35.710
goes wrong it's very easy to actually
debug we're in the steps that actually

00:19:35.710 --> 00:19:35.720
debug we're in the steps that actually
 

00:19:35.720 --> 00:19:39.100
debug we're in the steps that actually
fell apart and then you'll want to set

00:19:39.100 --> 00:19:39.110
fell apart and then you'll want to set
 

00:19:39.110 --> 00:19:41.320
fell apart and then you'll want to set
two flags one that we actually want to

00:19:41.320 --> 00:19:41.330
two flags one that we actually want to
 

00:19:41.330 --> 00:19:43.870
two flags one that we actually want to
handle our media buttons and the second

00:19:43.870 --> 00:19:43.880
handle our media buttons and the second
 

00:19:43.880 --> 00:19:46.120
handle our media buttons and the second
one is transport controls these are play

00:19:46.120 --> 00:19:46.130
one is transport controls these are play
 

00:19:46.130 --> 00:19:48.070
one is transport controls these are play
and pause type of controls from within

00:19:48.070 --> 00:19:48.080
and pause type of controls from within
 

00:19:48.080 --> 00:19:51.040
and pause type of controls from within
your app you basically just always want

00:19:51.040 --> 00:19:51.050
your app you basically just always want
 

00:19:51.050 --> 00:19:52.570
your app you basically just always want
to set them I'm not sure why they're not

00:19:52.570 --> 00:19:52.580
to set them I'm not sure why they're not
 

00:19:52.580 --> 00:19:55.180
to set them I'm not sure why they're not
the defaults and then the last thing is

00:19:55.180 --> 00:19:55.190
the defaults and then the last thing is
 

00:19:55.190 --> 00:19:56.790
the defaults and then the last thing is
setting that callback

00:19:56.790 --> 00:19:56.800
setting that callback
 

00:19:56.800 --> 00:19:59.860
setting that callback
now the callbacks are actually really

00:19:59.860 --> 00:19:59.870
now the callbacks are actually really
 

00:19:59.870 --> 00:20:00.549
now the callbacks are actually really
important

00:20:00.549 --> 00:20:00.559
important
 

00:20:00.559 --> 00:20:03.730
important
that's where you get on play on pause on

00:20:03.730 --> 00:20:03.740
that's where you get on play on pause on
 

00:20:03.740 --> 00:20:07.239
that's where you get on play on pause on
stop it's basically that central entry

00:20:07.239 --> 00:20:07.249
stop it's basically that central entry
 

00:20:07.249 --> 00:20:10.749
stop it's basically that central entry
point between where all the media api's

00:20:10.749 --> 00:20:10.759
point between where all the media api's
 

00:20:10.759 --> 00:20:13.989
point between where all the media api's
are going to go and your actual media

00:20:13.989 --> 00:20:13.999
are going to go and your actual media
 

00:20:13.999 --> 00:20:16.539
are going to go and your actual media
player right so the on play method of

00:20:16.539 --> 00:20:16.549
player right so the on play method of
 

00:20:16.549 --> 00:20:19.899
player right so the on play method of
here would cause play on your media

00:20:19.899 --> 00:20:19.909
here would cause play on your media
 

00:20:19.909 --> 00:20:26.289
here would cause play on your media
player right so we haven't actually set

00:20:26.289 --> 00:20:26.299
player right so we haven't actually set
 

00:20:26.299 --> 00:20:27.850
player right so we haven't actually set
that we want to be the preferred media

00:20:27.850 --> 00:20:27.860
that we want to be the preferred media
 

00:20:27.860 --> 00:20:30.039
that we want to be the preferred media
button thankfully it's one method that

00:20:30.039 --> 00:20:30.049
button thankfully it's one method that
 

00:20:30.049 --> 00:20:32.830
button thankfully it's one method that
said active I bet you can guess what the

00:20:32.830 --> 00:20:32.840
said active I bet you can guess what the
 

00:20:32.840 --> 00:20:36.070
said active I bet you can guess what the
boolean does true means we want to

00:20:36.070 --> 00:20:36.080
boolean does true means we want to
 

00:20:36.080 --> 00:20:38.560
boolean does true means we want to
become the active Media button receiver

00:20:38.560 --> 00:20:38.570
become the active Media button receiver
 

00:20:38.570 --> 00:20:41.409
become the active Media button receiver
false means we're done and you can leave

00:20:41.409 --> 00:20:41.419
false means we're done and you can leave
 

00:20:41.419 --> 00:20:44.019
false means we're done and you can leave
so it actually does a lot behind the

00:20:44.019 --> 00:20:44.029
so it actually does a lot behind the
 

00:20:44.029 --> 00:20:45.369
so it actually does a lot behind the
backgrounds but one of the things that

00:20:45.369 --> 00:20:45.379
backgrounds but one of the things that
 

00:20:45.379 --> 00:20:49.749
backgrounds but one of the things that
does is the media button intent now once

00:20:49.749 --> 00:20:49.759
does is the media button intent now once
 

00:20:49.759 --> 00:20:51.759
does is the media button intent now once
we have this mediasessioncompat set up

00:20:51.759 --> 00:20:51.769
we have this mediasessioncompat set up
 

00:20:51.769 --> 00:20:53.980
we have this mediasessioncompat set up
we can actually image of the other part

00:20:53.980 --> 00:20:53.990
we can actually image of the other part
 

00:20:53.990 --> 00:20:56.889
we can actually image of the other part
of Media button receiver which is its

00:20:56.889 --> 00:20:56.899
of Media button receiver which is its
 

00:20:56.899 --> 00:20:59.649
of Media button receiver which is its
handle and 10th method handle and tenth

00:20:59.649 --> 00:20:59.659
handle and 10th method handle and tenth
 

00:20:59.659 --> 00:21:01.509
handle and 10th method handle and tenth
method which you can put in your on

00:21:01.509 --> 00:21:01.519
method which you can put in your on
 

00:21:01.519 --> 00:21:04.749
method which you can put in your on
start command automatically translates

00:21:04.749 --> 00:21:04.759
start command automatically translates
 

00:21:04.759 --> 00:21:07.029
start command automatically translates
all the key events extracts them from

00:21:07.029 --> 00:21:07.039
all the key events extracts them from
 

00:21:07.039 --> 00:21:09.489
all the key events extracts them from
the intent does all that work and just

00:21:09.489 --> 00:21:09.499
the intent does all that work and just
 

00:21:09.499 --> 00:21:11.830
the intent does all that work and just
hands them off to your callbacks so now

00:21:11.830 --> 00:21:11.840
hands them off to your callbacks so now
 

00:21:11.840 --> 00:21:13.720
hands them off to your callbacks so now
you don't need to do that translation of

00:21:13.720 --> 00:21:13.730
you don't need to do that translation of
 

00:21:13.730 --> 00:21:16.299
you don't need to do that translation of
all right well this is a key down of

00:21:16.299 --> 00:21:16.309
all right well this is a key down of
 

00:21:16.309 --> 00:21:19.659
all right well this is a key down of
toggle play and then that translates to

00:21:19.659 --> 00:21:19.669
toggle play and then that translates to
 

00:21:19.669 --> 00:21:22.149
toggle play and then that translates to
an on play command you just pass it on

00:21:22.149 --> 00:21:22.159
an on play command you just pass it on
 

00:21:22.159 --> 00:21:24.249
an on play command you just pass it on
through and keep using the callbacks

00:21:24.249 --> 00:21:24.259
through and keep using the callbacks
 

00:21:24.259 --> 00:21:25.539
through and keep using the callbacks
that you've defined as part of

00:21:25.539 --> 00:21:25.549
that you've defined as part of
 

00:21:25.549 --> 00:21:30.340
that you've defined as part of
mediasessioncompat now how does media

00:21:30.340 --> 00:21:30.350
mediasessioncompat now how does media
 

00:21:30.350 --> 00:21:32.379
mediasessioncompat now how does media
session know anything about what toggle

00:21:32.379 --> 00:21:32.389
session know anything about what toggle
 

00:21:32.389 --> 00:21:34.210
session know anything about what toggle
play should do we haven't actually told

00:21:34.210 --> 00:21:34.220
play should do we haven't actually told
 

00:21:34.220 --> 00:21:36.359
play should do we haven't actually told
it if we're playing or not

00:21:36.359 --> 00:21:36.369
it if we're playing or not
 

00:21:36.369 --> 00:21:39.879
it if we're playing or not
that's what media's state compact is for

00:21:39.879 --> 00:21:39.889
that's what media's state compact is for
 

00:21:39.889 --> 00:21:42.399
that's what media's state compact is for
so you can think of media state competi

00:21:42.399 --> 00:21:42.409
so you can think of media state competi
 

00:21:42.409 --> 00:21:44.649
so you can think of media state competi
is kind of all of the information about

00:21:44.649 --> 00:21:44.659
is kind of all of the information about
 

00:21:44.659 --> 00:21:46.930
is kind of all of the information about
what your app is currently doing right

00:21:46.930 --> 00:21:46.940
what your app is currently doing right
 

00:21:46.940 --> 00:21:50.859
what your app is currently doing right
so while you may know within your app

00:21:50.859 --> 00:21:50.869
so while you may know within your app
 

00:21:50.869 --> 00:21:52.960
so while you may know within your app
are we playing are we pausing or

00:21:52.960 --> 00:21:52.970
are we playing are we pausing or
 

00:21:52.970 --> 00:21:54.909
are we playing are we pausing or
rebuffering right the system knows

00:21:54.909 --> 00:21:54.919
rebuffering right the system knows
 

00:21:54.919 --> 00:21:56.710
rebuffering right the system knows
nothing right you haven't pulled it

00:21:56.710 --> 00:21:56.720
nothing right you haven't pulled it
 

00:21:56.720 --> 00:21:59.950
nothing right you haven't pulled it
anything so left to do exactly that

00:21:59.950 --> 00:21:59.960
anything so left to do exactly that
 

00:21:59.960 --> 00:22:03.430
anything so left to do exactly that
using set state now set state is kind of

00:22:03.430 --> 00:22:03.440
using set state now set state is kind of
 

00:22:03.440 --> 00:22:08.769
using set state now set state is kind of
the playing pause it's actually a what

00:22:08.769 --> 00:22:08.779
the playing pause it's actually a what
 

00:22:08.779 --> 00:22:10.779
the playing pause it's actually a what
looks like a Nino but is in fact not an

00:22:10.779 --> 00:22:10.789
looks like a Nino but is in fact not an
 

00:22:10.789 --> 00:22:14.289
looks like a Nino but is in fact not an
enum it's just in and we'll also want to

00:22:14.289 --> 00:22:14.299
enum it's just in and we'll also want to
 

00:22:14.299 --> 00:22:14.950
enum it's just in and we'll also want to
include our

00:22:14.950 --> 00:22:14.960
include our
 

00:22:14.960 --> 00:22:17.080
include our
position so how far along we are in the

00:22:17.080 --> 00:22:17.090
position so how far along we are in the
 

00:22:17.090 --> 00:22:20.230
position so how far along we are in the
track if that's applicable to you and

00:22:20.230 --> 00:22:20.240
track if that's applicable to you and
 

00:22:20.240 --> 00:22:22.419
track if that's applicable to you and
then we also have set actions so set

00:22:22.419 --> 00:22:22.429
then we also have set actions so set
 

00:22:22.429 --> 00:22:24.460
then we also have set actions so set
actions are things like do I support

00:22:24.460 --> 00:22:24.470
actions are things like do I support
 

00:22:24.470 --> 00:22:27.010
actions are things like do I support
play pause do I support stop do I

00:22:27.010 --> 00:22:27.020
play pause do I support stop do I
 

00:22:27.020 --> 00:22:29.200
play pause do I support stop do I
support next track right not every

00:22:29.200 --> 00:22:29.210
support next track right not every
 

00:22:29.210 --> 00:22:31.659
support next track right not every
player supports going to the previous

00:22:31.659 --> 00:22:31.669
player supports going to the previous
 

00:22:31.669 --> 00:22:33.519
player supports going to the previous
track you'll really want to make sure

00:22:33.519 --> 00:22:33.529
track you'll really want to make sure
 

00:22:33.529 --> 00:22:35.049
track you'll really want to make sure
that you actually put all of the things

00:22:35.049 --> 00:22:35.059
that you actually put all of the things
 

00:22:35.059 --> 00:22:37.630
that you actually put all of the things
you support because this is what's going

00:22:37.630 --> 00:22:37.640
you support because this is what's going
 

00:22:37.640 --> 00:22:40.539
you support because this is what's going
to show up on various surfaces such as

00:22:40.539 --> 00:22:40.549
to show up on various surfaces such as
 

00:22:40.549 --> 00:22:43.240
to show up on various surfaces such as
the lock screen later and it's also how

00:22:43.240 --> 00:22:43.250
the lock screen later and it's also how
 

00:22:43.250 --> 00:22:46.240
the lock screen later and it's also how
media buttons get filtered out if you

00:22:46.240 --> 00:22:46.250
media buttons get filtered out if you
 

00:22:46.250 --> 00:22:48.669
media buttons get filtered out if you
say you don't support pause and someone

00:22:48.669 --> 00:22:48.679
say you don't support pause and someone
 

00:22:48.679 --> 00:22:51.310
say you don't support pause and someone
clicks the button on their headphone you

00:22:51.310 --> 00:22:51.320
clicks the button on their headphone you
 

00:22:51.320 --> 00:22:53.889
clicks the button on their headphone you
won't get an on pause playback or

00:22:53.889 --> 00:22:53.899
won't get an on pause playback or
 

00:22:53.899 --> 00:22:58.269
won't get an on pause playback or
callback so really make sure that you're

00:22:58.269 --> 00:22:58.279
callback so really make sure that you're
 

00:22:58.279 --> 00:23:00.190
callback so really make sure that you're
actually also setting the actions now

00:23:00.190 --> 00:23:00.200
actually also setting the actions now
 

00:23:00.200 --> 00:23:01.630
actually also setting the actions now
you'll note that both of these are

00:23:01.630 --> 00:23:01.640
you'll note that both of these are
 

00:23:01.640 --> 00:23:03.639
you'll note that both of these are
combined into the same playback state

00:23:03.639 --> 00:23:03.649
combined into the same playback state
 

00:23:03.649 --> 00:23:07.120
combined into the same playback state
compat turns out that in most media apps

00:23:07.120 --> 00:23:07.130
compat turns out that in most media apps
 

00:23:07.130 --> 00:23:09.310
compat turns out that in most media apps
these are kind of tied together right

00:23:09.310 --> 00:23:09.320
these are kind of tied together right
 

00:23:09.320 --> 00:23:11.380
these are kind of tied together right
while you're buffering you probably

00:23:11.380 --> 00:23:11.390
while you're buffering you probably
 

00:23:11.390 --> 00:23:14.470
while you're buffering you probably
don't have a pause action when you're

00:23:14.470 --> 00:23:14.480
don't have a pause action when you're
 

00:23:14.480 --> 00:23:15.850
don't have a pause action when you're
buffering you probably don't have a skip

00:23:15.850 --> 00:23:15.860
buffering you probably don't have a skip
 

00:23:15.860 --> 00:23:17.980
buffering you probably don't have a skip
to next but you may still want to

00:23:17.980 --> 00:23:17.990
to next but you may still want to
 

00:23:17.990 --> 00:23:20.080
to next but you may still want to
support a stop command right to be able

00:23:20.080 --> 00:23:20.090
support a stop command right to be able
 

00:23:20.090 --> 00:23:22.630
support a stop command right to be able
to stop things if it's really buffering

00:23:22.630 --> 00:23:22.640
to stop things if it's really buffering
 

00:23:22.640 --> 00:23:25.029
to stop things if it's really buffering
on forever so they are kind of combined

00:23:25.029 --> 00:23:25.039
on forever so they are kind of combined
 

00:23:25.039 --> 00:23:26.860
on forever so they are kind of combined
together under the assumption that

00:23:26.860 --> 00:23:26.870
together under the assumption that
 

00:23:26.870 --> 00:23:28.840
together under the assumption that
you'll probably change both of them at

00:23:28.840 --> 00:23:28.850
you'll probably change both of them at
 

00:23:28.850 --> 00:23:33.909
you'll probably change both of them at
the same time so probably one of my

00:23:33.909 --> 00:23:33.919
the same time so probably one of my
 

00:23:33.919 --> 00:23:35.139
the same time so probably one of my
favorite features an Ice Cream Sandwich

00:23:35.139 --> 00:23:35.149
favorite features an Ice Cream Sandwich
 

00:23:35.149 --> 00:23:37.810
favorite features an Ice Cream Sandwich
R lock screen controls so kind of that

00:23:37.810 --> 00:23:37.820
R lock screen controls so kind of that
 

00:23:37.820 --> 00:23:41.080
R lock screen controls so kind of that
play pause pretty album art probably the

00:23:41.080 --> 00:23:41.090
play pause pretty album art probably the
 

00:23:41.090 --> 00:23:43.360
play pause pretty album art probably the
best feature besides the whole combining

00:23:43.360 --> 00:23:43.370
best feature besides the whole combining
 

00:23:43.370 --> 00:23:46.990
best feature besides the whole combining
phones and tablets and all that fine

00:23:46.990 --> 00:23:47.000
phones and tablets and all that fine
 

00:23:47.000 --> 00:23:49.289
phones and tablets and all that fine
lock screen controls definitely the best

00:23:49.289 --> 00:23:49.299
lock screen controls definitely the best
 

00:23:49.299 --> 00:23:51.490
lock screen controls definitely the best
now they're actually fairly easy to add

00:23:51.490 --> 00:23:51.500
now they're actually fairly easy to add
 

00:23:51.500 --> 00:23:53.200
now they're actually fairly easy to add
the only thing we've been missing so far

00:23:53.200 --> 00:23:53.210
the only thing we've been missing so far
 

00:23:53.210 --> 00:23:55.299
the only thing we've been missing so far
because we already set our actions is

00:23:55.299 --> 00:23:55.309
because we already set our actions is
 

00:23:55.309 --> 00:23:57.909
because we already set our actions is
actually just some metadata including a

00:23:57.909 --> 00:23:57.919
actually just some metadata including a
 

00:23:57.919 --> 00:23:59.769
actually just some metadata including a
picture right we can't really show

00:23:59.769 --> 00:23:59.779
picture right we can't really show
 

00:23:59.779 --> 00:24:01.330
picture right we can't really show
anything on the screen we're not showing

00:24:01.330 --> 00:24:01.340
anything on the screen we're not showing
 

00:24:01.340 --> 00:24:04.210
anything on the screen we're not showing
that type of thing so and that's where

00:24:04.210 --> 00:24:04.220
that type of thing so and that's where
 

00:24:04.220 --> 00:24:07.930
that type of thing so and that's where
media molta our media metadata compat

00:24:07.930 --> 00:24:07.940
media molta our media metadata compat
 

00:24:07.940 --> 00:24:10.570
media molta our media metadata compat
comes in again we'll just kind of set it

00:24:10.570 --> 00:24:10.580
comes in again we'll just kind of set it
 

00:24:10.580 --> 00:24:12.250
comes in again we'll just kind of set it
in you can kind of think of it as a

00:24:12.250 --> 00:24:12.260
in you can kind of think of it as a
 

00:24:12.260 --> 00:24:14.769
in you can kind of think of it as a
bundle of all of the information about

00:24:14.769 --> 00:24:14.779
bundle of all of the information about
 

00:24:14.779 --> 00:24:18.580
bundle of all of the information about
what's currently playing now note this

00:24:18.580 --> 00:24:18.590
what's currently playing now note this
 

00:24:18.590 --> 00:24:20.470
what's currently playing now note this
is actually used in more places than

00:24:20.470 --> 00:24:20.480
is actually used in more places than
 

00:24:20.480 --> 00:24:22.419
is actually used in more places than
just a lock screen so if you've ever

00:24:22.419 --> 00:24:22.429
just a lock screen so if you've ever
 

00:24:22.429 --> 00:24:24.879
just a lock screen so if you've ever
noticed on Android wear you get a little

00:24:24.879 --> 00:24:24.889
noticed on Android wear you get a little
 

00:24:24.889 --> 00:24:26.950
noticed on Android wear you get a little
notification of playing audio and stuff

00:24:26.950 --> 00:24:26.960
notification of playing audio and stuff
 

00:24:26.960 --> 00:24:28.780
notification of playing audio and stuff
it's actually using the metadata

00:24:28.780 --> 00:24:28.790
it's actually using the metadata
 

00:24:28.790 --> 00:24:31.060
it's actually using the metadata
you pass in that album arts all that

00:24:31.060 --> 00:24:31.070
you pass in that album arts all that
 

00:24:31.070 --> 00:24:33.070
you pass in that album arts all that
information is coming from the media

00:24:33.070 --> 00:24:33.080
information is coming from the media
 

00:24:33.080 --> 00:24:36.820
information is coming from the media
metadata you've set so what kind of

00:24:36.820 --> 00:24:36.830
metadata you've set so what kind of
 

00:24:36.830 --> 00:24:39.880
metadata you've set so what kind of
information goes in here yeah a lot of

00:24:39.880 --> 00:24:39.890
information goes in here yeah a lot of
 

00:24:39.890 --> 00:24:44.590
information goes in here yeah a lot of
the basics right title artist album all

00:24:44.590 --> 00:24:44.600
the basics right title artist album all
 

00:24:44.600 --> 00:24:46.450
the basics right title artist album all
kind of really important ones if you're

00:24:46.450 --> 00:24:46.460
kind of really important ones if you're
 

00:24:46.460 --> 00:24:49.360
kind of really important ones if you're
using fixed duration tracks you probably

00:24:49.360 --> 00:24:49.370
using fixed duration tracks you probably
 

00:24:49.370 --> 00:24:50.710
using fixed duration tracks you probably
want to add the duration that goes

00:24:50.710 --> 00:24:50.720
want to add the duration that goes
 

00:24:50.720 --> 00:24:52.300
want to add the duration that goes
really well with that position we

00:24:52.300 --> 00:24:52.310
really well with that position we
 

00:24:52.310 --> 00:24:58.360
really well with that position we
already set on the image size you have

00:24:58.360 --> 00:24:58.370
already set on the image size you have
 

00:24:58.370 --> 00:25:01.900
already set on the image size you have
can add bitmaps directly please do not

00:25:01.900 --> 00:25:01.910
can add bitmaps directly please do not
 

00:25:01.910 --> 00:25:05.110
can add bitmaps directly please do not
add any like 4000 by 4000 giant bitmaps

00:25:05.110 --> 00:25:05.120
add any like 4000 by 4000 giant bitmaps
 

00:25:05.120 --> 00:25:07.510
add any like 4000 by 4000 giant bitmaps
that's kind of the case where your eyes

00:25:07.510 --> 00:25:07.520
that's kind of the case where your eyes
 

00:25:07.520 --> 00:25:09.250
that's kind of the case where your eyes
come in where you can actually pass a

00:25:09.250 --> 00:25:09.260
come in where you can actually pass a
 

00:25:09.260 --> 00:25:13.000
come in where you can actually pass a
URI to just a larger image that then can

00:25:13.000 --> 00:25:13.010
URI to just a larger image that then can
 

00:25:13.010 --> 00:25:14.860
URI to just a larger image that then can
be downloaded later ideally they should

00:25:14.860 --> 00:25:14.870
be downloaded later ideally they should
 

00:25:14.870 --> 00:25:17.140
be downloaded later ideally they should
be content your eyes so that other apps

00:25:17.140 --> 00:25:17.150
be content your eyes so that other apps
 

00:25:17.150 --> 00:25:19.600
be content your eyes so that other apps
can read from them I have a storage talk

00:25:19.600 --> 00:25:19.610
can read from them I have a storage talk
 

00:25:19.610 --> 00:25:21.880
can read from them I have a storage talk
tomorrow that talks all about how you

00:25:21.880 --> 00:25:21.890
tomorrow that talks all about how you
 

00:25:21.890 --> 00:25:23.860
tomorrow that talks all about how you
can actually set up these URIs really

00:25:23.860 --> 00:25:23.870
can actually set up these URIs really
 

00:25:23.870 --> 00:25:27.130
can actually set up these URIs really
easy but these are just kind of some of

00:25:27.130 --> 00:25:27.140
easy but these are just kind of some of
 

00:25:27.140 --> 00:25:28.180
easy but these are just kind of some of
the most important languages actually

00:25:28.180 --> 00:25:28.190
the most important languages actually
 

00:25:28.190 --> 00:25:31.720
the most important languages actually
like 27 of them in total so read through

00:25:31.720 --> 00:25:31.730
like 27 of them in total so read through
 

00:25:31.730 --> 00:25:33.550
like 27 of them in total so read through
the documentation these are probably the

00:25:33.550 --> 00:25:33.560
the documentation these are probably the
 

00:25:33.560 --> 00:25:37.420
the documentation these are probably the
ones I'd recommend off the top so we've

00:25:37.420 --> 00:25:37.430
ones I'd recommend off the top so we've
 

00:25:37.430 --> 00:25:40.420
ones I'd recommend off the top so we've
added our mediasessioncompat just a few

00:25:40.420 --> 00:25:40.430
added our mediasessioncompat just a few
 

00:25:40.430 --> 00:25:42.160
added our mediasessioncompat just a few
more steps along the way we did are

00:25:42.160 --> 00:25:42.170
more steps along the way we did are
 

00:25:42.170 --> 00:25:45.310
more steps along the way we did are
created setting the flags playing we'll

00:25:45.310 --> 00:25:45.320
created setting the flags playing we'll
 

00:25:45.320 --> 00:25:47.410
created setting the flags playing we'll
want to set active to true set our

00:25:47.410 --> 00:25:47.420
want to set active to true set our
 

00:25:47.420 --> 00:25:48.880
want to set active to true set our
metadata set our state

00:25:48.880 --> 00:25:48.890
metadata set our state
 

00:25:48.890 --> 00:25:52.870
metadata set our state
similarly anytime we pause or buffer or

00:25:52.870 --> 00:25:52.880
similarly anytime we pause or buffer or
 

00:25:52.880 --> 00:25:54.940
similarly anytime we pause or buffer or
change anything really we want to make

00:25:54.940 --> 00:25:54.950
change anything really we want to make
 

00:25:54.950 --> 00:25:57.340
change anything really we want to make
sure our state stays in sync with our

00:25:57.340 --> 00:25:57.350
sure our state stays in sync with our
 

00:25:57.350 --> 00:25:59.620
sure our state stays in sync with our
app as well as then when we're actually

00:25:59.620 --> 00:25:59.630
app as well as then when we're actually
 

00:25:59.630 --> 00:26:00.340
app as well as then when we're actually
stopped

00:26:00.340 --> 00:26:00.350
stopped
 

00:26:00.350 --> 00:26:03.010
stopped
we'll set active to false and say hey

00:26:03.010 --> 00:26:03.020
we'll set active to false and say hey
 

00:26:03.020 --> 00:26:05.560
we'll set active to false and say hey
we're done and then release when Ron

00:26:05.560 --> 00:26:05.570
we're done and then release when Ron
 

00:26:05.570 --> 00:26:08.290
we're done and then release when Ron
destroyed to return all those resources

00:26:08.290 --> 00:26:08.300
destroyed to return all those resources
 

00:26:08.300 --> 00:26:11.080
destroyed to return all those resources
now talk about lock screen controls

00:26:11.080 --> 00:26:11.090
now talk about lock screen controls
 

00:26:11.090 --> 00:26:14.350
now talk about lock screen controls
they're really great but we kind of

00:26:14.350 --> 00:26:14.360
they're really great but we kind of
 

00:26:14.360 --> 00:26:18.340
they're really great but we kind of
removed them in 5.0 turns out that

00:26:18.340 --> 00:26:18.350
removed them in 5.0 turns out that
 

00:26:18.350 --> 00:26:20.670
removed them in 5.0 turns out that
notifications are the new hotness and

00:26:20.670 --> 00:26:20.680
notifications are the new hotness and
 

00:26:20.680 --> 00:26:23.680
notifications are the new hotness and
are kind of what the lock screen is all

00:26:23.680 --> 00:26:23.690
are kind of what the lock screen is all
 

00:26:23.690 --> 00:26:27.610
are kind of what the lock screen is all
about now as of lollipop now it turns

00:26:27.610 --> 00:26:27.620
about now as of lollipop now it turns
 

00:26:27.620 --> 00:26:29.410
about now as of lollipop now it turns
out we probably should have been using

00:26:29.410 --> 00:26:29.420
out we probably should have been using
 

00:26:29.420 --> 00:26:33.100
out we probably should have been using
notifications all along the fact of

00:26:33.100 --> 00:26:33.110
notifications all along the fact of
 

00:26:33.110 --> 00:26:34.990
notifications all along the fact of
having to lock your device just to use a

00:26:34.990 --> 00:26:35.000
having to lock your device just to use a
 

00:26:35.000 --> 00:26:37.000
having to lock your device just to use a
play/pause button probably a little

00:26:37.000 --> 00:26:37.010
play/pause button probably a little
 

00:26:37.010 --> 00:26:37.540
play/pause button probably a little
silly

00:26:37.540 --> 00:26:37.550
silly
 

00:26:37.550 --> 00:26:40.210
silly
so notifications kind of give you that

00:26:40.210 --> 00:26:40.220
so notifications kind of give you that
 

00:26:40.220 --> 00:26:42.730
so notifications kind of give you that
access anywhere anywhere any

00:26:42.730 --> 00:26:42.740
access anywhere anywhere any
 

00:26:42.740 --> 00:26:44.169
access anywhere anywhere any
you can pull down the notification tray

00:26:44.169 --> 00:26:44.179
you can pull down the notification tray
 

00:26:44.179 --> 00:26:46.690
you can pull down the notification tray
and play and pause in that type of thing

00:26:46.690 --> 00:26:46.700
and play and pause in that type of thing
 

00:26:46.700 --> 00:26:49.750
and play and pause in that type of thing
but building that custom notification

00:26:49.750 --> 00:26:49.760
but building that custom notification
 

00:26:49.760 --> 00:26:52.419
but building that custom notification
can be a lot more complicated than you

00:26:52.419 --> 00:26:52.429
can be a lot more complicated than you
 

00:26:52.429 --> 00:26:55.660
can be a lot more complicated than you
want so we built it all for you

00:26:55.660 --> 00:26:55.670
want so we built it all for you
 

00:26:55.670 --> 00:26:58.090
want so we built it all for you
we have notification compat media style

00:26:58.090 --> 00:26:58.100
we have notification compat media style
 

00:26:58.100 --> 00:27:01.299
we have notification compat media style
so this style kind of automatically

00:27:01.299 --> 00:27:01.309
so this style kind of automatically
 

00:27:01.309 --> 00:27:03.310
so this style kind of automatically
allows you to add media buttons without

00:27:03.310 --> 00:27:03.320
allows you to add media buttons without
 

00:27:03.320 --> 00:27:05.230
allows you to add media buttons without
having to create giant custom

00:27:05.230 --> 00:27:05.240
having to create giant custom
 

00:27:05.240 --> 00:27:09.010
having to create giant custom
notifications every time so on a

00:27:09.010 --> 00:27:09.020
notifications every time so on a
 

00:27:09.020 --> 00:27:12.250
notifications every time so on a
less-than api 14 in fact you couldn't

00:27:12.250 --> 00:27:12.260
less-than api 14 in fact you couldn't
 

00:27:12.260 --> 00:27:14.860
less-than api 14 in fact you couldn't
add any buttons to a notification like

00:27:14.860 --> 00:27:14.870
add any buttons to a notification like
 

00:27:14.870 --> 00:27:16.750
add any buttons to a notification like
there was a time when all the

00:27:16.750 --> 00:27:16.760
there was a time when all the
 

00:27:16.760 --> 00:27:18.850
there was a time when all the
notification was was just a single tap

00:27:18.850 --> 00:27:18.860
notification was was just a single tap
 

00:27:18.860 --> 00:27:21.850
notification was was just a single tap
target you know it's like years ago

00:27:21.850 --> 00:27:21.860
target you know it's like years ago
 

00:27:21.860 --> 00:27:24.010
target you know it's like years ago
right but we still support it here

00:27:24.010 --> 00:27:24.020
right but we still support it here
 

00:27:24.020 --> 00:27:26.080
right but we still support it here
you'll get just a basic notification

00:27:26.080 --> 00:27:26.090
you'll get just a basic notification
 

00:27:26.090 --> 00:27:27.669
you'll get just a basic notification
that allows someone to click into your

00:27:27.669 --> 00:27:27.679
that allows someone to click into your
 

00:27:27.679 --> 00:27:31.030
that allows someone to click into your
app starting an API 14 you can actually

00:27:31.030 --> 00:27:31.040
app starting an API 14 you can actually
 

00:27:31.040 --> 00:27:33.340
app starting an API 14 you can actually
have buttons so we support buttons in

00:27:33.340 --> 00:27:33.350
have buttons so we support buttons in
 

00:27:33.350 --> 00:27:35.200
have buttons so we support buttons in
that single line state you can have up

00:27:35.200 --> 00:27:35.210
that single line state you can have up
 

00:27:35.210 --> 00:27:37.210
that single line state you can have up
to three buttons right there in the

00:27:37.210 --> 00:27:37.220
to three buttons right there in the
 

00:27:37.220 --> 00:27:41.560
to three buttons right there in the
notification API 16 Android 4.1 added

00:27:41.560 --> 00:27:41.570
notification API 16 Android 4.1 added
 

00:27:41.570 --> 00:27:44.110
notification API 16 Android 4.1 added
expanded controls so here you'll get a

00:27:44.110 --> 00:27:44.120
expanded controls so here you'll get a
 

00:27:44.120 --> 00:27:47.710
expanded controls so here you'll get a
larger image for album art and you'll

00:27:47.710 --> 00:27:47.720
larger image for album art and you'll
 

00:27:47.720 --> 00:27:51.490
larger image for album art and you'll
get up to five controls and in lollipop

00:27:51.490 --> 00:27:51.500
get up to five controls and in lollipop
 

00:27:51.500 --> 00:27:53.140
get up to five controls and in lollipop
we actually switch over to the framework

00:27:53.140 --> 00:27:53.150
we actually switch over to the framework
 

00:27:53.150 --> 00:27:55.900
we actually switch over to the framework
media style so basically from there on

00:27:55.900 --> 00:27:55.910
media style so basically from there on
 

00:27:55.910 --> 00:27:58.000
media style so basically from there on
out you'll actually have the exact

00:27:58.000 --> 00:27:58.010
out you'll actually have the exact
 

00:27:58.010 --> 00:28:00.760
out you'll actually have the exact
styling across every device and it'll

00:28:00.760 --> 00:28:00.770
styling across every device and it'll
 

00:28:00.770 --> 00:28:04.480
styling across every device and it'll
look just like any system one now one

00:28:04.480 --> 00:28:04.490
look just like any system one now one
 

00:28:04.490 --> 00:28:06.520
look just like any system one now one
thing to note is that all of this

00:28:06.520 --> 00:28:06.530
thing to note is that all of this
 

00:28:06.530 --> 00:28:09.520
thing to note is that all of this
notification compat is in app compat not

00:28:09.520 --> 00:28:09.530
notification compat is in app compat not
 

00:28:09.530 --> 00:28:12.100
notification compat is in app compat not
necessarily in the support before or

00:28:12.100 --> 00:28:12.110
necessarily in the support before or
 

00:28:12.110 --> 00:28:12.940
necessarily in the support before or
just where all the rest of the

00:28:12.940 --> 00:28:12.950
just where all the rest of the
 

00:28:12.950 --> 00:28:15.310
just where all the rest of the
notification compat stuff is so just

00:28:15.310 --> 00:28:15.320
notification compat stuff is so just
 

00:28:15.320 --> 00:28:19.060
notification compat stuff is so just
keep aware of that now I like writing

00:28:19.060 --> 00:28:19.070
keep aware of that now I like writing
 

00:28:19.070 --> 00:28:22.180
keep aware of that now I like writing
boilerplate code once I never want you

00:28:22.180 --> 00:28:22.190
boilerplate code once I never want you
 

00:28:22.190 --> 00:28:24.820
boilerplate code once I never want you
to write weather plate code so I've come

00:28:24.820 --> 00:28:24.830
to write weather plate code so I've come
 

00:28:24.830 --> 00:28:26.740
to write weather plate code so I've come
up with kind of a media style helper

00:28:26.740 --> 00:28:26.750
up with kind of a media style helper
 

00:28:26.750 --> 00:28:28.660
up with kind of a media style helper
class which kind of does a lot of the

00:28:28.660 --> 00:28:28.670
class which kind of does a lot of the
 

00:28:28.670 --> 00:28:31.090
class which kind of does a lot of the
building picking in a media session and

00:28:31.090 --> 00:28:31.100
building picking in a media session and
 

00:28:31.100 --> 00:28:33.100
building picking in a media session and
then building out a notification compat

00:28:33.100 --> 00:28:33.110
then building out a notification compat
 

00:28:33.110 --> 00:28:39.040
then building out a notification compat
for you so we can actually extract a lot

00:28:39.040 --> 00:28:39.050
for you so we can actually extract a lot
 

00:28:39.050 --> 00:28:41.320
for you so we can actually extract a lot
of information if we've set our media

00:28:41.320 --> 00:28:41.330
of information if we've set our media
 

00:28:41.330 --> 00:28:44.080
of information if we've set our media
metadata in fact media metadata has a

00:28:44.080 --> 00:28:44.090
metadata in fact media metadata has a
 

00:28:44.090 --> 00:28:45.970
metadata in fact media metadata has a
very nice method called get description

00:28:45.970 --> 00:28:45.980
very nice method called get description
 

00:28:45.980 --> 00:28:47.860
very nice method called get description
which kind of extracts the most

00:28:47.860 --> 00:28:47.870
which kind of extracts the most
 

00:28:47.870 --> 00:28:50.590
which kind of extracts the most
important information those information

00:28:50.590 --> 00:28:50.600
important information those information
 

00:28:50.600 --> 00:28:53.590
important information those information
we pulled out that we called out earlier

00:28:53.590 --> 00:28:53.600
we pulled out that we called out earlier
 

00:28:53.600 --> 00:28:55.990
we pulled out that we called out earlier
such as title and artist and actually

00:28:55.990 --> 00:28:56.000
such as title and artist and actually
 

00:28:56.000 --> 00:28:56.620
such as title and artist and actually
allows us to

00:28:56.620 --> 00:28:56.630
allows us to
 

00:28:56.630 --> 00:28:58.990
allows us to
builds our whole notification directly

00:28:58.990 --> 00:28:59.000
builds our whole notification directly
 

00:28:59.000 --> 00:29:01.450
builds our whole notification directly
from that getting title get our

00:29:01.450 --> 00:29:01.460
from that getting title get our
 

00:29:01.460 --> 00:29:03.790
from that getting title get our
description doing all this work for you

00:29:03.790 --> 00:29:03.800
description doing all this work for you
 

00:29:03.800 --> 00:29:05.470
description doing all this work for you
so you don't have to do this boilerplate

00:29:05.470 --> 00:29:05.480
so you don't have to do this boilerplate
 

00:29:05.480 --> 00:29:08.550
so you don't have to do this boilerplate
work in fact we can actually pull out a

00:29:08.550 --> 00:29:08.560
work in fact we can actually pull out a
 

00:29:08.560 --> 00:29:14.040
work in fact we can actually pull out a
session activity if you've set it via

00:29:14.040 --> 00:29:14.050
session activity if you've set it via
 

00:29:14.050 --> 00:29:17.170
session activity if you've set it via
mediasessioncompat set session activity

00:29:17.170 --> 00:29:17.180
mediasessioncompat set session activity
 

00:29:17.180 --> 00:29:19.410
mediasessioncompat set session activity
to launch your activity automatically

00:29:19.410 --> 00:29:19.420
to launch your activity automatically
 

00:29:19.420 --> 00:29:24.340
to launch your activity automatically
now on 5.0 plus you can actually hide

00:29:24.340 --> 00:29:24.350
now on 5.0 plus you can actually hide
 

00:29:24.350 --> 00:29:27.430
now on 5.0 plus you can actually hide
notification contacts on the lock screen

00:29:27.430 --> 00:29:27.440
notification contacts on the lock screen
 

00:29:27.440 --> 00:29:30.250
notification contacts on the lock screen
but generally we actually do want to

00:29:30.250 --> 00:29:30.260
but generally we actually do want to
 

00:29:30.260 --> 00:29:33.700
but generally we actually do want to
show media controls on lock screen even

00:29:33.700 --> 00:29:33.710
show media controls on lock screen even
 

00:29:33.710 --> 00:29:35.380
show media controls on lock screen even
in those cases so we can set it as

00:29:35.380 --> 00:29:35.390
in those cases so we can set it as
 

00:29:35.390 --> 00:29:39.640
in those cases so we can set it as
public now you'll note here for the

00:29:39.640 --> 00:29:39.650
public now you'll note here for the
 

00:29:39.650 --> 00:29:41.230
public now you'll note here for the
delete intent which is when a

00:29:41.230 --> 00:29:41.240
delete intent which is when a
 

00:29:41.240 --> 00:29:43.330
delete intent which is when a
notification is swiped away we're

00:29:43.330 --> 00:29:43.340
notification is swiped away we're
 

00:29:43.340 --> 00:29:44.860
notification is swiped away we're
actually using a separate helper called

00:29:44.860 --> 00:29:44.870
actually using a separate helper called
 

00:29:44.870 --> 00:29:48.190
actually using a separate helper called
get action intent which you'll pass in a

00:29:48.190 --> 00:29:48.200
get action intent which you'll pass in a
 

00:29:48.200 --> 00:29:50.560
get action intent which you'll pass in a
key event and then it'll automatically

00:29:50.560 --> 00:29:50.570
key event and then it'll automatically
 

00:29:50.570 --> 00:29:52.800
key event and then it'll automatically
create the pending intent for you

00:29:52.800 --> 00:29:52.810
create the pending intent for you
 

00:29:52.810 --> 00:29:55.360
create the pending intent for you
thankfully that's another easy method

00:29:55.360 --> 00:29:55.370
thankfully that's another easy method
 

00:29:55.370 --> 00:29:57.070
thankfully that's another easy method
that I've created and both of these

00:29:57.070 --> 00:29:57.080
that I've created and both of these
 

00:29:57.080 --> 00:30:01.240
that I've created and both of these
methods are on it just on github which

00:30:01.240 --> 00:30:01.250
methods are on it just on github which
 

00:30:01.250 --> 00:30:03.190
methods are on it just on github which
means you don't have to write it ever

00:30:03.190 --> 00:30:03.200
means you don't have to write it ever
 

00:30:03.200 --> 00:30:06.670
means you don't have to write it ever
again it's fantastic so we can't

00:30:06.670 --> 00:30:06.680
again it's fantastic so we can't
 

00:30:06.680 --> 00:30:08.800
again it's fantastic so we can't
actually just stick with something very

00:30:08.800 --> 00:30:08.810
actually just stick with something very
 

00:30:08.810 --> 00:30:11.770
actually just stick with something very
simple in fact when you create it from

00:30:11.770 --> 00:30:11.780
simple in fact when you create it from
 

00:30:11.780 --> 00:30:13.840
simple in fact when you create it from
our notification and then we'll want to

00:30:13.840 --> 00:30:13.850
our notification and then we'll want to
 

00:30:13.850 --> 00:30:15.790
our notification and then we'll want to
set kind of the small icon right that

00:30:15.790 --> 00:30:15.800
set kind of the small icon right that
 

00:30:15.800 --> 00:30:18.610
set kind of the small icon right that
appears on the top and then set the

00:30:18.610 --> 00:30:18.620
appears on the top and then set the
 

00:30:18.620 --> 00:30:20.680
appears on the top and then set the
color now color works a little bit

00:30:20.680 --> 00:30:20.690
color now color works a little bit
 

00:30:20.690 --> 00:30:22.680
color now color works a little bit
different from media style notifications

00:30:22.680 --> 00:30:22.690
different from media style notifications
 

00:30:22.690 --> 00:30:26.050
different from media style notifications
if you ever seen a notification on 5.0

00:30:26.050 --> 00:30:26.060
if you ever seen a notification on 5.0
 

00:30:26.060 --> 00:30:28.720
if you ever seen a notification on 5.0
plus the small icon right the app icon

00:30:28.720 --> 00:30:28.730
plus the small icon right the app icon
 

00:30:28.730 --> 00:30:31.000
plus the small icon right the app icon
can be colorized in the background

00:30:31.000 --> 00:30:31.010
can be colorized in the background
 

00:30:31.010 --> 00:30:32.440
can be colorized in the background
you'll see a lot of Google apps do this

00:30:32.440 --> 00:30:32.450
you'll see a lot of Google apps do this
 

00:30:32.450 --> 00:30:34.990
you'll see a lot of Google apps do this
in media style notifications it actually

00:30:34.990 --> 00:30:35.000
in media style notifications it actually
 

00:30:35.000 --> 00:30:37.780
in media style notifications it actually
is the whole background of the entire

00:30:37.780 --> 00:30:37.790
is the whole background of the entire
 

00:30:37.790 --> 00:30:40.660
is the whole background of the entire
notification so if you're using bright

00:30:40.660 --> 00:30:40.670
notification so if you're using bright
 

00:30:40.670 --> 00:30:44.010
notification so if you're using bright
orange I want to stab your eyes out

00:30:44.010 --> 00:30:44.020
orange I want to stab your eyes out
 

00:30:44.020 --> 00:30:47.260
orange I want to stab your eyes out
don't use bright orange or any color

00:30:47.260 --> 00:30:47.270
don't use bright orange or any color
 

00:30:47.270 --> 00:30:49.300
don't use bright orange or any color
that you know really you want to test it

00:30:49.300 --> 00:30:49.310
that you know really you want to test it
 

00:30:49.310 --> 00:30:50.770
that you know really you want to test it
out and make sure that the color that

00:30:50.770 --> 00:30:50.780
out and make sure that the color that
 

00:30:50.780 --> 00:30:53.290
out and make sure that the color that
you're setting makes sense with your

00:30:53.290 --> 00:30:53.300
you're setting makes sense with your
 

00:30:53.300 --> 00:30:55.890
you're setting makes sense with your
actual color palette and doesn't look

00:30:55.890 --> 00:30:55.900
actual color palette and doesn't look
 

00:30:55.900 --> 00:30:57.850
actual color palette and doesn't look
ridiculous because it has a strong

00:30:57.850 --> 00:30:57.860
ridiculous because it has a strong
 

00:30:57.860 --> 00:31:01.780
ridiculous because it has a strong
chance of looking ridiculous now media

00:31:01.780 --> 00:31:01.790
chance of looking ridiculous now media
 

00:31:01.790 --> 00:31:03.640
chance of looking ridiculous now media
styles wouldn't really be much of

00:31:03.640 --> 00:31:03.650
styles wouldn't really be much of
 

00:31:03.650 --> 00:31:05.500
styles wouldn't really be much of
anything without actions so here I'm

00:31:05.500 --> 00:31:05.510
anything without actions so here I'm
 

00:31:05.510 --> 00:31:07.690
anything without actions so here I'm
adding a pause action using our get

00:31:07.690 --> 00:31:07.700
adding a pause action using our get
 

00:31:07.700 --> 00:31:10.350
adding a pause action using our get
action intent and then our style

00:31:10.350 --> 00:31:10.360
action intent and then our style
 

00:31:10.360 --> 00:31:12.240
action intent and then our style
actually just uses two methods one

00:31:12.240 --> 00:31:12.250
actually just uses two methods one
 

00:31:12.250 --> 00:31:14.640
actually just uses two methods one
called this set show actions in compact

00:31:14.640 --> 00:31:14.650
called this set show actions in compact
 

00:31:14.650 --> 00:31:17.370
called this set show actions in compact
view so this is what's that's what

00:31:17.370 --> 00:31:17.380
view so this is what's that's what
 

00:31:17.380 --> 00:31:19.620
view so this is what's that's what
actions appear in that single line view

00:31:19.620 --> 00:31:19.630
actions appear in that single line view
 

00:31:19.630 --> 00:31:21.960
actions appear in that single line view
by default none will so you probably

00:31:21.960 --> 00:31:21.970
by default none will so you probably
 

00:31:21.970 --> 00:31:25.470
by default none will so you probably
want to set some zero index array of

00:31:25.470 --> 00:31:25.480
want to set some zero index array of
 

00:31:25.480 --> 00:31:27.450
want to set some zero index array of
what buttons to have so if you want the

00:31:27.450 --> 00:31:27.460
what buttons to have so if you want the
 

00:31:27.460 --> 00:31:29.550
what buttons to have so if you want the
second button you've added you dad

00:31:29.550 --> 00:31:29.560
second button you've added you dad
 

00:31:29.560 --> 00:31:31.500
second button you've added you dad
button one if you want the second and

00:31:31.500 --> 00:31:31.510
button one if you want the second and
 

00:31:31.510 --> 00:31:35.940
button one if you want the second and
third one in two cetera and then the

00:31:35.940 --> 00:31:35.950
third one in two cetera and then the
 

00:31:35.950 --> 00:31:38.790
third one in two cetera and then the
last part which is super critical but if

00:31:38.790 --> 00:31:38.800
last part which is super critical but if
 

00:31:38.800 --> 00:31:41.760
last part which is super critical but if
you forget it people hate you is media

00:31:41.760 --> 00:31:41.770
you forget it people hate you is media
 

00:31:41.770 --> 00:31:44.370
you forget it people hate you is media
session so the set media session is

00:31:44.370 --> 00:31:44.380
session so the set media session is
 

00:31:44.380 --> 00:31:45.870
session so the set media session is
actually what allows you our

00:31:45.870 --> 00:31:45.880
actually what allows you our
 

00:31:45.880 --> 00:31:48.510
actually what allows you our
notification to work on Android wear if

00:31:48.510 --> 00:31:48.520
notification to work on Android wear if
 

00:31:48.520 --> 00:31:51.000
notification to work on Android wear if
you don't set this then you'll get a

00:31:51.000 --> 00:31:51.010
you don't set this then you'll get a
 

00:31:51.010 --> 00:31:53.250
you don't set this then you'll get a
beautiful notification on edit where and

00:31:53.250 --> 00:31:53.260
beautiful notification on edit where and
 

00:31:53.260 --> 00:31:54.480
beautiful notification on edit where and
then you hit the pause button and

00:31:54.480 --> 00:31:54.490
then you hit the pause button and
 

00:31:54.490 --> 00:31:58.410
then you hit the pause button and
nothing happens we're spilling in the

00:31:58.410 --> 00:31:58.420
nothing happens we're spilling in the
 

00:31:58.420 --> 00:32:00.420
nothing happens we're spilling in the
world oh wow that looks amazing and

00:32:00.420 --> 00:32:00.430
world oh wow that looks amazing and
 

00:32:00.430 --> 00:32:03.540
world oh wow that looks amazing and
nothing happens but what it's actually

00:32:03.540 --> 00:32:03.550
nothing happens but what it's actually
 

00:32:03.550 --> 00:32:06.480
nothing happens but what it's actually
doing is it's using a session token but

00:32:06.480 --> 00:32:06.490
doing is it's using a session token but
 

00:32:06.490 --> 00:32:08.720
doing is it's using a session token but
it's kind of a unique identifier for

00:32:08.720 --> 00:32:08.730
it's kind of a unique identifier for
 

00:32:08.730 --> 00:32:11.730
it's kind of a unique identifier for
session and passing that on to apps like

00:32:11.730 --> 00:32:11.740
session and passing that on to apps like
 

00:32:11.740 --> 00:32:13.950
session and passing that on to apps like
Android wear such that they can control

00:32:13.950 --> 00:32:13.960
Android wear such that they can control
 

00:32:13.960 --> 00:32:15.900
Android wear such that they can control
your audio and give you callbacks in

00:32:15.900 --> 00:32:15.910
your audio and give you callbacks in
 

00:32:15.910 --> 00:32:20.040
your audio and give you callbacks in
your callback so you've added our

00:32:20.040 --> 00:32:20.050
your callback so you've added our
 

00:32:20.050 --> 00:32:21.870
your callback so you've added our
notification we'll want to show it as

00:32:21.870 --> 00:32:21.880
notification we'll want to show it as
 

00:32:21.880 --> 00:32:24.210
notification we'll want to show it as
soon as we start playing I will want to

00:32:24.210 --> 00:32:24.220
soon as we start playing I will want to
 

00:32:24.220 --> 00:32:26.670
soon as we start playing I will want to
update it anytime the states changed and

00:32:26.670 --> 00:32:26.680
update it anytime the states changed and
 

00:32:26.680 --> 00:32:28.830
update it anytime the states changed and
then of course remove it when we've

00:32:28.830 --> 00:32:28.840
then of course remove it when we've
 

00:32:28.840 --> 00:32:34.080
then of course remove it when we've
stopped and are all done but talked

00:32:34.080 --> 00:32:34.090
stopped and are all done but talked
 

00:32:34.090 --> 00:32:36.060
stopped and are all done but talked
about notifications now turns out that

00:32:36.060 --> 00:32:36.070
about notifications now turns out that
 

00:32:36.070 --> 00:32:38.100
about notifications now turns out that
there's this concept called foreground

00:32:38.100 --> 00:32:38.110
there's this concept called foreground
 

00:32:38.110 --> 00:32:40.250
there's this concept called foreground
services which kind of raised our

00:32:40.250 --> 00:32:40.260
services which kind of raised our
 

00:32:40.260 --> 00:32:43.140
services which kind of raised our
background services priority to a higher

00:32:43.140 --> 00:32:43.150
background services priority to a higher
 

00:32:43.150 --> 00:32:45.740
background services priority to a higher
level such that it won't get killed now

00:32:45.740 --> 00:32:45.750
level such that it won't get killed now
 

00:32:45.750 --> 00:32:48.030
level such that it won't get killed now
foreground services require a

00:32:48.030 --> 00:32:48.040
foreground services require a
 

00:32:48.040 --> 00:32:50.280
foreground services require a
notification which thankfully we just

00:32:50.280 --> 00:32:50.290
notification which thankfully we just
 

00:32:50.290 --> 00:32:52.770
notification which thankfully we just
built so we can't actually take

00:32:52.770 --> 00:32:52.780
built so we can't actually take
 

00:32:52.780 --> 00:32:56.760
built so we can't actually take
advantage of this for our media service

00:32:56.760 --> 00:32:56.770
advantage of this for our media service
 

00:32:56.770 --> 00:32:58.890
advantage of this for our media service
now it's actually really important

00:32:58.890 --> 00:32:58.900
now it's actually really important
 

00:32:58.900 --> 00:33:01.380
now it's actually really important
because we really don't want our service

00:33:01.380 --> 00:33:01.390
because we really don't want our service
 

00:33:01.390 --> 00:33:04.440
because we really don't want our service
which is playing audio to die in the

00:33:04.440 --> 00:33:04.450
which is playing audio to die in the
 

00:33:04.450 --> 00:33:06.270
which is playing audio to die in the
middle of things just because someone

00:33:06.270 --> 00:33:06.280
middle of things just because someone
 

00:33:06.280 --> 00:33:08.280
middle of things just because someone
launches chrome and it takes up all the

00:33:08.280 --> 00:33:08.290
launches chrome and it takes up all the
 

00:33:08.290 --> 00:33:11.430
launches chrome and it takes up all the
resources on your Android device believe

00:33:11.430 --> 00:33:11.440
resources on your Android device believe
 

00:33:11.440 --> 00:33:14.000
resources on your Android device believe
me they're working on it

00:33:14.000 --> 00:33:14.010
me they're working on it
 

00:33:14.010 --> 00:33:17.610
me they're working on it
but what we want is we want our service

00:33:17.610 --> 00:33:17.620
but what we want is we want our service
 

00:33:17.620 --> 00:33:20.340
but what we want is we want our service
because it is actively playing music to

00:33:20.340 --> 00:33:20.350
because it is actively playing music to
 

00:33:20.350 --> 00:33:22.290
because it is actively playing music to
live just a little bit longer and

00:33:22.290 --> 00:33:22.300
live just a little bit longer and
 

00:33:22.300 --> 00:33:25.470
live just a little bit longer and
hopefully survive forever

00:33:25.470 --> 00:33:25.480
hopefully survive forever
 

00:33:25.480 --> 00:33:27.870
hopefully survive forever
there's one caveat though once you've

00:33:27.870 --> 00:33:27.880
there's one caveat though once you've
 

00:33:27.880 --> 00:33:30.630
there's one caveat though once you've
started a notification with start

00:33:30.630 --> 00:33:30.640
started a notification with start
 

00:33:30.640 --> 00:33:35.070
started a notification with start
foreground pre lollipop it was on going

00:33:35.070 --> 00:33:35.080
foreground pre lollipop it was on going
 

00:33:35.080 --> 00:33:37.470
foreground pre lollipop it was on going
forever could never swipe it away

00:33:37.470 --> 00:33:37.480
forever could never swipe it away
 

00:33:37.480 --> 00:33:40.710
forever could never swipe it away
which was actually super frustrating so

00:33:40.710 --> 00:33:40.720
which was actually super frustrating so
 

00:33:40.720 --> 00:33:44.130
which was actually super frustrating so
we fixed it but it actually effects

00:33:44.130 --> 00:33:44.140
we fixed it but it actually effects
 

00:33:44.140 --> 00:33:47.370
we fixed it but it actually effects
media notifications the most because if

00:33:47.370 --> 00:33:47.380
media notifications the most because if
 

00:33:47.380 --> 00:33:49.230
media notifications the most because if
you think about it you're going from a

00:33:49.230 --> 00:33:49.240
you think about it you're going from a
 

00:33:49.240 --> 00:33:51.930
you think about it you're going from a
foreground I'm playing audio to being

00:33:51.930 --> 00:33:51.940
foreground I'm playing audio to being
 

00:33:51.940 --> 00:33:55.590
foreground I'm playing audio to being
paused not foreground very often and you

00:33:55.590 --> 00:33:55.600
paused not foreground very often and you
 

00:33:55.600 --> 00:33:56.790
paused not foreground very often and you
don't like your notification being

00:33:56.790 --> 00:33:56.800
don't like your notification being
 

00:33:56.800 --> 00:33:59.900
don't like your notification being
completely remove removed and Reap it in

00:33:59.900 --> 00:33:59.910
completely remove removed and Reap it in
 

00:33:59.910 --> 00:34:05.810
completely remove removed and Reap it in
because it looks really janky so our

00:34:05.810 --> 00:34:05.820
because it looks really janky so our
 

00:34:05.820 --> 00:34:08.159
because it looks really janky so our
media style actually gives us two

00:34:08.159 --> 00:34:08.169
media style actually gives us two
 

00:34:08.169 --> 00:34:10.440
media style actually gives us two
methods which allow you to kind of work

00:34:10.440 --> 00:34:10.450
methods which allow you to kind of work
 

00:34:10.450 --> 00:34:13.310
methods which allow you to kind of work
around that setting a cancel intent and

00:34:13.310 --> 00:34:13.320
around that setting a cancel intent and
 

00:34:13.320 --> 00:34:15.930
around that setting a cancel intent and
basically this just adds a little X in

00:34:15.930 --> 00:34:15.940
basically this just adds a little X in
 

00:34:15.940 --> 00:34:18.090
basically this just adds a little X in
the corner of your media notification

00:34:18.090 --> 00:34:18.100
the corner of your media notification
 

00:34:18.100 --> 00:34:19.980
the corner of your media notification
which allows them even if they are on

00:34:19.980 --> 00:34:19.990
which allows them even if they are on
 

00:34:19.990 --> 00:34:22.619
which allows them even if they are on
going forever and you're annoying users

00:34:22.619 --> 00:34:22.629
going forever and you're annoying users
 

00:34:22.629 --> 00:34:25.020
going forever and you're annoying users
to no end they can just hit the X and

00:34:25.020 --> 00:34:25.030
to no end they can just hit the X and
 

00:34:25.030 --> 00:34:27.210
to no end they can just hit the X and
close out your notification in this case

00:34:27.210 --> 00:34:27.220
close out your notification in this case
 

00:34:27.220 --> 00:34:29.639
close out your notification in this case
we'll set the intent to just be a media

00:34:29.639 --> 00:34:29.649
we'll set the intent to just be a media
 

00:34:29.649 --> 00:34:33.090
we'll set the intent to just be a media
stop just like it got swiped away so it

00:34:33.090 --> 00:34:33.100
stop just like it got swiped away so it
 

00:34:33.100 --> 00:34:35.250
stop just like it got swiped away so it
always is a the same whether it's free

00:34:35.250 --> 00:34:35.260
always is a the same whether it's free
 

00:34:35.260 --> 00:34:38.159
always is a the same whether it's free
lollipop or post lollipop nicely enough

00:34:38.159 --> 00:34:38.169
lollipop or post lollipop nicely enough
 

00:34:38.169 --> 00:34:40.680
lollipop or post lollipop nicely enough
on lollipop these methods just don't do

00:34:40.680 --> 00:34:40.690
on lollipop these methods just don't do
 

00:34:40.690 --> 00:34:42.450
on lollipop these methods just don't do
anything because it doesn't apply on

00:34:42.450 --> 00:34:42.460
anything because it doesn't apply on
 

00:34:42.460 --> 00:34:44.250
anything because it doesn't apply on
those levels you'll be able to swipe it

00:34:44.250 --> 00:34:44.260
those levels you'll be able to swipe it
 

00:34:44.260 --> 00:34:48.030
those levels you'll be able to swipe it
away as soon as you say stop foreground

00:34:48.030 --> 00:34:48.040
away as soon as you say stop foreground
 

00:34:48.040 --> 00:34:48.629
away as soon as you say stop foreground
false

00:34:48.629 --> 00:34:48.639
false
 

00:34:48.639 --> 00:34:51.780
false
so stop foreground false means I don't

00:34:51.780 --> 00:34:51.790
so stop foreground false means I don't
 

00:34:51.790 --> 00:34:53.639
so stop foreground false means I don't
want to be a foreground service anymore

00:34:53.639 --> 00:34:53.649
want to be a foreground service anymore
 

00:34:53.649 --> 00:34:56.129
want to be a foreground service anymore
but keep my notification up there right

00:34:56.129 --> 00:34:56.139
but keep my notification up there right
 

00:34:56.139 --> 00:34:59.010
but keep my notification up there right
I'm still still alive right but I don't

00:34:59.010 --> 00:34:59.020
I'm still still alive right but I don't
 

00:34:59.020 --> 00:35:01.370
I'm still still alive right but I don't
necessarily have the requirement to be

00:35:01.370 --> 00:35:01.380
necessarily have the requirement to be
 

00:35:01.380 --> 00:35:04.410
necessarily have the requirement to be
at the top of the priority list right if

00:35:04.410 --> 00:35:04.420
at the top of the priority list right if
 

00:35:04.420 --> 00:35:07.290
at the top of the priority list right if
their music is paused forever right

00:35:07.290 --> 00:35:07.300
their music is paused forever right
 

00:35:07.300 --> 00:35:08.910
their music is paused forever right
users probably won't notice if it

00:35:08.910 --> 00:35:08.920
users probably won't notice if it
 

00:35:08.920 --> 00:35:11.370
users probably won't notice if it
actually gets destroyed or not and if

00:35:11.370 --> 00:35:11.380
actually gets destroyed or not and if
 

00:35:11.380 --> 00:35:13.230
actually gets destroyed or not and if
you're really under memory pressure it

00:35:13.230 --> 00:35:13.240
you're really under memory pressure it
 

00:35:13.240 --> 00:35:15.150
you're really under memory pressure it
is kind of important to be able to have

00:35:15.150 --> 00:35:15.160
is kind of important to be able to have
 

00:35:15.160 --> 00:35:18.840
is kind of important to be able to have
Android clean up your service so we've

00:35:18.840 --> 00:35:18.850
Android clean up your service so we've
 

00:35:18.850 --> 00:35:22.140
Android clean up your service so we've
actually done a lot right we're playing

00:35:22.140 --> 00:35:22.150
actually done a lot right we're playing
 

00:35:22.150 --> 00:35:24.060
actually done a lot right we're playing
we're pausing we're stopping not

00:35:24.060 --> 00:35:24.070
we're pausing we're stopping not
 

00:35:24.070 --> 00:35:25.950
we're pausing we're stopping not
stepping on other apps Bluetooth

00:35:25.950 --> 00:35:25.960
stepping on other apps Bluetooth
 

00:35:25.960 --> 00:35:27.960
stepping on other apps Bluetooth
controls work lock screens media

00:35:27.960 --> 00:35:27.970
controls work lock screens media
 

00:35:27.970 --> 00:35:29.970
controls work lock screens media
controls the notifications Android wear

00:35:29.970 --> 00:35:29.980
controls the notifications Android wear
 

00:35:29.980 --> 00:35:32.340
controls the notifications Android wear
and we're reliable under memory pressure

00:35:32.340 --> 00:35:32.350
and we're reliable under memory pressure
 

00:35:32.350 --> 00:35:34.290
and we're reliable under memory pressure
that's pretty good

00:35:34.290 --> 00:35:34.300
that's pretty good
 

00:35:34.300 --> 00:35:37.620
that's pretty good
now you just forgot one little thing

00:35:37.620 --> 00:35:37.630
now you just forgot one little thing
 

00:35:37.630 --> 00:35:39.480
now you just forgot one little thing
an app that has you why that has

00:35:39.480 --> 00:35:39.490
an app that has you why that has
 

00:35:39.490 --> 00:35:41.999
an app that has you why that has
controls and we haven't talked all about

00:35:41.999 --> 00:35:42.009
controls and we haven't talked all about
 

00:35:42.009 --> 00:35:45.839
controls and we haven't talked all about
how that service interacts with your

00:35:45.839 --> 00:35:45.849
how that service interacts with your
 

00:35:45.849 --> 00:35:48.809
how that service interacts with your
actual UI now you could be doing

00:35:48.809 --> 00:35:48.819
actual UI now you could be doing
 

00:35:48.819 --> 00:35:50.819
actual UI now you could be doing
something super simple and saying just

00:35:50.819 --> 00:35:50.829
something super simple and saying just
 

00:35:50.829 --> 00:35:54.210
something super simple and saying just
start service with custom actions but it

00:35:54.210 --> 00:35:54.220
start service with custom actions but it
 

00:35:54.220 --> 00:35:55.400
start service with custom actions but it
doesn't get you the two-way

00:35:55.400 --> 00:35:55.410
doesn't get you the two-way
 

00:35:55.410 --> 00:35:58.289
doesn't get you the two-way
communication you want you want so that

00:35:58.289 --> 00:35:58.299
communication you want you want so that
 

00:35:58.299 --> 00:36:00.599
communication you want you want so that
when the service switches to the next

00:36:00.599 --> 00:36:00.609
when the service switches to the next
 

00:36:00.609 --> 00:36:05.430
when the service switches to the next
song your UI stays in sync and ideally

00:36:05.430 --> 00:36:05.440
song your UI stays in sync and ideally
 

00:36:05.440 --> 00:36:07.559
song your UI stays in sync and ideally
we'd want actually reuse those callbacks

00:36:07.559 --> 00:36:07.569
we'd want actually reuse those callbacks
 

00:36:07.569 --> 00:36:09.870
we'd want actually reuse those callbacks
we were using so that when someone hits

00:36:09.870 --> 00:36:09.880
we were using so that when someone hits
 

00:36:09.880 --> 00:36:13.259
we were using so that when someone hits
play or pause in your UI your callbacks

00:36:13.259 --> 00:36:13.269
play or pause in your UI your callbacks
 

00:36:13.269 --> 00:36:15.180
play or pause in your UI your callbacks
you've already set up for media buttons

00:36:15.180 --> 00:36:15.190
you've already set up for media buttons
 

00:36:15.190 --> 00:36:18.170
you've already set up for media buttons
are automatically handling those things

00:36:18.170 --> 00:36:18.180
are automatically handling those things
 

00:36:18.180 --> 00:36:20.579
are automatically handling those things
sounds pretty amazing right so we built

00:36:20.579 --> 00:36:20.589
sounds pretty amazing right so we built
 

00:36:20.589 --> 00:36:26.069
sounds pretty amazing right so we built
a cosplay built a lot of classes media

00:36:26.069 --> 00:36:26.079
a cosplay built a lot of classes media
 

00:36:26.079 --> 00:36:28.440
a cosplay built a lot of classes media
controller compatible of that for you

00:36:28.440 --> 00:36:28.450
controller compatible of that for you
 

00:36:28.450 --> 00:36:30.690
controller compatible of that for you
once you've connected to it then you'll

00:36:30.690 --> 00:36:30.700
once you've connected to it then you'll
 

00:36:30.700 --> 00:36:33.210
once you've connected to it then you'll
actually get access to all of the

00:36:33.210 --> 00:36:33.220
actually get access to all of the
 

00:36:33.220 --> 00:36:35.220
actually get access to all of the
metadata you've set you can tell what

00:36:35.220 --> 00:36:35.230
metadata you've set you can tell what
 

00:36:35.230 --> 00:36:38.370
metadata you've set you can tell what
the current playing track is all of the

00:36:38.370 --> 00:36:38.380
the current playing track is all of the
 

00:36:38.380 --> 00:36:40.289
the current playing track is all of the
state so you can tell if you are playing

00:36:40.289 --> 00:36:40.299
state so you can tell if you are playing
 

00:36:40.299 --> 00:36:43.519
state so you can tell if you are playing
or paused and what position you are as

00:36:43.519 --> 00:36:43.529
or paused and what position you are as
 

00:36:43.529 --> 00:36:46.799
or paused and what position you are as
well as transport controls so these are

00:36:46.799 --> 00:36:46.809
well as transport controls so these are
 

00:36:46.809 --> 00:36:50.190
well as transport controls so these are
the methods of like play pause skip to

00:36:50.190 --> 00:36:50.200
the methods of like play pause skip to
 

00:36:50.200 --> 00:36:52.319
the methods of like play pause skip to
next right kind of useful things to have

00:36:52.319 --> 00:36:52.329
next right kind of useful things to have
 

00:36:52.329 --> 00:36:54.720
next right kind of useful things to have
and these pipe directly into your

00:36:54.720 --> 00:36:54.730
and these pipe directly into your
 

00:36:54.730 --> 00:36:57.809
and these pipe directly into your
callbacks right there's no extra layers

00:36:57.809 --> 00:36:57.819
callbacks right there's no extra layers
 

00:36:57.819 --> 00:37:00.749
callbacks right there's no extra layers
you need to build no callback craziness

00:37:00.749 --> 00:37:00.759
you need to build no callback craziness
 

00:37:00.759 --> 00:37:03.390
you need to build no callback craziness
it's just already built before you in

00:37:03.390 --> 00:37:03.400
it's just already built before you in
 

00:37:03.400 --> 00:37:10.019
it's just already built before you in
part of transport controls and because

00:37:10.019 --> 00:37:10.029
part of transport controls and because
 

00:37:10.029 --> 00:37:12.539
part of transport controls and because
no one likes pulling for media changes

00:37:12.539 --> 00:37:12.549
no one likes pulling for media changes
 

00:37:12.549 --> 00:37:14.910
no one likes pulling for media changes
you actually get a set of callbacks

00:37:14.910 --> 00:37:14.920
you actually get a set of callbacks
 

00:37:14.920 --> 00:37:16.470
you actually get a set of callbacks
so these callbacks are the things that

00:37:16.470 --> 00:37:16.480
so these callbacks are the things that
 

00:37:16.480 --> 00:37:18.839
so these callbacks are the things that
say like oh the media metadata has

00:37:18.839 --> 00:37:18.849
say like oh the media metadata has
 

00:37:18.849 --> 00:37:20.670
say like oh the media metadata has
changed we've switched to the next track

00:37:20.670 --> 00:37:20.680
changed we've switched to the next track
 

00:37:20.680 --> 00:37:23.640
changed we've switched to the next track
oh we went to buffering right instead of

00:37:23.640 --> 00:37:23.650
oh we went to buffering right instead of
 

00:37:23.650 --> 00:37:25.410
oh we went to buffering right instead of
having to pull your service or have your

00:37:25.410 --> 00:37:25.420
having to pull your service or have your
 

00:37:25.420 --> 00:37:27.569
having to pull your service or have your
service send notifications every time

00:37:27.569 --> 00:37:27.579
service send notifications every time
 

00:37:27.579 --> 00:37:30.390
service send notifications every time
whenever you call set state or set

00:37:30.390 --> 00:37:30.400
whenever you call set state or set
 

00:37:30.400 --> 00:37:32.579
whenever you call set state or set
metadata which we're already doing right

00:37:32.579 --> 00:37:32.589
metadata which we're already doing right
 

00:37:32.589 --> 00:37:35.430
metadata which we're already doing right
then our callback will instantly get a

00:37:35.430 --> 00:37:35.440
then our callback will instantly get a
 

00:37:35.440 --> 00:37:37.740
then our callback will instantly get a
callback saying like hey the metadata

00:37:37.740 --> 00:37:37.750
callback saying like hey the metadata
 

00:37:37.750 --> 00:37:39.900
callback saying like hey the metadata
has changed you should update the UI to

00:37:39.900 --> 00:37:39.910
has changed you should update the UI to
 

00:37:39.910 --> 00:37:41.940
has changed you should update the UI to
match the new metadata all of a sudden

00:37:41.940 --> 00:37:41.950
match the new metadata all of a sudden
 

00:37:41.950 --> 00:37:44.339
match the new metadata all of a sudden
our UI is now totally in sync with our

00:37:44.339 --> 00:37:44.349
our UI is now totally in sync with our
 

00:37:44.349 --> 00:37:46.920
our UI is now totally in sync with our
service without us having to write any

00:37:46.920 --> 00:37:46.930
service without us having to write any
 

00:37:46.930 --> 00:37:49.799
service without us having to write any
crazy communication code between our

00:37:49.799 --> 00:37:49.809
crazy communication code between our
 

00:37:49.809 --> 00:37:51.930
crazy communication code between our
service and our UI

00:37:51.930 --> 00:37:51.940
service and our UI
 

00:37:51.940 --> 00:37:54.620
service and our UI
we're using a media controller compan

00:37:54.620 --> 00:37:54.630
we're using a media controller compan
 

00:37:54.630 --> 00:37:58.440
we're using a media controller compan
there is one wrinkle though that token

00:37:58.440 --> 00:37:58.450
there is one wrinkle though that token
 

00:37:58.450 --> 00:38:00.600
there is one wrinkle though that token
that we need that media session token'

00:38:00.600 --> 00:38:00.610
that we need that media session token'
 

00:38:00.610 --> 00:38:02.150
that we need that media session token'
that we pass to our notification

00:38:02.150 --> 00:38:02.160
that we pass to our notification
 

00:38:02.160 --> 00:38:05.010
that we pass to our notification
actually also what's needed for media

00:38:05.010 --> 00:38:05.020
actually also what's needed for media
 

00:38:05.020 --> 00:38:08.340
actually also what's needed for media
controller compat but person who knows

00:38:08.340 --> 00:38:08.350
controller compat but person who knows
 

00:38:08.350 --> 00:38:12.000
controller compat but person who knows
about our token is our service we

00:38:12.000 --> 00:38:12.010
about our token is our service we
 

00:38:12.010 --> 00:38:16.490
about our token is our service we
somehow need to get that to our UI now

00:38:16.490 --> 00:38:16.500
somehow need to get that to our UI now
 

00:38:16.500 --> 00:38:19.160
somehow need to get that to our UI now
really matter how you get it to your UI

00:38:19.160 --> 00:38:19.170
really matter how you get it to your UI
 

00:38:19.170 --> 00:38:23.190
really matter how you get it to your UI
but we do have a second set of classes

00:38:23.190 --> 00:38:23.200
but we do have a second set of classes
 

00:38:23.200 --> 00:38:25.770
but we do have a second set of classes
called Media Browser service and Media

00:38:25.770 --> 00:38:25.780
called Media Browser service and Media
 

00:38:25.780 --> 00:38:26.220
called Media Browser service and Media
Browser

00:38:26.220 --> 00:38:26.230
Browser
 

00:38:26.230 --> 00:38:29.760
Browser
which are introduced in API 21 which do

00:38:29.760 --> 00:38:29.770
which are introduced in API 21 which do
 

00:38:29.770 --> 00:38:33.420
which are introduced in API 21 which do
all of this connecting and passing the

00:38:33.420 --> 00:38:33.430
all of this connecting and passing the
 

00:38:33.430 --> 00:38:37.350
all of this connecting and passing the
session for you nicely enough you don't

00:38:37.350 --> 00:38:37.360
session for you nicely enough you don't
 

00:38:37.360 --> 00:38:40.050
session for you nicely enough you don't
actually need a token to connect to a

00:38:40.050 --> 00:38:40.060
actually need a token to connect to a
 

00:38:40.060 --> 00:38:43.590
actually need a token to connect to a
Media Browser service and you'll get

00:38:43.590 --> 00:38:43.600
Media Browser service and you'll get
 

00:38:43.600 --> 00:38:45.660
Media Browser service and you'll get
access to actually new api's as well

00:38:45.660 --> 00:38:45.670
access to actually new api's as well
 

00:38:45.670 --> 00:38:48.540
access to actually new api's as well
such as being able to browse media items

00:38:48.540 --> 00:38:48.550
such as being able to browse media items
 

00:38:48.550 --> 00:38:50.220
such as being able to browse media items
entirely this allows you to actually

00:38:50.220 --> 00:38:50.230
entirely this allows you to actually
 

00:38:50.230 --> 00:38:54.240
entirely this allows you to actually
build your UI off of the information

00:38:54.240 --> 00:38:54.250
build your UI off of the information
 

00:38:54.250 --> 00:38:55.740
build your UI off of the information
that's already in the service for

00:38:55.740 --> 00:38:55.750
that's already in the service for
 

00:38:55.750 --> 00:38:57.900
that's already in the service for
example you could have a list of tracks

00:38:57.900 --> 00:38:57.910
example you could have a list of tracks
 

00:38:57.910 --> 00:39:00.510
example you could have a list of tracks
and that would match what's in your UI

00:39:00.510 --> 00:39:00.520
and that would match what's in your UI
 

00:39:00.520 --> 00:39:02.550
and that would match what's in your UI
and they wouldn't you wouldn't have to

00:39:02.550 --> 00:39:02.560
and they wouldn't you wouldn't have to
 

00:39:02.560 --> 00:39:04.020
and they wouldn't you wouldn't have to
create a separate data store for that

00:39:04.020 --> 00:39:04.030
create a separate data store for that
 

00:39:04.030 --> 00:39:05.370
create a separate data store for that
you can use the Media Browser service

00:39:05.370 --> 00:39:05.380
you can use the Media Browser service
 

00:39:05.380 --> 00:39:09.030
you can use the Media Browser service
and Media Browser to connect to it no

00:39:09.030 --> 00:39:09.040
and Media Browser to connect to it no
 

00:39:09.040 --> 00:39:11.310
and Media Browser to connect to it no
this is also how all the Android wear or

00:39:11.310 --> 00:39:11.320
this is also how all the Android wear or
 

00:39:11.320 --> 00:39:14.250
this is also how all the Android wear or
Android auto integration works so

00:39:14.250 --> 00:39:14.260
Android auto integration works so
 

00:39:14.260 --> 00:39:16.740
Android auto integration works so
Android auto is actually connecting to

00:39:16.740 --> 00:39:16.750
Android auto is actually connecting to
 

00:39:16.750 --> 00:39:19.260
Android auto is actually connecting to
your Media Browser service and then

00:39:19.260 --> 00:39:19.270
your Media Browser service and then
 

00:39:19.270 --> 00:39:21.870
your Media Browser service and then
building the whole UI all the controls

00:39:21.870 --> 00:39:21.880
building the whole UI all the controls
 

00:39:21.880 --> 00:39:25.020
building the whole UI all the controls
all the information from the data you

00:39:25.020 --> 00:39:25.030
all the information from the data you
 

00:39:25.030 --> 00:39:28.020
all the information from the data you
pass back to it you'll also note that

00:39:28.020 --> 00:39:28.030
pass back to it you'll also note that
 

00:39:28.030 --> 00:39:31.290
pass back to it you'll also note that
Android wear adds a browse action you'll

00:39:31.290 --> 00:39:31.300
Android wear adds a browse action you'll
 

00:39:31.300 --> 00:39:33.180
Android wear adds a browse action you'll
never find it on your watch but you're

00:39:33.180 --> 00:39:33.190
never find it on your watch but you're
 

00:39:33.190 --> 00:39:35.520
never find it on your watch but you're
playing audio and scroll all the way to

00:39:35.520 --> 00:39:35.530
playing audio and scroll all the way to
 

00:39:35.530 --> 00:39:37.620
playing audio and scroll all the way to
the right you'll find browse this allows

00:39:37.620 --> 00:39:37.630
the right you'll find browse this allows
 

00:39:37.630 --> 00:39:39.810
the right you'll find browse this allows
them to actually check the next track or

00:39:39.810 --> 00:39:39.820
them to actually check the next track or
 

00:39:39.820 --> 00:39:42.720
them to actually check the next track or
skip multiple tracks or change playlists

00:39:42.720 --> 00:39:42.730
skip multiple tracks or change playlists
 

00:39:42.730 --> 00:39:44.040
skip multiple tracks or change playlists
and stuff directly from the watch

00:39:44.040 --> 00:39:44.050
and stuff directly from the watch
 

00:39:44.050 --> 00:39:46.770
and stuff directly from the watch
actually pretty useful if you're one of

00:39:46.770 --> 00:39:46.780
actually pretty useful if you're one of
 

00:39:46.780 --> 00:39:48.150
actually pretty useful if you're one of
those kind of people who hates pulling

00:39:48.150 --> 00:39:48.160
those kind of people who hates pulling
 

00:39:48.160 --> 00:39:50.190
those kind of people who hates pulling
their giant Nexus 6 is out of their

00:39:50.190 --> 00:39:50.200
their giant Nexus 6 is out of their
 

00:39:50.200 --> 00:39:54.300
their giant Nexus 6 is out of their
pocket now moving to Media Browser

00:39:54.300 --> 00:39:54.310
pocket now moving to Media Browser
 

00:39:54.310 --> 00:39:57.150
pocket now moving to Media Browser
service has one thing you'll need to do

00:39:57.150 --> 00:39:57.160
service has one thing you'll need to do
 

00:39:57.160 --> 00:39:59.730
service has one thing you'll need to do
call set session token' and on create

00:39:59.730 --> 00:39:59.740
call set session token' and on create
 

00:39:59.740 --> 00:40:03.330
call set session token' and on create
and obviously move over from extending

00:40:03.330 --> 00:40:03.340
and obviously move over from extending
 

00:40:03.340 --> 00:40:05.659
and obviously move over from extending
service to extend

00:40:05.659 --> 00:40:05.669
service to extend
 

00:40:05.669 --> 00:40:10.109
service to extend
Media Browser service now it also gives

00:40:10.109 --> 00:40:10.119
Media Browser service now it also gives
 

00:40:10.119 --> 00:40:12.449
Media Browser service now it also gives
you those new methods on get root which

00:40:12.449 --> 00:40:12.459
you those new methods on get root which
 

00:40:12.459 --> 00:40:14.789
you those new methods on get root which
is kind of the verifying what the

00:40:14.789 --> 00:40:14.799
is kind of the verifying what the
 

00:40:14.799 --> 00:40:17.549
is kind of the verifying what the
calling app is so if you want Android

00:40:17.549 --> 00:40:17.559
calling app is so if you want Android
 

00:40:17.559 --> 00:40:19.439
calling app is so if you want Android
auto to display different data you can

00:40:19.439 --> 00:40:19.449
auto to display different data you can
 

00:40:19.449 --> 00:40:21.479
auto to display different data you can
pass it a different route from say your

00:40:21.479 --> 00:40:21.489
pass it a different route from say your
 

00:40:21.489 --> 00:40:23.929
pass it a different route from say your
own app right so if you have different

00:40:23.929 --> 00:40:23.939
own app right so if you have different
 

00:40:23.939 --> 00:40:27.659
own app right so if you have different
layouts for each one and then similar to

00:40:27.659 --> 00:40:27.669
layouts for each one and then similar to
 

00:40:27.669 --> 00:40:30.479
layouts for each one and then similar to
a file browser for example on the

00:40:30.479 --> 00:40:30.489
a file browser for example on the
 

00:40:30.489 --> 00:40:32.519
a file browser for example on the
children gives you a list of all of the

00:40:32.519 --> 00:40:32.529
children gives you a list of all of the
 

00:40:32.529 --> 00:40:34.890
children gives you a list of all of the
items some of them may be browsable

00:40:34.890 --> 00:40:34.900
items some of them may be browsable
 

00:40:34.900 --> 00:40:36.929
items some of them may be browsable
items right different folders and

00:40:36.929 --> 00:40:36.939
items right different folders and
 

00:40:36.939 --> 00:40:38.969
items right different folders and
subfolders other ones might be playable

00:40:38.969 --> 00:40:38.979
subfolders other ones might be playable
 

00:40:38.979 --> 00:40:40.130
subfolders other ones might be playable
ones

00:40:40.130 --> 00:40:40.140
ones
 

00:40:40.140 --> 00:40:42.659
ones
similarly unload item just gives you

00:40:42.659 --> 00:40:42.669
similarly unload item just gives you
 

00:40:42.669 --> 00:40:45.179
similarly unload item just gives you
details about a single item so you can

00:40:45.179 --> 00:40:45.189
details about a single item so you can
 

00:40:45.189 --> 00:40:47.159
details about a single item so you can
see how like you may be able to build a

00:40:47.159 --> 00:40:47.169
see how like you may be able to build a
 

00:40:47.169 --> 00:40:50.249
see how like you may be able to build a
UI out of these methods right you may be

00:40:50.249 --> 00:40:50.259
UI out of these methods right you may be
 

00:40:50.259 --> 00:40:52.409
UI out of these methods right you may be
able to say on those children and get a

00:40:52.409 --> 00:40:52.419
able to say on those children and get a
 

00:40:52.419 --> 00:40:54.929
able to say on those children and get a
list of all of the songs and all all of

00:40:54.929 --> 00:40:54.939
list of all of the songs and all all of
 

00:40:54.939 --> 00:40:57.089
list of all of the songs and all all of
the album's or all of the most recently

00:40:57.089 --> 00:40:57.099
the album's or all of the most recently
 

00:40:57.099 --> 00:40:58.890
the album's or all of the most recently
played tracks it doesn't really matter

00:40:58.890 --> 00:40:58.900
played tracks it doesn't really matter
 

00:40:58.900 --> 00:41:02.579
played tracks it doesn't really matter
what it is but that same list of tracks

00:41:02.579 --> 00:41:02.589
what it is but that same list of tracks
 

00:41:02.589 --> 00:41:05.849
what it is but that same list of tracks
can be really done with onload children

00:41:05.849 --> 00:41:05.859
can be really done with onload children
 

00:41:05.859 --> 00:41:07.799
can be really done with onload children
and then armload item can actually give

00:41:07.799 --> 00:41:07.809
and then armload item can actually give
 

00:41:07.809 --> 00:41:10.609
and then armload item can actually give
you the details about an individual item

00:41:10.609 --> 00:41:10.619
you the details about an individual item
 

00:41:10.619 --> 00:41:14.009
you the details about an individual item
now if you wanna learn more about this

00:41:14.009 --> 00:41:14.019
now if you wanna learn more about this
 

00:41:14.019 --> 00:41:17.399
now if you wanna learn more about this
we actually have a giant sample app

00:41:17.399 --> 00:41:17.409
we actually have a giant sample app
 

00:41:17.409 --> 00:41:19.799
we actually have a giant sample app
which does everything in the world based

00:41:19.799 --> 00:41:19.809
which does everything in the world based
 

00:41:19.809 --> 00:41:21.719
which does everything in the world based
on media browser service call universal

00:41:21.719 --> 00:41:21.729
on media browser service call universal
 

00:41:21.729 --> 00:41:25.859
on media browser service call universal
Android media player you amp like I said

00:41:25.859 --> 00:41:25.869
Android media player you amp like I said
 

00:41:25.869 --> 00:41:27.959
Android media player you amp like I said
currently Media Browser service is API

00:41:27.959 --> 00:41:27.969
currently Media Browser service is API
 

00:41:27.969 --> 00:41:32.819
currently Media Browser service is API
21 plus and so is universal Android

00:41:32.819 --> 00:41:32.829
21 plus and so is universal Android
 

00:41:32.829 --> 00:41:34.529
21 plus and so is universal Android
music player um

00:41:34.529 --> 00:41:34.539
music player um
 

00:41:34.539 --> 00:41:36.929
music player um
but I would like to say that we are

00:41:36.929 --> 00:41:36.939
but I would like to say that we are
 

00:41:36.939 --> 00:41:39.719
but I would like to say that we are
working on backporting both so we're

00:41:39.719 --> 00:41:39.729
working on backporting both so we're
 

00:41:39.729 --> 00:41:41.370
working on backporting both so we're
working on getting Media Browser service

00:41:41.370 --> 00:41:41.380
working on getting Media Browser service
 

00:41:41.380 --> 00:41:44.699
working on getting Media Browser service
to lower API levels as well as moving

00:41:44.699 --> 00:41:44.709
to lower API levels as well as moving
 

00:41:44.709 --> 00:41:47.939
to lower API levels as well as moving
over you amp over to support a wide

00:41:47.939 --> 00:41:47.949
over you amp over to support a wide
 

00:41:47.949 --> 00:41:49.979
over you amp over to support a wide
variety of devices so you can actually

00:41:49.979 --> 00:41:49.989
variety of devices so you can actually
 

00:41:49.989 --> 00:41:53.039
variety of devices so you can actually
use all these things much more even if

00:41:53.039 --> 00:41:53.049
use all these things much more even if
 

00:41:53.049 --> 00:41:55.499
use all these things much more even if
you're not quite ready for min SDK 21

00:41:55.499 --> 00:41:55.509
you're not quite ready for min SDK 21
 

00:41:55.509 --> 00:41:59.399
you're not quite ready for min SDK 21
anyone huh oh yeah all right great

00:41:59.399 --> 00:41:59.409
anyone huh oh yeah all right great
 

00:41:59.409 --> 00:42:01.499
anyone huh oh yeah all right great
perfect my nephew you can use it right

00:42:01.499 --> 00:42:01.509
perfect my nephew you can use it right
 

00:42:01.509 --> 00:42:02.789
perfect my nephew you can use it right
now that's great you don't have to

00:42:02.789 --> 00:42:02.799
now that's great you don't have to
 

00:42:02.799 --> 00:42:07.380
now that's great you don't have to
switch to any of this now if you're not

00:42:07.380 --> 00:42:07.390
switch to any of this now if you're not
 

00:42:07.390 --> 00:42:14.189
switch to any of this now if you're not
min SDK 21 then you should be but you

00:42:14.189 --> 00:42:14.199
min SDK 21 then you should be but you
 

00:42:14.199 --> 00:42:15.539
min SDK 21 then you should be but you
know they're they're really the best

00:42:15.539 --> 00:42:15.549
know they're they're really the best
 

00:42:15.549 --> 00:42:18.000
know they're they're really the best
users but I

00:42:18.000 --> 00:42:18.010
users but I
 

00:42:18.010 --> 00:42:19.860
users but I
I understand I understand maybe that

00:42:19.860 --> 00:42:19.870
I understand I understand maybe that
 

00:42:19.870 --> 00:42:21.510
I understand I understand maybe that
doesn't make sense for your app there

00:42:21.510 --> 00:42:21.520
doesn't make sense for your app there
 

00:42:21.520 --> 00:42:24.210
doesn't make sense for your app there
are a few other ways other than using

00:42:24.210 --> 00:42:24.220
are a few other ways other than using
 

00:42:24.220 --> 00:42:27.600
are a few other ways other than using
media controller to get the session to

00:42:27.600 --> 00:42:27.610
media controller to get the session to
 

00:42:27.610 --> 00:42:30.240
media controller to get the session to
your activity you could do it super

00:42:30.240 --> 00:42:30.250
your activity you could do it super
 

00:42:30.250 --> 00:42:36.120
your activity you could do it super
simply use say the eventbus app of your

00:42:36.120 --> 00:42:36.130
simply use say the eventbus app of your
 

00:42:36.130 --> 00:42:40.080
simply use say the eventbus app of your
choice or extra whatever or use a static

00:42:40.080 --> 00:42:40.090
choice or extra whatever or use a static
 

00:42:40.090 --> 00:42:42.690
choice or extra whatever or use a static
method in your service and a local

00:42:42.690 --> 00:42:42.700
method in your service and a local
 

00:42:42.700 --> 00:42:45.750
method in your service and a local
broadcast to say oh it's changed

00:42:45.750 --> 00:42:45.760
broadcast to say oh it's changed
 

00:42:45.760 --> 00:42:49.260
broadcast to say oh it's changed
super easy to build but maybe not

00:42:49.260 --> 00:42:49.270
super easy to build but maybe not
 

00:42:49.270 --> 00:42:50.990
super easy to build but maybe not
supporting kind of a multi-process

00:42:50.990 --> 00:42:51.000
supporting kind of a multi-process
 

00:42:51.000 --> 00:42:53.490
supporting kind of a multi-process
structure actually multi-process is a

00:42:53.490 --> 00:42:53.500
structure actually multi-process is a
 

00:42:53.500 --> 00:42:55.590
structure actually multi-process is a
lot more important for a media app

00:42:55.590 --> 00:42:55.600
lot more important for a media app
 

00:42:55.600 --> 00:42:57.750
lot more important for a media app
because you really want that background

00:42:57.750 --> 00:42:57.760
because you really want that background
 

00:42:57.760 --> 00:43:01.440
because you really want that background
service to be as low memory as low

00:43:01.440 --> 00:43:01.450
service to be as low memory as low
 

00:43:01.450 --> 00:43:04.980
service to be as low memory as low
impact as possible and have your UI not

00:43:04.980 --> 00:43:04.990
impact as possible and have your UI not
 

00:43:04.990 --> 00:43:07.500
impact as possible and have your UI not
impact the actual service so if your UI

00:43:07.500 --> 00:43:07.510
impact the actual service so if your UI
 

00:43:07.510 --> 00:43:10.350
impact the actual service so if your UI
crashes because something's gone

00:43:10.350 --> 00:43:10.360
crashes because something's gone
 

00:43:10.360 --> 00:43:11.640
crashes because something's gone
horribly wrong you don't necessarily

00:43:11.640 --> 00:43:11.650
horribly wrong you don't necessarily
 

00:43:11.650 --> 00:43:13.620
horribly wrong you don't necessarily
want that to kill your whole background

00:43:13.620 --> 00:43:13.630
want that to kill your whole background
 

00:43:13.630 --> 00:43:17.730
want that to kill your whole background
playback also another option is to kind

00:43:17.730 --> 00:43:17.740
playback also another option is to kind
 

00:43:17.740 --> 00:43:20.130
playback also another option is to kind
of fake what Media Browser service is

00:43:20.130 --> 00:43:20.140
of fake what Media Browser service is
 

00:43:20.140 --> 00:43:22.890
of fake what Media Browser service is
actually doing under the covers and bind

00:43:22.890 --> 00:43:22.900
actually doing under the covers and bind
 

00:43:22.900 --> 00:43:25.740
actually doing under the covers and bind
to your service build an API that just

00:43:25.740 --> 00:43:25.750
to your service build an API that just
 

00:43:25.750 --> 00:43:28.920
to your service build an API that just
returns a token for you no one really

00:43:28.920 --> 00:43:28.930
returns a token for you no one really
 

00:43:28.930 --> 00:43:30.450
returns a token for you no one really
wants to build this but we actually have

00:43:30.450 --> 00:43:30.460
wants to build this but we actually have
 

00:43:30.460 --> 00:43:32.520
wants to build this but we actually have
really good training on bound services

00:43:32.520 --> 00:43:32.530
really good training on bound services
 

00:43:32.530 --> 00:43:35.070
really good training on bound services
on developer.android.com if you're

00:43:35.070 --> 00:43:35.080
on developer.android.com if you're
 

00:43:35.080 --> 00:43:36.540
on developer.android.com if you're
interested in learning kind of some of

00:43:36.540 --> 00:43:36.550
interested in learning kind of some of
 

00:43:36.550 --> 00:43:40.560
interested in learning kind of some of
those approaches to do that the simple

00:43:40.560 --> 00:43:40.570
those approaches to do that the simple
 

00:43:40.570 --> 00:43:42.570
those approaches to do that the simple
matter is it doesn't matter how you get

00:43:42.570 --> 00:43:42.580
matter is it doesn't matter how you get
 

00:43:42.580 --> 00:43:45.120
matter is it doesn't matter how you get
a token to your UI just matters that it

00:43:45.120 --> 00:43:45.130
a token to your UI just matters that it
 

00:43:45.130 --> 00:43:47.430
a token to your UI just matters that it
gets there so whatever approach you want

00:43:47.430 --> 00:43:47.440
gets there so whatever approach you want
 

00:43:47.440 --> 00:43:49.230
gets there so whatever approach you want
to use now and then if you want to use

00:43:49.230 --> 00:43:49.240
to use now and then if you want to use
 

00:43:49.240 --> 00:43:51.630
to use now and then if you want to use
Media Browser service later it's totally

00:43:51.630 --> 00:43:51.640
Media Browser service later it's totally
 

00:43:51.640 --> 00:43:55.340
Media Browser service later it's totally
possible and it works great so

00:43:55.340 --> 00:43:55.350
 

00:43:55.350 --> 00:43:57.570
everything that we've done today can be

00:43:57.570 --> 00:43:57.580
everything that we've done today can be
 

00:43:57.580 --> 00:43:59.790
everything that we've done today can be
summed up in one slide probably should

00:43:59.790 --> 00:43:59.800
summed up in one slide probably should
 

00:43:59.800 --> 00:44:01.110
summed up in one slide probably should
have shown this at the beginning but

00:44:01.110 --> 00:44:01.120
have shown this at the beginning but
 

00:44:01.120 --> 00:44:04.710
have shown this at the beginning but
then you might have left but this is the

00:44:04.710 --> 00:44:04.720
then you might have left but this is the
 

00:44:04.720 --> 00:44:06.690
then you might have left but this is the
canonical slide of all of the things you

00:44:06.690 --> 00:44:06.700
canonical slide of all of the things you
 

00:44:06.700 --> 00:44:10.140
canonical slide of all of the things you
may want to do I did note once that the

00:44:10.140 --> 00:44:10.150
may want to do I did note once that the
 

00:44:10.150 --> 00:44:13.020
may want to do I did note once that the
stopped state right if you do want to

00:44:13.020 --> 00:44:13.030
stopped state right if you do want to
 

00:44:13.030 --> 00:44:15.690
stopped state right if you do want to
keep your service around for a little

00:44:15.690 --> 00:44:15.700
keep your service around for a little
 

00:44:15.700 --> 00:44:18.000
keep your service around for a little
bit longer you don't necessarily need to

00:44:18.000 --> 00:44:18.010
bit longer you don't necessarily need to
 

00:44:18.010 --> 00:44:20.070
bit longer you don't necessarily need to
remove everything as soon as they hit

00:44:20.070 --> 00:44:20.080
remove everything as soon as they hit
 

00:44:20.080 --> 00:44:22.470
remove everything as soon as they hit
the stop button you may keep it around a

00:44:22.470 --> 00:44:22.480
the stop button you may keep it around a
 

00:44:22.480 --> 00:44:25.260
the stop button you may keep it around a
little bit longer that's fine but we've

00:44:25.260 --> 00:44:25.270
little bit longer that's fine but we've
 

00:44:25.270 --> 00:44:27.510
little bit longer that's fine but we've
learned about kind of audio focus and

00:44:27.510 --> 00:44:27.520
learned about kind of audio focus and
 

00:44:27.520 --> 00:44:30.840
learned about kind of audio focus and
the noisy broadcast becoming noisy to

00:44:30.840 --> 00:44:30.850
the noisy broadcast becoming noisy to
 

00:44:30.850 --> 00:44:31.920
the noisy broadcast becoming noisy to
really play nicely

00:44:31.920 --> 00:44:31.930
really play nicely
 

00:44:31.930 --> 00:44:35.160
really play nicely
with other audio playing apps media

00:44:35.160 --> 00:44:35.170
with other audio playing apps media
 

00:44:35.170 --> 00:44:37.020
with other audio playing apps media
buttons lock screens and system

00:44:37.020 --> 00:44:37.030
buttons lock screens and system
 

00:44:37.030 --> 00:44:39.870
buttons lock screens and system
information with mediasessioncompat then

00:44:39.870 --> 00:44:39.880
information with mediasessioncompat then
 

00:44:39.880 --> 00:44:42.060
information with mediasessioncompat then
media style notifications Android wear

00:44:42.060 --> 00:44:42.070
media style notifications Android wear
 

00:44:42.070 --> 00:44:45.780
media style notifications Android wear
support via media style and then Media

00:44:45.780 --> 00:44:45.790
support via media style and then Media
 

00:44:45.790 --> 00:44:47.670
support via media style and then Media
Browser service for Android auto and

00:44:47.670 --> 00:44:47.680
Browser service for Android auto and
 

00:44:47.680 --> 00:44:49.860
Browser service for Android auto and
building your UI based on your

00:44:49.860 --> 00:44:49.870
building your UI based on your
 

00:44:49.870 --> 00:44:53.790
building your UI based on your
information so feel free to reach out to

00:44:53.790 --> 00:44:53.800
information so feel free to reach out to
 

00:44:53.800 --> 00:44:56.430
information so feel free to reach out to
me on Google+ or Twitter if you have any

00:44:56.430 --> 00:44:56.440
me on Google+ or Twitter if you have any
 

00:44:56.440 --> 00:44:57.990
me on Google+ or Twitter if you have any
questions otherwise I'll be right down

00:44:57.990 --> 00:44:58.000
questions otherwise I'll be right down
 

00:44:58.000 --> 00:44:59.750
questions otherwise I'll be right down
here for any questions in the room

00:44:59.750 --> 00:44:59.760
here for any questions in the room
 

00:44:59.760 --> 00:45:02.880
here for any questions in the room
thanks so much

