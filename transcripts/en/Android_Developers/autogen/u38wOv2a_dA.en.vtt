WEBVTT
Kind: captions
Language: en

00:00:00.000 --> 00:00:06.880
 
[Music]

00:00:06.880 --> 00:00:06.890
[Music]
 

00:00:06.890 --> 00:00:09.919
[Music]
hi everyone welcome to the session on

00:00:09.919 --> 00:00:09.929
hi everyone welcome to the session on
 

00:00:09.929 --> 00:00:11.720
hi everyone welcome to the session on
the new multi camera API

00:00:11.720 --> 00:00:11.730
the new multi camera API
 

00:00:11.730 --> 00:00:14.539
the new multi camera API
my name is Veneto D and I'm the product

00:00:14.539 --> 00:00:14.549
my name is Veneto D and I'm the product
 

00:00:14.549 --> 00:00:17.540
my name is Veneto D and I'm the product
manager on the camera platform just a

00:00:17.540 --> 00:00:17.550
manager on the camera platform just a
 

00:00:17.550 --> 00:00:19.340
manager on the camera platform just a
quick reminder after this talk please

00:00:19.340 --> 00:00:19.350
quick reminder after this talk please
 

00:00:19.350 --> 00:00:21.740
quick reminder after this talk please
step outside to the sandbox area if

00:00:21.740 --> 00:00:21.750
step outside to the sandbox area if
 

00:00:21.750 --> 00:00:23.980
step outside to the sandbox area if
you'd like to ask us more questions

00:00:23.980 --> 00:00:23.990
you'd like to ask us more questions
 

00:00:23.990 --> 00:00:27.620
you'd like to ask us more questions
before we talk about the new API let me

00:00:27.620 --> 00:00:27.630
before we talk about the new API let me
 

00:00:27.630 --> 00:00:29.120
before we talk about the new API let me
give a quick update on the state of

00:00:29.120 --> 00:00:29.130
give a quick update on the state of
 

00:00:29.130 --> 00:00:33.860
give a quick update on the state of
camera historically most camera apps

00:00:33.860 --> 00:00:33.870
camera historically most camera apps
 

00:00:33.870 --> 00:00:35.900
camera historically most camera apps
focus on the native camera app that

00:00:35.900 --> 00:00:35.910
focus on the native camera app that
 

00:00:35.910 --> 00:00:38.690
focus on the native camera app that
ships with the device it turns out

00:00:38.690 --> 00:00:38.700
ships with the device it turns out
 

00:00:38.700 --> 00:00:40.850
ships with the device it turns out
however that more than twice the amount

00:00:40.850 --> 00:00:40.860
however that more than twice the amount
 

00:00:40.860 --> 00:00:42.979
however that more than twice the amount
of camera usage occurs on the apps that

00:00:42.979 --> 00:00:42.989
of camera usage occurs on the apps that
 

00:00:42.989 --> 00:00:46.400
of camera usage occurs on the apps that
you build and it's extremely important

00:00:46.400 --> 00:00:46.410
you build and it's extremely important
 

00:00:46.410 --> 00:00:48.740
you build and it's extremely important
that you support the new features that

00:00:48.740 --> 00:00:48.750
that you support the new features that
 

00:00:48.750 --> 00:00:52.299
that you support the new features that
are available in the new Android API s

00:00:52.299 --> 00:00:52.309
are available in the new Android API s
 

00:00:52.309 --> 00:00:54.920
are available in the new Android API s
when we speak to a lot of developers

00:00:54.920 --> 00:00:54.930
when we speak to a lot of developers
 

00:00:54.930 --> 00:00:58.220
when we speak to a lot of developers
what we find is that the number one

00:00:58.220 --> 00:00:58.230
what we find is that the number one
 

00:00:58.230 --> 00:01:00.619
what we find is that the number one
question is the state of camera2 api and

00:01:00.619 --> 00:01:00.629
question is the state of camera2 api and
 

00:01:00.629 --> 00:01:03.280
question is the state of camera2 api and
where we're going to be going forward

00:01:03.280 --> 00:01:03.290
where we're going to be going forward
 

00:01:03.290 --> 00:01:05.479
where we're going to be going forward
we've been working very hard and

00:01:05.479 --> 00:01:05.489
we've been working very hard and
 

00:01:05.489 --> 00:01:08.000
we've been working very hard and
starting with Android P what you'll find

00:01:08.000 --> 00:01:08.010
starting with Android P what you'll find
 

00:01:08.010 --> 00:01:10.600
starting with Android P what you'll find
is almost all new devices will support

00:01:10.600 --> 00:01:10.610
is almost all new devices will support
 

00:01:10.610 --> 00:01:13.580
is almost all new devices will support
camera two and he'll three what this

00:01:13.580 --> 00:01:13.590
camera two and he'll three what this
 

00:01:13.590 --> 00:01:15.080
camera two and he'll three what this
means is when you look at the camera

00:01:15.080 --> 00:01:15.090
means is when you look at the camera
 

00:01:15.090 --> 00:01:17.090
means is when you look at the camera
characteristics you'll find that the

00:01:17.090 --> 00:01:17.100
characteristics you'll find that the
 

00:01:17.100 --> 00:01:18.920
characteristics you'll find that the
device will advertise itself as either

00:01:18.920 --> 00:01:18.930
device will advertise itself as either
 

00:01:18.930 --> 00:01:21.649
device will advertise itself as either
camera 2 limited which is similar to a

00:01:21.649 --> 00:01:21.659
camera 2 limited which is similar to a
 

00:01:21.659 --> 00:01:24.499
camera 2 limited which is similar to a
point-and-shoot a camera 2 full which

00:01:24.499 --> 00:01:24.509
point-and-shoot a camera 2 full which
 

00:01:24.509 --> 00:01:26.660
point-and-shoot a camera 2 full which
offers advanced capabilities like for

00:01:26.660 --> 00:01:26.670
offers advanced capabilities like for
 

00:01:26.670 --> 00:01:29.690
offers advanced capabilities like for
frame control and level 3 which enables

00:01:29.690 --> 00:01:29.700
frame control and level 3 which enables
 

00:01:29.700 --> 00:01:33.679
frame control and level 3 which enables
y UV reprocessing in RAW in addition

00:01:33.679 --> 00:01:33.689
y UV reprocessing in RAW in addition
 

00:01:33.689 --> 00:01:36.170
y UV reprocessing in RAW in addition
we've been working with several OEMs or

00:01:36.170 --> 00:01:36.180
we've been working with several OEMs or
 

00:01:36.180 --> 00:01:39.380
we've been working with several OEMs or
manufacturers to open up new api's at

00:01:39.380 --> 00:01:39.390
manufacturers to open up new api's at
 

00:01:39.390 --> 00:01:42.260
manufacturers to open up new api's at
launch so we're excited this year that

00:01:42.260 --> 00:01:42.270
launch so we're excited this year that
 

00:01:42.270 --> 00:01:44.960
launch so we're excited this year that
both the Google pixel 3 and the hallway

00:01:44.960 --> 00:01:44.970
both the Google pixel 3 and the hallway
 

00:01:44.970 --> 00:01:47.719
both the Google pixel 3 and the hallway
made 20 series support the new multi

00:01:47.719 --> 00:01:47.729
made 20 series support the new multi
 

00:01:47.729 --> 00:01:52.280
made 20 series support the new multi
camera API now let me step back and say

00:01:52.280 --> 00:01:52.290
camera API now let me step back and say
 

00:01:52.290 --> 00:01:55.190
camera API now let me step back and say
why this new API is so important prior

00:01:55.190 --> 00:01:55.200
why this new API is so important prior
 

00:01:55.200 --> 00:01:58.639
why this new API is so important prior
to Android P as developers you only get

00:01:58.639 --> 00:01:58.649
to Android P as developers you only get
 

00:01:58.649 --> 00:02:00.649
to Android P as developers you only get
access to one of the physical sensors

00:02:00.649 --> 00:02:00.659
access to one of the physical sensors
 

00:02:00.659 --> 00:02:03.590
access to one of the physical sensors
where the native camera app gets access

00:02:03.590 --> 00:02:03.600
where the native camera app gets access
 

00:02:03.600 --> 00:02:06.859
where the native camera app gets access
to the full hardware capability but

00:02:06.859 --> 00:02:06.869
to the full hardware capability but
 

00:02:06.869 --> 00:02:08.779
to the full hardware capability but
starting with P you'll get the same

00:02:08.779 --> 00:02:08.789
starting with P you'll get the same
 

00:02:08.789 --> 00:02:11.300
starting with P you'll get the same
access as the native camera app this

00:02:11.300 --> 00:02:11.310
access as the native camera app this
 

00:02:11.310 --> 00:02:13.640
access as the native camera app this
includes all the physical sensors

00:02:13.640 --> 00:02:13.650
includes all the physical sensors
 

00:02:13.650 --> 00:02:16.490
includes all the physical sensors
plus the logical camera and the logical

00:02:16.490 --> 00:02:16.500
plus the logical camera and the logical
 

00:02:16.500 --> 00:02:18.710
plus the logical camera and the logical
camera is a abstraction of all the

00:02:18.710 --> 00:02:18.720
camera is a abstraction of all the
 

00:02:18.720 --> 00:02:20.600
camera is a abstraction of all the
physical sensors that allows you to

00:02:20.600 --> 00:02:20.610
physical sensors that allows you to
 

00:02:20.610 --> 00:02:24.759
physical sensors that allows you to
easily take advantage of the hardware

00:02:24.759 --> 00:02:24.769
easily take advantage of the hardware
 

00:02:24.769 --> 00:02:27.229
easily take advantage of the hardware
there are several new use cases and

00:02:27.229 --> 00:02:27.239
there are several new use cases and
 

00:02:27.239 --> 00:02:29.030
there are several new use cases and
possibilities with the new multi camera

00:02:29.030 --> 00:02:29.040
possibilities with the new multi camera
 

00:02:29.040 --> 00:02:30.680
possibilities with the new multi camera
API today

00:02:30.680 --> 00:02:30.690
API today
 

00:02:30.690 --> 00:02:32.839
API today
Oscar is going to talk about optical

00:02:32.839 --> 00:02:32.849
Oscar is going to talk about optical
 

00:02:32.849 --> 00:02:36.550
Oscar is going to talk about optical
zoom and Emily is going to cover bouquet

00:02:36.550 --> 00:02:36.560
zoom and Emily is going to cover bouquet
 

00:02:36.560 --> 00:02:39.009
zoom and Emily is going to cover bouquet
thank you very much

00:02:39.009 --> 00:02:39.019
thank you very much
 

00:02:39.019 --> 00:02:46.789
thank you very much
Oscars up next hi everyone my name is

00:02:46.789 --> 00:02:46.799
Oscars up next hi everyone my name is
 

00:02:46.799 --> 00:02:48.440
Oscars up next hi everyone my name is
Oscar I work in the developer relations

00:02:48.440 --> 00:02:48.450
Oscar I work in the developer relations
 

00:02:48.450 --> 00:02:51.349
Oscar I work in the developer relations
team and we're gonna start off with a

00:02:51.349 --> 00:02:51.359
team and we're gonna start off with a
 

00:02:51.359 --> 00:02:56.869
team and we're gonna start off with a
live demo what could go wrong so here I

00:02:56.869 --> 00:02:56.879
live demo what could go wrong so here I
 

00:02:56.879 --> 00:02:59.270
live demo what could go wrong so here I
have a mate 20 phone we are implementing

00:02:59.270 --> 00:02:59.280
have a mate 20 phone we are implementing
 

00:02:59.280 --> 00:03:01.819
have a mate 20 phone we are implementing
multi camera zoom what we're doing here

00:03:01.819 --> 00:03:01.829
multi camera zoom what we're doing here
 

00:03:01.829 --> 00:03:05.270
multi camera zoom what we're doing here
is we are swapping at the UI layer the

00:03:05.270 --> 00:03:05.280
is we are swapping at the UI layer the
 

00:03:05.280 --> 00:03:07.430
is we are swapping at the UI layer the
two camera streams I'm not doing any

00:03:07.430 --> 00:03:07.440
two camera streams I'm not doing any
 

00:03:07.440 --> 00:03:08.809
two camera streams I'm not doing any
kind of digital zoom or cropping I'm

00:03:08.809 --> 00:03:08.819
kind of digital zoom or cropping I'm
 

00:03:08.819 --> 00:03:10.460
kind of digital zoom or cropping I'm
simply swapping the streams as you can

00:03:10.460 --> 00:03:10.470
simply swapping the streams as you can
 

00:03:10.470 --> 00:03:11.630
simply swapping the streams as you can
see it's almost instantaneous

00:03:11.630 --> 00:03:11.640
see it's almost instantaneous
 

00:03:11.640 --> 00:03:13.849
see it's almost instantaneous
there's no teardown and bring up on the

00:03:13.849 --> 00:03:13.859
there's no teardown and bring up on the
 

00:03:13.859 --> 00:03:15.229
there's no teardown and bring up on the
camera session it's just a single

00:03:15.229 --> 00:03:15.239
camera session it's just a single
 

00:03:15.239 --> 00:03:17.509
camera session it's just a single
session and I'm swapping the two camera

00:03:17.509 --> 00:03:17.519
session and I'm swapping the two camera
 

00:03:17.519 --> 00:03:20.449
session and I'm swapping the two camera
streams the idea is that as I said

00:03:20.449 --> 00:03:20.459
streams the idea is that as I said
 

00:03:20.459 --> 00:03:23.000
streams the idea is that as I said
single camera session two streams and

00:03:23.000 --> 00:03:23.010
single camera session two streams and
 

00:03:23.010 --> 00:03:24.559
single camera session two streams and
we're gonna swap between the streams and

00:03:24.559 --> 00:03:24.569
we're gonna swap between the streams and
 

00:03:24.569 --> 00:03:26.360
we're gonna swap between the streams and
we're gonna show you how this was built

00:03:26.360 --> 00:03:26.370
we're gonna show you how this was built
 

00:03:26.370 --> 00:03:28.909
we're gonna show you how this was built
the key component though is that we had

00:03:28.909 --> 00:03:28.919
the key component though is that we had
 

00:03:28.919 --> 00:03:31.009
the key component though is that we had
the same code running on both devices as

00:03:31.009 --> 00:03:31.019
the same code running on both devices as
 

00:03:31.019 --> 00:03:34.430
the same code running on both devices as
many camera developers now it is quite a

00:03:34.430 --> 00:03:34.440
many camera developers now it is quite a
 

00:03:34.440 --> 00:03:35.869
many camera developers now it is quite a
feat to have the same code running

00:03:35.869 --> 00:03:35.879
feat to have the same code running
 

00:03:35.879 --> 00:03:38.180
feat to have the same code running
across such different devices especially

00:03:38.180 --> 00:03:38.190
across such different devices especially
 

00:03:38.190 --> 00:03:41.030
across such different devices especially
for something as tied to the hardware as

00:03:41.030 --> 00:03:41.040
for something as tied to the hardware as
 

00:03:41.040 --> 00:03:45.170
for something as tied to the hardware as
it is multi camera so first let's talk

00:03:45.170 --> 00:03:45.180
it is multi camera so first let's talk
 

00:03:45.180 --> 00:03:47.330
it is multi camera so first let's talk
about how we can use multiple camera

00:03:47.330 --> 00:03:47.340
about how we can use multiple camera
 

00:03:47.340 --> 00:03:49.520
about how we can use multiple camera
streams simultaneously the basic

00:03:49.520 --> 00:03:49.530
streams simultaneously the basic
 

00:03:49.530 --> 00:03:51.379
streams simultaneously the basic
currenty provided by the framework in

00:03:51.379 --> 00:03:51.389
currenty provided by the framework in
 

00:03:51.389 --> 00:03:53.180
currenty provided by the framework in
the multi camera API is that you can use

00:03:53.180 --> 00:03:53.190
the multi camera API is that you can use
 

00:03:53.190 --> 00:03:56.119
the multi camera API is that you can use
at least two physical camera streams at

00:03:56.119 --> 00:03:56.129
at least two physical camera streams at
 

00:03:56.129 --> 00:04:00.470
at least two physical camera streams at
the same time recall the guaranteed

00:04:00.470 --> 00:04:00.480
the same time recall the guaranteed
 

00:04:00.480 --> 00:04:02.390
the same time recall the guaranteed
stream configurations for single camera

00:04:02.390 --> 00:04:02.400
stream configurations for single camera
 

00:04:02.400 --> 00:04:05.990
stream configurations for single camera
devices it is a set of rules based on

00:04:05.990 --> 00:04:06.000
devices it is a set of rules based on
 

00:04:06.000 --> 00:04:09.229
devices it is a set of rules based on
hardware level target type and target

00:04:09.229 --> 00:04:09.239
hardware level target type and target
 

00:04:09.239 --> 00:04:12.830
hardware level target type and target
size if we use the multi camera API as

00:04:12.830 --> 00:04:12.840
size if we use the multi camera API as
 

00:04:12.840 --> 00:04:14.839
size if we use the multi camera API as
correctly we can get an exception to

00:04:14.839 --> 00:04:14.849
correctly we can get an exception to
 

00:04:14.849 --> 00:04:18.890
correctly we can get an exception to
these rules less illustrate this with an

00:04:18.890 --> 00:04:18.900
these rules less illustrate this with an
 

00:04:18.900 --> 00:04:21.589
these rules less illustrate this with an
example we have a single

00:04:21.589 --> 00:04:21.599
example we have a single
 

00:04:21.599 --> 00:04:25.070
example we have a single
Yub stream of maximum size as per the

00:04:25.070 --> 00:04:25.080
Yub stream of maximum size as per the
 

00:04:25.080 --> 00:04:27.560
Yub stream of maximum size as per the
previous table devices with

00:04:27.560 --> 00:04:27.570
previous table devices with
 

00:04:27.570 --> 00:04:29.480
previous table devices with
limited Harvard level we'll be able to

00:04:29.480 --> 00:04:29.490
limited Harvard level we'll be able to
 

00:04:29.490 --> 00:04:31.900
limited Harvard level we'll be able to
use a single stream with a configuration

00:04:31.900 --> 00:04:31.910
use a single stream with a configuration
 

00:04:31.910 --> 00:04:35.360
use a single stream with a configuration
if we use the multi-camera api's we can

00:04:35.360 --> 00:04:35.370
if we use the multi-camera api's we can
 

00:04:35.370 --> 00:04:39.260
if we use the multi-camera api's we can
actually use two streams of equivalent

00:04:39.260 --> 00:04:39.270
actually use two streams of equivalent
 

00:04:39.270 --> 00:04:41.390
actually use two streams of equivalent
configuration from the underlying

00:04:41.390 --> 00:04:41.400
configuration from the underlying
 

00:04:41.400 --> 00:04:47.570
configuration from the underlying
physical cameras let's walk through what

00:04:47.570 --> 00:04:47.580
physical cameras let's walk through what
 

00:04:47.580 --> 00:04:49.520
physical cameras let's walk through what
we need to do to implement the app that

00:04:49.520 --> 00:04:49.530
we need to do to implement the app that
 

00:04:49.530 --> 00:04:51.440
we need to do to implement the app that
we just demoed earlier we broke it down

00:04:51.440 --> 00:04:51.450
we just demoed earlier we broke it down
 

00:04:51.450 --> 00:04:56.540
we just demoed earlier we broke it down
to five steps are you ready step number

00:04:56.540 --> 00:04:56.550
to five steps are you ready step number
 

00:04:56.550 --> 00:04:59.840
to five steps are you ready step number
one find the physical cameras we will

00:04:59.840 --> 00:04:59.850
one find the physical cameras we will
 

00:04:59.850 --> 00:05:02.000
one find the physical cameras we will
start identifying pairs of physical

00:05:02.000 --> 00:05:02.010
start identifying pairs of physical
 

00:05:02.010 --> 00:05:02.840
start identifying pairs of physical
cameras that can be opened

00:05:02.840 --> 00:05:02.850
cameras that can be opened
 

00:05:02.850 --> 00:05:06.500
cameras that can be opened
simultaneously using the camera

00:05:06.500 --> 00:05:06.510
simultaneously using the camera
 

00:05:06.510 --> 00:05:10.340
simultaneously using the camera
characters the subject we look for the

00:05:10.340 --> 00:05:10.350
characters the subject we look for the
 

00:05:10.350 --> 00:05:14.420
characters the subject we look for the
other test capabilities and if logical

00:05:14.420 --> 00:05:14.430
other test capabilities and if logical
 

00:05:14.430 --> 00:05:16.700
other test capabilities and if logical
multi camera is one of them we know this

00:05:16.700 --> 00:05:16.710
multi camera is one of them we know this
 

00:05:16.710 --> 00:05:22.520
multi camera is one of them we know this
device is a logical camera another we

00:05:22.520 --> 00:05:22.530
device is a logical camera another we
 

00:05:22.530 --> 00:05:26.390
device is a logical camera another we
phonological camera we store it will

00:05:26.390 --> 00:05:26.400
phonological camera we store it will
 

00:05:26.400 --> 00:05:30.050
phonological camera we store it will
need the ID for later we'll see and we

00:05:30.050 --> 00:05:30.060
need the ID for later we'll see and we
 

00:05:30.060 --> 00:05:32.000
need the ID for later we'll see and we
get the physical cameras associated with

00:05:32.000 --> 00:05:32.010
get the physical cameras associated with
 

00:05:32.010 --> 00:05:38.950
get the physical cameras associated with
it then we can move on to the next step

00:05:38.950 --> 00:05:38.960
 
 

00:05:38.960 --> 00:05:41.120
 
here's a visualization of what we just

00:05:41.120 --> 00:05:41.130
here's a visualization of what we just
 

00:05:41.130 --> 00:05:44.720
here's a visualization of what we just
described we take that logical camera ad

00:05:44.720 --> 00:05:44.730
described we take that logical camera ad
 

00:05:44.730 --> 00:05:48.290
described we take that logical camera ad
and with the characteristics we call get

00:05:48.290 --> 00:05:48.300
and with the characteristics we call get
 

00:05:48.300 --> 00:05:50.720
and with the characteristics we call get
physical camera IDs and now we retrieve

00:05:50.720 --> 00:05:50.730
physical camera IDs and now we retrieve
 

00:05:50.730 --> 00:05:52.580
physical camera IDs and now we retrieve
the physical cameras associated with a

00:05:52.580 --> 00:05:52.590
the physical cameras associated with a
 

00:05:52.590 --> 00:05:57.650
the physical cameras associated with a
logical camera group onto the next step

00:05:57.650 --> 00:05:57.660
logical camera group onto the next step
 

00:05:57.660 --> 00:06:01.520
logical camera group onto the next step
open logical camera the second step is

00:06:01.520 --> 00:06:01.530
open logical camera the second step is
 

00:06:01.530 --> 00:06:04.700
open logical camera the second step is
nothing new we open the camera recall

00:06:04.700 --> 00:06:04.710
nothing new we open the camera recall
 

00:06:04.710 --> 00:06:07.150
nothing new we open the camera recall
the logical camera ad we saved earlier

00:06:07.150 --> 00:06:07.160
the logical camera ad we saved earlier
 

00:06:07.160 --> 00:06:10.250
the logical camera ad we saved earlier
that is the only one we use to pass to

00:06:10.250 --> 00:06:10.260
that is the only one we use to pass to
 

00:06:10.260 --> 00:06:12.620
that is the only one we use to pass to
the camera manager so to reiterate we

00:06:12.620 --> 00:06:12.630
the camera manager so to reiterate we
 

00:06:12.630 --> 00:06:16.970
the camera manager so to reiterate we
only open the logical camera the state

00:06:16.970 --> 00:06:16.980
only open the logical camera the state
 

00:06:16.980 --> 00:06:18.770
only open the logical camera the state
callback with trigger when the device is

00:06:18.770 --> 00:06:18.780
callback with trigger when the device is
 

00:06:18.780 --> 00:06:23.150
callback with trigger when the device is
ready we have now opened a logical

00:06:23.150 --> 00:06:23.160
ready we have now opened a logical
 

00:06:23.160 --> 00:06:25.790
ready we have now opened a logical
camera in the next step we'll create the

00:06:25.790 --> 00:06:25.800
camera in the next step we'll create the
 

00:06:25.800 --> 00:06:29.090
camera in the next step we'll create the
upper configuration objects they will be

00:06:29.090 --> 00:06:29.100
upper configuration objects they will be
 

00:06:29.100 --> 00:06:31.970
upper configuration objects they will be
used to create the camera session for

00:06:31.970 --> 00:06:31.980
used to create the camera session for
 

00:06:31.980 --> 00:06:34.550
used to create the camera session for
each desired output target we may have a

00:06:34.550 --> 00:06:34.560
each desired output target we may have a
 

00:06:34.560 --> 00:06:36.200
each desired output target we may have a
physical camera ad from the list we

00:06:36.200 --> 00:06:36.210
physical camera ad from the list we
 

00:06:36.210 --> 00:06:38.390
physical camera ad from the list we
phone earlier if we want to retrieve

00:06:38.390 --> 00:06:38.400
phone earlier if we want to retrieve
 

00:06:38.400 --> 00:06:39.950
phone earlier if we want to retrieve
frames from a specific Harvard camera

00:06:39.950 --> 00:06:39.960
frames from a specific Harvard camera
 

00:06:39.960 --> 00:06:42.280
frames from a specific Harvard camera
let's go into more details

00:06:42.280 --> 00:06:42.290
let's go into more details
 

00:06:42.290 --> 00:06:44.990
let's go into more details
we create the upper configuration object

00:06:44.990 --> 00:06:45.000
we create the upper configuration object
 

00:06:45.000 --> 00:06:49.640
we create the upper configuration object
using our desire output target and if we

00:06:49.640 --> 00:06:49.650
using our desire output target and if we
 

00:06:49.650 --> 00:06:51.409
using our desire output target and if we
want to associate that up with a

00:06:51.409 --> 00:06:51.419
want to associate that up with a
 

00:06:51.419 --> 00:06:54.680
want to associate that up with a
specific specific physical camera then

00:06:54.680 --> 00:06:54.690
specific specific physical camera then
 

00:06:54.690 --> 00:06:57.770
specific specific physical camera then
we pass the ad in the set physical

00:06:57.770 --> 00:06:57.780
we pass the ad in the set physical
 

00:06:57.780 --> 00:07:01.100
we pass the ad in the set physical
camera IV API if we want to use a

00:07:01.100 --> 00:07:01.110
camera IV API if we want to use a
 

00:07:01.110 --> 00:07:03.080
camera IV API if we want to use a
logical camera we can simply skip this

00:07:03.080 --> 00:07:03.090
logical camera we can simply skip this
 

00:07:03.090 --> 00:07:05.900
logical camera we can simply skip this
step we may also have a combination of

00:07:05.900 --> 00:07:05.910
step we may also have a combination of
 

00:07:05.910 --> 00:07:09.650
step we may also have a combination of
both so at the end of the day we have a

00:07:09.650 --> 00:07:09.660
both so at the end of the day we have a
 

00:07:09.660 --> 00:07:11.780
both so at the end of the day we have a
list of upper configurations some of

00:07:11.780 --> 00:07:11.790
list of upper configurations some of
 

00:07:11.790 --> 00:07:13.010
list of upper configurations some of
which may be associated with physical

00:07:13.010 --> 00:07:13.020
which may be associated with physical
 

00:07:13.020 --> 00:07:15.969
which may be associated with physical
cameras some of which what your camera

00:07:15.969 --> 00:07:15.979
cameras some of which what your camera
 

00:07:15.979 --> 00:07:18.110
cameras some of which what your camera
the goal is to put all the

00:07:18.110 --> 00:07:18.120
the goal is to put all the
 

00:07:18.120 --> 00:07:19.850
the goal is to put all the
configurations into a single session

00:07:19.850 --> 00:07:19.860
configurations into a single session
 

00:07:19.860 --> 00:07:22.430
configurations into a single session
configuration as we just explained each

00:07:22.430 --> 00:07:22.440
configuration as we just explained each
 

00:07:22.440 --> 00:07:24.800
configuration as we just explained each
auto configuration has an Associated

00:07:24.800 --> 00:07:24.810
auto configuration has an Associated
 

00:07:24.810 --> 00:07:27.590
auto configuration has an Associated
output target and optionally a physical

00:07:27.590 --> 00:07:27.600
output target and optionally a physical
 

00:07:27.600 --> 00:07:32.150
output target and optionally a physical
camera ad now we create the capture

00:07:32.150 --> 00:07:32.160
camera ad now we create the capture
 

00:07:32.160 --> 00:07:35.270
camera ad now we create the capture
session how do we create the capture

00:07:35.270 --> 00:07:35.280
session how do we create the capture
 

00:07:35.280 --> 00:07:36.860
session how do we create the capture
session using the new session

00:07:36.860 --> 00:07:36.870
session using the new session
 

00:07:36.870 --> 00:07:40.460
session using the new session
configuration object we start off with

00:07:40.460 --> 00:07:40.470
configuration object we start off with
 

00:07:40.470 --> 00:07:42.110
configuration object we start off with
our list of applicants figurations that

00:07:42.110 --> 00:07:42.120
our list of applicants figurations that
 

00:07:42.120 --> 00:07:45.969
our list of applicants figurations that
we just created with that we instantiate

00:07:45.969 --> 00:07:45.979
we just created with that we instantiate
 

00:07:45.979 --> 00:07:48.710
we just created with that we instantiate
assessing configuration which includes

00:07:48.710 --> 00:07:48.720
assessing configuration which includes
 

00:07:48.720 --> 00:07:52.520
assessing configuration which includes
the capture session call back from that

00:07:52.520 --> 00:07:52.530
the capture session call back from that
 

00:07:52.530 --> 00:07:54.350
the capture session call back from that
call back we're going to get an instance

00:07:54.350 --> 00:07:54.360
call back we're going to get an instance
 

00:07:54.360 --> 00:07:59.330
call back we're going to get an instance
of the created camera session we take

00:07:59.330 --> 00:07:59.340
of the created camera session we take
 

00:07:59.340 --> 00:08:01.370
of the created camera session we take
that system configuration object and the

00:08:01.370 --> 00:08:01.380
that system configuration object and the
 

00:08:01.380 --> 00:08:03.170
that system configuration object and the
camera device which we got from a step

00:08:03.170 --> 00:08:03.180
camera device which we got from a step
 

00:08:03.180 --> 00:08:05.120
camera device which we got from a step
number two when we open logical camera

00:08:05.120 --> 00:08:05.130
number two when we open logical camera
 

00:08:05.130 --> 00:08:07.520
number two when we open logical camera
and we send the framework the request to

00:08:07.520 --> 00:08:07.530
and we send the framework the request to
 

00:08:07.530 --> 00:08:09.529
and we send the framework the request to
create a new session with our desired

00:08:09.529 --> 00:08:09.539
create a new session with our desired
 

00:08:09.539 --> 00:08:13.339
create a new session with our desired
configuration the callback provided in

00:08:13.339 --> 00:08:13.349
configuration the callback provided in
 

00:08:13.349 --> 00:08:14.990
configuration the callback provided in
the session configuration object will be

00:08:14.990 --> 00:08:15.000
the session configuration object will be
 

00:08:15.000 --> 00:08:17.120
the session configuration object will be
triggered now and then we'll have our

00:08:17.120 --> 00:08:17.130
triggered now and then we'll have our
 

00:08:17.130 --> 00:08:20.469
triggered now and then we'll have our
camera set and ready to be used

00:08:20.469 --> 00:08:20.479
 
 

00:08:20.479 --> 00:08:26.420
 
last step come to requests once that has

00:08:26.420 --> 00:08:26.430
last step come to requests once that has
 

00:08:26.430 --> 00:08:28.189
last step come to requests once that has
happened we can start getting frames out

00:08:28.189 --> 00:08:28.199
happened we can start getting frames out
 

00:08:28.199 --> 00:08:30.560
happened we can start getting frames out
of the cameras for example if you want

00:08:30.560 --> 00:08:30.570
of the cameras for example if you want
 

00:08:30.570 --> 00:08:32.750
of the cameras for example if you want
to capture a frame from two physical

00:08:32.750 --> 00:08:32.760
to capture a frame from two physical
 

00:08:32.760 --> 00:08:38.570
to capture a frame from two physical
camera simultaneously we take the

00:08:38.570 --> 00:08:38.580
camera simultaneously we take the
 

00:08:38.580 --> 00:08:40.730
camera simultaneously we take the
session we created earlier and a pair of

00:08:40.730 --> 00:08:40.740
session we created earlier and a pair of
 

00:08:40.740 --> 00:08:43.100
session we created earlier and a pair of
output targets in this particular case

00:08:43.100 --> 00:08:43.110
output targets in this particular case
 

00:08:43.110 --> 00:08:45.019
output targets in this particular case
each target will be associated with a

00:08:45.019 --> 00:08:45.029
each target will be associated with a
 

00:08:45.029 --> 00:08:49.760
each target will be associated with a
specific camera ID we create the capture

00:08:49.760 --> 00:08:49.770
specific camera ID we create the capture
 

00:08:49.770 --> 00:08:51.800
specific camera ID we create the capture
request that we normally do in this case

00:08:51.800 --> 00:08:51.810
request that we normally do in this case
 

00:08:51.810 --> 00:08:53.530
request that we normally do in this case
using template preview

00:08:53.530 --> 00:08:53.540
using template preview
 

00:08:53.540 --> 00:08:55.280
using template preview
we attach the

00:08:55.280 --> 00:08:55.290
we attach the
 

00:08:55.290 --> 00:08:57.560
we attach the
Tigers to it again like we normally bill

00:08:57.560 --> 00:08:57.570
Tigers to it again like we normally bill
 

00:08:57.570 --> 00:09:00.400
Tigers to it again like we normally bill
and now we dispatch the capture request

00:09:00.400 --> 00:09:00.410
and now we dispatch the capture request
 

00:09:00.410 --> 00:09:02.990
and now we dispatch the capture request
nothing different here except in this

00:09:02.990 --> 00:09:03.000
nothing different here except in this
 

00:09:03.000 --> 00:09:05.660
nothing different here except in this
case the output surfaces will receive

00:09:05.660 --> 00:09:05.670
case the output surfaces will receive
 

00:09:05.670 --> 00:09:08.540
case the output surfaces will receive
image data from each of the SOC a

00:09:08.540 --> 00:09:08.550
image data from each of the SOC a
 

00:09:08.550 --> 00:09:10.759
image data from each of the SOC a
physical cameras and the capture request

00:09:10.759 --> 00:09:10.769
physical cameras and the capture request
 

00:09:10.769 --> 00:09:15.079
physical cameras and the capture request
call that will trigger only once so

00:09:15.079 --> 00:09:15.089
call that will trigger only once so
 

00:09:15.089 --> 00:09:16.550
call that will trigger only once so
again it's just like any capture request

00:09:16.550 --> 00:09:16.560
again it's just like any capture request
 

00:09:16.560 --> 00:09:18.949
again it's just like any capture request
the big difference is that the

00:09:18.949 --> 00:09:18.959
the big difference is that the
 

00:09:18.959 --> 00:09:22.819
the big difference is that the
completion callback will give me back to

00:09:22.819 --> 00:09:22.829
completion callback will give me back to
 

00:09:22.829 --> 00:09:25.490
completion callback will give me back to
start exposure time stamps instead of

00:09:25.490 --> 00:09:25.500
start exposure time stamps instead of
 

00:09:25.500 --> 00:09:27.350
start exposure time stamps instead of
just a single value from normal capture

00:09:27.350 --> 00:09:27.360
just a single value from normal capture
 

00:09:27.360 --> 00:09:31.340
just a single value from normal capture
requests so to recap this is how

00:09:31.340 --> 00:09:31.350
requests so to recap this is how
 

00:09:31.350 --> 00:09:34.069
requests so to recap this is how
implement our optical zoom demo we found

00:09:34.069 --> 00:09:34.079
implement our optical zoom demo we found
 

00:09:34.079 --> 00:09:36.170
implement our optical zoom demo we found
a physical cameras we open the logical

00:09:36.170 --> 00:09:36.180
a physical cameras we open the logical
 

00:09:36.180 --> 00:09:38.540
a physical cameras we open the logical
camera that is part of that group we

00:09:38.540 --> 00:09:38.550
camera that is part of that group we
 

00:09:38.550 --> 00:09:41.210
camera that is part of that group we
create the up to auto configurations we

00:09:41.210 --> 00:09:41.220
create the up to auto configurations we
 

00:09:41.220 --> 00:09:43.730
create the up to auto configurations we
learnt a list we create our capture

00:09:43.730 --> 00:09:43.740
learnt a list we create our capture
 

00:09:43.740 --> 00:09:46.160
learnt a list we create our capture
session and then we dispatcher capture

00:09:46.160 --> 00:09:46.170
session and then we dispatcher capture
 

00:09:46.170 --> 00:09:50.809
session and then we dispatcher capture
requests one more topic I'm going to

00:09:50.809 --> 00:09:50.819
requests one more topic I'm going to
 

00:09:50.819 --> 00:09:55.699
requests one more topic I'm going to
touch on is lens distortion a classical

00:09:55.699 --> 00:09:55.709
touch on is lens distortion a classical
 

00:09:55.709 --> 00:09:57.199
touch on is lens distortion a classical
example of lens distortion is the

00:09:57.199 --> 00:09:57.209
example of lens distortion is the
 

00:09:57.209 --> 00:09:59.750
example of lens distortion is the
fisheye lens this is not a real example

00:09:59.750 --> 00:09:59.760
fisheye lens this is not a real example
 

00:09:59.760 --> 00:10:01.280
fisheye lens this is not a real example
it is here for illustration purposes

00:10:01.280 --> 00:10:01.290
it is here for illustration purposes
 

00:10:01.290 --> 00:10:05.360
it is here for illustration purposes
only all lenses have some amount of

00:10:05.360 --> 00:10:05.370
only all lenses have some amount of
 

00:10:05.370 --> 00:10:07.730
only all lenses have some amount of
distortion for logical cameras you can

00:10:07.730 --> 00:10:07.740
distortion for logical cameras you can
 

00:10:07.740 --> 00:10:09.439
distortion for logical cameras you can
assume that that distortion will be

00:10:09.439 --> 00:10:09.449
assume that that distortion will be
 

00:10:09.449 --> 00:10:11.420
assume that that distortion will be
minimal for the most part will be

00:10:11.420 --> 00:10:11.430
minimal for the most part will be
 

00:10:11.430 --> 00:10:14.329
minimal for the most part will be
corrected by the drivers however for

00:10:14.329 --> 00:10:14.339
corrected by the drivers however for
 

00:10:14.339 --> 00:10:16.160
corrected by the drivers however for
physical cameras distortion can be

00:10:16.160 --> 00:10:16.170
physical cameras distortion can be
 

00:10:16.170 --> 00:10:20.660
physical cameras distortion can be
pretty significant the physical lens

00:10:20.660 --> 00:10:20.670
pretty significant the physical lens
 

00:10:20.670 --> 00:10:22.460
pretty significant the physical lens
distortion is described in a set of

00:10:22.460 --> 00:10:22.470
distortion is described in a set of
 

00:10:22.470 --> 00:10:25.430
distortion is described in a set of
radial and tangential coefficients the

00:10:25.430 --> 00:10:25.440
radial and tangential coefficients the
 

00:10:25.440 --> 00:10:27.290
radial and tangential coefficients the
coefficients can be queried using the

00:10:27.290 --> 00:10:27.300
coefficients can be queried using the
 

00:10:27.300 --> 00:10:29.269
coefficients can be queried using the
lens distortion camera characteristic

00:10:29.269 --> 00:10:29.279
lens distortion camera characteristic
 

00:10:29.279 --> 00:10:32.059
lens distortion camera characteristic
scheme the documentation has a lot more

00:10:32.059 --> 00:10:32.069
scheme the documentation has a lot more
 

00:10:32.069 --> 00:10:35.210
scheme the documentation has a lot more
details if you're interested the good

00:10:35.210 --> 00:10:35.220
details if you're interested the good
 

00:10:35.220 --> 00:10:36.800
details if you're interested the good
news is that there is a way to create

00:10:36.800 --> 00:10:36.810
news is that there is a way to create
 

00:10:36.810 --> 00:10:38.379
news is that there is a way to create
distortion without doing a bunch of math

00:10:38.379 --> 00:10:38.389
distortion without doing a bunch of math
 

00:10:38.389 --> 00:10:41.000
distortion without doing a bunch of math
we can simply set the distortion

00:10:41.000 --> 00:10:41.010
we can simply set the distortion
 

00:10:41.010 --> 00:10:44.350
we can simply set the distortion
correction mode on our capture requests

00:10:44.350 --> 00:10:44.360
correction mode on our capture requests
 

00:10:44.360 --> 00:10:47.420
correction mode on our capture requests
means that no distortion is applied we

00:10:47.420 --> 00:10:47.430
means that no distortion is applied we
 

00:10:47.430 --> 00:10:49.009
means that no distortion is applied we
may need to use this if you want to do

00:10:49.009 --> 00:10:49.019
may need to use this if you want to do
 

00:10:49.019 --> 00:10:51.199
may need to use this if you want to do
things like friend synchronization Emily

00:10:51.199 --> 00:10:51.209
things like friend synchronization Emily
 

00:10:51.209 --> 00:10:54.769
things like friend synchronization Emily
will touch on that later fast means that

00:10:54.769 --> 00:10:54.779
will touch on that later fast means that
 

00:10:54.779 --> 00:10:56.329
will touch on that later fast means that
the best possible correction is applied

00:10:56.329 --> 00:10:56.339
the best possible correction is applied
 

00:10:56.339 --> 00:10:58.550
the best possible correction is applied
while meeting the advertised frame rate

00:10:58.550 --> 00:10:58.560
while meeting the advertised frame rate
 

00:10:58.560 --> 00:11:01.249
while meeting the advertised frame rate
if no fast correction is possible this

00:11:01.249 --> 00:11:01.259
if no fast correction is possible this
 

00:11:01.259 --> 00:11:04.819
if no fast correction is possible this
may be the same as off high quality

00:11:04.819 --> 00:11:04.829
may be the same as off high quality
 

00:11:04.829 --> 00:11:06.470
may be the same as off high quality
means that distortion will be corrected

00:11:06.470 --> 00:11:06.480
means that distortion will be corrected
 

00:11:06.480 --> 00:11:08.510
means that distortion will be corrected
as much as the less allows

00:11:08.510 --> 00:11:08.520
as much as the less allows
 

00:11:08.520 --> 00:11:12.410
as much as the less allows
potentially at the cost of frame rate if

00:11:12.410 --> 00:11:12.420
potentially at the cost of frame rate if
 

00:11:12.420 --> 00:11:14.660
potentially at the cost of frame rate if
we don't specify a correction mode it

00:11:14.660 --> 00:11:14.670
we don't specify a correction mode it
 

00:11:14.670 --> 00:11:17.120
we don't specify a correction mode it
will be there fast or high-quality it is

00:11:17.120 --> 00:11:17.130
will be there fast or high-quality it is
 

00:11:17.130 --> 00:11:18.560
will be there fast or high-quality it is
going to be after the implementation

00:11:18.560 --> 00:11:18.570
going to be after the implementation
 

00:11:18.570 --> 00:11:20.810
going to be after the implementation
details which is the default you as a

00:11:20.810 --> 00:11:20.820
details which is the default you as a
 

00:11:20.820 --> 00:11:22.820
details which is the default you as a
developer can query to see which one was

00:11:22.820 --> 00:11:22.830
developer can query to see which one was
 

00:11:22.830 --> 00:11:26.450
developer can query to see which one was
applied to your capture request let's

00:11:26.450 --> 00:11:26.460
applied to your capture request let's
 

00:11:26.460 --> 00:11:27.950
applied to your capture request let's
see a code snippet demonstrating how

00:11:27.950 --> 00:11:27.960
see a code snippet demonstrating how
 

00:11:27.960 --> 00:11:29.360
see a code snippet demonstrating how
this lens distortion is set to high

00:11:29.360 --> 00:11:29.370
this lens distortion is set to high
 

00:11:29.370 --> 00:11:31.340
this lens distortion is set to high
quality which is probably what we want

00:11:31.340 --> 00:11:31.350
quality which is probably what we want
 

00:11:31.350 --> 00:11:33.670
quality which is probably what we want
for a still image capture

00:11:33.670 --> 00:11:33.680
for a still image capture
 

00:11:33.680 --> 00:11:35.720
for a still image capture
assuming we already started our camera

00:11:35.720 --> 00:11:35.730
assuming we already started our camera
 

00:11:35.730 --> 00:11:39.050
assuming we already started our camera
session we instantiate the capture

00:11:39.050 --> 00:11:39.060
session we instantiate the capture
 

00:11:39.060 --> 00:11:40.490
session we instantiate the capture
request builder using our desired

00:11:40.490 --> 00:11:40.500
request builder using our desired
 

00:11:40.500 --> 00:11:42.650
request builder using our desired
template in this case as I said image

00:11:42.650 --> 00:11:42.660
template in this case as I said image
 

00:11:42.660 --> 00:11:45.650
template in this case as I said image
capture then we use the camera

00:11:45.650 --> 00:11:45.660
capture then we use the camera
 

00:11:45.660 --> 00:11:47.330
capture then we use the camera
characteristics to determine if high

00:11:47.330 --> 00:11:47.340
characteristics to determine if high
 

00:11:47.340 --> 00:11:48.920
characteristics to determine if high
quality distortion correction mode is

00:11:48.920 --> 00:11:48.930
quality distortion correction mode is
 

00:11:48.930 --> 00:11:53.090
quality distortion correction mode is
available now that we know that we have

00:11:53.090 --> 00:11:53.100
available now that we know that we have
 

00:11:53.100 --> 00:11:55.700
available now that we know that we have
high quality correction for the

00:11:55.700 --> 00:11:55.710
high quality correction for the
 

00:11:55.710 --> 00:11:59.180
high quality correction for the
distortion we set it on the capture

00:11:59.180 --> 00:11:59.190
distortion we set it on the capture
 

00:11:59.190 --> 00:12:02.420
distortion we set it on the capture
request and we do what we always do

00:12:02.420 --> 00:12:02.430
request and we do what we always do
 

00:12:02.430 --> 00:12:11.520
request and we do what we always do
dispatch the capture request

00:12:11.520 --> 00:12:11.530
 
 

00:12:11.530 --> 00:12:13.290
 
for more sample code and technical

00:12:13.290 --> 00:12:13.300
for more sample code and technical
 

00:12:13.300 --> 00:12:16.950
for more sample code and technical
details take a look at our blog post we

00:12:16.950 --> 00:12:16.960
details take a look at our blog post we
 

00:12:16.960 --> 00:12:19.020
details take a look at our blog post we
covered this and some more we published

00:12:19.020 --> 00:12:19.030
covered this and some more we published
 

00:12:19.030 --> 00:12:20.610
covered this and some more we published
earlier this week and now I'll hand it

00:12:20.610 --> 00:12:20.620
earlier this week and now I'll hand it
 

00:12:20.620 --> 00:12:28.290
earlier this week and now I'll hand it
over to Emily thanks Oscar

00:12:28.290 --> 00:12:28.300
over to Emily thanks Oscar
 

00:12:28.300 --> 00:12:30.510
over to Emily thanks Oscar
my name is Emily Roberts I'm a partner

00:12:30.510 --> 00:12:30.520
my name is Emily Roberts I'm a partner
 

00:12:30.520 --> 00:12:32.640
my name is Emily Roberts I'm a partner
developer advocate and I'm going to show

00:12:32.640 --> 00:12:32.650
developer advocate and I'm going to show
 

00:12:32.650 --> 00:12:34.350
developer advocate and I'm going to show
you a cool demo that uses some of these

00:12:34.350 --> 00:12:34.360
you a cool demo that uses some of these
 

00:12:34.360 --> 00:12:36.630
you a cool demo that uses some of these
multi camera API is to do a bouquet

00:12:36.630 --> 00:12:36.640
multi camera API is to do a bouquet
 

00:12:36.640 --> 00:12:40.800
multi camera API is to do a bouquet
effect on the pixel 3 so we actually

00:12:40.800 --> 00:12:40.810
effect on the pixel 3 so we actually
 

00:12:40.810 --> 00:12:44.850
effect on the pixel 3 so we actually
have three well two demos 22.5 demos the

00:12:44.850 --> 00:12:44.860
have three well two demos 22.5 demos the
 

00:12:44.860 --> 00:12:47.280
have three well two demos 22.5 demos the
first one is a single cam demo there's

00:12:47.280 --> 00:12:47.290
first one is a single cam demo there's
 

00:12:47.290 --> 00:12:48.450
first one is a single cam demo there's
no multi camera at all

00:12:48.450 --> 00:12:48.460
no multi camera at all
 

00:12:48.460 --> 00:12:50.280
no multi camera at all
but I wanted to sort of show the

00:12:50.280 --> 00:12:50.290
but I wanted to sort of show the
 

00:12:50.290 --> 00:12:51.690
but I wanted to sort of show the
mechanisms for creating the bouquet

00:12:51.690 --> 00:12:51.700
mechanisms for creating the bouquet
 

00:12:51.700 --> 00:12:54.060
mechanisms for creating the bouquet
effect then when we get into the dual

00:12:54.060 --> 00:12:54.070
effect then when we get into the dual
 

00:12:54.070 --> 00:12:57.900
effect then when we get into the dual
cam demo you'll see exactly you know we

00:12:57.900 --> 00:12:57.910
cam demo you'll see exactly you know we
 

00:12:57.910 --> 00:12:59.520
cam demo you'll see exactly you know we
can focus on the multi camera aspects

00:12:59.520 --> 00:12:59.530
can focus on the multi camera aspects
 

00:12:59.530 --> 00:13:00.840
can focus on the multi camera aspects
and not worry so much about the bouquet

00:13:00.840 --> 00:13:00.850
and not worry so much about the bouquet
 

00:13:00.850 --> 00:13:03.450
and not worry so much about the bouquet
effect itself and it's gonna be

00:13:03.450 --> 00:13:03.460
effect itself and it's gonna be
 

00:13:03.460 --> 00:13:05.580
effect itself and it's gonna be
published soon open source so don't

00:13:05.580 --> 00:13:05.590
published soon open source so don't
 

00:13:05.590 --> 00:13:07.500
published soon open source so don't
worry about scribbling down too much

00:13:07.500 --> 00:13:07.510
worry about scribbling down too much
 

00:13:07.510 --> 00:13:12.740
worry about scribbling down too much
code so can we go to this phone demo

00:13:12.740 --> 00:13:12.750
code so can we go to this phone demo
 

00:13:12.750 --> 00:13:19.320
code so can we go to this phone demo
oops excuse me okie dokie so we have I

00:13:19.320 --> 00:13:19.330
oops excuse me okie dokie so we have I
 

00:13:19.330 --> 00:13:21.780
oops excuse me okie dokie so we have I
didn't set this up properly okay let's

00:13:21.780 --> 00:13:21.790
didn't set this up properly okay let's
 

00:13:21.790 --> 00:13:24.630
didn't set this up properly okay let's
do the single cam bouquet effect taking

00:13:24.630 --> 00:13:24.640
do the single cam bouquet effect taking
 

00:13:24.640 --> 00:13:28.950
do the single cam bouquet effect taking
a selfie here and I think you can see on

00:13:28.950 --> 00:13:28.960
a selfie here and I think you can see on
 

00:13:28.960 --> 00:13:31.800
a selfie here and I think you can see on
the screen it's finding my face it's

00:13:31.800 --> 00:13:31.810
the screen it's finding my face it's
 

00:13:31.810 --> 00:13:34.530
the screen it's finding my face it's
cutting it out let me bump up the final

00:13:34.530 --> 00:13:34.540
cutting it out let me bump up the final
 

00:13:34.540 --> 00:13:37.260
cutting it out let me bump up the final
result and it's kind of pasting the

00:13:37.260 --> 00:13:37.270
result and it's kind of pasting the
 

00:13:37.270 --> 00:13:39.390
result and it's kind of pasting the
portrait mode in there this is kind of a

00:13:39.390 --> 00:13:39.400
portrait mode in there this is kind of a
 

00:13:39.400 --> 00:13:42.360
portrait mode in there this is kind of a
rough cut portrait mode and I do have an

00:13:42.360 --> 00:13:42.370
rough cut portrait mode and I do have an
 

00:13:42.370 --> 00:13:44.070
rough cut portrait mode and I do have an
optimization on this let's see how that

00:13:44.070 --> 00:13:44.080
optimization on this let's see how that
 

00:13:44.080 --> 00:13:53.420
optimization on this let's see how that
goes I'll show you the output steps here

00:13:53.420 --> 00:13:53.430
goes I'll show you the output steps here
 

00:13:53.430 --> 00:13:55.740
goes I'll show you the output steps here
so it's trying to do a better job of

00:13:55.740 --> 00:13:55.750
so it's trying to do a better job of
 

00:13:55.750 --> 00:13:57.540
so it's trying to do a better job of
finding the foreground it didn't do too

00:13:57.540 --> 00:13:57.550
finding the foreground it didn't do too
 

00:13:57.550 --> 00:14:00.120
finding the foreground it didn't do too
bad it's generating the foreground image

00:14:00.120 --> 00:14:00.130
bad it's generating the foreground image
 

00:14:00.130 --> 00:14:03.120
bad it's generating the foreground image
the background which is just monochrome

00:14:03.120 --> 00:14:03.130
the background which is just monochrome
 

00:14:03.130 --> 00:14:05.700
the background which is just monochrome
then blurred a little bit and come on up

00:14:05.700 --> 00:14:05.710
then blurred a little bit and come on up
 

00:14:05.710 --> 00:14:08.010
then blurred a little bit and come on up
don't let us down pacing on the final

00:14:08.010 --> 00:14:08.020
don't let us down pacing on the final
 

00:14:08.020 --> 00:14:10.320
don't let us down pacing on the final
result so that's not too bad for a

00:14:10.320 --> 00:14:10.330
result so that's not too bad for a
 

00:14:10.330 --> 00:14:13.860
result so that's not too bad for a
single cam let's try the dual cam demo

00:14:13.860 --> 00:14:13.870
single cam let's try the dual cam demo
 

00:14:13.870 --> 00:14:16.160
single cam let's try the dual cam demo
and with these stage lights I'm not sure

00:14:16.160 --> 00:14:16.170
and with these stage lights I'm not sure
 

00:14:16.170 --> 00:14:21.440
and with these stage lights I'm not sure
come on

00:14:21.440 --> 00:14:21.450
 
 

00:14:21.450 --> 00:14:26.510
 
hey not too bad we're doing good so you

00:14:26.510 --> 00:14:26.520
hey not too bad we're doing good so you
 

00:14:26.520 --> 00:14:30.020
hey not too bad we're doing good so you
can see a depth map being created in the

00:14:30.020 --> 00:14:30.030
can see a depth map being created in the
 

00:14:30.030 --> 00:14:33.170
can see a depth map being created in the
bottom left hand corner that's detecting

00:14:33.170 --> 00:14:33.180
bottom left hand corner that's detecting
 

00:14:33.180 --> 00:14:35.690
bottom left hand corner that's detecting
me in the foreground and then the rest

00:14:35.690 --> 00:14:35.700
me in the foreground and then the rest
 

00:14:35.700 --> 00:14:38.150
me in the foreground and then the rest
y'all a little bit faded out you can see

00:14:38.150 --> 00:14:38.160
y'all a little bit faded out you can see
 

00:14:38.160 --> 00:14:40.010
y'all a little bit faded out you can see
the closer folks are a gray and then

00:14:40.010 --> 00:14:40.020
the closer folks are a gray and then
 

00:14:40.020 --> 00:14:41.750
the closer folks are a gray and then
black goes right to the back you can

00:14:41.750 --> 00:14:41.760
black goes right to the back you can
 

00:14:41.760 --> 00:14:43.520
black goes right to the back you can
also see the lights wreaking some havoc

00:14:43.520 --> 00:14:43.530
also see the lights wreaking some havoc
 

00:14:43.530 --> 00:14:45.160
also see the lights wreaking some havoc
let me show you the final result

00:14:45.160 --> 00:14:45.170
let me show you the final result
 

00:14:45.170 --> 00:14:47.330
let me show you the final result
obviously there's a few optimizations

00:14:47.330 --> 00:14:47.340
obviously there's a few optimizations
 

00:14:47.340 --> 00:14:49.880
obviously there's a few optimizations
that can happen but it's working pretty

00:14:49.880 --> 00:14:49.890
that can happen but it's working pretty
 

00:14:49.890 --> 00:14:51.650
that can happen but it's working pretty
well so again this is using the two

00:14:51.650 --> 00:14:51.660
well so again this is using the two
 

00:14:51.660 --> 00:14:54.350
well so again this is using the two
front cameras on the pixel - you can see

00:14:54.350 --> 00:14:54.360
front cameras on the pixel - you can see
 

00:14:54.360 --> 00:14:56.360
front cameras on the pixel - you can see
the two streams going at once

00:14:56.360 --> 00:14:56.370
the two streams going at once
 

00:14:56.370 --> 00:15:01.280
the two streams going at once
oops we'll just connect back up no

00:15:01.280 --> 00:15:01.290
oops we'll just connect back up no
 

00:15:01.290 --> 00:15:03.470
oops we'll just connect back up no
anyway both streams at once the wide

00:15:03.470 --> 00:15:03.480
anyway both streams at once the wide
 

00:15:03.480 --> 00:15:04.820
anyway both streams at once the wide
angle lens in the normal angle lens

00:15:04.820 --> 00:15:04.830
angle lens in the normal angle lens
 

00:15:04.830 --> 00:15:07.070
angle lens in the normal angle lens
going at the same time can we head back

00:15:07.070 --> 00:15:07.080
going at the same time can we head back
 

00:15:07.080 --> 00:15:10.340
going at the same time can we head back
to the slides please so let's talk about

00:15:10.340 --> 00:15:10.350
to the slides please so let's talk about
 

00:15:10.350 --> 00:15:13.430
to the slides please so let's talk about
how we do that well there we are anyway

00:15:13.430 --> 00:15:13.440
how we do that well there we are anyway
 

00:15:13.440 --> 00:15:16.400
how we do that well there we are anyway
so we had the normal camera and the wide

00:15:16.400 --> 00:15:16.410
so we had the normal camera and the wide
 

00:15:16.410 --> 00:15:18.580
so we had the normal camera and the wide
angle lens running at the same time

00:15:18.580 --> 00:15:18.590
angle lens running at the same time
 

00:15:18.590 --> 00:15:20.600
angle lens running at the same time
again we're gonna publish this on

00:15:20.600 --> 00:15:20.610
again we're gonna publish this on
 

00:15:20.610 --> 00:15:23.540
again we're gonna publish this on
probably github open source so you can

00:15:23.540 --> 00:15:23.550
probably github open source so you can
 

00:15:23.550 --> 00:15:25.460
probably github open source so you can
dig into it help us optimize it make it

00:15:25.460 --> 00:15:25.470
dig into it help us optimize it make it
 

00:15:25.470 --> 00:15:28.250
dig into it help us optimize it make it
even better so the first case the single

00:15:28.250 --> 00:15:28.260
even better so the first case the single
 

00:15:28.260 --> 00:15:29.840
even better so the first case the single
cam let's look at that quickly the

00:15:29.840 --> 00:15:29.850
cam let's look at that quickly the
 

00:15:29.850 --> 00:15:32.270
cam let's look at that quickly the
floating head bouquet effect I call it

00:15:32.270 --> 00:15:32.280
floating head bouquet effect I call it
 

00:15:32.280 --> 00:15:33.740
floating head bouquet effect I call it
we're gonna take a photo with face

00:15:33.740 --> 00:15:33.750
we're gonna take a photo with face
 

00:15:33.750 --> 00:15:35.930
we're gonna take a photo with face
detect we're gonna make two copies so we

00:15:35.930 --> 00:15:35.940
detect we're gonna make two copies so we
 

00:15:35.940 --> 00:15:37.790
detect we're gonna make two copies so we
have background foreground do some sort

00:15:37.790 --> 00:15:37.800
have background foreground do some sort
 

00:15:37.800 --> 00:15:39.710
have background foreground do some sort
of fancy background effects and then

00:15:39.710 --> 00:15:39.720
of fancy background effects and then
 

00:15:39.720 --> 00:15:41.840
of fancy background effects and then
paste that floating head back where it

00:15:41.840 --> 00:15:41.850
paste that floating head back where it
 

00:15:41.850 --> 00:15:45.590
paste that floating head back where it
belongs face detect is built into the

00:15:45.590 --> 00:15:45.600
belongs face detect is built into the
 

00:15:45.600 --> 00:15:50.000
belongs face detect is built into the
camera to API it's quite easy in code to

00:15:50.000 --> 00:15:50.010
camera to API it's quite easy in code to
 

00:15:50.010 --> 00:15:51.800
camera to API it's quite easy in code to
implement first thing we want to do is

00:15:51.800 --> 00:15:51.810
implement first thing we want to do is
 

00:15:51.810 --> 00:15:53.300
implement first thing we want to do is
check the camera characteristics to see

00:15:53.300 --> 00:15:53.310
check the camera characteristics to see
 

00:15:53.310 --> 00:15:54.740
check the camera characteristics to see
if your camera device supports face

00:15:54.740 --> 00:15:54.750
if your camera device supports face
 

00:15:54.750 --> 00:15:57.830
if your camera device supports face
detect if it does you find the mode you

00:15:57.830 --> 00:15:57.840
detect if it does you find the mode you
 

00:15:57.840 --> 00:16:00.650
detect if it does you find the mode you
want there is off and then simple and

00:16:00.650 --> 00:16:00.660
want there is off and then simple and
 

00:16:00.660 --> 00:16:02.860
want there is off and then simple and
full depending on your camera device

00:16:02.860 --> 00:16:02.870
full depending on your camera device
 

00:16:02.870 --> 00:16:06.320
full depending on your camera device
then when we make our camera capture

00:16:06.320 --> 00:16:06.330
then when we make our camera capture
 

00:16:06.330 --> 00:16:08.300
then when we make our camera capture
request we just include that in the

00:16:08.300 --> 00:16:08.310
request we just include that in the
 

00:16:08.310 --> 00:16:11.960
request we just include that in the
request when we get our results you can

00:16:11.960 --> 00:16:11.970
request when we get our results you can
 

00:16:11.970 --> 00:16:15.200
request when we get our results you can
see if the mode was set if you found any

00:16:15.200 --> 00:16:15.210
see if the mode was set if you found any
 

00:16:15.210 --> 00:16:18.440
see if the mode was set if you found any
faces and in this example I just search

00:16:18.440 --> 00:16:18.450
faces and in this example I just search
 

00:16:18.450 --> 00:16:20.690
faces and in this example I just search
for the first face that defines is the

00:16:20.690 --> 00:16:20.700
for the first face that defines is the
 

00:16:20.700 --> 00:16:22.580
for the first face that defines is the
one I used we could imagine expanding

00:16:22.580 --> 00:16:22.590
one I used we could imagine expanding
 

00:16:22.590 --> 00:16:25.370
one I used we could imagine expanding
this to have multiple faces just a known

00:16:25.370 --> 00:16:25.380
this to have multiple faces just a known
 

00:16:25.380 --> 00:16:28.010
this to have multiple faces just a known
face detect really grabs the really the

00:16:28.010 --> 00:16:28.020
face detect really grabs the really the
 

00:16:28.020 --> 00:16:31.820
face detect really grabs the really the
face so I just bump those bounds out a

00:16:31.820 --> 00:16:31.830
face so I just bump those bounds out a
 

00:16:31.830 --> 00:16:33.650
face so I just bump those bounds out a
little bit so it's more of a head

00:16:33.650 --> 00:16:33.660
little bit so it's more of a head
 

00:16:33.660 --> 00:16:37.040
little bit so it's more of a head
chopped off that sounds bad I had being

00:16:37.040 --> 00:16:37.050
chopped off that sounds bad I had being
 

00:16:37.050 --> 00:16:39.770
chopped off that sounds bad I had being
pasted onto the background let's talk

00:16:39.770 --> 00:16:39.780
pasted onto the background let's talk
 

00:16:39.780 --> 00:16:41.570
pasted onto the background let's talk
about the fun background effects so you

00:16:41.570 --> 00:16:41.580
about the fun background effects so you
 

00:16:41.580 --> 00:16:43.370
about the fun background effects so you
can do what you want here I did a couple

00:16:43.370 --> 00:16:43.380
can do what you want here I did a couple
 

00:16:43.380 --> 00:16:44.750
can do what you want here I did a couple
things first

00:16:44.750 --> 00:16:44.760
things first
 

00:16:44.760 --> 00:16:47.180
things first
using renderscript we just did a blur on

00:16:47.180 --> 00:16:47.190
using renderscript we just did a blur on
 

00:16:47.190 --> 00:16:50.840
using renderscript we just did a blur on
the background and because it's a multi

00:16:50.840 --> 00:16:50.850
the background and because it's a multi
 

00:16:50.850 --> 00:16:53.270
the background and because it's a multi
camera talk some cameras have a manual

00:16:53.270 --> 00:16:53.280
camera talk some cameras have a manual
 

00:16:53.280 --> 00:16:55.100
camera talk some cameras have a manual
zoom so you keep you're working with

00:16:55.100 --> 00:16:55.110
zoom so you keep you're working with
 

00:16:55.110 --> 00:16:56.300
zoom so you keep you're working with
multicam you could do the background

00:16:56.300 --> 00:16:56.310
multicam you could do the background
 

00:16:56.310 --> 00:16:59.030
multicam you could do the background
with another camera in zoom it way out

00:16:59.030 --> 00:16:59.040
with another camera in zoom it way out
 

00:16:59.040 --> 00:17:00.260
with another camera in zoom it way out
of focus you could actually do an

00:17:00.260 --> 00:17:00.270
of focus you could actually do an
 

00:17:00.270 --> 00:17:02.210
of focus you could actually do an
optical blur which would be kind of cool

00:17:02.210 --> 00:17:02.220
optical blur which would be kind of cool
 

00:17:02.220 --> 00:17:05.780
optical blur which would be kind of cool
and also save you that software step in

00:17:05.780 --> 00:17:05.790
and also save you that software step in
 

00:17:05.790 --> 00:17:08.060
and also save you that software step in
this demo we also did a custom software

00:17:08.060 --> 00:17:08.070
this demo we also did a custom software
 

00:17:08.070 --> 00:17:10.640
this demo we also did a custom software
sepia effect using render script but if

00:17:10.640 --> 00:17:10.650
sepia effect using render script but if
 

00:17:10.650 --> 00:17:12.170
sepia effect using render script but if
you're using multicam again lots of

00:17:12.170 --> 00:17:12.180
you're using multicam again lots of
 

00:17:12.180 --> 00:17:13.580
you're using multicam again lots of
cameras have built-in effects like

00:17:13.580 --> 00:17:13.590
cameras have built-in effects like
 

00:17:13.590 --> 00:17:15.800
cameras have built-in effects like
monochrome in sepia that you can query

00:17:15.800 --> 00:17:15.810
monochrome in sepia that you can query
 

00:17:15.810 --> 00:17:17.570
monochrome in sepia that you can query
and include in your capture request as

00:17:17.570 --> 00:17:17.580
and include in your capture request as
 

00:17:17.580 --> 00:17:20.300
and include in your capture request as
well if you haven't used render script

00:17:20.300 --> 00:17:20.310
well if you haven't used render script
 

00:17:20.310 --> 00:17:22.180
well if you haven't used render script
before it looks something like this and

00:17:22.180 --> 00:17:22.190
before it looks something like this and
 

00:17:22.190 --> 00:17:25.040
before it looks something like this and
for our blur effect we care most about

00:17:25.040 --> 00:17:25.050
for our blur effect we care most about
 

00:17:25.050 --> 00:17:28.610
for our blur effect we care most about
the three middle lines and it's a built

00:17:28.610 --> 00:17:28.620
the three middle lines and it's a built
 

00:17:28.620 --> 00:17:30.620
the three middle lines and it's a built
in script intrinsic blur it's pretty

00:17:30.620 --> 00:17:30.630
in script intrinsic blur it's pretty
 

00:17:30.630 --> 00:17:32.990
in script intrinsic blur it's pretty
handy and it basically works outside the

00:17:32.990 --> 00:17:33.000
handy and it basically works outside the
 

00:17:33.000 --> 00:17:37.610
handy and it basically works outside the
box out of the box in this case it

00:17:37.610 --> 00:17:37.620
box out of the box in this case it
 

00:17:37.620 --> 00:17:39.500
box out of the box in this case it
blurred outside of the box because the

00:17:39.500 --> 00:17:39.510
blurred outside of the box because the
 

00:17:39.510 --> 00:17:43.070
blurred outside of the box because the
box it's not blurry this is a custom

00:17:43.070 --> 00:17:43.080
box it's not blurry this is a custom
 

00:17:43.080 --> 00:17:45.890
box it's not blurry this is a custom
render script script for the sepia

00:17:45.890 --> 00:17:45.900
render script script for the sepia
 

00:17:45.900 --> 00:17:47.690
render script script for the sepia
effect you can see in those first three

00:17:47.690 --> 00:17:47.700
effect you can see in those first three
 

00:17:47.700 --> 00:17:50.690
effect you can see in those first three
lines basically we're taking the input

00:17:50.690 --> 00:17:50.700
lines basically we're taking the input
 

00:17:50.700 --> 00:17:53.180
lines basically we're taking the input
red green and blue channels kind of

00:17:53.180 --> 00:17:53.190
red green and blue channels kind of
 

00:17:53.190 --> 00:17:55.010
red green and blue channels kind of
muting the colors making them a bit

00:17:55.010 --> 00:17:55.020
muting the colors making them a bit
 

00:17:55.020 --> 00:17:56.510
muting the colors making them a bit
yellow and sending those to the output

00:17:56.510 --> 00:17:56.520
yellow and sending those to the output
 

00:17:56.520 --> 00:18:00.860
yellow and sending those to the output
channels okey-dokey so we've got the

00:18:00.860 --> 00:18:00.870
channels okey-dokey so we've got the
 

00:18:00.870 --> 00:18:02.540
channels okey-dokey so we've got the
background it's got this cool bouquet

00:18:02.540 --> 00:18:02.550
background it's got this cool bouquet
 

00:18:02.550 --> 00:18:03.650
background it's got this cool bouquet
effect on it what do we do with the

00:18:03.650 --> 00:18:03.660
effect on it what do we do with the
 

00:18:03.660 --> 00:18:05.810
effect on it what do we do with the
foreground from face detect we've got

00:18:05.810 --> 00:18:05.820
foreground from face detect we've got
 

00:18:05.820 --> 00:18:08.570
foreground from face detect we've got
the face cut out and we just apply a

00:18:08.570 --> 00:18:08.580
the face cut out and we just apply a
 

00:18:08.580 --> 00:18:10.370
the face cut out and we just apply a
bordered off with a linear gradient to

00:18:10.370 --> 00:18:10.380
bordered off with a linear gradient to
 

00:18:10.380 --> 00:18:12.380
bordered off with a linear gradient to
make the edges a bit softer so when we

00:18:12.380 --> 00:18:12.390
make the edges a bit softer so when we
 

00:18:12.390 --> 00:18:15.370
make the edges a bit softer so when we
paste it on it's not that harsh line and

00:18:15.370 --> 00:18:15.380
paste it on it's not that harsh line and
 

00:18:15.380 --> 00:18:18.830
paste it on it's not that harsh line and
tada paste it on and things look pretty

00:18:18.830 --> 00:18:18.840
tada paste it on and things look pretty
 

00:18:18.840 --> 00:18:23.210
tada paste it on and things look pretty
good there's a couple of optimizations

00:18:23.210 --> 00:18:23.220
good there's a couple of optimizations
 

00:18:23.220 --> 00:18:25.040
good there's a couple of optimizations
one you saw which is with the grab cut

00:18:25.040 --> 00:18:25.050
one you saw which is with the grab cut
 

00:18:25.050 --> 00:18:28.070
one you saw which is with the grab cut
algorithm this is built into open CV the

00:18:28.070 --> 00:18:28.080
algorithm this is built into open CV the
 

00:18:28.080 --> 00:18:29.570
algorithm this is built into open CV the
open computer vision library that we're

00:18:29.570 --> 00:18:29.580
open computer vision library that we're
 

00:18:29.580 --> 00:18:32.230
open computer vision library that we're
using for the depth map demo later on

00:18:32.230 --> 00:18:32.240
using for the depth map demo later on
 

00:18:32.240 --> 00:18:36.140
using for the depth map demo later on
basically I found the face and then I

00:18:36.140 --> 00:18:36.150
basically I found the face and then I
 

00:18:36.150 --> 00:18:38.330
basically I found the face and then I
chose a rectangle a bit larger to try to

00:18:38.330 --> 00:18:38.340
chose a rectangle a bit larger to try to
 

00:18:38.340 --> 00:18:40.490
chose a rectangle a bit larger to try to
guess where the body might be and then

00:18:40.490 --> 00:18:40.500
guess where the body might be and then
 

00:18:40.500 --> 00:18:43.190
guess where the body might be and then
grab cut does its best like the magic

00:18:43.190 --> 00:18:43.200
grab cut does its best like the magic
 

00:18:43.200 --> 00:18:45.020
grab cut does its best like the magic
wand tool in your favorite photo editor

00:18:45.020 --> 00:18:45.030
wand tool in your favorite photo editor
 

00:18:45.030 --> 00:18:47.460
wand tool in your favorite photo editor
to shrink down that foreground to the

00:18:47.460 --> 00:18:47.470
to shrink down that foreground to the
 

00:18:47.470 --> 00:18:49.649
to shrink down that foreground to the
actual foreground bounds we could also

00:18:49.649 --> 00:18:49.659
actual foreground bounds we could also
 

00:18:49.659 --> 00:18:52.350
actual foreground bounds we could also
as I mention add in multiple faces now

00:18:52.350 --> 00:18:52.360
as I mention add in multiple faces now
 

00:18:52.360 --> 00:18:53.820
as I mention add in multiple faces now
the moment you've all been waiting for

00:18:53.820 --> 00:18:53.830
the moment you've all been waiting for
 

00:18:53.830 --> 00:18:56.490
the moment you've all been waiting for
let's talk about dual cam bouquet with

00:18:56.490 --> 00:18:56.500
let's talk about dual cam bouquet with
 

00:18:56.500 --> 00:18:59.850
let's talk about dual cam bouquet with
the depth map we're going to use two

00:18:59.850 --> 00:18:59.860
the depth map we're going to use two
 

00:18:59.860 --> 00:19:01.680
the depth map we're going to use two
cameras simultaneously and we're gonna

00:19:01.680 --> 00:19:01.690
cameras simultaneously and we're gonna
 

00:19:01.690 --> 00:19:03.480
cameras simultaneously and we're gonna
create a depth map which is the hard

00:19:03.480 --> 00:19:03.490
create a depth map which is the hard
 

00:19:03.490 --> 00:19:05.880
create a depth map which is the hard
part which I highlighted that in bold

00:19:05.880 --> 00:19:05.890
part which I highlighted that in bold
 

00:19:05.890 --> 00:19:07.680
part which I highlighted that in bold
but then we go ahead and use the same

00:19:07.680 --> 00:19:07.690
but then we go ahead and use the same
 

00:19:07.690 --> 00:19:10.020
but then we go ahead and use the same
mechanism we already talked about okie

00:19:10.020 --> 00:19:10.030
mechanism we already talked about okie
 

00:19:10.030 --> 00:19:12.539
mechanism we already talked about okie
dokie how does this work first of all

00:19:12.539 --> 00:19:12.549
dokie how does this work first of all
 

00:19:12.549 --> 00:19:15.120
dokie how does this work first of all
the double capture so this on the left

00:19:15.120 --> 00:19:15.130
the double capture so this on the left
 

00:19:15.130 --> 00:19:17.549
the double capture so this on the left
is this me hanging out with my pets at

00:19:17.549 --> 00:19:17.559
is this me hanging out with my pets at
 

00:19:17.559 --> 00:19:19.890
is this me hanging out with my pets at
home the left is the normal camera in

00:19:19.890 --> 00:19:19.900
home the left is the normal camera in
 

00:19:19.900 --> 00:19:23.100
home the left is the normal camera in
the pixel three front cameras and the

00:19:23.100 --> 00:19:23.110
the pixel three front cameras and the
 

00:19:23.110 --> 00:19:27.270
the pixel three front cameras and the
right is the wide-angle shot to do that

00:19:27.270 --> 00:19:27.280
right is the wide-angle shot to do that
 

00:19:27.280 --> 00:19:29.399
right is the wide-angle shot to do that
just as Oscar walk through we set out

00:19:29.399 --> 00:19:29.409
just as Oscar walk through we set out
 

00:19:29.409 --> 00:19:31.409
just as Oscar walk through we set out
multiple output configurations so for

00:19:31.409 --> 00:19:31.419
multiple output configurations so for
 

00:19:31.419 --> 00:19:34.490
multiple output configurations so for
each lens we set up here we have the

00:19:34.490 --> 00:19:34.500
each lens we set up here we have the
 

00:19:34.500 --> 00:19:36.870
each lens we set up here we have the
preview surface as well as an image

00:19:36.870 --> 00:19:36.880
preview surface as well as an image
 

00:19:36.880 --> 00:19:39.060
preview surface as well as an image
reader for the normal lens we use set

00:19:39.060 --> 00:19:39.070
reader for the normal lens we use set
 

00:19:39.070 --> 00:19:41.789
reader for the normal lens we use set
physical camera ID to the normal lens

00:19:41.789 --> 00:19:41.799
physical camera ID to the normal lens
 

00:19:41.799 --> 00:19:44.279
physical camera ID to the normal lens
and we do the same thing for the

00:19:44.279 --> 00:19:44.289
and we do the same thing for the
 

00:19:44.289 --> 00:19:46.440
and we do the same thing for the
wide-angle lens so we end up with four

00:19:46.440 --> 00:19:46.450
wide-angle lens so we end up with four
 

00:19:46.450 --> 00:19:47.909
wide-angle lens so we end up with four
output configurations we're putting into

00:19:47.909 --> 00:19:47.919
output configurations we're putting into
 

00:19:47.919 --> 00:19:53.220
output configurations we're putting into
our configuration from then from there

00:19:53.220 --> 00:19:53.230
our configuration from then from there
 

00:19:53.230 --> 00:19:54.510
our configuration from then from there
it's just a matter of choosing our

00:19:54.510 --> 00:19:54.520
it's just a matter of choosing our
 

00:19:54.520 --> 00:19:56.580
it's just a matter of choosing our
output targets for the capture in this

00:19:56.580 --> 00:19:56.590
output targets for the capture in this
 

00:19:56.590 --> 00:19:58.440
output targets for the capture in this
case we want those photos so we can

00:19:58.440 --> 00:19:58.450
case we want those photos so we can
 

00:19:58.450 --> 00:20:00.659
case we want those photos so we can
operate on them so we say we want the

00:20:00.659 --> 00:20:00.669
operate on them so we say we want the
 

00:20:00.669 --> 00:20:02.580
operate on them so we say we want the
image reader from the normal lens and

00:20:02.580 --> 00:20:02.590
image reader from the normal lens and
 

00:20:02.590 --> 00:20:07.529
image reader from the normal lens and
the wide-angle lens okay so we have our

00:20:07.529 --> 00:20:07.539
the wide-angle lens okay so we have our
 

00:20:07.539 --> 00:20:09.480
the wide-angle lens okay so we have our
images now we have to do a bunch of math

00:20:09.480 --> 00:20:09.490
images now we have to do a bunch of math
 

00:20:09.490 --> 00:20:11.190
images now we have to do a bunch of math
and some magic and make that bouquet

00:20:11.190 --> 00:20:11.200
and some magic and make that bouquet
 

00:20:11.200 --> 00:20:13.830
and some magic and make that bouquet
effect happen I want to give a brief

00:20:13.830 --> 00:20:13.840
effect happen I want to give a brief
 

00:20:13.840 --> 00:20:16.590
effect happen I want to give a brief
introduction to stereo vision before we

00:20:16.590 --> 00:20:16.600
introduction to stereo vision before we
 

00:20:16.600 --> 00:20:18.899
introduction to stereo vision before we
get into all the code but I have to say

00:20:18.899 --> 00:20:18.909
get into all the code but I have to say
 

00:20:18.909 --> 00:20:21.120
get into all the code but I have to say
looking at these slides working on these

00:20:21.120 --> 00:20:21.130
looking at these slides working on these
 

00:20:21.130 --> 00:20:23.460
looking at these slides working on these
slides I got a little bit bored I like

00:20:23.460 --> 00:20:23.470
slides I got a little bit bored I like
 

00:20:23.470 --> 00:20:26.399
slides I got a little bit bored I like
geometry but you know it's a lot of

00:20:26.399 --> 00:20:26.409
geometry but you know it's a lot of
 

00:20:26.409 --> 00:20:28.440
geometry but you know it's a lot of
letters and I started asking myself what

00:20:28.440 --> 00:20:28.450
letters and I started asking myself what
 

00:20:28.450 --> 00:20:32.370
letters and I started asking myself what
does P stand for anyway obviously it's a

00:20:32.370 --> 00:20:32.380
does P stand for anyway obviously it's a
 

00:20:32.380 --> 00:20:34.529
does P stand for anyway obviously it's a
pile of chocolate P stands for a pile of

00:20:34.529 --> 00:20:34.539
pile of chocolate P stands for a pile of
 

00:20:34.539 --> 00:20:35.730
pile of chocolate P stands for a pile of
chocolate and this is what we're going

00:20:35.730 --> 00:20:35.740
chocolate and this is what we're going
 

00:20:35.740 --> 00:20:37.680
chocolate and this is what we're going
to be focusing on for the rest of this

00:20:37.680 --> 00:20:37.690
to be focusing on for the rest of this
 

00:20:37.690 --> 00:20:41.100
to be focusing on for the rest of this
demo and you know camera one is a little

00:20:41.100 --> 00:20:41.110
demo and you know camera one is a little
 

00:20:41.110 --> 00:20:43.500
demo and you know camera one is a little
bit boring camera two so s here we're

00:20:43.500 --> 00:20:43.510
bit boring camera two so s here we're
 

00:20:43.510 --> 00:20:45.090
bit boring camera two so s here we're
gonna replace with a shark this is my

00:20:45.090 --> 00:20:45.100
gonna replace with a shark this is my
 

00:20:45.100 --> 00:20:47.250
gonna replace with a shark this is my
friend pepper the shark and H is hippo

00:20:47.250 --> 00:20:47.260
friend pepper the shark and H is hippo
 

00:20:47.260 --> 00:20:49.110
friend pepper the shark and H is hippo
so these are our helpers that are going

00:20:49.110 --> 00:20:49.120
so these are our helpers that are going
 

00:20:49.120 --> 00:20:51.930
so these are our helpers that are going
to help us talk about stereo vision so

00:20:51.930 --> 00:20:51.940
to help us talk about stereo vision so
 

00:20:51.940 --> 00:20:54.840
to help us talk about stereo vision so
left camera normal lens is pepper of the

00:20:54.840 --> 00:20:54.850
left camera normal lens is pepper of the
 

00:20:54.850 --> 00:20:58.380
left camera normal lens is pepper of the
shark wide-angle lens is Susie Lou the

00:20:58.380 --> 00:20:58.390
shark wide-angle lens is Susie Lou the
 

00:20:58.390 --> 00:21:00.230
shark wide-angle lens is Susie Lou the
couch hippopotamus and they're both

00:21:00.230 --> 00:21:00.240
couch hippopotamus and they're both
 

00:21:00.240 --> 00:21:01.860
couch hippopotamus and they're both
zeroing in on that

00:21:01.860 --> 00:21:01.870
zeroing in on that
 

00:21:01.870 --> 00:21:03.630
zeroing in on that
big pile of chocolate and already it's a

00:21:03.630 --> 00:21:03.640
big pile of chocolate and already it's a
 

00:21:03.640 --> 00:21:06.680
big pile of chocolate and already it's a
lot more fun I hope you agree

00:21:06.680 --> 00:21:06.690
lot more fun I hope you agree
 

00:21:06.690 --> 00:21:09.810
lot more fun I hope you agree
so those skewed rectangles there that's

00:21:09.810 --> 00:21:09.820
so those skewed rectangles there that's
 

00:21:09.820 --> 00:21:12.210
so those skewed rectangles there that's
the 2d surface that's like the image

00:21:12.210 --> 00:21:12.220
the 2d surface that's like the image
 

00:21:12.220 --> 00:21:14.299
the 2d surface that's like the image
that the cameras are going to capture in

00:21:14.299 --> 00:21:14.309
that the cameras are going to capture in
 

00:21:14.309 --> 00:21:17.190
that the cameras are going to capture in
other words the 2d representation of

00:21:17.190 --> 00:21:17.200
other words the 2d representation of
 

00:21:17.200 --> 00:21:20.370
other words the 2d representation of
that real live 3d object we have let's

00:21:20.370 --> 00:21:20.380
that real live 3d object we have let's
 

00:21:20.380 --> 00:21:21.990
that real live 3d object we have let's
take a look at what that looks like the

00:21:21.990 --> 00:21:22.000
take a look at what that looks like the
 

00:21:22.000 --> 00:21:24.630
take a look at what that looks like the
shark eye view is right in there on the

00:21:24.630 --> 00:21:24.640
shark eye view is right in there on the
 

00:21:24.640 --> 00:21:26.540
shark eye view is right in there on the
Allman's sea salt and dark chocolate

00:21:26.540 --> 00:21:26.550
Allman's sea salt and dark chocolate
 

00:21:26.550 --> 00:21:29.880
Allman's sea salt and dark chocolate
whereas the hippocampus tin on the

00:21:29.880 --> 00:21:29.890
whereas the hippocampus tin on the
 

00:21:29.890 --> 00:21:32.040
whereas the hippocampus tin on the
raspberry crunch so they're both seeing

00:21:32.040 --> 00:21:32.050
raspberry crunch so they're both seeing
 

00:21:32.050 --> 00:21:34.230
raspberry crunch so they're both seeing
the same 3d object but they have this 2d

00:21:34.230 --> 00:21:34.240
the same 3d object but they have this 2d
 

00:21:34.240 --> 00:21:36.210
the same 3d object but they have this 2d
representation and what we really want

00:21:36.210 --> 00:21:36.220
representation and what we really want
 

00:21:36.220 --> 00:21:38.540
representation and what we really want
to do is take their separate views and

00:21:38.540 --> 00:21:38.550
to do is take their separate views and
 

00:21:38.550 --> 00:21:40.830
to do is take their separate views and
be able to combine them so we get a

00:21:40.830 --> 00:21:40.840
be able to combine them so we get a
 

00:21:40.840 --> 00:21:42.900
be able to combine them so we get a
little bit more information than that 2d

00:21:42.900 --> 00:21:42.910
little bit more information than that 2d
 

00:21:42.910 --> 00:21:45.330
little bit more information than that 2d
view and be able to create a great depth

00:21:45.330 --> 00:21:45.340
view and be able to create a great depth
 

00:21:45.340 --> 00:21:48.090
view and be able to create a great depth
map so we have the again the normal view

00:21:48.090 --> 00:21:48.100
map so we have the again the normal view
 

00:21:48.100 --> 00:21:49.950
map so we have the again the normal view
the wide-angle view well in this case

00:21:49.950 --> 00:21:49.960
the wide-angle view well in this case
 

00:21:49.960 --> 00:21:51.150
the wide-angle view well in this case
they're both normal at the left hand the

00:21:51.150 --> 00:21:51.160
they're both normal at the left hand the
 

00:21:51.160 --> 00:21:53.640
they're both normal at the left hand the
right hand overlay on each other you get

00:21:53.640 --> 00:21:53.650
right hand overlay on each other you get
 

00:21:53.650 --> 00:21:56.340
right hand overlay on each other you get
that kind of 3d ruler effect from

00:21:56.340 --> 00:21:56.350
that kind of 3d ruler effect from
 

00:21:56.350 --> 00:21:57.960
that kind of 3d ruler effect from
elementary school that I hope you got to

00:21:57.960 --> 00:21:57.970
elementary school that I hope you got to
 

00:21:57.970 --> 00:22:02.130
elementary school that I hope you got to
enjoy as a child and from there we can

00:22:02.130 --> 00:22:02.140
enjoy as a child and from there we can
 

00:22:02.140 --> 00:22:04.200
enjoy as a child and from there we can
create a depth map which allows you to

00:22:04.200 --> 00:22:04.210
create a depth map which allows you to
 

00:22:04.210 --> 00:22:05.970
create a depth map which allows you to
do really cool things like awesome

00:22:05.970 --> 00:22:05.980
do really cool things like awesome
 

00:22:05.980 --> 00:22:09.000
do really cool things like awesome
bouquet effects as well as know how far

00:22:09.000 --> 00:22:09.010
bouquet effects as well as know how far
 

00:22:09.010 --> 00:22:10.890
bouquet effects as well as know how far
away the chocolate is so you can reach

00:22:10.890 --> 00:22:10.900
away the chocolate is so you can reach
 

00:22:10.900 --> 00:22:11.790
away the chocolate is so you can reach
out and grab it

00:22:11.790 --> 00:22:11.800
out and grab it
 

00:22:11.800 --> 00:22:15.770
out and grab it
obviously okey dokey so those two

00:22:15.770 --> 00:22:15.780
obviously okey dokey so those two
 

00:22:15.780 --> 00:22:18.390
obviously okey dokey so those two
cameras those two pictures are at a

00:22:18.390 --> 00:22:18.400
cameras those two pictures are at a
 

00:22:18.400 --> 00:22:19.980
cameras those two pictures are at a
different orientation from each other

00:22:19.980 --> 00:22:19.990
different orientation from each other
 

00:22:19.990 --> 00:22:22.260
different orientation from each other
and they're separated in space so we

00:22:22.260 --> 00:22:22.270
and they're separated in space so we
 

00:22:22.270 --> 00:22:24.060
and they're separated in space so we
need to get those on top of each other

00:22:24.060 --> 00:22:24.070
need to get those on top of each other
 

00:22:24.070 --> 00:22:26.250
need to get those on top of each other
this is what we call the camera

00:22:26.250 --> 00:22:26.260
this is what we call the camera
 

00:22:26.260 --> 00:22:28.380
this is what we call the camera
extrinsic so two cameras relate to each

00:22:28.380 --> 00:22:28.390
extrinsic so two cameras relate to each
 

00:22:28.390 --> 00:22:31.320
extrinsic so two cameras relate to each
other so we need to rotate and translate

00:22:31.320 --> 00:22:31.330
other so we need to rotate and translate
 

00:22:31.330 --> 00:22:33.210
other so we need to rotate and translate
each of those images so they appear on

00:22:33.210 --> 00:22:33.220
each of those images so they appear on
 

00:22:33.220 --> 00:22:36.240
each of those images so they appear on
top of each other normally we say that

00:22:36.240 --> 00:22:36.250
top of each other normally we say that
 

00:22:36.250 --> 00:22:37.950
top of each other normally we say that
we normally give the rotation and

00:22:37.950 --> 00:22:37.960
we normally give the rotation and
 

00:22:37.960 --> 00:22:39.690
we normally give the rotation and
translation parameters for a camera in

00:22:39.690 --> 00:22:39.700
translation parameters for a camera in
 

00:22:39.700 --> 00:22:42.840
translation parameters for a camera in
relation to world so instead of camera

00:22:42.840 --> 00:22:42.850
relation to world so instead of camera
 

00:22:42.850 --> 00:22:44.370
relation to world so instead of camera
one to world we'll have shark two world

00:22:44.370 --> 00:22:44.380
one to world we'll have shark two world
 

00:22:44.380 --> 00:22:46.919
one to world we'll have shark two world
and hippo two world but when we're doing

00:22:46.919 --> 00:22:46.929
and hippo two world but when we're doing
 

00:22:46.929 --> 00:22:48.630
and hippo two world but when we're doing
stereo vision what we really need to

00:22:48.630 --> 00:22:48.640
stereo vision what we really need to
 

00:22:48.640 --> 00:22:50.070
stereo vision what we really need to
worry about is shark two hippo so how

00:22:50.070 --> 00:22:50.080
worry about is shark two hippo so how
 

00:22:50.080 --> 00:22:51.360
worry about is shark two hippo so how
are these two cameras related to each

00:22:51.360 --> 00:22:51.370
are these two cameras related to each
 

00:22:51.370 --> 00:22:54.330
are these two cameras related to each
other like a good engineer all I know is

00:22:54.330 --> 00:22:54.340
other like a good engineer all I know is
 

00:22:54.340 --> 00:22:57.000
other like a good engineer all I know is
I have to switch hippo to world to be

00:22:57.000 --> 00:22:57.010
I have to switch hippo to world to be
 

00:22:57.010 --> 00:22:58.470
I have to switch hippo to world to be
world two hippo and now I have this

00:22:58.470 --> 00:22:58.480
world two hippo and now I have this
 

00:22:58.480 --> 00:23:00.890
world two hippo and now I have this
pathway from shark to world two hippo I

00:23:00.890 --> 00:23:00.900
pathway from shark to world two hippo I
 

00:23:00.900 --> 00:23:03.419
pathway from shark to world two hippo I
hope that was a fun introduction to the

00:23:03.419 --> 00:23:03.429
hope that was a fun introduction to the
 

00:23:03.429 --> 00:23:04.860
hope that was a fun introduction to the
math which you can read all about on

00:23:04.860 --> 00:23:04.870
math which you can read all about on
 

00:23:04.870 --> 00:23:07.310
math which you can read all about on
Wikipedia and looks something like this

00:23:07.310 --> 00:23:07.320
Wikipedia and looks something like this
 

00:23:07.320 --> 00:23:10.230
Wikipedia and looks something like this
to get the rotation matrix we gonna

00:23:10.230 --> 00:23:10.240
to get the rotation matrix we gonna
 

00:23:10.240 --> 00:23:12.660
to get the rotation matrix we gonna
inverse the rotation matrix for camera

00:23:12.660 --> 00:23:12.670
inverse the rotation matrix for camera
 

00:23:12.670 --> 00:23:14.340
inverse the rotation matrix for camera
two and cross multiply it with camera

00:23:14.340 --> 00:23:14.350
two and cross multiply it with camera
 

00:23:14.350 --> 00:23:15.240
two and cross multiply it with camera
one

00:23:15.240 --> 00:23:15.250
one
 

00:23:15.250 --> 00:23:16.710
one
and for translation it's something like

00:23:16.710 --> 00:23:16.720
and for translation it's something like
 

00:23:16.720 --> 00:23:20.090
and for translation it's something like
this take the inner product and subtract

00:23:20.090 --> 00:23:20.100
this take the inner product and subtract
 

00:23:20.100 --> 00:23:23.070
this take the inner product and subtract
you can read all about on Wikipedia or

00:23:23.070 --> 00:23:23.080
you can read all about on Wikipedia or
 

00:23:23.080 --> 00:23:26.640
you can read all about on Wikipedia or
other sources so one thing I want to

00:23:26.640 --> 00:23:26.650
other sources so one thing I want to
 

00:23:26.650 --> 00:23:27.930
other sources so one thing I want to
just point out if you're working on this

00:23:27.930 --> 00:23:27.940
just point out if you're working on this
 

00:23:27.940 --> 00:23:31.080
just point out if you're working on this
yourself is the translation matrix for a

00:23:31.080 --> 00:23:31.090
yourself is the translation matrix for a
 

00:23:31.090 --> 00:23:32.790
yourself is the translation matrix for a
pixel tree from the normal camera to the

00:23:32.790 --> 00:23:32.800
pixel tree from the normal camera to the
 

00:23:32.800 --> 00:23:35.460
pixel tree from the normal camera to the
wide camera this is what I got out what

00:23:35.460 --> 00:23:35.470
wide camera this is what I got out what
 

00:23:35.470 --> 00:23:38.820
wide camera this is what I got out what
do you notice about it the 9 millimeter

00:23:38.820 --> 00:23:38.830
do you notice about it the 9 millimeter
 

00:23:38.830 --> 00:23:40.980
do you notice about it the 9 millimeter
separation between the cameras looks

00:23:40.980 --> 00:23:40.990
separation between the cameras looks
 

00:23:40.990 --> 00:23:43.020
separation between the cameras looks
just about right if you look at the

00:23:43.020 --> 00:23:43.030
just about right if you look at the
 

00:23:43.030 --> 00:23:45.480
just about right if you look at the
phone you know there's a good what's the

00:23:45.480 --> 00:23:45.490
phone you know there's a good what's the
 

00:23:45.490 --> 00:23:48.630
phone you know there's a good what's the
American a good anyway there's a good 9

00:23:48.630 --> 00:23:48.640
American a good anyway there's a good 9
 

00:23:48.640 --> 00:23:50.010
American a good anyway there's a good 9
millimeters between those cameras that

00:23:50.010 --> 00:23:50.020
millimeters between those cameras that
 

00:23:50.020 --> 00:23:52.050
millimeters between those cameras that
makes perfect sense but what I didn't

00:23:52.050 --> 00:23:52.060
makes perfect sense but what I didn't
 

00:23:52.060 --> 00:23:53.730
makes perfect sense but what I didn't
notice in which cost me about a week of

00:23:53.730 --> 00:23:53.740
notice in which cost me about a week of
 

00:23:53.740 --> 00:23:57.840
notice in which cost me about a week of
time is that it's in the y-coordinate so

00:23:57.840 --> 00:23:57.850
time is that it's in the y-coordinate so
 

00:23:57.850 --> 00:23:59.640
time is that it's in the y-coordinate so
the cameras are on top of each other and

00:23:59.640 --> 00:23:59.650
the cameras are on top of each other and
 

00:23:59.650 --> 00:24:02.000
the cameras are on top of each other and
so while I'm working with this phone

00:24:02.000 --> 00:24:02.010
so while I'm working with this phone
 

00:24:02.010 --> 00:24:04.050
so while I'm working with this phone
looking at the two cameras beside each

00:24:04.050 --> 00:24:04.060
looking at the two cameras beside each
 

00:24:04.060 --> 00:24:06.090
looking at the two cameras beside each
other I just assumed that they were

00:24:06.090 --> 00:24:06.100
other I just assumed that they were
 

00:24:06.100 --> 00:24:09.180
other I just assumed that they were
obviously horizontally displaced no big

00:24:09.180 --> 00:24:09.190
obviously horizontally displaced no big
 

00:24:09.190 --> 00:24:11.400
obviously horizontally displaced no big
deal except that the depth map function

00:24:11.400 --> 00:24:11.410
deal except that the depth map function
 

00:24:11.410 --> 00:24:12.930
deal except that the depth map function
that I'm using assumes that they're

00:24:12.930 --> 00:24:12.940
that I'm using assumes that they're
 

00:24:12.940 --> 00:24:14.340
that I'm using assumes that they're
gonna be beside each other it zooms

00:24:14.340 --> 00:24:14.350
gonna be beside each other it zooms
 

00:24:14.350 --> 00:24:16.920
gonna be beside each other it zooms
horizontal displacement so you just have

00:24:16.920 --> 00:24:16.930
horizontal displacement so you just have
 

00:24:16.930 --> 00:24:19.020
horizontal displacement so you just have
good because I didn't say the important

00:24:19.020 --> 00:24:19.030
good because I didn't say the important
 

00:24:19.030 --> 00:24:21.000
good because I didn't say the important
part camera sensors are often optimized

00:24:21.000 --> 00:24:21.010
part camera sensors are often optimized
 

00:24:21.010 --> 00:24:23.520
part camera sensors are often optimized
for landscape which makes sense if you

00:24:23.520 --> 00:24:23.530
for landscape which makes sense if you
 

00:24:23.530 --> 00:24:25.110
for landscape which makes sense if you
do it wrong your depth maps don't work

00:24:25.110 --> 00:24:25.120
do it wrong your depth maps don't work
 

00:24:25.120 --> 00:24:27.180
do it wrong your depth maps don't work
you pull your hair out you have a great

00:24:27.180 --> 00:24:27.190
you pull your hair out you have a great
 

00:24:27.190 --> 00:24:30.240
you pull your hair out you have a great
week like I did anyway just a note if

00:24:30.240 --> 00:24:30.250
week like I did anyway just a note if
 

00:24:30.250 --> 00:24:32.220
week like I did anyway just a note if
you're implementing this so we have the

00:24:32.220 --> 00:24:32.230
you're implementing this so we have the
 

00:24:32.230 --> 00:24:34.200
you're implementing this so we have the
camera extrinsic s-- how we get the

00:24:34.200 --> 00:24:34.210
camera extrinsic s-- how we get the
 

00:24:34.210 --> 00:24:35.700
camera extrinsic s-- how we get the
pictures from the cameras on top of each

00:24:35.700 --> 00:24:35.710
pictures from the cameras on top of each
 

00:24:35.710 --> 00:24:36.930
pictures from the cameras on top of each
other how they relate to each other

00:24:36.930 --> 00:24:36.940
other how they relate to each other
 

00:24:36.940 --> 00:24:39.480
other how they relate to each other
camera intrinsics are properties of the

00:24:39.480 --> 00:24:39.490
camera intrinsics are properties of the
 

00:24:39.490 --> 00:24:41.580
camera intrinsics are properties of the
cameras themselves so we know we have a

00:24:41.580 --> 00:24:41.590
cameras themselves so we know we have a
 

00:24:41.590 --> 00:24:43.200
cameras themselves so we know we have a
normal lens and a wide-angle lens and

00:24:43.200 --> 00:24:43.210
normal lens and a wide-angle lens and
 

00:24:43.210 --> 00:24:46.020
normal lens and a wide-angle lens and
they have different properties so

00:24:46.020 --> 00:24:46.030
they have different properties so
 

00:24:46.030 --> 00:24:47.700
they have different properties so
there's two things one is the camera

00:24:47.700 --> 00:24:47.710
there's two things one is the camera
 

00:24:47.710 --> 00:24:49.200
there's two things one is the camera
characteristics this is things like the

00:24:49.200 --> 00:24:49.210
characteristics this is things like the
 

00:24:49.210 --> 00:24:51.390
characteristics this is things like the
focal length the principal axis and if

00:24:51.390 --> 00:24:51.400
focal length the principal axis and if
 

00:24:51.400 --> 00:24:53.430
focal length the principal axis and if
that access is skewed for some reason

00:24:53.430 --> 00:24:53.440
that access is skewed for some reason
 

00:24:53.440 --> 00:24:56.430
that access is skewed for some reason
this appears often in the 3 by 3 matrix

00:24:56.430 --> 00:24:56.440
this appears often in the 3 by 3 matrix
 

00:24:56.440 --> 00:25:00.930
this appears often in the 3 by 3 matrix
and distortion the wide-angle lens and

00:25:00.930 --> 00:25:00.940
and distortion the wide-angle lens and
 

00:25:00.940 --> 00:25:02.430
and distortion the wide-angle lens and
any wide angle lens near the edges

00:25:02.430 --> 00:25:02.440
any wide angle lens near the edges
 

00:25:02.440 --> 00:25:03.600
any wide angle lens near the edges
especially you're going to get a little

00:25:03.600 --> 00:25:03.610
especially you're going to get a little
 

00:25:03.610 --> 00:25:05.340
especially you're going to get a little
bit of distortion going on that we need

00:25:05.340 --> 00:25:05.350
bit of distortion going on that we need
 

00:25:05.350 --> 00:25:07.950
bit of distortion going on that we need
to consider as we're mapping the two

00:25:07.950 --> 00:25:07.960
to consider as we're mapping the two
 

00:25:07.960 --> 00:25:11.640
to consider as we're mapping the two
images to each other another note so

00:25:11.640 --> 00:25:11.650
images to each other another note so
 

00:25:11.650 --> 00:25:14.220
images to each other another note so
we're gonna use the intrinsic distortion

00:25:14.220 --> 00:25:14.230
we're gonna use the intrinsic distortion
 

00:25:14.230 --> 00:25:15.780
we're gonna use the intrinsic distortion
properties of the lens to undistorted

00:25:15.780 --> 00:25:15.790
properties of the lens to undistorted
 

00:25:15.790 --> 00:25:19.230
properties of the lens to undistorted
image but as Oscar told us by default

00:25:19.230 --> 00:25:19.240
image but as Oscar told us by default
 

00:25:19.240 --> 00:25:21.360
image but as Oscar told us by default
the camera under source image for us so

00:25:21.360 --> 00:25:21.370
the camera under source image for us so
 

00:25:21.370 --> 00:25:23.130
the camera under source image for us so
we're going to undistorted and then re

00:25:23.130 --> 00:25:23.140
we're going to undistorted and then re
 

00:25:23.140 --> 00:25:25.320
we're going to undistorted and then re
undistorted which means we're actually

00:25:25.320 --> 00:25:25.330
undistorted which means we're actually
 

00:25:25.330 --> 00:25:27.540
undistorted which means we're actually
going to distort it which is bad news so

00:25:27.540 --> 00:25:27.550
going to distort it which is bad news so
 

00:25:27.550 --> 00:25:28.650
going to distort it which is bad news so
we actually need to turn off the

00:25:28.650 --> 00:25:28.660
we actually need to turn off the
 

00:25:28.660 --> 00:25:29.110
we actually need to turn off the
distortion

00:25:29.110 --> 00:25:29.120
distortion
 

00:25:29.120 --> 00:25:30.490
distortion
correction if you want to do to depth

00:25:30.490 --> 00:25:30.500
correction if you want to do to depth
 

00:25:30.500 --> 00:25:33.430
correction if you want to do to depth
maps that's easy enough with the our

00:25:33.430 --> 00:25:33.440
maps that's easy enough with the our
 

00:25:33.440 --> 00:25:34.840
maps that's easy enough with the our
camera request we just make sure that

00:25:34.840 --> 00:25:34.850
camera request we just make sure that
 

00:25:34.850 --> 00:25:38.680
camera request we just make sure that
distortion mode is off okie dokie so

00:25:38.680 --> 00:25:38.690
distortion mode is off okie dokie so
 

00:25:38.690 --> 00:25:40.180
distortion mode is off okie dokie so
here's the four things rotation

00:25:40.180 --> 00:25:40.190
here's the four things rotation
 

00:25:40.190 --> 00:25:41.950
here's the four things rotation
translation the camera characteristics

00:25:41.950 --> 00:25:41.960
translation the camera characteristics
 

00:25:41.960 --> 00:25:43.780
translation the camera characteristics
matrix and the lens Distortion

00:25:43.780 --> 00:25:43.790
matrix and the lens Distortion
 

00:25:43.790 --> 00:25:46.630
matrix and the lens Distortion
how do you get these properties it's

00:25:46.630 --> 00:25:46.640
how do you get these properties it's
 

00:25:46.640 --> 00:25:48.790
how do you get these properties it's
pretty easy you just take an entire

00:25:48.790 --> 00:25:48.800
pretty easy you just take an entire
 

00:25:48.800 --> 00:25:51.280
pretty easy you just take an entire
afternoon printout a checkerboard sheet

00:25:51.280 --> 00:25:51.290
afternoon printout a checkerboard sheet
 

00:25:51.290 --> 00:25:52.690
afternoon printout a checkerboard sheet
or is anyone in this room done this

00:25:52.690 --> 00:25:52.700
or is anyone in this room done this
 

00:25:52.700 --> 00:25:53.260
or is anyone in this room done this
before

00:25:53.260 --> 00:25:53.270
before
 

00:25:53.270 --> 00:25:54.970
before
it's called camera yeah it's fun right

00:25:54.970 --> 00:25:54.980
it's called camera yeah it's fun right
 

00:25:54.980 --> 00:25:57.190
it's called camera yeah it's fun right
it's great camera calibration take a

00:25:57.190 --> 00:25:57.200
it's great camera calibration take a
 

00:25:57.200 --> 00:25:59.170
it's great camera calibration take a
whole series of shots with both the

00:25:59.170 --> 00:25:59.180
whole series of shots with both the
 

00:25:59.180 --> 00:26:00.970
whole series of shots with both the
cameras you run a bunch of algorithms

00:26:00.970 --> 00:26:00.980
cameras you run a bunch of algorithms
 

00:26:00.980 --> 00:26:03.160
cameras you run a bunch of algorithms
you figure out these four camera

00:26:03.160 --> 00:26:03.170
you figure out these four camera
 

00:26:03.170 --> 00:26:04.720
you figure out these four camera
characteristics and from then you can go

00:26:04.720 --> 00:26:04.730
characteristics and from then you can go
 

00:26:04.730 --> 00:26:06.640
characteristics and from then you can go
ahead and start making depth maps from

00:26:06.640 --> 00:26:06.650
ahead and start making depth maps from
 

00:26:06.650 --> 00:26:10.030
ahead and start making depth maps from
the cameras you can tell from my

00:26:10.030 --> 00:26:10.040
the cameras you can tell from my
 

00:26:10.040 --> 00:26:11.560
the cameras you can tell from my
cheerful face it's not actually that fun

00:26:11.560 --> 00:26:11.570
cheerful face it's not actually that fun
 

00:26:11.570 --> 00:26:15.400
cheerful face it's not actually that fun
don't do it it's no good luckily in the

00:26:15.400 --> 00:26:15.410
don't do it it's no good luckily in the
 

00:26:15.410 --> 00:26:17.500
don't do it it's no good luckily in the
camera to multi camera api's we have

00:26:17.500 --> 00:26:17.510
camera to multi camera api's we have
 

00:26:17.510 --> 00:26:21.010
camera to multi camera api's we have
these great fields rotation translation

00:26:21.010 --> 00:26:21.020
these great fields rotation translation
 

00:26:21.020 --> 00:26:22.750
these great fields rotation translation
calibration and distortion so you can

00:26:22.750 --> 00:26:22.760
calibration and distortion so you can
 

00:26:22.760 --> 00:26:25.120
calibration and distortion so you can
get it straight out of the API which is

00:26:25.120 --> 00:26:25.130
get it straight out of the API which is
 

00:26:25.130 --> 00:26:27.610
get it straight out of the API which is
wonderful I'm going to just tell you a

00:26:27.610 --> 00:26:27.620
wonderful I'm going to just tell you a
 

00:26:27.620 --> 00:26:28.930
wonderful I'm going to just tell you a
few notes if you're implementing these

00:26:28.930 --> 00:26:28.940
few notes if you're implementing these
 

00:26:28.940 --> 00:26:33.970
few notes if you're implementing these
yourself so the camera characteristics

00:26:33.970 --> 00:26:33.980
yourself so the camera characteristics
 

00:26:33.980 --> 00:26:35.650
yourself so the camera characteristics
the focal length and the access

00:26:35.650 --> 00:26:35.660
the focal length and the access
 

00:26:35.660 --> 00:26:38.020
the focal length and the access
information comes in five parameters

00:26:38.020 --> 00:26:38.030
information comes in five parameters
 

00:26:38.030 --> 00:26:40.960
information comes in five parameters
this is in the Android documentation but

00:26:40.960 --> 00:26:40.970
this is in the Android documentation but
 

00:26:40.970 --> 00:26:42.730
this is in the Android documentation but
to create that 3x3 matrix you just have

00:26:42.730 --> 00:26:42.740
to create that 3x3 matrix you just have
 

00:26:42.740 --> 00:26:45.160
to create that 3x3 matrix you just have
to follow the documentation and plug in

00:26:45.160 --> 00:26:45.170
to follow the documentation and plug in
 

00:26:45.170 --> 00:26:47.680
to follow the documentation and plug in
the numbers another thing that might

00:26:47.680 --> 00:26:47.690
the numbers another thing that might
 

00:26:47.690 --> 00:26:48.760
the numbers another thing that might
throw you off is the distortion

00:26:48.760 --> 00:26:48.770
throw you off is the distortion
 

00:26:48.770 --> 00:26:51.970
throw you off is the distortion
coefficients again are five values but

00:26:51.970 --> 00:26:51.980
coefficients again are five values but
 

00:26:51.980 --> 00:26:54.010
coefficients again are five values but
the opencv library uses them in a

00:26:54.010 --> 00:26:54.020
the opencv library uses them in a
 

00:26:54.020 --> 00:26:55.390
the opencv library uses them in a
different order than the values to get

00:26:55.390 --> 00:26:55.400
different order than the values to get
 

00:26:55.400 --> 00:26:57.280
different order than the values to get
out of the API so you just need to know

00:26:57.280 --> 00:26:57.290
out of the API so you just need to know
 

00:26:57.290 --> 00:27:01.990
out of the API so you just need to know
that it goes 0 1 3 4 - the good news is

00:27:01.990 --> 00:27:02.000
that it goes 0 1 3 4 - the good news is
 

00:27:02.000 --> 00:27:04.410
that it goes 0 1 3 4 - the good news is
if you if use them in the 0 1 2 3 4

00:27:04.410 --> 00:27:04.420
if you if use them in the 0 1 2 3 4
 

00:27:04.420 --> 00:27:07.510
if you if use them in the 0 1 2 3 4
order when you undistorted as they look

00:27:07.510 --> 00:27:07.520
order when you undistorted as they look
 

00:27:07.520 --> 00:27:08.799
order when you undistorted as they look
like they've been in a whirlpool so

00:27:08.799 --> 00:27:08.809
like they've been in a whirlpool so
 

00:27:08.809 --> 00:27:10.990
like they've been in a whirlpool so
you're sure something's wrong with those

00:27:10.990 --> 00:27:11.000
you're sure something's wrong with those
 

00:27:11.000 --> 00:27:15.040
you're sure something's wrong with those
2 coefficients anyway so once we have

00:27:15.040 --> 00:27:15.050
2 coefficients anyway so once we have
 

00:27:15.050 --> 00:27:16.540
2 coefficients anyway so once we have
all those parameters we can go ahead and

00:27:16.540 --> 00:27:16.550
all those parameters we can go ahead and
 

00:27:16.550 --> 00:27:18.580
all those parameters we can go ahead and
start preparing our images to do a depth

00:27:18.580 --> 00:27:18.590
start preparing our images to do a depth
 

00:27:18.590 --> 00:27:21.760
start preparing our images to do a depth
map comparison this is me and my kitchen

00:27:21.760 --> 00:27:21.770
map comparison this is me and my kitchen
 

00:27:21.770 --> 00:27:23.530
map comparison this is me and my kitchen
I don't know if you can see from there

00:27:23.530 --> 00:27:23.540
I don't know if you can see from there
 

00:27:23.540 --> 00:27:25.930
I don't know if you can see from there
but if you look at the ceiling you'll

00:27:25.930 --> 00:27:25.940
but if you look at the ceiling you'll
 

00:27:25.940 --> 00:27:28.180
but if you look at the ceiling you'll
notice there's kind of a curve going

00:27:28.180 --> 00:27:28.190
notice there's kind of a curve going
 

00:27:28.190 --> 00:27:30.010
notice there's kind of a curve going
down we don't live in the funhouse

00:27:30.010 --> 00:27:30.020
down we don't live in the funhouse
 

00:27:30.020 --> 00:27:31.720
down we don't live in the funhouse
it's the distortion effects we're

00:27:31.720 --> 00:27:31.730
it's the distortion effects we're
 

00:27:31.730 --> 00:27:33.010
it's the distortion effects we're
talking about with the wide-angle lens

00:27:33.010 --> 00:27:33.020
talking about with the wide-angle lens
 

00:27:33.020 --> 00:27:35.919
talking about with the wide-angle lens
with distortion correction off as well

00:27:35.919 --> 00:27:35.929
with distortion correction off as well
 

00:27:35.929 --> 00:27:37.930
with distortion correction off as well
when you're comparing two images the

00:27:37.930 --> 00:27:37.940
when you're comparing two images the
 

00:27:37.940 --> 00:27:39.700
when you're comparing two images the
straight lines while in the curved lines

00:27:39.700 --> 00:27:39.710
straight lines while in the curved lines
 

00:27:39.710 --> 00:27:41.620
straight lines while in the curved lines
need to line up in each of the images

00:27:41.620 --> 00:27:41.630
need to line up in each of the images
 

00:27:41.630 --> 00:27:42.790
need to line up in each of the images
when you're making it up

00:27:42.790 --> 00:27:42.800
when you're making it up
 

00:27:42.800 --> 00:27:45.370
when you're making it up
ma'am we call that rectifying and we use

00:27:45.370 --> 00:27:45.380
ma'am we call that rectifying and we use
 

00:27:45.380 --> 00:27:48.000
ma'am we call that rectifying and we use
the camera characteristics to do that

00:27:48.000 --> 00:27:48.010
the camera characteristics to do that
 

00:27:48.010 --> 00:27:51.730
the camera characteristics to do that
that's just showing the the Ben roof all

00:27:51.730 --> 00:27:51.740
that's just showing the the Ben roof all
 

00:27:51.740 --> 00:27:53.800
that's just showing the the Ben roof all
of these functions are in the opencv

00:27:53.800 --> 00:27:53.810
of these functions are in the opencv
 

00:27:53.810 --> 00:27:55.690
of these functions are in the opencv
library the open computer vision library

00:27:55.690 --> 00:27:55.700
library the open computer vision library
 

00:27:55.700 --> 00:27:57.850
library the open computer vision library
the first one is stereo rectified this

00:27:57.850 --> 00:27:57.860
the first one is stereo rectified this
 

00:27:57.860 --> 00:28:00.010
the first one is stereo rectified this
gets a set of parameters we can use to

00:28:00.010 --> 00:28:00.020
gets a set of parameters we can use to
 

00:28:00.020 --> 00:28:02.860
gets a set of parameters we can use to
perform these calculations so we pass in

00:28:02.860 --> 00:28:02.870
perform these calculations so we pass in
 

00:28:02.870 --> 00:28:06.280
perform these calculations so we pass in
the coal sorry the values we got from

00:28:06.280 --> 00:28:06.290
the coal sorry the values we got from
 

00:28:06.290 --> 00:28:09.250
the coal sorry the values we got from
the API the camera matrix the distortion

00:28:09.250 --> 00:28:09.260
the API the camera matrix the distortion
 

00:28:09.260 --> 00:28:10.660
the API the camera matrix the distortion
coefficients the rotation and

00:28:10.660 --> 00:28:10.670
coefficients the rotation and
 

00:28:10.670 --> 00:28:13.570
coefficients the rotation and
translation that we calculated before we

00:28:13.570 --> 00:28:13.580
translation that we calculated before we
 

00:28:13.580 --> 00:28:15.100
translation that we calculated before we
get these parameters out and we call

00:28:15.100 --> 00:28:15.110
get these parameters out and we call
 

00:28:15.110 --> 00:28:17.440
get these parameters out and we call
undistorted IMAP which creates a map

00:28:17.440 --> 00:28:17.450
undistorted IMAP which creates a map
 

00:28:17.450 --> 00:28:20.230
undistorted IMAP which creates a map
telling us how we can take two images

00:28:20.230 --> 00:28:20.240
telling us how we can take two images
 

00:28:20.240 --> 00:28:22.360
telling us how we can take two images
from these two different cameras and map

00:28:22.360 --> 00:28:22.370
from these two different cameras and map
 

00:28:22.370 --> 00:28:25.140
from these two different cameras and map
them onto each other and the remap

00:28:25.140 --> 00:28:25.150
them onto each other and the remap
 

00:28:25.150 --> 00:28:27.580
them onto each other and the remap
function does just this so let's see

00:28:27.580 --> 00:28:27.590
function does just this so let's see
 

00:28:27.590 --> 00:28:31.180
function does just this so let's see
what that gives us here is on the left

00:28:31.180 --> 00:28:31.190
what that gives us here is on the left
 

00:28:31.190 --> 00:28:33.820
what that gives us here is on the left
again from the normal cam front cam of

00:28:33.820 --> 00:28:33.830
again from the normal cam front cam of
 

00:28:33.830 --> 00:28:36.280
again from the normal cam front cam of
the pixel 3 and the wide-angle lens from

00:28:36.280 --> 00:28:36.290
the pixel 3 and the wide-angle lens from
 

00:28:36.290 --> 00:28:38.320
the pixel 3 and the wide-angle lens from
the pixel 3 you can see they look pretty

00:28:38.320 --> 00:28:38.330
the pixel 3 you can see they look pretty
 

00:28:38.330 --> 00:28:38.650
the pixel 3 you can see they look pretty
good

00:28:38.650 --> 00:28:38.660
good
 

00:28:38.660 --> 00:28:43.630
good
the shark lines are lined up the crop is

00:28:43.630 --> 00:28:43.640
the shark lines are lined up the crop is
 

00:28:43.640 --> 00:28:45.160
the shark lines are lined up the crop is
about right you know the wide angle has

00:28:45.160 --> 00:28:45.170
about right you know the wide angle has
 

00:28:45.170 --> 00:28:46.540
about right you know the wide angle has
a lot more crop region that's all lined

00:28:46.540 --> 00:28:46.550
a lot more crop region that's all lined
 

00:28:46.550 --> 00:28:48.550
a lot more crop region that's all lined
up the roof lines the door lines are

00:28:48.550 --> 00:28:48.560
up the roof lines the door lines are
 

00:28:48.560 --> 00:28:50.260
up the roof lines the door lines are
straight there's no wacky Distortion and

00:28:50.260 --> 00:28:50.270
straight there's no wacky Distortion and
 

00:28:50.270 --> 00:28:52.120
straight there's no wacky Distortion and
actually I'd say from where you're

00:28:52.120 --> 00:28:52.130
actually I'd say from where you're
 

00:28:52.130 --> 00:28:53.110
actually I'd say from where you're
sitting you probably have to look

00:28:53.110 --> 00:28:53.120
sitting you probably have to look
 

00:28:53.120 --> 00:28:55.510
sitting you probably have to look
closely to notice that the left-hand

00:28:55.510 --> 00:28:55.520
closely to notice that the left-hand
 

00:28:55.520 --> 00:28:57.880
closely to notice that the left-hand
picture is a little bit closer to the

00:28:57.880 --> 00:28:57.890
picture is a little bit closer to the
 

00:28:57.890 --> 00:29:00.190
picture is a little bit closer to the
left-hand side of the frame so they're

00:29:00.190 --> 00:29:00.200
left-hand side of the frame so they're
 

00:29:00.200 --> 00:29:02.380
left-hand side of the frame so they're
actually offset by a little bit which is

00:29:02.380 --> 00:29:02.390
actually offset by a little bit which is
 

00:29:02.390 --> 00:29:04.540
actually offset by a little bit which is
just about what you'd expect if you had

00:29:04.540 --> 00:29:04.550
just about what you'd expect if you had
 

00:29:04.550 --> 00:29:09.760
just about what you'd expect if you had
two cameras 9 millimeters apart so we

00:29:09.760 --> 00:29:09.770
two cameras 9 millimeters apart so we
 

00:29:09.770 --> 00:29:11.350
two cameras 9 millimeters apart so we
got the images we've undistorted we

00:29:11.350 --> 00:29:11.360
got the images we've undistorted we
 

00:29:11.360 --> 00:29:13.240
got the images we've undistorted we
rectified them or we're very close to

00:29:13.240 --> 00:29:13.250
rectified them or we're very close to
 

00:29:13.250 --> 00:29:14.590
rectified them or we're very close to
creating the depth maps all we have to

00:29:14.590 --> 00:29:14.600
creating the depth maps all we have to
 

00:29:14.600 --> 00:29:17.260
creating the depth maps all we have to
do is call the depth map function we use

00:29:17.260 --> 00:29:17.270
do is call the depth map function we use
 

00:29:17.270 --> 00:29:21.580
do is call the depth map function we use
stereo BM or stereo SG BM one has a few

00:29:21.580 --> 00:29:21.590
stereo BM or stereo SG BM one has a few
 

00:29:21.590 --> 00:29:23.470
stereo BM or stereo SG BM one has a few
more parameters than the other and when

00:29:23.470 --> 00:29:23.480
more parameters than the other and when
 

00:29:23.480 --> 00:29:24.580
more parameters than the other and when
you get to play with the open source

00:29:24.580 --> 00:29:24.590
you get to play with the open source
 

00:29:24.590 --> 00:29:26.650
you get to play with the open source
demo you can see how these parameters

00:29:26.650 --> 00:29:26.660
demo you can see how these parameters
 

00:29:26.660 --> 00:29:30.160
demo you can see how these parameters
work and play around with it optimize

00:29:30.160 --> 00:29:30.170
work and play around with it optimize
 

00:29:30.170 --> 00:29:33.370
work and play around with it optimize
them commit your changes help make that

00:29:33.370 --> 00:29:33.380
them commit your changes help make that
 

00:29:33.380 --> 00:29:36.130
them commit your changes help make that
better and we call compute and make this

00:29:36.130 --> 00:29:36.140
better and we call compute and make this
 

00:29:36.140 --> 00:29:38.320
better and we call compute and make this
depth map and when you do that you'll

00:29:38.320 --> 00:29:38.330
depth map and when you do that you'll
 

00:29:38.330 --> 00:29:41.970
depth map and when you do that you'll
get an amazing photo something like this

00:29:41.970 --> 00:29:41.980
get an amazing photo something like this
 

00:29:41.980 --> 00:29:44.020
get an amazing photo something like this
actually sometimes it looks a lot better

00:29:44.020 --> 00:29:44.030
actually sometimes it looks a lot better
 

00:29:44.030 --> 00:29:45.610
actually sometimes it looks a lot better
than that but anyway this isn't quite

00:29:45.610 --> 00:29:45.620
than that but anyway this isn't quite
 

00:29:45.620 --> 00:29:47.500
than that but anyway this isn't quite
what we want to work with what we really

00:29:47.500 --> 00:29:47.510
what we want to work with what we really
 

00:29:47.510 --> 00:29:49.810
what we want to work with what we really
want to do is filter that in this case

00:29:49.810 --> 00:29:49.820
want to do is filter that in this case
 

00:29:49.820 --> 00:29:51.280
want to do is filter that in this case
using a weighted least squares filter

00:29:51.280 --> 00:29:51.290
using a weighted least squares filter
 

00:29:51.290 --> 00:29:53.290
using a weighted least squares filter
which smooth that out and gives us a

00:29:53.290 --> 00:29:53.300
which smooth that out and gives us a
 

00:29:53.300 --> 00:29:55.549
which smooth that out and gives us a
little bit more useful depth map

00:29:55.549 --> 00:29:55.559
little bit more useful depth map
 

00:29:55.559 --> 00:29:57.950
little bit more useful depth map
so the darker pixels as we saw in the

00:29:57.950 --> 00:29:57.960
so the darker pixels as we saw in the
 

00:29:57.960 --> 00:29:59.480
so the darker pixels as we saw in the
demo or the ones farther back the whiter

00:29:59.480 --> 00:29:59.490
demo or the ones farther back the whiter
 

00:29:59.490 --> 00:30:02.239
demo or the ones farther back the whiter
pixels are the closer ones and it's a

00:30:02.239 --> 00:30:02.249
pixels are the closer ones and it's a
 

00:30:02.249 --> 00:30:03.440
pixels are the closer ones and it's a
little probably a little hard to see you

00:30:03.440 --> 00:30:03.450
little probably a little hard to see you
 

00:30:03.450 --> 00:30:05.210
little probably a little hard to see you
can see the Sharks note in the hippos

00:30:05.210 --> 00:30:05.220
can see the Sharks note in the hippos
 

00:30:05.220 --> 00:30:07.940
can see the Sharks note in the hippos
known are a little bit grayed out so it

00:30:07.940 --> 00:30:07.950
known are a little bit grayed out so it
 

00:30:07.950 --> 00:30:09.739
known are a little bit grayed out so it
it's actually working to some extent

00:30:09.739 --> 00:30:09.749
it's actually working to some extent
 

00:30:09.749 --> 00:30:11.590
it's actually working to some extent
there this is how we call the filter

00:30:11.590 --> 00:30:11.600
there this is how we call the filter
 

00:30:11.600 --> 00:30:14.810
there this is how we call the filter
it's also including the opencv libraries

00:30:14.810 --> 00:30:14.820
it's also including the opencv libraries
 

00:30:14.820 --> 00:30:17.899
it's also including the opencv libraries
in the contributor modules it's all open

00:30:17.899 --> 00:30:17.909
in the contributor modules it's all open
 

00:30:17.909 --> 00:30:20.659
in the contributor modules it's all open
source and it's really cool when you get

00:30:20.659 --> 00:30:20.669
source and it's really cool when you get
 

00:30:20.669 --> 00:30:23.239
source and it's really cool when you get
a depth map that is perfect you it's

00:30:23.239 --> 00:30:23.249
a depth map that is perfect you it's
 

00:30:23.249 --> 00:30:26.600
a depth map that is perfect you it's
exhilarating okay here we have our def

00:30:26.600 --> 00:30:26.610
exhilarating okay here we have our def
 

00:30:26.610 --> 00:30:28.600
exhilarating okay here we have our def
to map what do we do with it

00:30:28.600 --> 00:30:28.610
to map what do we do with it
 

00:30:28.610 --> 00:30:31.519
to map what do we do with it
so we can just apply this depth map as a

00:30:31.519 --> 00:30:31.529
so we can just apply this depth map as a
 

00:30:31.529 --> 00:30:35.119
so we can just apply this depth map as a
mask on top of it and the black areas we

00:30:35.119 --> 00:30:35.129
mask on top of it and the black areas we
 

00:30:35.129 --> 00:30:36.980
mask on top of it and the black areas we
want to fade out and we want to

00:30:36.980 --> 00:30:36.990
want to fade out and we want to
 

00:30:36.990 --> 00:30:40.039
want to fade out and we want to
highlight the foreground that's pretty

00:30:40.039 --> 00:30:40.049
highlight the foreground that's pretty
 

00:30:40.049 --> 00:30:47.210
highlight the foreground that's pretty
easy to do with a porter def and the

00:30:47.210 --> 00:30:47.220
easy to do with a porter def and the
 

00:30:47.220 --> 00:30:50.989
easy to do with a porter def and the
result is something like this so indeed

00:30:50.989 --> 00:30:50.999
result is something like this so indeed
 

00:30:50.999 --> 00:30:55.039
result is something like this so indeed
the foreground is more present and then

00:30:55.039 --> 00:30:55.049
the foreground is more present and then
 

00:30:55.049 --> 00:30:57.769
the foreground is more present and then
the background is faded out personally I

00:30:57.769 --> 00:30:57.779
the background is faded out personally I
 

00:30:57.779 --> 00:30:59.749
the background is faded out personally I
have high standards I see like a

00:30:59.749 --> 00:30:59.759
have high standards I see like a
 

00:30:59.759 --> 00:31:01.820
have high standards I see like a
translucent floating shark over my

00:31:01.820 --> 00:31:01.830
translucent floating shark over my
 

00:31:01.830 --> 00:31:03.859
translucent floating shark over my
shoulder my face is a little bit greyed

00:31:03.859 --> 00:31:03.869
shoulder my face is a little bit greyed
 

00:31:03.869 --> 00:31:06.409
shoulder my face is a little bit greyed
out my eyeballs missing so I'm gonna put

00:31:06.409 --> 00:31:06.419
out my eyeballs missing so I'm gonna put
 

00:31:06.419 --> 00:31:07.909
out my eyeballs missing so I'm gonna put
another big red X through this and say

00:31:07.909 --> 00:31:07.919
another big red X through this and say
 

00:31:07.919 --> 00:31:09.830
another big red X through this and say
not quite good enough it's a good start

00:31:09.830 --> 00:31:09.840
not quite good enough it's a good start
 

00:31:09.840 --> 00:31:11.869
not quite good enough it's a good start
but what we really want is a depth map

00:31:11.869 --> 00:31:11.879
but what we really want is a depth map
 

00:31:11.879 --> 00:31:14.210
but what we really want is a depth map
more like this so we're going to put a

00:31:14.210 --> 00:31:14.220
more like this so we're going to put a
 

00:31:14.220 --> 00:31:15.950
more like this so we're going to put a
hard threshold on the depth map and

00:31:15.950 --> 00:31:15.960
hard threshold on the depth map and
 

00:31:15.960 --> 00:31:19.779
hard threshold on the depth map and
decide foreground background that's it

00:31:19.779 --> 00:31:19.789
decide foreground background that's it
 

00:31:19.789 --> 00:31:22.460
decide foreground background that's it
in other apps you may want to do

00:31:22.460 --> 00:31:22.470
in other apps you may want to do
 

00:31:22.470 --> 00:31:23.840
in other apps you may want to do
something similar but maybe not such a

00:31:23.840 --> 00:31:23.850
something similar but maybe not such a
 

00:31:23.850 --> 00:31:26.570
something similar but maybe not such a
harsh distinction it could be a smoother

00:31:26.570 --> 00:31:26.580
harsh distinction it could be a smoother
 

00:31:26.580 --> 00:31:30.730
harsh distinction it could be a smoother
curve to do that we can use the opencv

00:31:30.730 --> 00:31:30.740
curve to do that we can use the opencv
 

00:31:30.740 --> 00:31:33.529
curve to do that we can use the opencv
function threshold we give it some

00:31:33.529 --> 00:31:33.539
function threshold we give it some
 

00:31:33.539 --> 00:31:35.779
function threshold we give it some
cutoff value for the app it's somewhere

00:31:35.779 --> 00:31:35.789
cutoff value for the app it's somewhere
 

00:31:35.789 --> 00:31:41.180
cutoff value for the app it's somewhere
around 80 to 140 out of 255 and that's

00:31:41.180 --> 00:31:41.190
around 80 to 140 out of 255 and that's
 

00:31:41.190 --> 00:31:42.619
around 80 to 140 out of 255 and that's
just that limit where something is

00:31:42.619 --> 00:31:42.629
just that limit where something is
 

00:31:42.629 --> 00:31:44.409
just that limit where something is
considered foreground or background I

00:31:44.409 --> 00:31:44.419
considered foreground or background I
 

00:31:44.419 --> 00:31:46.580
considered foreground or background I
wanted to note this in case you're

00:31:46.580 --> 00:31:46.590
wanted to note this in case you're
 

00:31:46.590 --> 00:31:49.759
wanted to note this in case you're
implementing any of this when we applied

00:31:49.759 --> 00:31:49.769
implementing any of this when we applied
 

00:31:49.769 --> 00:31:51.230
implementing any of this when we applied
the mask like I showed you actually need

00:31:51.230 --> 00:31:51.240
the mask like I showed you actually need
 

00:31:51.240 --> 00:31:52.430
the mask like I showed you actually need
to turn those black pixels to

00:31:52.430 --> 00:31:52.440
to turn those black pixels to
 

00:31:52.440 --> 00:31:55.489
to turn those black pixels to
transparent pixels so this function just

00:31:55.489 --> 00:31:55.499
transparent pixels so this function just
 

00:31:55.499 --> 00:31:57.200
transparent pixels so this function just
goes through and converts all the black

00:31:57.200 --> 00:31:57.210
goes through and converts all the black
 

00:31:57.210 --> 00:32:02.509
goes through and converts all the black
ones to transparency and here we go

00:32:02.509 --> 00:32:02.519
ones to transparency and here we go
 

00:32:02.519 --> 00:32:04.220
ones to transparency and here we go
we're almost there so I want to know one

00:32:04.220 --> 00:32:04.230
we're almost there so I want to know one
 

00:32:04.230 --> 00:32:06.019
we're almost there so I want to know one
thing on this slide the middle picture

00:32:06.019 --> 00:32:06.029
thing on this slide the middle picture
 

00:32:06.029 --> 00:32:08.359
thing on this slide the middle picture
you can see my eye is a bit blacked out

00:32:08.359 --> 00:32:08.369
you can see my eye is a bit blacked out
 

00:32:08.369 --> 00:32:09.139
you can see my eye is a bit blacked out
just

00:32:09.139 --> 00:32:09.149
just
 

00:32:09.149 --> 00:32:12.109
just
remember that for three more slides or

00:32:12.109 --> 00:32:12.119
remember that for three more slides or
 

00:32:12.119 --> 00:32:14.869
remember that for three more slides or
so so we have our initial picture we've

00:32:14.869 --> 00:32:14.879
so so we have our initial picture we've
 

00:32:14.879 --> 00:32:16.789
so so we have our initial picture we've
got our depth map we do this hard

00:32:16.789 --> 00:32:16.799
got our depth map we do this hard
 

00:32:16.799 --> 00:32:21.619
got our depth map we do this hard
threshold on it and we can again create

00:32:21.619 --> 00:32:21.629
threshold on it and we can again create
 

00:32:21.629 --> 00:32:22.909
threshold on it and we can again create
our background just like we did in the

00:32:22.909 --> 00:32:22.919
our background just like we did in the
 

00:32:22.919 --> 00:32:25.119
our background just like we did in the
first demo and blur it out mono

00:32:25.119 --> 00:32:25.129
first demo and blur it out mono
 

00:32:25.129 --> 00:32:27.950
first demo and blur it out mono
monochrome it and cut out that

00:32:27.950 --> 00:32:27.960
monochrome it and cut out that
 

00:32:27.960 --> 00:32:29.299
monochrome it and cut out that
foreground we have all the pieces we

00:32:29.299 --> 00:32:29.309
foreground we have all the pieces we
 

00:32:29.309 --> 00:32:32.570
foreground we have all the pieces we
need to paste it on and this is our

00:32:32.570 --> 00:32:32.580
need to paste it on and this is our
 

00:32:32.580 --> 00:32:37.999
need to paste it on and this is our
amazing final portrait shot which it's

00:32:37.999 --> 00:32:38.009
amazing final portrait shot which it's
 

00:32:38.009 --> 00:32:40.099
amazing final portrait shot which it's
pretty good I'm proud of it so let's

00:32:40.099 --> 00:32:40.109
pretty good I'm proud of it so let's
 

00:32:40.109 --> 00:32:42.379
pretty good I'm proud of it so let's
talk about an optimization I remember

00:32:42.379 --> 00:32:42.389
talk about an optimization I remember
 

00:32:42.389 --> 00:32:43.849
talk about an optimization I remember
that eyeball thing I was talking about

00:32:43.849 --> 00:32:43.859
that eyeball thing I was talking about
 

00:32:43.859 --> 00:32:47.089
that eyeball thing I was talking about
so anything kind of gleaming and shiny

00:32:47.089 --> 00:32:47.099
so anything kind of gleaming and shiny
 

00:32:47.099 --> 00:32:50.269
so anything kind of gleaming and shiny
can get messed up in this current

00:32:50.269 --> 00:32:50.279
can get messed up in this current
 

00:32:50.279 --> 00:32:51.709
can get messed up in this current
iteration of the application or bright

00:32:51.709 --> 00:32:51.719
iteration of the application or bright
 

00:32:51.719 --> 00:32:53.119
iteration of the application or bright
lights can throw off the depth map

00:32:53.119 --> 00:32:53.129
lights can throw off the depth map
 

00:32:53.129 --> 00:32:56.810
lights can throw off the depth map
generation and so I did one optimization

00:32:56.810 --> 00:32:56.820
generation and so I did one optimization
 

00:32:56.820 --> 00:32:58.669
generation and so I did one optimization
which was we have the face detect region

00:32:58.669 --> 00:32:58.679
which was we have the face detect region
 

00:32:58.679 --> 00:33:01.279
which was we have the face detect region
I'm pretty sure I want the face in the

00:33:01.279 --> 00:33:01.289
I'm pretty sure I want the face in the
 

00:33:01.289 --> 00:33:05.029
I'm pretty sure I want the face in the
foreground so I just used it in hard cut

00:33:05.029 --> 00:33:05.039
foreground so I just used it in hard cut
 

00:33:05.039 --> 00:33:06.409
foreground so I just used it in hard cut
it in and said anything on the face is

00:33:06.409 --> 00:33:06.419
it in and said anything on the face is
 

00:33:06.419 --> 00:33:07.969
it in and said anything on the face is
going to be in the foreground so that

00:33:07.969 --> 00:33:07.979
going to be in the foreground so that
 

00:33:07.979 --> 00:33:10.940
going to be in the foreground so that
protected like my teeth and my eye from

00:33:10.940 --> 00:33:10.950
protected like my teeth and my eye from
 

00:33:10.950 --> 00:33:15.229
protected like my teeth and my eye from
the that masking out effect I don't know

00:33:15.229 --> 00:33:15.239
the that masking out effect I don't know
 

00:33:15.239 --> 00:33:17.239
the that masking out effect I don't know
if you noticed can I go back my fuzzy

00:33:17.239 --> 00:33:17.249
if you noticed can I go back my fuzzy
 

00:33:17.249 --> 00:33:20.209
if you noticed can I go back my fuzzy
red hair and the red couch there we go

00:33:20.209 --> 00:33:20.219
red hair and the red couch there we go
 

00:33:20.219 --> 00:33:23.119
red hair and the red couch there we go
they kind of blend in and so I'm

00:33:23.119 --> 00:33:23.129
they kind of blend in and so I'm
 

00:33:23.129 --> 00:33:25.009
they kind of blend in and so I'm
thinking we could use grab cut possibly

00:33:25.009 --> 00:33:25.019
thinking we could use grab cut possibly
 

00:33:25.019 --> 00:33:26.289
thinking we could use grab cut possibly
to do a little bit better job of

00:33:26.289 --> 00:33:26.299
to do a little bit better job of
 

00:33:26.299 --> 00:33:28.129
to do a little bit better job of
figuring out exactly what's in the

00:33:28.129 --> 00:33:28.139
figuring out exactly what's in the
 

00:33:28.139 --> 00:33:32.060
figuring out exactly what's in the
foreground so thanks a lot we really

00:33:32.060 --> 00:33:32.070
foreground so thanks a lot we really
 

00:33:32.070 --> 00:33:33.529
foreground so thanks a lot we really
hope that this gave you a bit of a deep

00:33:33.529 --> 00:33:33.539
hope that this gave you a bit of a deep
 

00:33:33.539 --> 00:33:35.119
hope that this gave you a bit of a deep
dive into using camera two and the multi

00:33:35.119 --> 00:33:35.129
dive into using camera two and the multi
 

00:33:35.129 --> 00:33:38.119
dive into using camera two and the multi
camera API is giving you some exciting

00:33:38.119 --> 00:33:38.129
camera API is giving you some exciting
 

00:33:38.129 --> 00:33:40.279
camera API is giving you some exciting
creative ideas we really want to hear

00:33:40.279 --> 00:33:40.289
creative ideas we really want to hear
 

00:33:40.289 --> 00:33:41.629
creative ideas we really want to hear
your ideas and we really want to see

00:33:41.629 --> 00:33:41.639
your ideas and we really want to see
 

00:33:41.639 --> 00:33:44.149
your ideas and we really want to see
them in your apps and we also want to

00:33:44.149 --> 00:33:44.159
them in your apps and we also want to
 

00:33:44.159 --> 00:33:46.729
them in your apps and we also want to
know what features you're looking for we

00:33:46.729 --> 00:33:46.739
know what features you're looking for we
 

00:33:46.739 --> 00:33:49.459
know what features you're looking for we
think they're great and we want to keep

00:33:49.459 --> 00:33:49.469
think they're great and we want to keep
 

00:33:49.469 --> 00:33:51.049
think they're great and we want to keep
pushing the camera ecosystem forward and

00:33:51.049 --> 00:33:51.059
pushing the camera ecosystem forward and
 

00:33:51.059 --> 00:33:53.329
pushing the camera ecosystem forward and
doing more and more stuff really

00:33:53.329 --> 00:33:53.339
doing more and more stuff really
 

00:33:53.339 --> 00:33:57.320
doing more and more stuff really
ecosystem wide thanks so much again and

00:33:57.320 --> 00:33:57.330
ecosystem wide thanks so much again and
 

00:33:57.330 --> 00:33:58.940
ecosystem wide thanks so much again and
please do come to the sandbox camera

00:33:58.940 --> 00:33:58.950
please do come to the sandbox camera
 

00:33:58.950 --> 00:34:00.649
please do come to the sandbox camera
sandbox if you want to ask us any

00:34:00.649 --> 00:34:00.659
sandbox if you want to ask us any
 

00:34:00.659 --> 00:34:02.029
sandbox if you want to ask us any
questions you want any follow-ups you

00:34:02.029 --> 00:34:02.039
questions you want any follow-ups you
 

00:34:02.039 --> 00:34:03.409
questions you want any follow-ups you
want to try this app and see if it works

00:34:03.409 --> 00:34:03.419
want to try this app and see if it works
 

00:34:03.419 --> 00:34:07.969
want to try this app and see if it works
and look for it soon open-source thanks

00:34:07.969 --> 00:34:07.979
and look for it soon open-source thanks
 

00:34:07.979 --> 00:34:10.220
and look for it soon open-source thanks
a lot

00:34:10.220 --> 00:34:10.230
 
 

00:34:10.230 --> 00:34:28.659
 
[Music]

