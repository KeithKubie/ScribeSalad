WEBVTT
Kind: captions
Language: en

00:00:03.057 --> 00:00:04.640
MARTIN OMANDER: Today
I'm joined again

00:00:04.640 --> 00:00:08.130
by Waleed Abdullah,
founder of Ninua.

00:00:08.130 --> 00:00:09.620
Thanks for coming
in today, Waleed.

00:00:09.620 --> 00:00:10.994
WALEED ABDULLA:
Thank you Martin.

00:00:10.994 --> 00:00:12.732
MARTIN OMANDER:
So for viewers who

00:00:12.732 --> 00:00:14.440
didn't watch previous
episodes, would you

00:00:14.440 --> 00:00:17.745
give a brief description of
what Ninua, your startup, does?

00:00:17.745 --> 00:00:18.620
WALEED ABDULLA: Sure.

00:00:18.620 --> 00:00:22.920
So we two products, Symphony
at symphonytools.com.

00:00:22.920 --> 00:00:25.040
It's a social media
management dashboard

00:00:25.040 --> 00:00:27.770
for businesses to
publish their content

00:00:27.770 --> 00:00:30.090
to multiple social
networks and to listen

00:00:30.090 --> 00:00:32.830
to what their customers
say about them

00:00:32.830 --> 00:00:34.320
on these social networks.

00:00:34.320 --> 00:00:36.650
And the second product
is Networked Blogs,

00:00:36.650 --> 00:00:40.190
which is a platform for
bloggers to promote their blogs

00:00:40.190 --> 00:00:43.470
and interact and network
with their readers

00:00:43.470 --> 00:00:47.804
and other bloggers and has
about 1.2 million blogs on it.

00:00:47.804 --> 00:00:48.720
MARTIN OMANDER: Great.

00:00:48.720 --> 00:00:50.430
So Waleed, in
previous episodes, we

00:00:50.430 --> 00:00:52.700
talked about
business challenges.

00:00:52.700 --> 00:00:56.420
And for this one, let's
talk about technology,

00:00:56.420 --> 00:00:58.380
a topic that's very near
and dear to my heart.

00:00:58.380 --> 00:00:59.060
I'm an engineer.

00:00:59.060 --> 00:00:59.750
WALEED ABDULLA: Same here.

00:00:59.750 --> 00:01:00.180
MARTIN OMANDER: You too?

00:01:00.180 --> 00:01:00.440
WALEED ABDULLA: Yeah.

00:01:00.440 --> 00:01:01.970
MARTIN OMANDER:
All right, great.

00:01:01.970 --> 00:01:07.050
So tell us a bit about your
first technology platform

00:01:07.050 --> 00:01:08.595
that your app was built on.

00:01:08.595 --> 00:01:09.470
WALEED ABDULLA: Sure.

00:01:09.470 --> 00:01:12.310
Networked Blogs started
in the hackathon.

00:01:12.310 --> 00:01:17.130
And for me it was a side project
to learn about the Facebook

00:01:17.130 --> 00:01:18.420
platform at the time.

00:01:18.420 --> 00:01:21.590
And most of the examples
were within PHP and MySQL.

00:01:21.590 --> 00:01:23.560
So I thought, OK, I'll
just build it with that.

00:01:23.560 --> 00:01:27.790
It wasn't planned to
be a long-term project.

00:01:27.790 --> 00:01:31.970
And it ended up being
a long-term project.

00:01:31.970 --> 00:01:34.404
But that's how we
started, so PHP, MySQL.

00:01:34.404 --> 00:01:35.320
MARTIN OMANDER: Great.

00:01:35.320 --> 00:01:38.110
And how was the traction
of the platform?

00:01:38.110 --> 00:01:40.254
How many users did you get?

00:01:40.254 --> 00:01:42.170
WALEED ABDULLA: It started
growing pretty fast

00:01:42.170 --> 00:01:42.990
from the beginning.

00:01:42.990 --> 00:01:47.340
And, at some point, we were
adding about 1,000 new bloggers

00:01:47.340 --> 00:01:48.140
every day.

00:01:48.140 --> 00:01:49.570
MARTIN OMANDER: Wow.

00:01:49.570 --> 00:01:52.240
WALEED ABDULLA: We have
about 1.2 million bloggers

00:01:52.240 --> 00:01:55.500
and about 7 million users on it.

00:01:55.500 --> 00:01:59.722
So, yeah, over time, it grew
much bigger than I anticipated.

00:01:59.722 --> 00:02:00.930
MARTIN OMANDER: That's great.

00:02:00.930 --> 00:02:01.890
WALEED ABDULLA: Yeah.

00:02:01.890 --> 00:02:03.514
MARTIN OMANDER: A
good problem to have.

00:02:03.514 --> 00:02:05.610
So what happened with
the technology platform

00:02:05.610 --> 00:02:07.821
with these additional users?

00:02:07.821 --> 00:02:09.570
WALEED ABDULLA: It
didn't scale very well.

00:02:09.570 --> 00:02:11.670
In the beginning, it was great.

00:02:11.670 --> 00:02:16.370
But over time, the server
was kind of at capacity.

00:02:16.370 --> 00:02:20.060
And then we added another
server and then a third server.

00:02:20.060 --> 00:02:21.470
And it wasn't that stable.

00:02:21.470 --> 00:02:25.480
I was learning how to scale
a product as I kind of work

00:02:25.480 --> 00:02:26.780
on it.

00:02:26.780 --> 00:02:29.400
It would crash occasionally.

00:02:29.400 --> 00:02:31.800
It would crash in the
worst times possible,

00:02:31.800 --> 00:02:34.211
like middle the
night or when I'm out

00:02:34.211 --> 00:02:35.460
watching a movie with friends.

00:02:35.460 --> 00:02:37.460
And I would have to
drop whatever I'm doing

00:02:37.460 --> 00:02:38.906
and just go fix it.

00:02:38.906 --> 00:02:41.030
MARTIN OMANDER: You won't
be invited to movie night

00:02:41.030 --> 00:02:42.692
again with those friends.

00:02:42.692 --> 00:02:44.600
WALEED ABDULLA: Yeah.

00:02:44.600 --> 00:02:47.770
It was a kind of running
joke about-- yeah.

00:02:47.770 --> 00:02:49.870
MARTIN OMANDER: So
what did you do?

00:02:49.870 --> 00:02:51.675
You can't have your
product going down

00:02:51.675 --> 00:02:53.924
or you're having to wake up
in the middle of the night

00:02:53.924 --> 00:02:54.910
all the time.

00:02:54.910 --> 00:02:56.493
WALEED ABDULLA: Yeah,
that wasn't fun.

00:02:56.493 --> 00:03:02.450
So I tried to scale it on PHP
and MySQL for a long time.

00:03:02.450 --> 00:03:04.840
And it kind of worked.

00:03:04.840 --> 00:03:06.170
But there was a lot of work.

00:03:06.170 --> 00:03:10.180
And there was a lot of time
spent on the scaling as opposed

00:03:10.180 --> 00:03:12.220
to like improving the product.

00:03:12.220 --> 00:03:14.930
So at some point,
I decided that I'm

00:03:14.930 --> 00:03:17.380
going to move it to
Google App Engine.

00:03:17.380 --> 00:03:19.610
I had experimented
with Google App Engine

00:03:19.610 --> 00:03:22.060
before that on other
small, concise projects.

00:03:22.060 --> 00:03:23.380
And it worked really well.

00:03:23.380 --> 00:03:26.340
So I kind of just made the
decision to actually move it.

00:03:26.340 --> 00:03:30.130
And then it took a
while to actually move.

00:03:30.130 --> 00:03:34.520
But once we did that, that
solved all the scaling

00:03:34.520 --> 00:03:35.202
problems.

00:03:35.202 --> 00:03:36.660
MARTIN OMANDER: It
sounds very easy

00:03:36.660 --> 00:03:38.534
when you're saying it
now and after the fact.

00:03:38.534 --> 00:03:42.540
But this must have been a
very big decision for you.

00:03:42.540 --> 00:03:45.684
Were you concerned
about being locked in?

00:03:45.684 --> 00:03:47.100
WALEED ABDULLA:
So that definitely

00:03:47.100 --> 00:03:49.270
was one of the concerns.

00:03:49.270 --> 00:03:53.540
One of the experiments I did,
at the time, was to kind of test

00:03:53.540 --> 00:03:58.690
the theory of how would it
work if I wanted to move out

00:03:58.690 --> 00:04:01.020
of App Engine, like,
am I really stuck?

00:04:01.020 --> 00:04:04.260
So there were a couple
Open Source Products.

00:04:04.260 --> 00:04:06.640
One was called
typhoonae, and the other

00:04:06.640 --> 00:04:10.100
was AppScale that allows you to
take your app engine up and run

00:04:10.100 --> 00:04:12.770
it without modifying the code.

00:04:12.770 --> 00:04:15.140
You can run it on
Ubuntu, for example.

00:04:15.140 --> 00:04:18.750
So at the time, I used typhoonae
and run this experiment

00:04:18.750 --> 00:04:22.029
to see if I can take the
app and run it on Ubuntu.

00:04:22.029 --> 00:04:24.830
And in one day, we
managed to do that.

00:04:24.830 --> 00:04:29.620
And we had an application
that was working fairly OK.

00:04:29.620 --> 00:04:31.867
That wasn't production
ready, but it was working.

00:04:31.867 --> 00:04:33.950
You can track through it
and navigate and register

00:04:33.950 --> 00:04:36.180
and, you know.

00:04:36.180 --> 00:04:38.030
So that gave me
a good confidence

00:04:38.030 --> 00:04:43.710
that, OK, if the need happens,
in the future, to move out,

00:04:43.710 --> 00:04:45.730
it is possible to take
the same source code

00:04:45.730 --> 00:04:48.740
and run it on a
different platform

00:04:48.740 --> 00:04:50.460
without a lot of modifications.

00:04:50.460 --> 00:04:52.986
It might take more than a day,
obviously, probably, maybe

00:04:52.986 --> 00:04:54.110
a week, maybe even a month.

00:04:54.110 --> 00:04:56.730
But still, at least
it's possible.

00:04:56.730 --> 00:04:58.470
So that gave me
this comfort to say,

00:04:58.470 --> 00:04:59.880
yep, I can take
this [INAUDIBLE].

00:04:59.880 --> 00:05:00.796
MARTIN OMANDER: I see.

00:05:00.796 --> 00:05:06.110
So then did you end up porting
the system to App Engine

00:05:06.110 --> 00:05:11.029
and decide on a particular D-Day
and switch everything over?

00:05:11.029 --> 00:05:11.820
WALEED ABDULLA: No.

00:05:11.820 --> 00:05:15.910
So the app was fairly big, a
lot of pages, a lot of features.

00:05:15.910 --> 00:05:17.360
And we had a lot of traffic.

00:05:17.360 --> 00:05:19.490
Our database was really big.

00:05:19.490 --> 00:05:24.410
And it wasn't practical to just
rewrite everything and then

00:05:24.410 --> 00:05:27.110
just switch over in one evening.

00:05:27.110 --> 00:05:32.140
So what we did was, more
of a piecemeal approach.

00:05:32.140 --> 00:05:35.390
So we'll take one page,
migrate it, and after a while

00:05:35.390 --> 00:05:36.680
we take another.

00:05:36.680 --> 00:05:39.480
Whenever we have to
update a certain feature

00:05:39.480 --> 00:05:41.060
or kind of make a
big change to it,

00:05:41.060 --> 00:05:44.600
we'll take the opportunity to
rewrite it as well in Python

00:05:44.600 --> 00:05:46.190
and we moved it to App Engine.

00:05:46.190 --> 00:05:47.777
So we did it one step at a time.

00:05:47.777 --> 00:05:48.610
MARTIN OMANDER: Hmm.

00:05:48.610 --> 00:05:51.110
So I guess that approach
meant that you could do it

00:05:51.110 --> 00:05:53.614
safely and at your own pace.

00:05:53.614 --> 00:05:54.530
WALEED ABDULLA: Right.

00:05:54.530 --> 00:05:56.904
MARTIN OMANDER: But it also
must have led to complexities

00:05:56.904 --> 00:05:59.740
of having the system now
living in two places,

00:05:59.740 --> 00:06:02.560
and the data living in two
places, or how did you do that?

00:06:02.560 --> 00:06:03.810
WALEED ABDULLA: Exactly, yeah.

00:06:03.810 --> 00:06:08.100
So there were tables that
were, like database tables,

00:06:08.100 --> 00:06:10.130
that were not changing often.

00:06:10.130 --> 00:06:12.270
So we simply just have
two copies of them

00:06:12.270 --> 00:06:14.030
on both platforms.

00:06:14.030 --> 00:06:18.960
For other tables that change a
lot, we would replicate them.

00:06:18.960 --> 00:06:21.100
Or we would have
one master table

00:06:21.100 --> 00:06:22.880
and all the data is there.

00:06:22.880 --> 00:06:26.020
So, for example, where
we store the articles,

00:06:26.020 --> 00:06:28.380
we just put that on App Engine.

00:06:28.380 --> 00:06:31.800
And then whenever a
page that's on PHP

00:06:31.800 --> 00:06:36.150
needs to access that
data, we created an API

00:06:36.150 --> 00:06:39.000
that simulates the
MySQL interface.

00:06:39.000 --> 00:06:43.040
So a new PHP when you call
MySQL and you get records back,

00:06:43.040 --> 00:06:45.670
what this does is kind
of takes the request,

00:06:45.670 --> 00:06:47.990
sends it to App
Engine, gets the data,

00:06:47.990 --> 00:06:52.570
and then formats it in the
same format that MySQL returns.

00:06:52.570 --> 00:06:55.530
So the code runs
as if it's actually

00:06:55.530 --> 00:06:59.010
pulling the data from
MySQL but actually

00:06:59.010 --> 00:07:02.250
was pulling it across the
internet from App Engine.

00:07:02.250 --> 00:07:03.790
And it was fast enough.

00:07:03.790 --> 00:07:08.800
And we managed to do that,
kind of migrate slowly by doing

00:07:08.800 --> 00:07:11.614
this kind of abstracting
the data layer.

00:07:11.614 --> 00:07:12.530
MARTIN OMANDER: Great.

00:07:12.530 --> 00:07:13.620
All right.

00:07:13.620 --> 00:07:16.070
So now that you've
moved everything

00:07:16.070 --> 00:07:19.970
over to App Engine, what were
the costs now that you had

00:07:19.970 --> 00:07:24.340
the full, what was it, millions
of users and huge changing

00:07:24.340 --> 00:07:27.660
database, how did
the cost work out?

00:07:27.660 --> 00:07:31.140
WALEED ABDULLA: So I think the
cost was a little bit higher.

00:07:31.140 --> 00:07:32.550
It's hard to tell exactly.

00:07:32.550 --> 00:07:34.860
Because we were also growing.

00:07:34.860 --> 00:07:36.010
And we had more traffic.

00:07:36.010 --> 00:07:38.040
So it's hard to tell.

00:07:38.040 --> 00:07:41.160
But my sense is that it
is a little bit higher.

00:07:41.160 --> 00:07:46.600
But at the same time, I save so
much time, and I sleep better.

00:07:46.600 --> 00:07:52.310
And just the amount
of time that I

00:07:52.310 --> 00:07:56.630
used to spend on having to
deal with that memory issues

00:07:56.630 --> 00:08:01.000
and scaling and the CPU, you
know, whatever, all the scaling

00:08:01.000 --> 00:08:03.180
related issues are all gone.

00:08:03.180 --> 00:08:07.020
So I just focus on actually
building code and releasing

00:08:07.020 --> 00:08:07.700
new features.

00:08:07.700 --> 00:08:08.742
And that's very valuable.

00:08:08.742 --> 00:08:10.991
MARTIN OMANDER: Thank you
for sharing your experiences

00:08:10.991 --> 00:08:12.000
with us, Waleed.

00:08:12.000 --> 00:08:14.620
And good to hear that you can
go and watch movies with friends

00:08:14.620 --> 00:08:15.340
nowadays.

00:08:15.340 --> 00:08:15.760
WALEED ABDULLA: Thank you.

00:08:15.760 --> 00:08:17.360
MARTIN OMANDER: You're welcome.

00:08:17.360 --> 00:08:18.700
That's it for today.

00:08:18.700 --> 00:08:21.300
I hope you found this, what
we were talking about today,

00:08:21.300 --> 00:08:23.080
useful for your startup.

00:08:23.080 --> 00:08:25.500
If you have comments, please
log them under the YouTube

00:08:25.500 --> 00:08:26.690
comments section.

00:08:26.690 --> 00:08:27.770
We love to get comments.

00:08:27.770 --> 00:08:30.650
And we read
everything you write.

00:08:30.650 --> 00:08:32.919
Finally, if you
are in a startup,

00:08:32.919 --> 00:08:37.380
please go to
developers.google.com/startups

00:08:37.380 --> 00:08:40.240
to find out how Google
can help your startup.

00:08:40.240 --> 00:08:40.770
That's it.

00:08:40.770 --> 00:08:42.870
See you next time.

