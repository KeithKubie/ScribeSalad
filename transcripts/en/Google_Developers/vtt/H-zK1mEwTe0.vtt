WEBVTT
Kind: captions
Language: en

00:00:08.890 --> 00:00:12.820
SUZIE: Dad, I need your help.

00:00:12.820 --> 00:00:16.654
TODD: Why sure, Suzie,
what's on your mind?

00:00:16.654 --> 00:00:19.320
SUZIE: I have two tickets to The
Wallabies concert this weekend,

00:00:19.320 --> 00:00:20.870
and I don't know who to invite.

00:00:20.870 --> 00:00:23.230
I was thinking maybe Laura
because she's new in town.

00:00:23.230 --> 00:00:25.370
But Pamela's been my best
friend since forever,

00:00:25.370 --> 00:00:27.745
except that she's been ignoring
me ever since she started

00:00:27.745 --> 00:00:29.552
going steady with Johnny.

00:00:29.552 --> 00:00:31.510
TODD: Well, here's the
thing about friendships.

00:00:31.510 --> 00:00:33.780
Friendships are sort
of like gift baskets.

00:00:33.780 --> 00:00:37.851
Each one has its own unique
set of, umm, OK look,

00:00:37.851 --> 00:00:39.600
I was really kind of
hoping this was going

00:00:39.600 --> 00:00:41.170
to be a CocoaPods question.

00:00:41.170 --> 00:00:42.930
Do you have one of those for me?

00:00:42.930 --> 00:00:44.646
SUZIE: You're not
a very good father.

00:00:44.646 --> 00:00:46.150
TODD: I know.

00:00:46.150 --> 00:00:49.220
But seriously,
CocoaPods, hit me.

00:00:49.220 --> 00:00:50.830
SUZIE: Well, now
that you mention it,

00:00:50.830 --> 00:00:53.350
I've been noticing
these Podfile.lockfiles

00:00:53.350 --> 00:00:54.890
in my project.

00:00:54.890 --> 00:00:56.280
What are those?

00:00:56.280 --> 00:00:58.460
TODD: Ah, so this is a
question I can answer.

00:00:58.460 --> 00:01:00.600
So don't let that
lock name confuse you.

00:01:00.600 --> 00:01:03.120
It's not like there's another
CocoaPods process somewhere

00:01:03.120 --> 00:01:04.959
that's editing a file somewhere.

00:01:04.959 --> 00:01:07.590
See, a CocoaPods lockfile
is important in that it

00:01:07.590 --> 00:01:10.220
keeps track of every
version of every library

00:01:10.220 --> 00:01:12.005
that CocoaPods has
installed for you.

00:01:12.005 --> 00:01:14.050
You can think of it as
something like a snapshot

00:01:14.050 --> 00:01:17.484
of exactly what CocoaPods has
installed in your iOS project.

00:01:17.484 --> 00:01:19.150
SUZIE: That doesn't
seem very important.

00:01:19.150 --> 00:01:20.858
It really just sounds
like something that

00:01:20.858 --> 00:01:22.780
would satisfy my curiosity.

00:01:22.780 --> 00:01:24.180
TODD: Au contraire, sweetie.

00:01:24.180 --> 00:01:25.820
See, a lockfile
is very important

00:01:25.820 --> 00:01:27.610
if you're working
together with a team.

00:01:27.610 --> 00:01:29.480
This will help you all make
sure that all of your files

00:01:29.480 --> 00:01:30.180
are in sync.

00:01:30.180 --> 00:01:30.830
SUZIE: Really?

00:01:30.830 --> 00:01:32.224
How?

00:01:32.224 --> 00:01:34.640
TODD: Let's say that you and
Mark are working on a project

00:01:34.640 --> 00:01:35.920
together.

00:01:35.920 --> 00:01:37.390
You two are still dating, right?

00:01:37.390 --> 00:01:38.477
SUZIE: Yep.

00:01:38.477 --> 00:01:40.310
TODD: You know how I
feel about boys who put

00:01:40.310 --> 00:01:41.960
side effects in their getters.

00:01:41.960 --> 00:01:45.321
SUZIE: I don't really care,
Dad, I love him anyway.

00:01:45.321 --> 00:01:46.320
TODD: OK, you know what?

00:01:46.320 --> 00:01:48.440
Let's watch this.

00:01:48.440 --> 00:01:51.280
OK, so let's say you go ahead
and add a line like this

00:01:51.280 --> 00:01:52.384
to your Podfile.

00:01:52.384 --> 00:01:54.800
SUZIE: Hey, that's the Twitter
walker from the last video.

00:01:54.800 --> 00:01:55.716
TODD: Aw, you watched.

00:01:55.716 --> 00:01:58.020
Now shut up, I'm talking.

00:01:58.020 --> 00:01:59.682
Now you run pod install.

00:01:59.682 --> 00:02:01.140
Now let's assume
the latest version

00:02:01.140 --> 00:02:03.700
of our hypothetical
library is 1.3.3,

00:02:03.700 --> 00:02:06.250
so you'll get that version
added to your project.

00:02:06.250 --> 00:02:08.900
Now let's say a few days later,
the author of the library

00:02:08.900 --> 00:02:11.130
updates it to version 1.4.

00:02:11.130 --> 00:02:13.570
You don't run pod update, so
you're still happily plugging

00:02:13.570 --> 00:02:15.750
away on version 1.3.3.

00:02:15.750 --> 00:02:17.910
But now let's say Mark
gets a copy of your project

00:02:17.910 --> 00:02:19.580
and he runs pod install.

00:02:19.580 --> 00:02:21.260
Well, without that
lockfile around,

00:02:21.260 --> 00:02:23.120
CocoaPods would just
go out and install

00:02:23.120 --> 00:02:25.666
version 1.4 on his machine.

00:02:25.666 --> 00:02:28.040
If he starts using features
that aren't in version 1.3.3,

00:02:28.040 --> 00:02:31.580
it could break your code when
you merge in his changes.

00:02:31.580 --> 00:02:33.450
SUZIE: Dad, how does
a lockfile help?

00:02:33.450 --> 00:02:35.310
TODD: I'm getting
to that, be patient.

00:02:35.310 --> 00:02:37.940
Now on the other hand, if you
have your lockfile checked

00:02:37.940 --> 00:02:40.140
into your project, it'll
record what version

00:02:40.140 --> 00:02:41.690
you have installed.

00:02:41.690 --> 00:02:44.990
Then when Mark runs pod install,
even though version 1.4 is

00:02:44.990 --> 00:02:47.330
out there, CocoaPods
will see that-- according

00:02:47.330 --> 00:02:49.220
to your lockfile-- your
project should only

00:02:49.220 --> 00:02:51.620
have version 1.3.3
installed, and so that's

00:02:51.620 --> 00:02:53.690
what it'll install for Mark.

00:02:53.690 --> 00:02:56.230
Now granted, if Mark--
being the irresponsible boy

00:02:56.230 --> 00:02:58.760
he is who doesn't take
the proper precautions--

00:02:58.760 --> 00:03:01.340
goes out and runs pod
update without telling you,

00:03:01.340 --> 00:03:05.140
well then, yes, CocoaPods will
go out and grab version 1.4.

00:03:05.140 --> 00:03:08.460
But because that change is
also reflected in the lockfile,

00:03:08.460 --> 00:03:11.130
that will get merged in as well
when you merge in Mark's code.

00:03:11.130 --> 00:03:13.770
So at least you'll be aware
that something's changed.

00:03:13.770 --> 00:03:15.450
Oh, another nice
feature of the lockfile

00:03:15.450 --> 00:03:17.770
is that if you're tracking
it in source control,

00:03:17.770 --> 00:03:20.020
you've got a very nice
snapshot of every library

00:03:20.020 --> 00:03:22.034
you've installed
at any given time.

00:03:22.034 --> 00:03:24.700
So if things suddenly break, you
can use it to jump back in time

00:03:24.700 --> 00:03:26.870
and recreate the exact
environment you had when

00:03:26.870 --> 00:03:29.550
you checked in the log file.

00:03:29.550 --> 00:03:30.850
SUZIE: That does seem useful.

00:03:30.850 --> 00:03:33.000
Say, as long as we're
talking about source control,

00:03:33.000 --> 00:03:35.250
do you think that I should
put my pod directory inside

00:03:35.250 --> 00:03:37.055
of my source repository
of my project?

00:03:37.055 --> 00:03:39.180
TODD: Well, there's two
schools of thought on that.

00:03:39.180 --> 00:03:40.554
One school of
thought essentially

00:03:40.554 --> 00:03:42.900
looks at your pod
directory as derived data.

00:03:42.900 --> 00:03:45.830
As long as you have both your
Podfile and your lockfile

00:03:45.830 --> 00:03:48.270
checked into your project--
and you should-- then

00:03:48.270 --> 00:03:50.740
anybody could, in theory,
recreate that environment

00:03:50.740 --> 00:03:53.710
at any time just by
running pod install.

00:03:53.710 --> 00:03:56.354
SUZIE: Sure, but what if you
don't have CocoaPods installed?

00:03:56.354 --> 00:03:58.520
TODD: Well, that's where
the other school of thought

00:03:58.520 --> 00:03:59.120
comes in.

00:03:59.120 --> 00:04:01.740
They believe that because
your pods directory contains

00:04:01.740 --> 00:04:03.920
essential files needed
to run your project,

00:04:03.920 --> 00:04:05.560
you should absolutely
check it in.

00:04:05.560 --> 00:04:08.340
That way, anybody could
download your entire repository

00:04:08.340 --> 00:04:10.854
and run it, no other
steps required.

00:04:10.854 --> 00:04:13.020
SUZIE: Yeah, although that
seems like it might cause

00:04:13.020 --> 00:04:15.052
your repository to get bloated.

00:04:15.052 --> 00:04:17.260
TODD: Well that's probably
true, but hard drive space

00:04:17.260 --> 00:04:18.265
is cheap these days.

00:04:18.265 --> 00:04:20.140
Maybe a bigger concern
might be if you end up

00:04:20.140 --> 00:04:22.100
with merge conflicts
in your pod directory,

00:04:22.100 --> 00:04:25.660
I could see that being
troublesome to fix.

00:04:25.660 --> 00:04:27.580
SUZIE: So what should I do?

00:04:27.580 --> 00:04:29.100
TODD: Well, that's
really up to you.

00:04:29.100 --> 00:04:30.880
The CocoaPods folks
generally recommend

00:04:30.880 --> 00:04:32.980
checking in your pods
directory, but as long

00:04:32.980 --> 00:04:35.480
as you and the rest of your
team agree on the same practice,

00:04:35.480 --> 00:04:36.188
you should be OK.

00:04:36.188 --> 00:04:37.072
SUZIE: No, no, Dad.

00:04:37.072 --> 00:04:39.280
I meant what should I do
about The Wallabies concert?

00:04:39.280 --> 00:04:40.590
I still don't know
who to go with.

00:04:40.590 --> 00:04:41.570
TODD: Oh, that's easy.

00:04:41.570 --> 00:04:43.770
Go with the more
popular one, duh.

00:04:43.770 --> 00:04:46.470
SUZIE: Dad, you're
so stuck in the '50s.

