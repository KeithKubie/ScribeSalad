WEBVTT
Kind: captions
Language: en

00:00:00.000 --> 00:00:05.560
[MUSIC PLAYING]

00:00:05.560 --> 00:00:07.060
JESSICA EARLEY-CHA:
Hi, I'm Jessica.

00:00:07.060 --> 00:00:07.810
LUKE DAVIS: And I'm Luke.

00:00:07.810 --> 00:00:09.130
JESSICA EARLEY-CHA: And we're
part of the developer relations

00:00:09.130 --> 00:00:11.710
team for Actions on Google, and
welcome to Behind the Actions,

00:00:11.710 --> 00:00:12.760
where today we're
going to be building

00:00:12.760 --> 00:00:14.320
a really fun action with Luke.

00:00:14.320 --> 00:00:15.580
LUKE DAVIS: We thought
that we would show off

00:00:15.580 --> 00:00:17.080
some of the cool
things that you can

00:00:17.080 --> 00:00:19.300
do, in terms of
user affordances,

00:00:19.300 --> 00:00:22.372
by building a Silicon
Valley horoscope app.

00:00:22.372 --> 00:00:23.830
JESSICA EARLEY-CHA:
That's awesome.

00:00:23.830 --> 00:00:26.007
Wait, look-- what
are user affordances?

00:00:26.007 --> 00:00:26.840
What does that mean?

00:00:26.840 --> 00:00:27.830
LUKE DAVIS: That's
a great question.

00:00:27.830 --> 00:00:29.205
So user affordances
are the sorts

00:00:29.205 --> 00:00:31.570
of things that you put in
your application or action

00:00:31.570 --> 00:00:35.440
to make it just smooth
and easy for the user

00:00:35.440 --> 00:00:37.815
to get what they want out of
the thing that you've built.

00:00:37.815 --> 00:00:39.148
JESSICA EARLEY-CHA: I love that.

00:00:39.148 --> 00:00:41.290
Yeah, it's all about making
it easier for the user.

00:00:41.290 --> 00:00:43.690
LUKE DAVIS: So today, in
terms of user affordances,

00:00:43.690 --> 00:00:47.050
we're going to include some cool
things, like suggestion chips

00:00:47.050 --> 00:00:49.960
and user storage to
remember specific things

00:00:49.960 --> 00:00:51.970
about each individual
user as they return to us.

00:00:51.970 --> 00:00:53.220
JESSICA EARLEY-CHA: Fantastic.

00:00:53.220 --> 00:00:54.595
LUKE DAVIS: Yeah,
and we're going

00:00:54.595 --> 00:00:57.280
to nest this inside this
crazy project that's

00:00:57.280 --> 00:01:00.220
going to replace the normal
Zodiac signs of Capricorn

00:01:00.220 --> 00:01:02.840
and Scorpio with a few
Silicon Valley archetypes.

00:01:02.840 --> 00:01:04.090
JESSICA EARLEY-CHA: Like what?

00:01:04.090 --> 00:01:06.917
LUKE DAVIS: Like product manager
and executive an engineer.

00:01:06.917 --> 00:01:08.250
JESSICA EARLEY-CHA: Or designer.

00:01:08.250 --> 00:01:08.750
I love it.

00:01:08.750 --> 00:01:09.650
That sounds like fun.

00:01:09.650 --> 00:01:12.150
So we're going to have custom
horoscopes for these different

00:01:12.150 --> 00:01:13.450
archetypes-- their signs--

00:01:13.450 --> 00:01:16.930
and giving them a
horoscope that's

00:01:16.930 --> 00:01:18.620
going be consistent
with the day,

00:01:18.620 --> 00:01:20.710
so it'll be the same
horoscope every day,

00:01:20.710 --> 00:01:22.060
or-- not every day, I'm sorry.

00:01:22.060 --> 00:01:23.330
For that day, it
would be the same one,

00:01:23.330 --> 00:01:24.670
but every day will be different.

00:01:24.670 --> 00:01:25.270
LUKE DAVIS: Exactly.

00:01:25.270 --> 00:01:26.740
Just like you would
expect a horoscope to be.

00:01:26.740 --> 00:01:28.010
JESSICA EARLEY-CHA:
Yeah, that make sense.

00:01:28.010 --> 00:01:30.760
And if you're not familiar
with the tools of Dialogflow

00:01:30.760 --> 00:01:31.648
or using intents.

00:01:31.648 --> 00:01:33.940
We're going to make that
assumption that you've already

00:01:33.940 --> 00:01:35.940
seen episode 1, so if you
don't know about that,

00:01:35.940 --> 00:01:37.890
please go to our Behind
the Actions episode 1

00:01:37.890 --> 00:01:38.840
and check that out.

00:01:38.840 --> 00:01:41.090
So we're going to start off
by jumping in and building

00:01:41.090 --> 00:01:44.630
our first project on the
Actions on Google console.

00:01:44.630 --> 00:01:47.370
So here, we're going to click
on that and make a project.

00:01:47.370 --> 00:01:49.323
And we're going to
call this Horoscope.

00:01:49.323 --> 00:01:50.740
LUKE DAVIS: Horoscope
is very hard

00:01:50.740 --> 00:01:51.935
to spell, for me personally.

00:01:51.935 --> 00:01:53.060
JESSICA EARLEY-CHA: Me too.

00:01:53.060 --> 00:01:53.830
Did I spell that right?

00:01:53.830 --> 00:01:54.420
LUKE DAVIS: I think so.

00:01:54.420 --> 00:01:54.790
JESSICA EARLEY-CHA: OK, sweet.

00:01:54.790 --> 00:01:56.580
OK, we're going to
create the project.

00:01:56.580 --> 00:01:58.163
And what's happening
here is it's just

00:01:58.163 --> 00:02:00.560
creating a project on the
Actions on Google console,

00:02:00.560 --> 00:02:03.310
and it's going to drop
us right into the home

00:02:03.310 --> 00:02:05.392
page of the project itself.

00:02:05.392 --> 00:02:06.100
LUKE DAVIS: Yeah.

00:02:06.100 --> 00:02:07.725
And then we'll have
a bunch of options,

00:02:07.725 --> 00:02:10.630
and Jessica is going to expertly
navigate these options to get

00:02:10.630 --> 00:02:12.250
us all set up.

00:02:12.250 --> 00:02:13.600
JESSICA EARLEY-CHA: Yeah, so
we're going to pick a category.

00:02:13.600 --> 00:02:15.642
We're going to scroll down
and do conversational,

00:02:15.642 --> 00:02:19.102
because this is kind of a
unique demo that we're doing.

00:02:19.102 --> 00:02:19.810
And then in here?

00:02:19.810 --> 00:02:21.070
LUKE DAVIS: And then from here--

00:02:21.070 --> 00:02:22.780
what I like to do when I'm
building these sorts of things

00:02:22.780 --> 00:02:24.910
is have two tabs open
at the same time.

00:02:24.910 --> 00:02:27.250
On one side, I'll have
the web simulator,

00:02:27.250 --> 00:02:30.818
and that will let me like
test out my voice action

00:02:30.818 --> 00:02:32.110
while I'm actually building it.

00:02:32.110 --> 00:02:34.600
On the other side, I'll
have the Dialogflow console.

00:02:34.600 --> 00:02:37.240
So Dialogflow is this
really great tool

00:02:37.240 --> 00:02:41.050
that we have for building out
natural language applications.

00:02:41.050 --> 00:02:43.690
It lets us set
intents and entities

00:02:43.690 --> 00:02:46.670
and handle contexts and all
kinds of other cool things

00:02:46.670 --> 00:02:49.820
you can learn about from
some of our other videos.

00:02:49.820 --> 00:02:50.357
Lovely.

00:02:50.357 --> 00:02:51.690
JESSICA EARLEY-CHA: There we go.

00:02:51.690 --> 00:02:54.695
So now we created the it, and
so we create the actual project.

00:02:59.085 --> 00:03:00.460
LUKE DAVIS: So
you don't actually

00:03:00.460 --> 00:03:04.030
need to write any code at all
to use Dialogflow for managing

00:03:04.030 --> 00:03:06.890
natural language processing.

00:03:06.890 --> 00:03:09.705
but, if you do want
to be especially cool

00:03:09.705 --> 00:03:11.080
and write some
code, you can just

00:03:11.080 --> 00:03:14.425
go over to that Fulfillment
section on the left, and--

00:03:14.425 --> 00:03:16.300
JESSICA EARLEY-CHA:
Well, before we go there,

00:03:16.300 --> 00:03:18.250
let's change our
welcome, so then we

00:03:18.250 --> 00:03:19.612
can have it hit our code.

00:03:19.612 --> 00:03:21.320
LUKE DAVIS: Do you
want to do that first?

00:03:21.320 --> 00:03:22.320
LUKE DAVIS: Yeah,
let's do that first.

00:03:22.320 --> 00:03:23.820
And then we could
show what that is.

00:03:23.820 --> 00:03:27.013
And so we'll go into our welcome
intent, and then in here,

00:03:27.013 --> 00:03:28.930
there's training phrases,
all that great jazz.

00:03:28.930 --> 00:03:30.250
We're going to scroll
all the way down.

00:03:30.250 --> 00:03:31.840
And we don't want these
four to be our greetings.

00:03:31.840 --> 00:03:32.770
LUKE DAVIS: That's right.

00:03:32.770 --> 00:03:34.210
These being the text
responses there.

00:03:34.210 --> 00:03:35.335
JESSICA EARLEY-CHA: Mm-hmm.

00:03:35.335 --> 00:03:37.300
And so I'm going to
delete that, and now we're

00:03:37.300 --> 00:03:40.962
going to add fulfillment
for this intent.

00:03:40.962 --> 00:03:42.420
LUKE DAVIS: So
Jessica just toggled

00:03:42.420 --> 00:03:45.713
on the "Enable webhook call
for this intent" switch,

00:03:45.713 --> 00:03:47.130
and what that does
is it says, OK,

00:03:47.130 --> 00:03:50.100
when a user hits the
default welcome intent,

00:03:50.100 --> 00:03:53.760
I'm going to shuttle
them along to my own code

00:03:53.760 --> 00:03:56.887
for handling what the action
should say in response.

00:03:56.887 --> 00:03:59.220
And so Jessica is just going
to click on the Fulfillment

00:03:59.220 --> 00:04:01.350
section on the left
hand navigation

00:04:01.350 --> 00:04:04.180
and toggle that Disabled
switch to Enabled.

00:04:04.180 --> 00:04:05.910
And what this is
going to let us do

00:04:05.910 --> 00:04:08.370
is build out the
fulfillment code

00:04:08.370 --> 00:04:10.140
that we need for our
action right here

00:04:10.140 --> 00:04:13.420
in the web console itself.

00:04:13.420 --> 00:04:16.089
That means we don't need to
stand up our own server on GCP.

00:04:16.089 --> 00:04:18.089
You don't need to think
about any of that stuff.

00:04:18.089 --> 00:04:20.250
All you need to do is go
in here and start coding.

00:04:20.250 --> 00:04:21.417
JESSICA EARLEY-CHA: Exactly.

00:04:21.417 --> 00:04:23.790
And I'm just copy-pasting
from our boilerplate

00:04:23.790 --> 00:04:25.560
code that's on our GitHub repo.

00:04:25.560 --> 00:04:28.430
And so here we have the intent
of the default welcome intent,

00:04:28.430 --> 00:04:31.470
and then we have a
conv.ask "Hello world!",

00:04:31.470 --> 00:04:33.160
so let's change
that to be something

00:04:33.160 --> 00:04:34.020
a little more appropriate.

00:04:34.020 --> 00:04:35.190
LUKE DAVIS: Oh,
that's a great idea.

00:04:35.190 --> 00:04:36.120
What should we use?

00:04:36.120 --> 00:04:38.572
It should be something
like "Welcome

00:04:38.572 --> 00:04:39.780
to Silicon Valley Horoscope!"

00:04:39.780 --> 00:04:41.520
JESSICA EARLEY-CHA:
Welcome to Silicon--

00:04:41.520 --> 00:04:42.450
LUKE DAVIS: Silicon.

00:04:42.450 --> 00:04:43.160
JESSICA EARLEY-CHA:
With no "e," right?

00:04:43.160 --> 00:04:43.650
LUKE DAVIS: No "e."

00:04:43.650 --> 00:04:45.150
JESSICA EARLEY-CHA:
--Valley-- oops.

00:04:45.150 --> 00:04:46.043
Valley Horoscope!

00:04:46.043 --> 00:04:47.460
LUKE DAVIS: I
actually had no idea

00:04:47.460 --> 00:04:50.130
that those were two different
words until Jessica educated me

00:04:50.130 --> 00:04:51.210
last week.

00:04:51.210 --> 00:04:53.790
JESSICA EARLEY-CHA:
To get started--

00:04:53.790 --> 00:04:55.440
LUKE DAVIS: Just
tell us your sign.

00:04:55.440 --> 00:04:59.113
JESSICA EARLEY-CHA:
Just tell us your sign.

00:04:59.113 --> 00:05:00.060
Sweet.

00:05:00.060 --> 00:05:01.560
LUKE DAVIS: Yeah.

00:05:01.560 --> 00:05:02.453
All right.

00:05:02.453 --> 00:05:04.620
JESSICA EARLEY-CHA: OK, and
so now we'll hit Deploy.

00:05:04.620 --> 00:05:07.928
That way it could spin
up Firebase for us.

00:05:07.928 --> 00:05:09.720
It's going to push all
our code over there.

00:05:09.720 --> 00:05:12.883
It's going to do all of-- it's
going to set all the libraries,

00:05:12.883 --> 00:05:15.300
and then it's going to grab--
once it's deployed and live,

00:05:15.300 --> 00:05:17.280
it's going to grab the
URL and then actually

00:05:17.280 --> 00:05:18.450
connect it to Dialogflow.

00:05:18.450 --> 00:05:19.950
So it might take a
couple of seconds

00:05:19.950 --> 00:05:21.240
for all that magic to happen.

00:05:21.240 --> 00:05:22.050
And that's A-OK.

00:05:22.050 --> 00:05:23.592
LUKE DAVIS: Usually
when you start up

00:05:23.592 --> 00:05:25.230
this for the first
time, it'll take

00:05:25.230 --> 00:05:28.487
longer for the first deployment
than any subsequent deployment.

00:05:28.487 --> 00:05:29.820
JESSICA EARLEY-CHA: Oh, totally.

00:05:29.820 --> 00:05:32.315
Because it's doing all
of that heavy lifting.

00:05:32.315 --> 00:05:34.440
And then after that, it's
just pushing up the code,

00:05:34.440 --> 00:05:35.400
and it makes it a lot faster.

00:05:35.400 --> 00:05:35.580
LUKE DAVIS: That's right.

00:05:35.580 --> 00:05:36.410
Easy peasy.

00:05:36.410 --> 00:05:37.970
Now that that's
all deployed, we're

00:05:37.970 --> 00:05:40.470
going to go over into the
Actions on Google web simulator

00:05:40.470 --> 00:05:43.780
to test out the changes that
we've made to our action.

00:05:43.780 --> 00:05:46.072
JESSICA EARLEY-CHA: So we're
going through Integration.

00:05:46.072 --> 00:05:47.910
That way, we can connect
this to our action.

00:05:47.910 --> 00:05:49.785
And this is going to
drop us into the Actions

00:05:49.785 --> 00:05:50.790
on Google simulator.

00:05:50.790 --> 00:05:51.877
LUKE DAVIS: Right.

00:05:51.877 --> 00:05:53.460
It'll give us a nice
little simulator,

00:05:53.460 --> 00:05:57.420
not just for the little smart
speakers that you might have

00:05:57.420 --> 00:06:00.152
sitting around your
house, but also for phones

00:06:00.152 --> 00:06:01.110
and for smart displays.

00:06:01.110 --> 00:06:03.193
JESSICA EARLEY-CHA: OK,
so now we can test it out.

00:06:03.193 --> 00:06:04.478
LUKE DAVIS: Yeah.

00:06:04.478 --> 00:06:05.770
SYNTHESIZED VOICE 1: All right.

00:06:05.770 --> 00:06:08.770
Here's the test
version of my test app.

00:06:08.770 --> 00:06:11.320
SYNTHESIZED VOICE 2: Welcome
to Silicon Valley Horoscopes.

00:06:11.320 --> 00:06:13.710
To get started, just
tell us your sign.

00:06:13.710 --> 00:06:16.210
JESSICA EARLEY-CHA: So ideally,
the user is going to be able

00:06:16.210 --> 00:06:17.223
to say or find--

00:06:17.223 --> 00:06:19.140
LUKE DAVIS: Let's say
it and see what happens.

00:06:25.138 --> 00:06:25.805
Product manager.

00:06:28.375 --> 00:06:30.000
SYNTHESIZED VOICE 2:
I didn't get that.

00:06:30.000 --> 00:06:30.680
Can you repeat?

00:06:30.680 --> 00:06:32.180
LUKE DAVIS: So
what's happening here

00:06:32.180 --> 00:06:34.640
is our default fallback
intent is being triggered,

00:06:34.640 --> 00:06:37.430
because we don't actually
have an intent set up

00:06:37.430 --> 00:06:40.100
to handle when the user
says, I'm a product manager,

00:06:40.100 --> 00:06:41.710
I'm a designer, I'm an engineer.

00:06:41.710 --> 00:06:42.500
JESSICA EARLEY-CHA:
Yeah, but most likely,

00:06:42.500 --> 00:06:43.880
people are not going
to necessarily know

00:06:43.880 --> 00:06:44.970
what options they have.

00:06:44.970 --> 00:06:47.795
So maybe we should
do something to let

00:06:47.795 --> 00:06:49.670
the user know these are
the options that they

00:06:49.670 --> 00:06:50.510
have to pick from.

00:06:50.510 --> 00:06:51.770
LUKE DAVIS: I think
that's a wonderful idea.

00:06:51.770 --> 00:06:52.790
JESSICA EARLEY-CHA: I'm
thinking suggestion chips.

00:06:52.790 --> 00:06:53.832
LUKE DAVIS: That's great.

00:06:53.832 --> 00:06:56.570
So Jessica's was going
to go back into our code,

00:06:56.570 --> 00:07:00.380
and up at the very top,
where she imports the Actions

00:07:00.380 --> 00:07:06.130
on Google library, she's also
going to import suggestions.

00:07:06.130 --> 00:07:08.010
So suggestions are
super, super cool.

00:07:08.010 --> 00:07:09.290
JESSICA EARLEY-CHA: So it's
going to be Dialogflow come

00:07:09.290 --> 00:07:09.790
in--

00:07:09.790 --> 00:07:10.310
comma.

00:07:10.310 --> 00:07:11.060
LUKE DAVIS: Comma.

00:07:11.060 --> 00:07:13.640
JESSICA EARLEY-CHA: And
then suggestions otherwise.

00:07:13.640 --> 00:07:14.542
Cool.

00:07:14.542 --> 00:07:16.250
LUKE DAVIS: And so
those suggestion chips

00:07:16.250 --> 00:07:18.792
are going to show up, if you're
looking at this on your phone

00:07:18.792 --> 00:07:22.220
or on a smart display, as tiny
little lozenges at the bottom

00:07:22.220 --> 00:07:23.560
that a user can click on.

00:07:23.560 --> 00:07:24.768
JESSICA EARLEY-CHA: Lozenges.

00:07:24.768 --> 00:07:26.230
[LAUGHS] That's cute.

00:07:26.230 --> 00:07:26.870
Instructions.

00:07:26.870 --> 00:07:30.540
And so this going to
take an array of--

00:07:30.540 --> 00:07:32.153
LUKE DAVIS: Just an
array of strings.

00:07:32.153 --> 00:07:33.570
JESSICA EARLEY-CHA:
So we have PM.

00:07:33.570 --> 00:07:35.190
And then what else we have?

00:07:35.190 --> 00:07:37.690
LUKE DAVIS: We have engineers.

00:07:37.690 --> 00:07:38.940
Engineer.

00:07:38.940 --> 00:07:39.692
Engineer.

00:07:39.692 --> 00:07:40.900
JESSICA EARLEY-CHA: Singular?

00:07:40.900 --> 00:07:42.170
LUKE DAVIS: Yeah,
yeah, yeah, singular.

00:07:42.170 --> 00:07:43.440
JESSICA EARLEY-CHA: And
then, who else do we got?

00:07:43.440 --> 00:07:44.220
LUKE DAVIS: Designer.

00:07:44.220 --> 00:07:45.428
JESSICA EARLEY-CHA: Designer.

00:07:45.428 --> 00:07:47.420
LUKE DAVIS: And maybe executive.

00:07:47.420 --> 00:07:49.620
JESSICA EARLEY-CHA: Executive.

00:07:49.620 --> 00:07:50.430
Exec--

00:07:50.430 --> 00:07:51.650
LUKE DAVIS: E-X-E--

00:07:51.650 --> 00:07:52.460
E-X-E-C-U-T-I-V.

00:07:52.460 --> 00:07:55.620
JESSICA EARLEY-CHA:
E-X-E-C-U-T-I-V.

00:07:55.620 --> 00:07:56.820
Spelling is hard.

00:07:56.820 --> 00:07:58.140
LUKE DAVIS: Spelling is hard.

00:07:58.140 --> 00:07:59.223
JESSICA EARLEY-CHA: Sweet.

00:07:59.223 --> 00:08:02.088
So we just have an
array of the options.

00:08:02.088 --> 00:08:03.880
LUKE DAVIS: And we want
to close up params,

00:08:03.880 --> 00:08:06.228
and then we'll be good.

00:08:06.228 --> 00:08:07.270
JESSICA EARLEY-CHA: Cool.

00:08:07.270 --> 00:08:07.630
Thank you.

00:08:07.630 --> 00:08:08.120
There we go.

00:08:08.120 --> 00:08:10.328
This is why I love pair
programming, because I always

00:08:10.328 --> 00:08:11.530
forget something.

00:08:11.530 --> 00:08:12.350
OK.

00:08:12.350 --> 00:08:13.280
LUKE DAVIS: Sweet.

00:08:13.280 --> 00:08:15.730
JESSICA EARLEY-CHA: And
so now, let's deploy this

00:08:15.730 --> 00:08:17.900
and see how that looks.

00:08:17.900 --> 00:08:19.980
LUKE DAVIS: We want
opening params there too.

00:08:19.980 --> 00:08:21.910
That's why there
was an error here.

00:08:21.910 --> 00:08:22.410
Sweet.

00:08:22.410 --> 00:08:24.640
There we go.

00:08:24.640 --> 00:08:26.378
I can't stop the deployment.

00:08:26.378 --> 00:08:28.170
LUKE DAVIS: So we're
going to use this time

00:08:28.170 --> 00:08:32.100
to think about what we want the
user interface of the action

00:08:32.100 --> 00:08:32.760
to be.

00:08:32.760 --> 00:08:35.850
JESSICA EARLEY-CHA: Yeah, so
if I'm the action and I go,

00:08:35.850 --> 00:08:40.380
Welcome, Luke, to
Silicon Valley Horoscope.

00:08:40.380 --> 00:08:41.458
Tell me which one--

00:08:41.458 --> 00:08:42.500
which horoscope you want.

00:08:42.500 --> 00:08:42.809
Right?

00:08:42.809 --> 00:08:44.370
And so I'm going to have
these little lozenges,

00:08:44.370 --> 00:08:45.828
like these little
suggestion chips,

00:08:45.828 --> 00:08:49.690
of PM, engineer,
executive, and designer.

00:08:49.690 --> 00:08:50.190
Right?

00:08:50.190 --> 00:08:51.690
And then you'll be able
to choose from that.

00:08:51.690 --> 00:08:52.230
LUKE DAVIS: Right.

00:08:52.230 --> 00:08:53.130
JESSICA EARLEY-CHA: Right?

00:08:53.130 --> 00:08:55.213
LUKE DAVIS: And I will
say, for example, engineer.

00:08:55.213 --> 00:08:56.590
And then you will say--

00:08:56.590 --> 00:08:57.965
JESSICA EARLEY-CHA:
Then I should

00:08:57.965 --> 00:09:00.210
give a really cool,
customized-for-engineers

00:09:00.210 --> 00:09:00.760
horoscope.

00:09:00.760 --> 00:09:01.310
LUKE DAVIS: Right.

00:09:01.310 --> 00:09:01.810
Right.

00:09:01.810 --> 00:09:02.852
Customized for engineers.

00:09:02.852 --> 00:09:04.352
And it's a horoscope,
so we probably

00:09:04.352 --> 00:09:05.980
want to have a
different one every day.

00:09:05.980 --> 00:09:08.438
JESSICA EARLEY-CHA: Yeah, so
we'll want to have to do that.

00:09:08.438 --> 00:09:11.250
So I think we should just focus
on building out the response.

00:09:11.250 --> 00:09:14.550
So we'll need to make a
new intent in Dialogflow

00:09:14.550 --> 00:09:17.440
to capture whether
they are seeing

00:09:17.440 --> 00:09:19.880
the different types of signs
that they could choose from.

00:09:19.880 --> 00:09:21.255
LUKE DAVIS: You're
totally right.

00:09:21.255 --> 00:09:26.485
And we're going to need to make
some way of capturing which

00:09:26.485 --> 00:09:27.360
or those signs it is.

00:09:27.360 --> 00:09:27.860
Right?

00:09:27.860 --> 00:09:30.450
So it sounds like it's an
entity sort of solution.

00:09:30.450 --> 00:09:32.110
JESSICA EARLEY-CHA:
Yeah, definitely.

00:09:32.110 --> 00:09:34.470
So [INAUDIBLE].

00:09:37.260 --> 00:09:38.850
I expected that versus that.

00:09:41.545 --> 00:09:42.420
Oh, because I added--

00:09:42.420 --> 00:09:43.587
LUKE DAVIS: Oh, there's two.

00:09:43.587 --> 00:09:45.660
JESSICA EARLEY-CHA:
Wait, it's like this.

00:09:45.660 --> 00:09:46.950
LUKE DAVIS: Mm-mm.

00:09:46.950 --> 00:09:48.370
JESSICA EARLEY-CHA: No?

00:09:48.370 --> 00:09:50.078
I'm missing-- I know
what I'm missing.

00:09:50.078 --> 00:09:50.620
I'm missing--

00:09:50.620 --> 00:09:51.700
LUKE DAVIS: The second params.

00:09:51.700 --> 00:09:52.230
JESSICA EARLEY-CHA: There we go.

00:09:52.230 --> 00:09:53.050
LUKE DAVIS: So I'm into params.

00:09:53.050 --> 00:09:54.370
JESSICA EARLEY-CHA:
I know, yeah.

00:09:54.370 --> 00:09:54.690
LUKE DAVIS: Come
on, [INAUDIBLE]..

00:09:54.690 --> 00:09:55.330
JESSICA EARLEY-CHA: There we go.

00:09:55.330 --> 00:09:55.997
All right, cool.

00:09:55.997 --> 00:09:58.895
So we'll go over here, and
then we'll create a new intent.

00:09:58.895 --> 00:10:00.520
And this one should
be called something

00:10:00.520 --> 00:10:03.493
to the effect of,
like, horoscope?

00:10:03.493 --> 00:10:04.410
LUKE DAVIS: Horoscope?

00:10:04.410 --> 00:10:04.630
JESSICA EARLEY-CHA: Right?

00:10:04.630 --> 00:10:06.220
LUKE DAVIS: Select sign--

00:10:06.220 --> 00:10:07.760
se-- s-- select sign.

00:10:07.760 --> 00:10:10.010
JESSICA EARLEY-CHA: Well,
they've already selected it,

00:10:10.010 --> 00:10:11.517
so they are giving us the--

00:10:11.517 --> 00:10:12.850
LUKE DAVIS: So when the-- right.

00:10:12.850 --> 00:10:14.350
So when [INAUDIBLE]
welcome intent,

00:10:14.350 --> 00:10:18.650
we say, or the action
says, "Why don't you

00:10:18.650 --> 00:10:19.900
tell me what your sign is?"

00:10:19.900 --> 00:10:20.942
JESSICA EARLEY-CHA: Yeah.

00:10:20.942 --> 00:10:23.350
LUKE DAVIS: And then the
user says, "I'm a designer,"

00:10:23.350 --> 00:10:23.870
or whatever.

00:10:23.870 --> 00:10:27.080
So that thing where they're
saying, "I'm a designer" is,

00:10:27.080 --> 00:10:28.630
we want that to
trigger this intent.

00:10:28.630 --> 00:10:29.588
JESSICA EARLEY-CHA: Ah.

00:10:29.588 --> 00:10:34.130
LUKE DAVIS: Right, so that's
the declaring sign or sign.

00:10:34.130 --> 00:10:34.860
Maybe just sign.

00:10:34.860 --> 00:10:36.110
JESSICA EARLEY-CHA: Just sign?

00:10:36.110 --> 00:10:36.530
LUKE DAVIS: Sign.

00:10:36.530 --> 00:10:37.440
JESSICA EARLEY-CHA: Sign.

00:10:37.440 --> 00:10:37.990
LUKE DAVIS: Sign.

00:10:37.990 --> 00:10:38.470
Sign.

00:10:38.470 --> 00:10:39.110
Sign is simple.

00:10:39.110 --> 00:10:40.152
JESSICA EARLEY-CHA: Sure.

00:10:40.152 --> 00:10:40.860
Awesome.

00:10:40.860 --> 00:10:42.848
OK, so we have that.

00:10:42.848 --> 00:10:44.390
And if we go to our
training phrases,

00:10:44.390 --> 00:10:46.237
we could put in
something like PM,

00:10:46.237 --> 00:10:48.320
right, because that's one
of the suggestion chips.

00:10:48.320 --> 00:10:49.862
LUKE DAVIS: Right,
we should probably

00:10:49.862 --> 00:10:51.652
have all of the
suggestion chips verbatim

00:10:51.652 --> 00:10:52.860
here in our training phrases.

00:10:52.860 --> 00:10:53.943
JESSICA EARLEY-CHA: Right?

00:10:53.943 --> 00:10:56.390
But right here, Dialogflow
doesn't know what a PM is--

00:10:56.390 --> 00:10:56.510
LUKE DAVIS: That's true.

00:10:56.510 --> 00:10:58.677
JESSICA EARLEY-CHA: --and
that it's important to us.

00:10:58.677 --> 00:11:00.230
So let's actually
delete this intent

00:11:00.230 --> 00:11:02.060
and actually make an entity
that you were mentioning before.

00:11:02.060 --> 00:11:03.920
LUKE DAVIS: That's a great idea.

00:11:03.920 --> 00:11:05.000
JESSICA EARLEY-CHA: And that's
usually what happens to me.

00:11:05.000 --> 00:11:07.458
As I'm building things, I'm
like, oh, I actually need this.

00:11:07.458 --> 00:11:10.270
So let's go to entities,
and let's make a new one.

00:11:10.270 --> 00:11:12.392
And so this entity should be--

00:11:12.392 --> 00:11:13.100
LUKE DAVIS: Sign.

00:11:13.100 --> 00:11:14.433
JESSICA EARLEY-CHA: Sign, right?

00:11:14.433 --> 00:11:15.800
So this is the sign.

00:11:15.800 --> 00:11:18.280
And so we have PM,
which could be set as--

00:11:18.280 --> 00:11:19.697
LUKE DAVIS: Product
manager, yeah.

00:11:19.697 --> 00:11:23.000
JESSICA EARLEY-CHA: --as
PM or product manager.

00:11:23.000 --> 00:11:25.500
LUKE DAVIS: Building a good
action is kind of like a--

00:11:25.500 --> 00:11:26.620
it's kind of like a Samba.

00:11:26.620 --> 00:11:28.995
You're like, a little bit
forward, and a little bit back.

00:11:28.995 --> 00:11:33.710
And you're kind of like learning
the interface as you go along.

00:11:33.710 --> 00:11:35.920
It's a more inherently
social sort of thing

00:11:35.920 --> 00:11:38.812
than programming is
normally, I think.

00:11:38.812 --> 00:11:40.520
JESSICA EARLEY-CHA:
Designer engineer PM,

00:11:40.520 --> 00:11:41.970
and then executive--

00:11:41.970 --> 00:11:44.677
LUKE DAVIS: Executive, yeah.

00:11:44.677 --> 00:11:45.760
JESSICA EARLEY-CHA: Sweet.

00:11:45.760 --> 00:11:46.390
LUKE DAVIS: Sounds good to me.

00:11:46.390 --> 00:11:48.640
JESSICA EARLEY-CHA: Do we
need any synonyms for these?

00:11:48.640 --> 00:11:50.995
LUKE DAVIS: Maybe for
executive, like exec.

00:11:50.995 --> 00:11:52.100
I hear people using that.

00:11:52.100 --> 00:11:52.680
JESSICA EARLEY-CHA: Ooh,
how do you spell exec?

00:11:52.680 --> 00:11:54.772
LUKE DAVIS: E-X-E-C, maybe?

00:11:54.772 --> 00:11:55.730
Yeah, that sounds good.

00:11:55.730 --> 00:11:55.790
JESSICA EARLEY-CHA: Sweet, OK.

00:11:55.790 --> 00:11:58.010
LUKE DAVIS: And then, under
engineer, maybe something

00:11:58.010 --> 00:11:59.720
like developer or programmer?

00:11:59.720 --> 00:12:00.350
JESSICA EARLEY-CHA: Oh, mhm.

00:12:00.350 --> 00:12:00.850
Developer.

00:12:00.850 --> 00:12:02.767
LUKE DAVIS: Because
this is Silicon Valley.

00:12:02.767 --> 00:12:03.850
JESSICA EARLEY-CHA: Sweet.

00:12:03.850 --> 00:12:04.767
I think it looks good.

00:12:04.767 --> 00:12:06.058
LUKE DAVIS: Sounds great to me.

00:12:06.058 --> 00:12:07.960
JESSICA EARLEY-CHA:
OK, so let's save this.

00:12:07.960 --> 00:12:09.230
So we've made a custom entity.

00:12:09.230 --> 00:12:10.730
Now we're going to
go to our intents

00:12:10.730 --> 00:12:13.790
and then make the actual
intent that we have.

00:12:13.790 --> 00:12:15.140
LUKE DAVIS: Right.

00:12:15.140 --> 00:12:15.800
JESSICA EARLEY-CHA:
And so here do we still

00:12:15.800 --> 00:12:16.860
want to call it a sign?

00:12:16.860 --> 00:12:18.610
LUKE DAVIS: We already
called our intent--

00:12:18.610 --> 00:12:19.960
JESSICA EARLEY-CHA: Right,
now it feels like a little--

00:12:19.960 --> 00:12:22.210
LUKE DAVIS: Let's call it--
let's call it select sign.

00:12:22.210 --> 00:12:24.210
JESSICA EARLEY-CHA:
There we go, select sign.

00:12:24.210 --> 00:12:24.710
Like that?

00:12:24.710 --> 00:12:26.310
LUKE DAVIS: Lovely.

00:12:26.310 --> 00:12:26.630
JESSICA EARLEY-CHA:
And then let's

00:12:26.630 --> 00:12:27.713
add some training phrases?

00:12:27.713 --> 00:12:28.542
LUKE DAVIS: Yeah.

00:12:28.542 --> 00:12:32.180
JESSICA EARLEY-CHA: OK, so this
is where we should have PM.

00:12:32.180 --> 00:12:34.190
LUKE DAVIS: Oh, look,
it already picked it up.

00:12:34.190 --> 00:12:35.870
So Dialogflow is really smart.

00:12:35.870 --> 00:12:38.570
If you've declared
an entity type

00:12:38.570 --> 00:12:41.600
with a bunch of specific
synonym strings,

00:12:41.600 --> 00:12:43.730
it'll know when
you go in and start

00:12:43.730 --> 00:12:46.520
adding those kinds of
strings to your training

00:12:46.520 --> 00:12:51.860
phrases of your intents that it
should recognize those entities

00:12:51.860 --> 00:12:55.850
and extract them from
the user utterance.

00:12:55.850 --> 00:12:56.490
Yeah, yeah.

00:12:56.490 --> 00:12:58.823
JESSICA EARLEY-CHA: So I'm
just giving some random ones,

00:12:58.823 --> 00:13:01.630
so ones where they just say
the sign itself, so PM--

00:13:01.630 --> 00:13:02.550
I'm a developer.

00:13:02.550 --> 00:13:04.050
I am a designer.

00:13:04.050 --> 00:13:05.220
Give me the executive one.

00:13:05.220 --> 00:13:07.950
So that we have a little
variety in the responses.

00:13:07.950 --> 00:13:10.380
Ideally you want 10 to
15, but for this, it's

00:13:10.380 --> 00:13:12.090
a demo, so we're going
to keep it as is.

00:13:12.090 --> 00:13:14.548
LUKE DAVIS: Let's make sure
that we have all of the strings

00:13:14.548 --> 00:13:16.840
that we used explicitly
there, like engineer.

00:13:16.840 --> 00:13:17.840
JESSICA EARLEY-CHA: Ooh.

00:13:17.840 --> 00:13:21.850
Well, I have designer on
here, so it should capture it.

00:13:21.850 --> 00:13:23.670
But we could totally do that.

00:13:23.670 --> 00:13:24.960
Engineer.

00:13:24.960 --> 00:13:25.770
LUKE DAVIS: Lovely.

00:13:25.770 --> 00:13:26.130
JESSICA EARLEY-CHA: Sweet.

00:13:26.130 --> 00:13:27.810
LUKE DAVIS: Lovely, lovely.

00:13:27.810 --> 00:13:29.400
And each of those
entities has already

00:13:29.400 --> 00:13:31.980
been automatically
detected by Dialogflow.

00:13:31.980 --> 00:13:33.360
So we should have
some confidence

00:13:33.360 --> 00:13:35.880
that that's going pretty well.

00:13:35.880 --> 00:13:38.230
So what Jessica's doing
now is she's saying,

00:13:38.230 --> 00:13:42.570
hey, if the user doesn't
actually give you a sign,

00:13:42.570 --> 00:13:46.748
then make sure that
we prompt them to.

00:13:46.748 --> 00:13:48.540
JESSICA EARLEY-CHA: So
we'll do a reprompt,

00:13:48.540 --> 00:13:53.800
and then here will be, "Please
pick from the following."

00:13:53.800 --> 00:13:55.050
LUKE DAVIS: That sounds great.

00:13:55.050 --> 00:13:57.960
So in your prompts, you want
to provide a little affordance

00:13:57.960 --> 00:14:01.800
to the user about the options
that they can select from.

00:14:01.800 --> 00:14:05.520
So we might say something like,
"I'm sorry, I didn't get that.

00:14:05.520 --> 00:14:07.230
Did you mean to say engineer?"

00:14:07.230 --> 00:14:08.380
Or something like that.

00:14:08.380 --> 00:14:11.880
Or you could choose from among
product manager, executive,

00:14:11.880 --> 00:14:13.140
engineer and designer.

00:14:13.140 --> 00:14:15.420
JESSICA EARLEY-CHA: That
sounds a lot more nicer

00:14:15.420 --> 00:14:17.230
than what I wrote.

00:14:17.230 --> 00:14:17.730
That's OK.

00:14:17.730 --> 00:14:20.490
So from here, we don't
want to add responses here.

00:14:20.490 --> 00:14:21.240
LUKE DAVIS: Right.

00:14:21.240 --> 00:14:23.573
JESSICA EARLEY-CHA: Because
then there won't be dynamic.

00:14:23.573 --> 00:14:27.225
So let's add in the
fulfillment for this intent.

00:14:27.225 --> 00:14:28.590
Sweet.

00:14:28.590 --> 00:14:31.715
We'll hit save.

00:14:31.715 --> 00:14:32.840
LUKE DAVIS: Lovely, lovely.

00:14:32.840 --> 00:14:34.140
So Jessica and I
have been thinking

00:14:34.140 --> 00:14:36.765
about this for a couple of days,
and we might have put together

00:14:36.765 --> 00:14:39.120
a little code before the show
that will do the horoscope

00:14:39.120 --> 00:14:41.550
composition magic for us.

00:14:41.550 --> 00:14:43.760
So Jessica is just going
to deploy the code now.

00:14:43.760 --> 00:14:44.760
JESSICA EARLEY-CHA: Yes.

00:14:44.760 --> 00:14:51.150
LUKE DAVIS: And what it's doing
is, every sign and every day

00:14:51.150 --> 00:14:53.700
will have a unique
horoscope that's assigned

00:14:53.700 --> 00:14:55.120
to that sign on that day.

00:14:55.120 --> 00:14:58.350
So if you come on Tuesday
and ask the horoscope system

00:14:58.350 --> 00:15:00.280
for your horoscope and
you're an engineer,

00:15:00.280 --> 00:15:03.390
you will always get the
same answer for that day

00:15:03.390 --> 00:15:04.468
until the next day.

00:15:04.468 --> 00:15:05.760
And it will be a different one.

00:15:05.760 --> 00:15:06.930
JESSICA EARLEY-CHA: Yeah.

00:15:06.930 --> 00:15:08.513
LUKE DAVIS: We're
doing this because--

00:15:08.513 --> 00:15:10.420
well, for a few reasons.

00:15:10.420 --> 00:15:12.630
The first is that
that's actually

00:15:12.630 --> 00:15:14.560
the way that horoscopes work.

00:15:14.560 --> 00:15:16.290
And the second is,
like, at a meta level,

00:15:16.290 --> 00:15:20.130
we wanted to show off how you
can dynamically compose varying

00:15:20.130 --> 00:15:23.310
responses, because in
a voice user interface,

00:15:23.310 --> 00:15:26.670
unlike a graphical user
interface, if the user gets

00:15:26.670 --> 00:15:30.420
exactly the same response
over and over and over again,

00:15:30.420 --> 00:15:32.160
it can be quite jarring.

00:15:32.160 --> 00:15:34.243
JESSICA EARLEY-CHA:
Yeah, it's frustrating.

00:15:34.243 --> 00:15:34.915
Definitely.

00:15:34.915 --> 00:15:36.540
LUKE DAVIS: Let's
describe a little bit

00:15:36.540 --> 00:15:37.210
of what we're doing here.

00:15:37.210 --> 00:15:38.585
JESSICA EARLEY-CHA:
Yeah so we've

00:15:38.585 --> 00:15:41.855
added a couple of libraries
that we will be using.

00:15:41.855 --> 00:15:43.230
LUKE DAVIS: So
the salient one up

00:15:43.230 --> 00:15:45.630
at the top, or the salient
two that we're doing,

00:15:45.630 --> 00:15:47.160
are the Chance
library, which lets

00:15:47.160 --> 00:15:49.650
you come up with a random--

00:15:49.650 --> 00:15:52.740
really just a random number,
or selecting a random element

00:15:52.740 --> 00:15:53.880
from an array.

00:15:53.880 --> 00:15:55.440
Which doesn't sound
like that fancy,

00:15:55.440 --> 00:15:58.320
except that Chance uses
the Twister algorithm.

00:15:58.320 --> 00:16:00.510
It's a pseudo random
number generator such

00:16:00.510 --> 00:16:03.030
that you can hand it a seed,
which is just any string

00:16:03.030 --> 00:16:05.790
or number, and it
will always generate

00:16:05.790 --> 00:16:12.330
exactly the same sequence of
random outputs after that.

00:16:12.330 --> 00:16:14.010
Which is very useful
to us, because we

00:16:14.010 --> 00:16:16.620
want to make sure that if
you come on Tuesday, like we

00:16:16.620 --> 00:16:17.290
said before--

00:16:17.290 --> 00:16:17.650
JESSICA EARLEY-CHA: Yeah.

00:16:17.650 --> 00:16:18.450
It stays the same.

00:16:18.450 --> 00:16:19.338
LUKE DAVIS: Exactly.

00:16:19.338 --> 00:16:20.630
So we're using Chance for that.

00:16:20.630 --> 00:16:23.100
And Handlebars is a
lovely templating library

00:16:23.100 --> 00:16:26.430
that we can use to kind of
swap in different options

00:16:26.430 --> 00:16:29.130
for the same bit of a horoscope.

00:16:29.130 --> 00:16:30.172
JESSICA EARLEY-CHA: Yeah.

00:16:30.172 --> 00:16:31.297
So I'm just scrolling down.

00:16:31.297 --> 00:16:32.610
That way people can see.

00:16:32.610 --> 00:16:35.880
Each horoscope is built with
three different elements.

00:16:35.880 --> 00:16:38.220
So there's at feelings
element, an advance element,

00:16:38.220 --> 00:16:40.553
and an opportunity, which is
very much like a horoscope.

00:16:40.553 --> 00:16:42.180
That's kind of how they are.

00:16:42.180 --> 00:16:44.080
LUKE DAVIS: And
we're just catting--

00:16:44.080 --> 00:16:48.150
or concatenating-- each of those
sentences one onto the other

00:16:48.150 --> 00:16:49.150
to compose the response.

00:16:49.150 --> 00:16:50.233
JESSICA EARLEY-CHA: Sweet.

00:16:50.233 --> 00:16:51.550
OK, so it's been deployed.

00:16:51.550 --> 00:16:54.772
So let's go and jump in
and see if this works.

00:16:54.772 --> 00:16:56.230
So now we're in
our test simulator.

00:16:56.230 --> 00:16:58.618
I'm going to restart this.

00:16:58.618 --> 00:16:59.660
LUKE DAVIS: Restart that.

00:16:59.660 --> 00:17:01.920
JESSICA EARLEY-CHA: And then
hit-- touch my test app.

00:17:01.920 --> 00:17:02.545
COMPUTER: Sure.

00:17:02.545 --> 00:17:05.460
Getting the test
version of my test app.

00:17:05.460 --> 00:17:08.040
Welcome to Silicon
Valley Horoscope.

00:17:08.040 --> 00:17:12.162
To get started, just
tell us your sign.

00:17:12.162 --> 00:17:13.829
JESSICA EARLEY-CHA:
So what is the sign?

00:17:13.829 --> 00:17:15.920
LUKE DAVIS: Let's say,
yeah, that sounds great.

00:17:15.920 --> 00:17:16.420
PM.

00:17:16.420 --> 00:17:18.013
JESSICA EARLEY-CHA: PM.

00:17:18.013 --> 00:17:19.430
COMPUTER: Your
horoscope for today

00:17:19.430 --> 00:17:23.180
is everything is behind
schedule, and you feel anxious.

00:17:23.180 --> 00:17:24.170
Ignore that.

00:17:24.170 --> 00:17:27.200
By being honest with your team,
they will take pity on you

00:17:27.200 --> 00:17:29.780
and maybe ship on time for once.

00:17:29.780 --> 00:17:32.390
Would you like to hear the
horoscope for another sign?

00:17:32.390 --> 00:17:33.460
LUKE DAVIS: It works!

00:17:33.460 --> 00:17:34.280
JESSICA EARLEY-CHA:
That's awesome.

00:17:34.280 --> 00:17:35.170
Yay!

00:17:35.170 --> 00:17:37.910
So we did have it on the visual
part, and so let's see how

00:17:37.910 --> 00:17:38.930
the--

00:17:38.930 --> 00:17:41.030
I'm sorry, with the audio
part and not the visual.

00:17:41.030 --> 00:17:43.200
LUKE DAVIS: So Jessica
is going to-- yeah.

00:17:43.200 --> 00:17:45.170
So Jessica's cursor
right there is

00:17:45.170 --> 00:17:47.810
over the three possible
display options

00:17:47.810 --> 00:17:49.920
that you can have when
using the web simulator.

00:17:49.920 --> 00:17:53.960
That can be mobile on the left,
the center is a smart speaker,

00:17:53.960 --> 00:17:56.870
and the thing on the
right is a smart display.

00:17:56.870 --> 00:17:57.530
JESSICA EARLEY-CHA:
Yeah, I just made it

00:17:57.530 --> 00:17:59.480
so then I wasn't overlapping
what you're talking about.

00:17:59.480 --> 00:18:01.730
But you can see here, this
is what the visual will be.

00:18:01.730 --> 00:18:03.290
Here are our suggestion chips.

00:18:03.290 --> 00:18:04.550
Let's make it easier for it.

00:18:04.550 --> 00:18:07.250
So I feel like we should
do the engineer one.

00:18:07.250 --> 00:18:07.870
LUKE DAVIS: Oh, let's
do the engineer one.

00:18:07.870 --> 00:18:10.078
JESSICA EARLEY-CHA: Yeah,
let's see what that one is.

00:18:12.100 --> 00:18:15.410
COMPUTER: Your horoscope for
today is today is a great day.

00:18:15.410 --> 00:18:17.830
Use your energy to
carry you forward.

00:18:17.830 --> 00:18:20.500
Don't stress too much
about that P zero.

00:18:20.500 --> 00:18:23.530
Today is a new chance to fix
all those horrible things

00:18:23.530 --> 00:18:25.420
you did last quarter.

00:18:25.420 --> 00:18:27.820
It's a good time to
refactor all that code

00:18:27.820 --> 00:18:31.270
you pushed last Friday
before anyone notices.

00:18:31.270 --> 00:18:34.130
Would you like to hear the
horoscope for another sign?

00:18:34.130 --> 00:18:34.560
JESSICA EARLEY-CHA:
This is awesome.

00:18:34.560 --> 00:18:36.680
LUKE DAVIS: And now we
have the suggestion chips

00:18:36.680 --> 00:18:38.972
down at the bottom that will
let you go back and forth.

00:18:38.972 --> 00:18:41.638
JESSICA EARLEY-CHA: Yeah, and we
did something special with this

00:18:41.638 --> 00:18:43.990
one, with this suggestion
chip, where it's grabbing--

00:18:43.990 --> 00:18:47.577
whatever current horoscope
that you're checking out,

00:18:47.577 --> 00:18:49.660
it's not going to provide
it as a suggestion chip,

00:18:49.660 --> 00:18:51.993
so we're actually editing
that part out, which is great.

00:18:51.993 --> 00:18:52.860
That way the user--

00:18:52.860 --> 00:18:53.850
generally you're
not going to want

00:18:53.850 --> 00:18:55.670
to hear the same thing
over and over again.

00:18:55.670 --> 00:18:57.820
So that way it makes it
just easier for the user.

00:18:57.820 --> 00:19:00.550
LUKE DAVIS: Just another one
of those little affordances,

00:19:00.550 --> 00:19:03.100
like we said, to the user,
to make their interaction

00:19:03.100 --> 00:19:04.740
with the app that much easier.

00:19:04.740 --> 00:19:06.050
JESSICA EARLEY-CHA: Exactly.

00:19:06.050 --> 00:19:06.850
Sweet, OK so--

00:19:06.850 --> 00:19:08.020
LUKE DAVIS: So I
noticed that we also

00:19:08.020 --> 00:19:10.450
have a "No thanks" suggestion
chip down there at the bottom.

00:19:10.450 --> 00:19:11.533
Does that do anything yet?

00:19:11.533 --> 00:19:13.210
JESSICA EARLEY-CHA:
Let's click on it.

00:19:13.210 --> 00:19:14.410
COMPUTER: I didn't get that.

00:19:14.410 --> 00:19:15.363
Can you say it again?

00:19:15.363 --> 00:19:17.780
LUKE DAVIS: So this, again,
triggered our default fallback

00:19:17.780 --> 00:19:19.863
intent, because it didn't
match one of the intents

00:19:19.863 --> 00:19:20.620
we had before.

00:19:20.620 --> 00:19:23.593
We want to make an easy
exit route for users

00:19:23.593 --> 00:19:26.260
once they've found the horoscope
or horoscopes that they wanted.

00:19:26.260 --> 00:19:27.070
JESSICA EARLEY-CHA: Exactly.

00:19:27.070 --> 00:19:29.350
So it sounds like we have
to make our end intent.

00:19:29.350 --> 00:19:29.530
LUKE DAVIS: That sounds good.

00:19:29.530 --> 00:19:31.697
JESSICA EARLEY-CHA: The
intent to finish the things.

00:19:31.697 --> 00:19:33.652
So let's go back to Dialogflow.

00:19:33.652 --> 00:19:35.610
And then in here, we're
going to go to intents.

00:19:35.610 --> 00:19:38.367
And then we'll
create a new intent.

00:19:38.367 --> 00:19:40.200
And here we're going
to call this one "end."

00:19:40.200 --> 00:19:41.707
LUKE DAVIS: That sounds great.

00:19:41.707 --> 00:19:42.790
JESSICA EARLEY-CHA: Sweet.

00:19:42.790 --> 00:19:46.900
And for this one, we're going
to need events, I believe.

00:19:46.900 --> 00:19:53.200
And this one is called actions
underscore, I believe--

00:19:53.200 --> 00:19:57.280
LUKE DAVIS: Intent underscore
cancel in all caps.

00:19:57.280 --> 00:20:00.880
JESSICA EARLEY-CHA:
Intent and then cancel.

00:20:00.880 --> 00:20:04.580
No, no, I was right
the first time.

00:20:04.580 --> 00:20:06.820
LUKE DAVIS: C-E-L.

00:20:06.820 --> 00:20:08.020
JESSICA EARLEY-CHA: C-E-E-L.

00:20:08.020 --> 00:20:08.430
LUKE DAVIS: Yes, ma'am.

00:20:08.430 --> 00:20:09.610
JESSICA EARLEY-CHA:
Sweet, there we go.

00:20:09.610 --> 00:20:10.510
LUKE DAVIS: All right.

00:20:10.510 --> 00:20:11.885
And we want to
give it a training

00:20:11.885 --> 00:20:14.660
phrase that's something like,
"no thanks" or "I'm done."

00:20:14.660 --> 00:20:16.130
JESSICA EARLEY-CHA: Well,
before-- what does this do?

00:20:16.130 --> 00:20:17.240
LUKE DAVIS: Oh, I'm
so glad you asked.

00:20:17.240 --> 00:20:19.680
JESSICA EARLEY-CHA: I know,
we get really excited.

00:20:19.680 --> 00:20:22.010
LUKE DAVIS: So in addition
to training phrases

00:20:22.010 --> 00:20:24.080
triggering these
things, triggering

00:20:24.080 --> 00:20:28.730
these sorts of
events, we also have

00:20:28.730 --> 00:20:33.080
things like events, which
are things that don't

00:20:33.080 --> 00:20:34.400
have to be a user utterance.

00:20:34.400 --> 00:20:38.810
It could be something else
about the program itself.

00:20:38.810 --> 00:20:42.380
Like after a user tries to
sign in to an external service,

00:20:42.380 --> 00:20:48.290
we'll get an event back saying
the user has successfully

00:20:48.290 --> 00:20:50.300
authenticated with
this external service.

00:20:50.300 --> 00:20:52.467
JESSICA EARLEY-CHA: Yeah,
and this one in particular

00:20:52.467 --> 00:20:56.632
will override if somebody
says exit or goodbye,

00:20:56.632 --> 00:20:58.340
Google's system
automatically handles it.

00:20:58.340 --> 00:21:00.530
And so we want to go, no,
no, no, don't just exit.

00:21:00.530 --> 00:21:02.400
We want to have our
own custom exit.

00:21:02.400 --> 00:21:04.400
So we want to greet the--
or not greet the user.

00:21:04.400 --> 00:21:05.360
What's the opposite
of greeting the user?

00:21:05.360 --> 00:21:06.080
LUKE DAVIS: Aloha.

00:21:06.080 --> 00:21:06.970
The other side of aloha.

00:21:06.970 --> 00:21:08.890
JESSICA EARLEY-CHA: The other
side of aloha to the user.

00:21:08.890 --> 00:21:10.348
We want to be able
to capture that.

00:21:10.348 --> 00:21:11.838
And so this helps
kind of override

00:21:11.838 --> 00:21:13.880
that functionality that
Google's system gives us,

00:21:13.880 --> 00:21:16.700
which is a great one for
if we didn't have that,

00:21:16.700 --> 00:21:17.690
it's good that it does.

00:21:17.690 --> 00:21:19.843
But since we know about
this, let's do our own.

00:21:19.843 --> 00:21:21.760
LUKE DAVIS: So we've got
some training phrases

00:21:21.760 --> 00:21:22.927
that Jessica has added here.

00:21:22.927 --> 00:21:25.123
We've got our exit
event that she's added.

00:21:25.123 --> 00:21:26.540
And then down at
the bottom, we're

00:21:26.540 --> 00:21:30.620
just going to enable webhook
fulfillment for this.

00:21:30.620 --> 00:21:35.270
And we'll go build ourselves
a little exit handler.

00:21:35.270 --> 00:21:38.260
JESSICA EARLEY-CHA:
Let me hit save.

00:21:38.260 --> 00:21:42.800
OK, and then we'll
go into our code.

00:21:42.800 --> 00:21:44.820
And scroll down.

00:21:44.820 --> 00:21:48.080
I'm going to put this, actually,
after our welcome intent.

00:21:48.080 --> 00:21:50.080
LUKE DAVIS: That feels
thematically appropriate.

00:21:50.080 --> 00:21:52.585
JESSICA EARLEY-CHA: Yeah,
and this one is called,

00:21:52.585 --> 00:21:53.210
was it capital?

00:21:53.210 --> 00:21:54.250
LUKE DAVIS: I think you
capitalized it, yeah.

00:21:54.250 --> 00:21:56.360
JESSICA EARLEY-CHA:
I did, didn't I?

00:21:56.360 --> 00:21:58.380
And what, it's going to take in.

00:21:58.380 --> 00:22:00.060
LUKE DAVIS: So we'll
build the callback.

00:22:00.060 --> 00:22:02.480
And the callback is going
to take the conversation.

00:22:02.480 --> 00:22:05.540
And we could just
say, adios, amigo.

00:22:05.540 --> 00:22:10.645
But we probably already
know the user's sign.

00:22:10.645 --> 00:22:12.020
They've just told
us that they're

00:22:12.020 --> 00:22:14.060
a designer or an
engineer or something.

00:22:14.060 --> 00:22:15.650
JESSICA EARLEY-CHA:
We do, don't we?

00:22:15.650 --> 00:22:16.650
So we kind of--

00:22:16.650 --> 00:22:19.400
you know what would be
great, is if we could--

00:22:19.400 --> 00:22:20.410
LUKE DAVIS: If we could
use that in some way.

00:22:20.410 --> 00:22:21.050
JESSICA EARLEY-CHA: Yeah.

00:22:21.050 --> 00:22:23.400
LUKE DAVIS: If we could say,
see you later, engineer.

00:22:23.400 --> 00:22:24.210
JESSICA EARLEY-CHA:
That'd be fantastic.

00:22:24.210 --> 00:22:24.890
LUKE DAVIS: I think
that would pretty great.

00:22:24.890 --> 00:22:27.057
JESSICA EARLEY-CHA: OK, so
it seems like right here,

00:22:27.057 --> 00:22:30.300
let me just do com dot end--

00:22:30.300 --> 00:22:31.943
or close, sorry.

00:22:31.943 --> 00:22:33.860
And then just put a
goodbye just to have this.

00:22:33.860 --> 00:22:35.110
LUKE DAVIS: That sounds great.

00:22:37.790 --> 00:22:39.290
JESSICA EARLEY-CHA:
Fantastic, so it

00:22:39.290 --> 00:22:42.380
sounds like to be able to
do that, where we could go

00:22:42.380 --> 00:22:44.840
goodbye, PM, goodbye,
engineer, is we

00:22:44.840 --> 00:22:46.465
need to save that
actual piece of data.

00:22:46.465 --> 00:22:48.548
LUKE DAVIS: Right, so how
are we going to do that?

00:22:48.548 --> 00:22:50.350
How do we save data
in a conversation?

00:22:50.350 --> 00:22:50.870
JESSICA EARLEY-CHA:
Well, I believe

00:22:50.870 --> 00:22:53.270
that there is a property
that we could use.

00:22:53.270 --> 00:22:55.390
It's not great for--

00:22:55.390 --> 00:22:59.570
just a caveat, it's not
a large amount of memory

00:22:59.570 --> 00:23:00.633
that you could use.

00:23:00.633 --> 00:23:03.050
But something like this where
it's a simple, short string,

00:23:03.050 --> 00:23:04.160
I think this would
be really sweet

00:23:04.160 --> 00:23:05.480
where it's the user storage.

00:23:05.480 --> 00:23:07.190
LUKE DAVIS: Yeah,
it's very-- so there

00:23:07.190 --> 00:23:11.570
are two kinds of ways built
into our calling library

00:23:11.570 --> 00:23:13.070
to save data.

00:23:13.070 --> 00:23:15.170
You can save data
within a conversation,

00:23:15.170 --> 00:23:17.970
and you can save data
between conversations.

00:23:17.970 --> 00:23:21.050
So the thing that Jessica
is alluding to is something

00:23:21.050 --> 00:23:23.398
called com dot user dot storage.

00:23:23.398 --> 00:23:25.190
It's just right on the
conversation object,

00:23:25.190 --> 00:23:27.065
and you can just add
whatever you want there.

00:23:27.065 --> 00:23:29.698
The limit is that I think
it's 10K of memory, something

00:23:29.698 --> 00:23:30.240
in that zone.

00:23:30.240 --> 00:23:31.870
JESSICA EARLEY-CHA: I believe
so Something like that.

00:23:31.870 --> 00:23:33.030
LUKE DAVIS: So it's
very, very small.

00:23:33.030 --> 00:23:34.697
You shouldn't use it
for any big things.

00:23:34.697 --> 00:23:36.863
But for little affordances
like this, it's perfect.

00:23:36.863 --> 00:23:38.030
JESSICA EARLEY-CHA: Exactly.

00:23:38.030 --> 00:23:42.590
LUKE DAVIS: So why don't we,
in the select sign intent,

00:23:42.590 --> 00:23:44.877
go ahead and save this sign
that the user selected.

00:23:44.877 --> 00:23:46.460
JESSICA EARLEY-CHA:
That sounds great.

00:23:46.460 --> 00:23:48.500
And so we do that by--

00:23:48.500 --> 00:23:51.020
LUKE DAVIS: So before
we say horoscope,

00:23:51.020 --> 00:23:58.190
we're going to want to say
com dot user dot storage dot--

00:23:58.190 --> 00:24:00.940
so user storage is
actually just an object.

00:24:00.940 --> 00:24:03.740
And when you save a thing,
a property on that object,

00:24:03.740 --> 00:24:06.020
it'll be saved in
between conversations

00:24:06.020 --> 00:24:07.062
on the com object itself.

00:24:07.062 --> 00:24:09.145
JESSICA EARLEY-CHA: This
is the long-term storage.

00:24:09.145 --> 00:24:10.970
LUKE DAVIS: Yes,
between conversations.

00:24:10.970 --> 00:24:12.260
JESSICA EARLEY-CHA: What
do you want to call this?

00:24:12.260 --> 00:24:13.340
LUKE DAVIS: Let's
just call it sign.

00:24:13.340 --> 00:24:14.505
JESSICA EARLEY-CHA: Sign.

00:24:14.505 --> 00:24:16.130
And we're going to
set this to the sign

00:24:16.130 --> 00:24:17.360
that we're getting
from the parameters.

00:24:17.360 --> 00:24:18.290
LUKE DAVIS: I think
that's brilliant.

00:24:18.290 --> 00:24:19.540
JESSICA EARLEY-CHA: OK, perfect.

00:24:19.540 --> 00:24:21.915
And so since we've done that,
now we could use that here.

00:24:21.915 --> 00:24:23.260
LUKE DAVIS: Exactly.

00:24:23.260 --> 00:24:25.160
So we're going to do
an existence check,

00:24:25.160 --> 00:24:28.610
and we'll say if
there is a sign--

00:24:28.610 --> 00:24:31.430
so if com dot user
dot storage dot sign--

00:24:31.430 --> 00:24:32.930
JESSICA EARLEY-CHA:
Let's grab that.

00:24:32.930 --> 00:24:34.305
LUKE DAVIS: Oh,
you're brilliant.

00:24:34.305 --> 00:24:37.430
Much better engineer than me.

00:24:37.430 --> 00:24:38.940
Com dot user dot storage.

00:24:38.940 --> 00:24:40.640
JESSICA EARLEY-CHA:
User dot storage.

00:24:40.640 --> 00:24:42.848
LUKE DAVIS: And then I'll
just yank the sign property

00:24:42.848 --> 00:24:43.940
right off of storage.

00:24:43.940 --> 00:24:45.410
And then we can say, if sign--

00:24:45.410 --> 00:24:46.480
JESSICA EARLEY-CHA:
If it exists.

00:24:46.480 --> 00:24:48.147
LUKE DAVIS: Yeah,
yeah, if we have sign,

00:24:48.147 --> 00:24:52.190
then we're going to
say com dot close,

00:24:52.190 --> 00:24:54.650
because we're leaving
the conversation,

00:24:54.650 --> 00:24:56.030
see you next time.

00:24:56.030 --> 00:24:57.585
And then whatever the thing is.

00:24:57.585 --> 00:24:59.585
JESSICA EARLEY-CHA: Com
dot-- oh, I could just--

00:24:59.585 --> 00:25:00.502
I'm going to use this.

00:25:03.110 --> 00:25:03.750
There we go.

00:25:03.750 --> 00:25:05.250
LUKE DAVIS: Oh yeah,
that's perfect.

00:25:05.250 --> 00:25:06.292
JESSICA EARLEY-CHA: Yeah.

00:25:06.292 --> 00:25:08.343
OK, so we want to say
see you next time.

00:25:08.343 --> 00:25:10.760
LUKE DAVIS: See you next time
and then whatever their sign

00:25:10.760 --> 00:25:11.405
is.

00:25:11.405 --> 00:25:11.810
JESSICA EARLEY-CHA: And sign.

00:25:11.810 --> 00:25:12.330
LUKE DAVIS: Yeah.

00:25:12.330 --> 00:25:13.410
Lovely, lovely, lovely.

00:25:13.410 --> 00:25:14.250
JESSICA EARLEY-CHA: Sweet.

00:25:14.250 --> 00:25:15.450
And then if they don't have it--

00:25:15.450 --> 00:25:16.620
LUKE DAVIS: Yeah, if
we don't have the sign,

00:25:16.620 --> 00:25:18.662
then we'll want to say
something kind of generic,

00:25:18.662 --> 00:25:21.515
just like see you next time.

00:25:21.515 --> 00:25:23.320
JESSICA EARLEY-CHA:
Com dot close.

00:25:23.320 --> 00:25:26.100
See you next time.

00:25:26.100 --> 00:25:29.680
Looks like I might have--

00:25:29.680 --> 00:25:30.347
how's that look?

00:25:30.347 --> 00:25:32.430
LUKE DAVIS: Yeah, you want
to close those curlies?

00:25:32.430 --> 00:25:34.110
JESSICA EARLEY-CHA:
I'm missing-- yep.

00:25:34.110 --> 00:25:35.195
Just one?

00:25:35.195 --> 00:25:36.970
Oh no, there's one
and then there's two.

00:25:36.970 --> 00:25:38.760
There, already had that one.

00:25:38.760 --> 00:25:41.807
LUKE DAVIS: And then close
parens maybe possibly?

00:25:41.807 --> 00:25:42.890
JESSICA EARLEY-CHA: Where?

00:25:42.890 --> 00:25:46.100
LUKE DAVIS: At the end.

00:25:46.100 --> 00:25:46.600
Lovely.

00:25:46.600 --> 00:25:48.270
I think so.

00:25:48.270 --> 00:25:51.285
Close parens, yeah, yeah.

00:25:51.285 --> 00:25:52.410
Parens rather than curlies.

00:25:56.450 --> 00:25:57.030
All right.

00:25:57.030 --> 00:25:59.310
JESSICA EARLEY-CHA: There we go.

00:25:59.310 --> 00:26:00.550
OK, so that looks good?

00:26:00.550 --> 00:26:02.277
LUKE DAVIS: That
looks pretty good.

00:26:02.277 --> 00:26:03.235
I'm feeling optimistic.

00:26:03.235 --> 00:26:03.760
JESSICA EARLEY-CHA: You feel--

00:26:03.760 --> 00:26:05.580
OK sweet, I'm going
to hit deploy.

00:26:05.580 --> 00:26:09.160
And that way it
can go out there.

00:26:09.160 --> 00:26:10.040
OK, so--

00:26:10.040 --> 00:26:12.290
LUKE DAVIS: So this
strategy, we're

00:26:12.290 --> 00:26:15.140
remembering salient
details about the user

00:26:15.140 --> 00:26:17.630
so that they don't have
to enter the same thing

00:26:17.630 --> 00:26:18.920
over and over and over again.

00:26:18.920 --> 00:26:22.940
It's something that any
advanced voice user interface

00:26:22.940 --> 00:26:25.820
designer is going to want to
include in their applications.

00:26:25.820 --> 00:26:27.570
JESSICA EARLEY-CHA:
Yeah, well, it just it

00:26:27.570 --> 00:26:29.510
makes it feel just
more personalized.

00:26:29.510 --> 00:26:31.550
It makes it feel like
we know this action,

00:26:31.550 --> 00:26:35.970
because as humans we definitely
personify some experiences.

00:26:35.970 --> 00:26:38.318
I know if I see anything
with googly eyes

00:26:38.318 --> 00:26:39.860
and if it looks like
there's a mouth,

00:26:39.860 --> 00:26:41.660
I automatically
add like a feeling

00:26:41.660 --> 00:26:43.910
that that thing is
a thing, a person.

00:26:43.910 --> 00:26:46.700
And so our actions definitely
fall into that category.

00:26:46.700 --> 00:26:49.130
People feel like, oh,
it's something I know.

00:26:49.130 --> 00:26:51.710
So we could give that back.

00:26:51.710 --> 00:26:53.305
Sweet, OK, so it's deployed.

00:26:53.305 --> 00:26:55.180
LUKE DAVIS: All right,
we'll go check it out,

00:26:55.180 --> 00:26:56.720
see if it all works.

00:26:56.720 --> 00:26:58.940
JESSICA EARLEY-CHA: Let's reset.

00:26:58.940 --> 00:27:01.680
LUKE DAVIS: We'll talk
to our test, then.

00:27:01.680 --> 00:27:05.800
COMPUTER: All right, getting
the test version of my test app.

00:27:05.800 --> 00:27:07.800
LUKE DAVIS: All right,
so this is the first time

00:27:07.800 --> 00:27:12.460
that we have booted up the
action after adding the com

00:27:12.460 --> 00:27:13.770
user storage bit.

00:27:13.770 --> 00:27:17.700
So Jessica is just going
to choose one of the signs

00:27:17.700 --> 00:27:20.415
in order to save that thing
to your com user storage--

00:27:20.415 --> 00:27:22.040
COMPUTER: Your
horoscope for today is--

00:27:22.040 --> 00:27:24.830
JESSICA EARLEY-CHA: Let me mute
that so you can keep going.

00:27:24.830 --> 00:27:27.840
LUKE DAVIS: And then we're
going to leave the conversation

00:27:27.840 --> 00:27:33.190
and come back and make sure
that it actually worked.

00:27:33.190 --> 00:27:35.460
So if we say no thanks here--

00:27:35.460 --> 00:27:38.287
COMPUTER: Great surprises
come in unexpected packages.

00:27:38.287 --> 00:27:39.870
Would you like to
hear the horoscope--

00:27:39.870 --> 00:27:41.140
JESSICA EARLEY-CHA: OK, I wanted
to make sure that was done.

00:27:41.140 --> 00:27:42.515
That way we could
have the audio.

00:27:42.515 --> 00:27:44.557
OK, so now we're going
to click on no thanks.

00:27:44.557 --> 00:27:46.140
COMPUTER: See you
next time, designer.

00:27:46.140 --> 00:27:46.770
LUKE DAVIS: Nice.

00:27:46.770 --> 00:27:48.187
JESSICA EARLEY-CHA:
It remembered!

00:27:48.187 --> 00:27:50.748
Wait, I'm not a
designer, but that's OK.

00:27:50.748 --> 00:27:52.290
LUKE DAVIS: So now
that we have that,

00:27:52.290 --> 00:27:56.700
we can actually use it not
just on that exit intent.

00:27:56.700 --> 00:27:58.533
We can use it on the
default welcome intent.

00:27:58.533 --> 00:28:00.158
JESSICA EARLEY-CHA:
Oh my gosh, so when

00:28:00.158 --> 00:28:01.560
someone comes in
the second time,

00:28:01.560 --> 00:28:03.300
we could be like,
I know who you are.

00:28:03.300 --> 00:28:04.620
LUKE DAVIS: I know
what your horoscope is.

00:28:04.620 --> 00:28:06.240
JESSICA EARLEY-CHA:
Nice, OK, perfect.

00:28:06.240 --> 00:28:08.700
So let's go back to
Dialogflow, and then

00:28:08.700 --> 00:28:10.463
let's go into our
code, which we're here.

00:28:10.463 --> 00:28:11.880
OK cool, so we're
going to go back

00:28:11.880 --> 00:28:14.422
to our welcome intent,
which is up here.

00:28:14.422 --> 00:28:15.130
LUKE DAVIS: Yeah.

00:28:15.130 --> 00:28:16.950
JESSICA EARLEY-CHA: And
we're going to just--

00:28:16.950 --> 00:28:18.533
LUKE DAVIS: Take
advantage of the fact

00:28:18.533 --> 00:28:21.415
that now we might actually
know what the user's sign is.

00:28:21.415 --> 00:28:23.790
JESSICA EARLEY-CHA: Yeah, so
instead of watching me type,

00:28:23.790 --> 00:28:25.353
I just copy pasted
some code in here.

00:28:25.353 --> 00:28:27.270
And so what's-- sweet--
what's happening here,

00:28:27.270 --> 00:28:30.000
it's going to check to
see if that sign exists

00:28:30.000 --> 00:28:31.450
in the storage.

00:28:31.450 --> 00:28:32.460
It's going to grab that.

00:28:32.460 --> 00:28:34.210
LUKE DAVIS: Exactly
like we did last time.

00:28:34.210 --> 00:28:37.770
And it's going to do a fancy
thing where it grabs the sign

00:28:37.770 --> 00:28:39.930
and then it capitalizes
the first character.

00:28:39.930 --> 00:28:42.210
It's not super important
that you follow everything

00:28:42.210 --> 00:28:44.080
that's happening on line 125.

00:28:44.080 --> 00:28:46.523
It's just a little fancy thing,
a little fancy JavaScript.

00:28:46.523 --> 00:28:48.690
JESSICA EARLEY-CHA: And
then after that we give them

00:28:48.690 --> 00:28:50.070
the horoscope, because
that's most likely what

00:28:50.070 --> 00:28:51.900
they want if they are
returning back to us.

00:28:51.900 --> 00:28:53.817
They're going to want
to hear their horoscope.

00:28:53.817 --> 00:28:55.680
So we go "This is your
horoscope already."

00:28:55.680 --> 00:28:59.310
And if they're new, if
we don't have their sign,

00:28:59.310 --> 00:29:01.050
then we still give
them the generic,

00:29:01.050 --> 00:29:03.450
"Welcome to Silicon
Valley horoscope."

00:29:03.450 --> 00:29:04.285
LUKE DAVIS: Exactly.

00:29:04.285 --> 00:29:05.368
JESSICA EARLEY-CHA: Sweet.

00:29:05.368 --> 00:29:08.077
OK, so let's deploy this,
and we can test that out.

00:29:13.723 --> 00:29:15.640
LUKE DAVIS: So we're now
getting kind of close

00:29:15.640 --> 00:29:17.680
to our ambitions
for the project.

00:29:17.680 --> 00:29:21.250
We've shown you how to build
in these suggestion chips

00:29:21.250 --> 00:29:22.810
as an affordance to the user.

00:29:22.810 --> 00:29:25.270
We've shown you how to
handle exits more gracefully,

00:29:25.270 --> 00:29:27.968
and handling maybe
some specific user

00:29:27.968 --> 00:29:29.260
data that you might have saved.

00:29:29.260 --> 00:29:32.050
We showed you how to save
that user data and com user

00:29:32.050 --> 00:29:34.610
storage between conversations.

00:29:34.610 --> 00:29:36.670
And now we're going
back and sprucing up

00:29:36.670 --> 00:29:38.560
the actual default
welcome intent

00:29:38.560 --> 00:29:41.293
itself based on whether or not
you've met the user before.

00:29:41.293 --> 00:29:42.460
JESSICA EARLEY-CHA: Exactly.

00:29:42.460 --> 00:29:44.043
LUKE DAVIS: All these
things are going

00:29:44.043 --> 00:29:48.430
to help kind of create the
magic of a voice user interface.

00:29:48.430 --> 00:29:54.040
And we want to avoid, if we
can, kind of breaking the spell

00:29:54.040 --> 00:29:56.707
by making the
conversation too jarring.

00:29:56.707 --> 00:29:58.040
JESSICA EARLEY-CHA: I love that.

00:29:58.040 --> 00:29:59.330
Sweet, so it's been deployed.

00:29:59.330 --> 00:30:02.098
Let's go to actions on
Google and test this out.

00:30:02.098 --> 00:30:04.390
So this should, because we've
already been here before,

00:30:04.390 --> 00:30:07.280
it should give me
the designer one.

00:30:07.280 --> 00:30:10.117
LUKE DAVIS: It's exciting.

00:30:10.117 --> 00:30:10.950
COMPUTER: All right.

00:30:10.950 --> 00:30:14.820
Getting the test
version of my test app.

00:30:14.820 --> 00:30:17.740
LUKE DAVIS: That's
awesome, it did it!

00:30:17.740 --> 00:30:19.740
JESSICA EARLEY-CHA: OK,
cool, so it gave us back

00:30:19.740 --> 00:30:22.408
that we're a designer and
it gave us our horoscope.

00:30:22.408 --> 00:30:23.950
And then it still
asks us a question,

00:30:23.950 --> 00:30:25.530
if we want to hear something
else, which is great.

00:30:25.530 --> 00:30:26.890
I'm going to put no thanks.

00:30:26.890 --> 00:30:28.140
LUKE DAVIS: That sounds great.

00:30:28.140 --> 00:30:30.240
COMPUTER: See you
next time, designer.

00:30:30.240 --> 00:30:30.740
JESSICA EARLEY-CHA: Sweet.

00:30:30.740 --> 00:30:31.230
LUKE DAVIS: Awesome.

00:30:31.230 --> 00:30:32.500
I feel really good about this.

00:30:32.500 --> 00:30:32.790
JESSICA EARLEY-CHA:
Yeah, I think we

00:30:32.790 --> 00:30:34.290
built exactly what we wanted.

00:30:34.290 --> 00:30:35.230
This is super cool.

00:30:35.230 --> 00:30:36.590
LUKE DAVIS: Yeah, I'm
super happy with this.

00:30:36.590 --> 00:30:37.830
JESSICA EARLEY-CHA: Yeah, well,
thank you so much for watching.

00:30:37.830 --> 00:30:39.570
We really appreciate it.

00:30:39.570 --> 00:30:41.320
LUKE DAVIS: If you
enjoyed the show today,

00:30:41.320 --> 00:30:43.350
you can like and
subscribe down below,

00:30:43.350 --> 00:30:45.860
or comment and tell
us what we messed up.

00:30:45.860 --> 00:30:47.860
JESSICA EARLEY-CHA: I
know I made lots of typos.

00:30:47.860 --> 00:30:50.705
So thank you so much
for bearing with me.

00:30:50.705 --> 00:30:52.080
And please feel
free to follow us

00:30:52.080 --> 00:30:54.180
on Twitter, on
Actions on Google,

00:30:54.180 --> 00:30:55.890
and use the hashtag #AoGDevs.

00:30:55.890 --> 00:30:57.840
That's where we publish
a lot of our content.

00:30:57.840 --> 00:31:00.150
And we also have a
Reddit community too,

00:31:00.150 --> 00:31:02.010
and we publish there as well.

00:31:02.010 --> 00:31:03.155
So thank you so much.

00:31:03.155 --> 00:31:04.030
Really appreciate it.

00:31:04.030 --> 00:31:04.470
LUKE DAVIS: Thank you.

00:31:04.470 --> 00:31:04.770
Bye!

00:31:04.770 --> 00:31:05.770
JESSICA EARLEY-CHA: Bye!

00:31:05.770 --> 00:31:09.620
[MUSIC PLAYING]

