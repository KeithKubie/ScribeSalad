WEBVTT
Kind: captions
Language: en

00:00:01.230 --> 00:00:02.940
BILL LUAN: Shanghai
GDG is a very

00:00:02.940 --> 00:00:04.725
interesting developer community.

00:00:08.590 --> 00:00:09.330
SUSANNAH RAUB: I'm
glad somebody

00:00:09.330 --> 00:00:10.640
has asked this question.

00:00:10.640 --> 00:00:11.840
RETO MEIER: This is where
the magic happens.

00:00:11.840 --> 00:00:13.130
JENNY MURPHY: This is primarily
a question and

00:00:13.130 --> 00:00:15.000
answer show, so if any
of you out there

00:00:15.000 --> 00:00:16.250
would like to ask questions.

00:00:20.714 --> 00:00:21.680
IKAI LAN: Hi, everybody.

00:00:21.680 --> 00:00:23.200
Welcome to a very special
edition of

00:00:23.200 --> 00:00:24.450
Google Developers Live.

00:00:24.450 --> 00:00:27.060
My name is Ikai Lan from
the Apps Script team.

00:00:27.060 --> 00:00:28.840
Joining us today is a
very special guest.

00:00:28.840 --> 00:00:31.350
This is Michael Manoochehri from
the Google BigQuery team.

00:00:31.350 --> 00:00:32.180
MICHAEL MANOOCHEHRI:
Hello, everybody.

00:00:32.180 --> 00:00:33.010
How's it going?

00:00:33.010 --> 00:00:33.620
How are you doing?

00:00:33.620 --> 00:00:34.560
Good to see you, Ikai.

00:00:34.560 --> 00:00:35.580
IKAI LAN: Good to
see you, too.

00:00:35.580 --> 00:00:35.800
MICHAEL MANOOCHEHRI:
It's been a while.

00:00:35.800 --> 00:00:37.620
IKAI LAN: So we used to work
together in the San Francisco

00:00:37.620 --> 00:00:39.450
office, and he's visiting
New York City.

00:00:39.450 --> 00:00:41.870
And this is his first time in
the Google New York office.

00:00:41.870 --> 00:00:43.890
So what do you think so far?

00:00:43.890 --> 00:00:44.980
MICHAEL MANOOCHEHRI: It's
a big building.

00:00:44.980 --> 00:00:46.120
It's a great place.

00:00:46.120 --> 00:00:47.550
IKAI LAN: It's a very
big building.

00:00:47.550 --> 00:00:49.000
There are a lot of people
that work here

00:00:49.000 --> 00:00:50.550
in many, many stories.

00:00:50.550 --> 00:00:52.080
You're here for the
Strata Conference.

00:00:52.080 --> 00:00:54.080
MICHAEL MANOOCHEHRI: Yeah,
Strata New York Hadoop World

00:00:54.080 --> 00:00:54.530
Conference.

00:00:54.530 --> 00:00:55.560
So it's actually a
big conference.

00:00:55.560 --> 00:00:58.400
It's about big data, a lot
of analytics, lot of new

00:00:58.400 --> 00:00:58.750
technologies.

00:00:58.750 --> 00:01:00.450
So I'm here to talk about
Google BigQuery at that

00:01:00.450 --> 00:01:01.240
conference.

00:01:01.240 --> 00:01:03.110
IKAI LAN: And speaking of Google
BigQuery, that's what

00:01:03.110 --> 00:01:05.480
this special Google Developers
Live show is about.

00:01:05.480 --> 00:01:07.990
So today, we're going to be
talking about how to use

00:01:07.990 --> 00:01:12.250
Google BigQuery to do analysis
on large data sets and how to

00:01:12.250 --> 00:01:14.570
pipe that into Apps Script
so you can quickly peel

00:01:14.570 --> 00:01:17.600
dashboards or integrate with
Google Apps technology such as

00:01:17.600 --> 00:01:19.610
Gmail, Calendar, or
Spreadsheets.

00:01:19.610 --> 00:01:22.830
So before we start the demo, why
don't you tell us a little

00:01:22.830 --> 00:01:24.840
bit about BigQuery for the
people that aren't familiar?

00:01:24.840 --> 00:01:27.900
MICHAEL MANOOCHEHRI: BigQuery
is a service for running ad

00:01:27.900 --> 00:01:29.860
hoc analysis on really
large data sets.

00:01:29.860 --> 00:01:31.590
And you can get the results
back quickly.

00:01:31.590 --> 00:01:34.290
You can use a SQL-style
language, which allows you to

00:01:34.290 --> 00:01:36.300
write your queries
quickly as well.

00:01:36.300 --> 00:01:38.260
And my favorite part about
it is it's an API.

00:01:38.260 --> 00:01:40.090
It's a RESTful API, so
you interact with

00:01:40.090 --> 00:01:40.800
it through the API.

00:01:40.800 --> 00:01:42.990
That means it's easy to build
applications with it.

00:01:42.990 --> 00:01:45.270
It's easy to integrate into
your own applications.

00:01:45.270 --> 00:01:46.730
So it's a very cool
technology.

00:01:46.730 --> 00:01:48.760
It's actually based on some
internal technology that we

00:01:48.760 --> 00:01:49.200
have at Google.

00:01:49.200 --> 00:01:52.000
So we use it internally as well,
at least the underlying

00:01:52.000 --> 00:01:54.790
technology behind it.

00:01:54.790 --> 00:01:59.230
And I really like using it with
Apps Script, actually.

00:01:59.230 --> 00:01:59.950
IKAI LAN: I was waiting
for that one.

00:01:59.950 --> 00:02:01.590
MICHAEL MANOOCHEHRI:
Yeah, exactly.

00:02:01.590 --> 00:02:04.650
IKAI LAN: So tell us about who's
using BigQuery and what

00:02:04.650 --> 00:02:05.690
other types of things they're
using it for.

00:02:05.690 --> 00:02:07.000
MICHAEL MANOOCHEHRI: Yeah, so
a lot of cool applications.

00:02:07.000 --> 00:02:09.410
We have some companies using it
for social game analytics.

00:02:09.410 --> 00:02:11.900
So they're using BigQuery to
analyze massive amounts of

00:02:11.900 --> 00:02:13.430
data from games, for example.

00:02:13.430 --> 00:02:15.460
We have people using it for
transportation industry,

00:02:15.460 --> 00:02:17.150
hospitality industry,
anything where

00:02:17.150 --> 00:02:18.830
there's lots of big data.

00:02:18.830 --> 00:02:20.850
So people love using it to
integrate with their own

00:02:20.850 --> 00:02:21.820
applications, like I said.

00:02:21.820 --> 00:02:24.030
So people are building
visualizations around it.

00:02:24.030 --> 00:02:26.210
We have a lot of visualization
partners using it as well.

00:02:26.210 --> 00:02:26.900
So it's very cool.

00:02:26.900 --> 00:02:29.370
Internally at Google, we use
it for different projects,

00:02:29.370 --> 00:02:30.430
actually with Apps Script.

00:02:30.430 --> 00:02:32.790
Because Apps Script is a great
way to build work flows and

00:02:32.790 --> 00:02:34.190
prototype UIs around it.

00:02:34.190 --> 00:02:37.480
So we actually have been using
it with some ads data.

00:02:37.480 --> 00:02:39.670
We have some people looking at
just a general server log

00:02:39.670 --> 00:02:40.530
data, things like that.

00:02:40.530 --> 00:02:42.030
So it's really easy
to get started.

00:02:42.030 --> 00:02:43.640
They're very complementary
technologies.

00:02:43.640 --> 00:02:46.610
Because BigQuery's great for
asking questions about large

00:02:46.610 --> 00:02:47.890
data sets and getting
a response back.

00:02:47.890 --> 00:02:49.610
But once you get that response
back, you need to do

00:02:49.610 --> 00:02:50.150
something with it.

00:02:50.150 --> 00:02:51.780
You need to visualize
that data.

00:02:51.780 --> 00:02:52.870
You need to automate
that data.

00:02:52.870 --> 00:02:53.970
There's lots of things
you can do.

00:02:53.970 --> 00:02:55.120
And that's where Apps
Script comes in.

00:02:55.120 --> 00:02:56.060
It's very cool.

00:02:56.060 --> 00:02:59.330
So I like to say, use BigQuery
for that large data, analyzing

00:02:59.330 --> 00:03:01.270
this massive data that it's hard
to wrap your head around.

00:03:01.270 --> 00:03:03.010
And then bring it into Apps
Script and actually do

00:03:03.010 --> 00:03:05.050
something with it, like
visualize it, analyze it.

00:03:05.050 --> 00:03:05.700
IKAI LAN: So when
you're talking

00:03:05.700 --> 00:03:07.480
about large data, what's--

00:03:07.480 --> 00:03:10.270
I mean, I know you're going to
show us a demo fairly soon,

00:03:10.270 --> 00:03:10.950
very quickly.

00:03:10.950 --> 00:03:12.610
So why don't we jump
into that?

00:03:12.610 --> 00:03:14.990
I mean, when you say large data,
are you talking like

00:03:14.990 --> 00:03:16.780
kilobytes or megabytes?

00:03:16.780 --> 00:03:18.730
MICHAEL MANOOCHEHRI: BigQuery
scales very well, so we're

00:03:18.730 --> 00:03:19.780
talking terabytes.

00:03:19.780 --> 00:03:20.360
IKAI LAN: Terabytes!

00:03:20.360 --> 00:03:21.510
MICHAEL MANOOCHEHRI: And I'm
waiting for someone to bring

00:03:21.510 --> 00:03:22.020
us some petabytes.

00:03:22.020 --> 00:03:24.140
I'd like to try it on that.

00:03:24.140 --> 00:03:26.740
But when I say big data, I mean
literally a lot of data,

00:03:26.740 --> 00:03:28.380
billions of records.

00:03:28.380 --> 00:03:29.800
I'm going to show you a
data set that I think

00:03:29.800 --> 00:03:30.530
of as pretty small.

00:03:30.530 --> 00:03:32.280
It's about 100 million records,

00:03:32.280 --> 00:03:33.780
Wikipedia revision data.

00:03:33.780 --> 00:03:35.610
But we can scale very well.

00:03:35.610 --> 00:03:37.550
So terabytes, I'd like
to see if you

00:03:37.550 --> 00:03:38.310
have multiple terabytes.

00:03:38.310 --> 00:03:39.520
Bring it to us and we'll
talk about it.

00:03:39.520 --> 00:03:41.792
IKAI LAN: So much for the days
when 640 kilobytes were all

00:03:41.792 --> 00:03:42.240
you needed.

00:03:42.240 --> 00:03:43.010
MICHAEL MANOOCHEHRI: Yeah,
I remember that.

00:03:43.010 --> 00:03:43.460
IKAI LAN: Imagine that.

00:03:43.460 --> 00:03:44.640
MICHAEL MANOOCHEHRI: Those
40-meg hard drives.

00:03:44.640 --> 00:03:46.060
Oh, my god, 40-meg hard drive!

00:03:46.060 --> 00:03:48.740
IKAI LAN: You know, I even
remember when I had my 386.

00:03:48.740 --> 00:03:50.150
I had a 50-megabyte
hard drive.

00:03:50.150 --> 00:03:51.900
And it was like huge.

00:03:51.900 --> 00:03:53.330
MICHAEL MANOOCHEHRI: How will
I ever fill this up?

00:03:53.330 --> 00:03:53.560
IKAI LAN: Boom!

00:03:53.560 --> 00:03:54.520
Head explode.

00:03:54.520 --> 00:03:57.050
So why don't you go and show
us a little bit of BigQuery

00:03:57.050 --> 00:03:58.850
before we dive into the
Apps Script portion?

00:03:58.850 --> 00:04:00.430
MICHAEL MANOOCHEHRI: Let's
start with the classic

00:04:00.430 --> 00:04:02.170
BigQuery kind of demo.

00:04:02.170 --> 00:04:03.630
So this is the BigQuery
web UI.

00:04:03.630 --> 00:04:05.480
I mentioned that BigQuery
uses an API.

00:04:05.480 --> 00:04:07.400
But when you sign up for
BigQuery, you actually have

00:04:07.400 --> 00:04:09.450
access to this web UI.

00:04:09.450 --> 00:04:12.240
And this lets you run
some sample queries

00:04:12.240 --> 00:04:13.190
on some of the data.

00:04:13.190 --> 00:04:15.260
We provide some public data
sets for you to test on.

00:04:15.260 --> 00:04:17.050
And we're going to do the
demo with the data sets.

00:04:17.050 --> 00:04:20.540
This is sort of the classic
of BigQuery demo query.

00:04:20.540 --> 00:04:23.240
This is going to query over
some Wikipedia revision

00:04:23.240 --> 00:04:23.970
history that we have.

00:04:23.970 --> 00:04:26.720
So we have the entire Wikipedia
revision history up

00:04:26.720 --> 00:04:27.850
until about 2010.

00:04:27.850 --> 00:04:29.830
IKAI LAN: So what is
a revision history?

00:04:29.830 --> 00:04:30.440
What does that mean?

00:04:30.440 --> 00:04:32.190
MICHAEL MANOOCHEHRI: So every
time anybody change a

00:04:32.190 --> 00:04:35.380
Wikipedia page, this is a
recording of that change.

00:04:35.380 --> 00:04:36.040
IKAI LAN: Wow.

00:04:36.040 --> 00:04:37.970
MICHAEL MANOOCHEHRI: So
it may be a username.

00:04:37.970 --> 00:04:40.990
It might include an IP address
plus some information like a

00:04:40.990 --> 00:04:42.010
message about it.

00:04:42.010 --> 00:04:43.380
But what's cool about
this data--

00:04:43.380 --> 00:04:44.690
and we show this demo a lot.

00:04:44.690 --> 00:04:46.680
What's cool about this data is
you can see what the most

00:04:46.680 --> 00:04:48.500
revised articles were.

00:04:48.500 --> 00:04:51.010
So before we get into that, I'm
actually going to show you

00:04:51.010 --> 00:04:52.550
how to do that through Apps
Script, but let me just show

00:04:52.550 --> 00:04:54.170
you a quick count.

00:04:54.170 --> 00:04:56.160
IKAI LAN: So I'm looking at this
right now and this looks

00:04:56.160 --> 00:04:57.750
a lot like SQL to me.

00:04:57.750 --> 00:04:58.340
MICHAEL MANOOCHEHRI:
Yes, that's right.

00:04:58.340 --> 00:05:00.410
As I mentioned before, it's
a SQL-like language.

00:05:00.410 --> 00:05:02.140
It's not standard SQL,
but it's very close.

00:05:02.140 --> 00:05:04.410
So the idea is to get you
up to speed quickly.

00:05:04.410 --> 00:05:07.870
And a lot of people have used
SQL with relational databases.

00:05:07.870 --> 00:05:09.690
So this is a way to just kind
of get you started.

00:05:09.690 --> 00:05:11.840
Also, if you've ever used like
Mongo or some of those

00:05:11.840 --> 00:05:14.090
document stores, oftentimes
when you need to aggregate

00:05:14.090 --> 00:05:15.590
queries, you're writing
a MapReduce function.

00:05:15.590 --> 00:05:17.640
You're literally writing
a mapper and a reducer.

00:05:17.640 --> 00:05:21.230
And this gives you the same kind
of aggregate query power

00:05:21.230 --> 00:05:23.860
but expressed in SQL,
which is very cool.

00:05:23.860 --> 00:05:25.000
So anyway, I just ran this.

00:05:25.000 --> 00:05:27.340
And it took just a few
seconds, actually.

00:05:27.340 --> 00:05:29.060
I processed it, and this
number is quite large.

00:05:29.060 --> 00:05:31.150
But you can see it's something
like we're going to look at

00:05:31.150 --> 00:05:32.835
223 million records.

00:05:32.835 --> 00:05:36.540
So that's a pretty
big data set.

00:05:36.540 --> 00:05:39.520
If you were using a relational
database on a single-node

00:05:39.520 --> 00:05:42.030
server, this would pretty much
take forever to kind of run.

00:05:42.030 --> 00:05:44.100
IKAI LAN: Well, not a
server that I build.

00:05:44.100 --> 00:05:45.580
MICHAEL MANOOCHEHRI: Yeah,
not an Ikai Lan server.

00:05:45.580 --> 00:05:46.320
IKAI LAN: But OK.

00:05:46.320 --> 00:05:47.490
A normal person server.

00:05:47.490 --> 00:05:48.370
MICHAEL MANOOCHEHRI: And
to be fair, this is

00:05:48.370 --> 00:05:49.180
just a count query.

00:05:49.180 --> 00:05:50.630
So actually, that's
pretty fast with

00:05:50.630 --> 00:05:51.380
a relational database.

00:05:51.380 --> 00:05:53.360
But if you want to do some kind
of aggregate queries,

00:05:53.360 --> 00:05:58.000
like what are the sums of the
amount of characters changed,

00:05:58.000 --> 00:05:59.160
these kind of queries
are very difficult

00:05:59.160 --> 00:06:00.310
for relational databases.

00:06:00.310 --> 00:06:01.850
IKAI LAN: Because what would
these look like when you're

00:06:01.850 --> 00:06:02.280
doing the query?

00:06:02.280 --> 00:06:05.360
You'd actually have to go in
and you would have to check

00:06:05.360 --> 00:06:06.370
every single row.

00:06:06.370 --> 00:06:07.610
MICHAEL MANOOCHEHRI: It's
a table scan, basically.

00:06:07.610 --> 00:06:10.010
And what's interesting about the
design of BigQuery is that

00:06:10.010 --> 00:06:11.270
we embrace the table scan.

00:06:11.270 --> 00:06:13.510
We actually can run a table scan
for every query that's

00:06:13.510 --> 00:06:15.470
designed to do that unlike a
relational database, where

00:06:15.470 --> 00:06:16.570
that's a scary thought.

00:06:16.570 --> 00:06:19.180
So anyway, so this gives you a
sense of the data set we're

00:06:19.180 --> 00:06:20.190
going to play with.

00:06:20.190 --> 00:06:21.930
So we're going to just
start from scratch.

00:06:21.930 --> 00:06:25.760
I've created a new spreadsheet
in Google Drive.

00:06:25.760 --> 00:06:28.070
And we're going to actually
run through the process of

00:06:28.070 --> 00:06:30.180
integrating with BigQuery.

00:06:30.180 --> 00:06:32.290
IKAI LAN: So what we're doing
now is Google BigQuery is

00:06:32.290 --> 00:06:33.870
very, very good with
data analysis.

00:06:33.870 --> 00:06:36.910
And they made some very good
decisions on the team, which

00:06:36.910 --> 00:06:40.110
was, let's build a robust,
powerful API so that people

00:06:40.110 --> 00:06:41.530
could build their own
visualizations.

00:06:41.530 --> 00:06:44.460
Because if they were to take
time away from doing

00:06:44.460 --> 00:06:46.880
BigQuery-related things and
making table scans awesome--

00:06:46.880 --> 00:06:50.430
which again, very,
very scary--

00:06:50.430 --> 00:06:52.510
that's less time to really
improve the service.

00:06:52.510 --> 00:06:55.560
Now, Apps Script is very good
for building UIs quickly, as

00:06:55.560 --> 00:06:56.600
many of you may know.

00:06:56.600 --> 00:06:59.110
Hopefully, you're joining
us as Apps Script users.

00:06:59.110 --> 00:07:01.090
But some of you guys will
be BigQuery users.

00:07:01.090 --> 00:07:04.330
And when you see how quickly
we're able to build UIs, what

00:07:04.330 --> 00:07:06.660
Michael is going to show us is
how he uses the built-in

00:07:06.660 --> 00:07:09.500
spreadsheet UI to work
with BigQuery.

00:07:09.500 --> 00:07:09.860
MICHAEL MANOOCHEHRI: Right.

00:07:09.860 --> 00:07:10.670
So let's get started.

00:07:10.670 --> 00:07:12.770
The first thing you need to know
is BigQuery needs to be

00:07:12.770 --> 00:07:15.720
activated through the Google
Developers console.

00:07:15.720 --> 00:07:19.050
So what I've done here is I've
actually just created my own

00:07:19.050 --> 00:07:21.280
test demo, BigQuery
demo project.

00:07:21.280 --> 00:07:22.850
And the important thing to
note for building an

00:07:22.850 --> 00:07:24.440
application is the
project number.

00:07:24.440 --> 00:07:27.550
So everything with BigQuery is
actually attached to a Google

00:07:27.550 --> 00:07:28.990
Developers project.

00:07:28.990 --> 00:07:33.490
And so here I've gone to
developers.google.com/console.

00:07:33.490 --> 00:07:36.670
IKAI LAN: I notice that you've
got upstartstartup.biz.

00:07:36.670 --> 00:07:37.140
What's going on?

00:07:37.140 --> 00:07:38.250
Is this like your side thing?

00:07:38.250 --> 00:07:39.790
MICHAEL MANOOCHEHRI: That's my
little-- yeah, well, that's my

00:07:39.790 --> 00:07:40.170
test account.

00:07:40.170 --> 00:07:41.420
IKAI LAN: Superstealth?

00:07:41.420 --> 00:07:43.970
MICHAEL MANOOCHEHRI: It's
my non-stealth startup.

00:07:43.970 --> 00:07:45.400
I'm sorry for anyone who
wanted that domain

00:07:45.400 --> 00:07:46.010
name, by the way.

00:07:46.010 --> 00:07:48.160
I don't actually use
it for startups.

00:07:48.160 --> 00:07:50.480
So I'm going to note the
project number here.

00:07:50.480 --> 00:07:53.550
And so here under Apps Script,
I've opened up the Apps Script

00:07:53.550 --> 00:07:54.410
script editor.

00:07:54.410 --> 00:07:56.130
IKAI LAN: And you do
this via Tools.

00:07:56.130 --> 00:07:58.200
And just to show people,
we do this via

00:07:58.200 --> 00:07:59.580
Tools and Script Editor.

00:07:59.580 --> 00:08:02.640
So for those of you that are a
BigQuery user and new to Apps

00:08:02.640 --> 00:08:05.680
Script, this is how you get to
Script Editor from Google

00:08:05.680 --> 00:08:07.560
Spreadsheets.

00:08:07.560 --> 00:08:10.000
This is where you would create
your custom functions and the

00:08:10.000 --> 00:08:11.795
things that you want the
spreadsheet to do, things you

00:08:11.795 --> 00:08:12.460
wanted to automate.

00:08:12.460 --> 00:08:12.810
MICHAEL MANOOCHEHRI:
Definitely.

00:08:12.810 --> 00:08:14.360
And to save time, I've
actually pasted

00:08:14.360 --> 00:08:15.210
some code in here.

00:08:15.210 --> 00:08:19.400
But once we've created our API
console project, I'm also

00:08:19.400 --> 00:08:23.130
going to activate
the Google API.

00:08:23.130 --> 00:08:25.870
So that's under the Script
Editor for Apps Script and

00:08:25.870 --> 00:08:27.910
under Use Google APIs.

00:08:27.910 --> 00:08:28.830
So I'm going to click on that.

00:08:28.830 --> 00:08:30.460
And it's going to open up a
window that'll give me a

00:08:30.460 --> 00:08:33.120
collection of APIs that
I'll have access to.

00:08:33.120 --> 00:08:35.970
I'm going to toggle on
the BigQuery API.

00:08:35.970 --> 00:08:37.230
It says version 2 here
because we're

00:08:37.230 --> 00:08:38.400
currently on that version.

00:08:38.400 --> 00:08:39.370
But that's the only one.

00:08:39.370 --> 00:08:40.429
You don't need an API key.

00:08:40.429 --> 00:08:41.820
This is a common question
I have.

00:08:41.820 --> 00:08:42.620
Do we need an API key?

00:08:42.620 --> 00:08:45.500
No, just toggle on
the BigQuery API.

00:08:45.500 --> 00:08:46.100
So that's it.

00:08:46.100 --> 00:08:48.460
Now, the libraries for our
project are updated.

00:08:48.460 --> 00:08:49.530
That's great.

00:08:49.530 --> 00:08:51.740
And in my code, the first
thing I'm going to do is

00:08:51.740 --> 00:08:54.450
create a variable that holds
my project number.

00:08:54.450 --> 00:08:56.690
Because we're going to refer
to that in the code later.

00:08:56.690 --> 00:08:58.800
So I'm going to paste in the
project number that comes from

00:08:58.800 --> 00:08:59.650
my API console.

00:08:59.650 --> 00:09:00.640
And that's it.

00:09:00.640 --> 00:09:03.590
I should be ready to go, to
start actually using this.

00:09:03.590 --> 00:09:06.230
IKAI LAN: And for the BigQuery
users, this is our cloud-based

00:09:06.230 --> 00:09:07.700
editor for Apps Script.

00:09:07.700 --> 00:09:11.530
So it'll do things like auto
completion and just basic

00:09:11.530 --> 00:09:12.330
editor functions.

00:09:12.330 --> 00:09:14.210
I don't want to call it an
IDE, but you can run and

00:09:14.210 --> 00:09:16.025
deploy applications all
from the web, all

00:09:16.025 --> 00:09:17.540
straight from the cloud.

00:09:17.540 --> 00:09:19.080
MICHAEL MANOOCHEHRI: So I'm
actually going to move the

00:09:19.080 --> 00:09:20.760
Script Editor over so
people can see the

00:09:20.760 --> 00:09:22.430
spreadsheet behind it.

00:09:22.430 --> 00:09:25.450
I think that'll actually help
see what's going on.

00:09:25.450 --> 00:09:28.730
So I'm going to run some
of these functions

00:09:28.730 --> 00:09:30.670
in the Script Editor.

00:09:30.670 --> 00:09:34.450
And it's going to update
this live.

00:09:34.450 --> 00:09:36.310
So let me find that.

00:09:36.310 --> 00:09:38.990
IKAI LAN: Now what you're
seeing here is that this

00:09:38.990 --> 00:09:42.890
spreadsheet is the parent
container of this script.

00:09:42.890 --> 00:09:45.760
So when you run this code and
it refers to a parent

00:09:45.760 --> 00:09:47.140
spreadsheet, well, you'll
see this code.

00:09:47.140 --> 00:09:50.310
For instance, varssspreadsheet
app.getactivespreadsheet And

00:09:50.310 --> 00:09:51.330
Michael's doing this globally.

00:09:51.330 --> 00:09:52.400
You don't have to do that.

00:09:52.400 --> 00:09:54.430
Usually, it's better not to.

00:09:54.430 --> 00:09:56.830
This is referring to the parent
spreadsheet, so it very

00:09:56.830 --> 00:10:00.430
easily talks to a UI that
you can work with.

00:10:00.430 --> 00:10:00.770
MICHAEL MANOOCHEHRI:
Definitely.

00:10:00.770 --> 00:10:03.170
Yeah, this is sort of a
stripped-down example, just in

00:10:03.170 --> 00:10:05.590
practice to kind of show you
some of the querying features.

00:10:05.590 --> 00:10:07.300
But yeah, there's much more
complicated scripts that

00:10:07.300 --> 00:10:09.610
actually have sort of a
better design there.

00:10:09.610 --> 00:10:12.230
So here, I've actually
hard-coded in a SQL statement.

00:10:12.230 --> 00:10:16.140
So you saw me in that web UI run
basically a SQL statement.

00:10:16.140 --> 00:10:18.560
Here's one that's going to
find the top most revised

00:10:18.560 --> 00:10:20.420
articles from Wikipedia.

00:10:20.420 --> 00:10:22.940
And before I do anything else,
I'm actually going to use the

00:10:22.940 --> 00:10:27.080
Browser.msgBox function to
just pop up the result.

00:10:27.080 --> 00:10:29.150
And you'll see what a
raw query result is.

00:10:29.150 --> 00:10:30.400
Now, don't be scared.

00:10:32.970 --> 00:10:34.070
It's not going to look
like what we're

00:10:34.070 --> 00:10:35.500
going to do later on.

00:10:35.500 --> 00:10:38.020
So I'm going to try
to run this.

00:10:38.020 --> 00:10:42.400
And the first thing you'll see
is it's going to ask me for

00:10:42.400 --> 00:10:43.200
authorization.

00:10:43.200 --> 00:10:46.020
Because BigQuery requires
authorization

00:10:46.020 --> 00:10:47.130
from the user to use.

00:10:47.130 --> 00:10:49.250
And so I'm going to say, yes.

00:10:49.250 --> 00:10:52.310
I would like this application
to be able to read my data

00:10:52.310 --> 00:10:52.700
from BigQuery.

00:10:52.700 --> 00:10:54.480
I'm going to grant access.

00:10:54.480 --> 00:10:55.720
And now I can run the script.

00:10:55.720 --> 00:10:57.770
So once that authorization
step is done,

00:10:57.770 --> 00:10:59.320
you can run the script.

00:10:59.320 --> 00:11:00.310
I'm going to run it right now.

00:11:00.310 --> 00:11:01.560
And you should see--

00:11:04.595 --> 00:11:06.090
it's going to take a
few seconds to run.

00:11:06.090 --> 00:11:08.660
IKAI LAN: What you're going to
see is that you're running the

00:11:08.660 --> 00:11:09.400
OnOpen method.

00:11:09.400 --> 00:11:10.840
So the OnOpen is a hook.

00:11:10.840 --> 00:11:13.020
And if you look at the code in
the OnOpen method-- let's

00:11:13.020 --> 00:11:14.760
scroll up a little bit.

00:11:14.760 --> 00:11:17.470
What you're doing is you're
adding a menu item.

00:11:17.470 --> 00:11:19.320
So now instead of--

00:11:19.320 --> 00:11:20.190
you didn't run any functions.

00:11:20.190 --> 00:11:22.270
You added additional menus
to your spreadsheet.

00:11:22.270 --> 00:11:24.460
That's a very, very cool
feature of Apps Script.

00:11:24.460 --> 00:11:25.860
I'm pretty sure that
you wanted to show

00:11:25.860 --> 00:11:26.030
us something else.

00:11:26.030 --> 00:11:26.630
MICHAEL MANOOCHEHRI:
Yes, that's right.

00:11:26.630 --> 00:11:27.100
Oh, that's right.

00:11:27.100 --> 00:11:27.660
I'm sorry about that.

00:11:27.660 --> 00:11:29.240
I looked at the wrong
function.

00:11:29.240 --> 00:11:29.670
That's right.

00:11:29.670 --> 00:11:31.250
So we'll be referring
to that later.

00:11:31.250 --> 00:11:32.440
So actually, let's
run the query.

00:11:32.440 --> 00:11:33.140
Thank you, Ikai.

00:11:33.140 --> 00:11:34.460
We're going to run
the actual query.

00:11:34.460 --> 00:11:36.930
So this is going to do what the
web UI for BigQuery was

00:11:36.930 --> 00:11:40.040
doing before, and it's going
to return a raw response.

00:11:40.040 --> 00:11:43.340
And you can see it here,
behind here.

00:11:43.340 --> 00:11:46.900
This is the raw JSON response,
so BigQuery returns results as

00:11:46.900 --> 00:11:48.150
a JSON object.

00:11:48.150 --> 00:11:49.940
So what we're going to do now
is we're going to take this

00:11:49.940 --> 00:11:50.590
result set.

00:11:50.590 --> 00:11:52.660
I just wanted to show you this
to just sort of give you an

00:11:52.660 --> 00:11:55.400
idea of what the raw
API looks like.

00:11:55.400 --> 00:11:56.640
We're going to take this
response, and we're actually

00:11:56.640 --> 00:11:59.430
going to put it into the Apps
Script in a tabular form in

00:11:59.430 --> 00:12:01.000
the spreadsheet.

00:12:01.000 --> 00:12:06.300
So I'm going to comment out
the method that does that.

00:12:06.300 --> 00:12:08.080
And we're going to uncomment
this code.

00:12:08.080 --> 00:12:10.270
Now, this code is actually going
to take that response.

00:12:10.270 --> 00:12:13.440
And it's going to format it in
a way that will actually put

00:12:13.440 --> 00:12:14.610
it into the spreadsheet.

00:12:14.610 --> 00:12:16.610
So basically, just to show you
what I'm doing here, I'm just

00:12:16.610 --> 00:12:20.890
going through the results set,
the table rows that have been

00:12:20.890 --> 00:12:21.890
brought back from BigQuery.

00:12:21.890 --> 00:12:24.640
And I'm actually going to say,
for each of the results, put

00:12:24.640 --> 00:12:26.850
them into a two-dimensional
array, and we're going to pop

00:12:26.850 --> 00:12:29.550
that array into the spreadsheet
using Apps Script.

00:12:29.550 --> 00:12:31.880
IKAI LAN: So what's really cool
here is that I'm looking

00:12:31.880 --> 00:12:33.040
at this code, and I'm
seeing that you're

00:12:33.040 --> 00:12:34.300
saying query the data.

00:12:34.300 --> 00:12:37.310
Now, because this is Apps
Script, you'll be able to do

00:12:37.310 --> 00:12:37.940
things like this.

00:12:37.940 --> 00:12:40.120
You'll be able to type
BigQuery.jobs.

00:12:40.120 --> 00:12:43.520
And you'll see that the code
editor auto-completes the code

00:12:43.520 --> 00:12:44.420
that you want to use.

00:12:44.420 --> 00:12:46.860
And that's why when he gets
back the query results, if

00:12:46.860 --> 00:12:49.230
sometimes you don't remember
what the function is called,

00:12:49.230 --> 00:12:50.910
Michael will type
query results.

00:12:50.910 --> 00:12:52.100
And you'll hit a dot.

00:12:52.100 --> 00:12:56.160
And you'll see, oh, I have get
total rows or get schema.

00:12:56.160 --> 00:13:00.170
And this is all comes for free
when you use Google Apps.

00:13:00.170 --> 00:13:01.090
MICHAEL MANOOCHEHRI:
I love this editor.

00:13:01.090 --> 00:13:02.130
This is one of the best
things about Apps

00:13:02.130 --> 00:13:03.210
Script is the cool editor.

00:13:03.210 --> 00:13:05.350
It just makes it so easy
to build these things.

00:13:05.350 --> 00:13:07.880
OK, so I just updated, or
uncommented that code.

00:13:07.880 --> 00:13:10.250
And we're going to run this
function again, and we're not

00:13:10.250 --> 00:13:12.610
going to see that JSON object
pop up in the box.

00:13:12.610 --> 00:13:14.950
What we're actually going to
see is the spreadsheet

00:13:14.950 --> 00:13:20.660
populated with the values
from that code.

00:13:20.660 --> 00:13:23.190
So remember, these
are the top 10--

00:13:23.190 --> 00:13:23.950
magic!

00:13:23.950 --> 00:13:25.140
These are the top 10--

00:13:25.140 --> 00:13:27.220
I promised I would never run
this again because I'm always

00:13:27.220 --> 00:13:29.550
running this query, but these
are the top 10 most revised

00:13:29.550 --> 00:13:30.560
Wikipedia articles.

00:13:30.560 --> 00:13:31.920
This is the last time.

00:13:31.920 --> 00:13:33.920
But it's funny because the
results are really funny.

00:13:33.920 --> 00:13:36.730
You've got George W Bush
followed by the list of

00:13:36.730 --> 00:13:37.600
wrestling employees.

00:13:37.600 --> 00:13:38.820
IKAI LAN: It is-- wow.

00:13:38.820 --> 00:13:41.400
I mean, those are things that
are constantly in flux, right?

00:13:41.400 --> 00:13:42.150
MICHAEL MANOOCHEHRI:
Yes, exactly.

00:13:42.150 --> 00:13:42.870
Although, yes.

00:13:42.870 --> 00:13:44.800
So you can see you can actually
drill down and run

00:13:44.800 --> 00:13:47.350
other queries to see why these
are the most revised.

00:13:47.350 --> 00:13:48.260
Sometimes they're
controversial.

00:13:48.260 --> 00:13:51.075
Sometimes they're just a big
names, et cetera, et cetera.

00:13:51.075 --> 00:13:52.205
IKAI LAN: I can't believe
the Wii has been

00:13:52.205 --> 00:13:52.590
edited that many times.

00:13:52.590 --> 00:13:52.880
MICHAEL MANOOCHEHRI: I know.

00:13:52.880 --> 00:13:53.830
That's kind of hard
to believe.

00:13:53.830 --> 00:13:55.790
Is it really that
controversial?

00:13:55.790 --> 00:13:57.630
And the controversial Britney
Spears as well.

00:13:57.630 --> 00:13:59.580
IKAI LAN: Very controversial.

00:13:59.580 --> 00:14:01.740
MICHAEL MANOOCHEHRI: OK, so
let's add something else.

00:14:01.740 --> 00:14:02.840
Now what we want to
do is we want to

00:14:02.840 --> 00:14:04.440
visualize these results.

00:14:04.440 --> 00:14:08.700
So I have a function down here
which builds a chart.

00:14:08.700 --> 00:14:11.130
And it takes the data from the
spreadsheet and actually makes

00:14:11.130 --> 00:14:12.730
a bar chart out of it.

00:14:12.730 --> 00:14:14.690
The visualization functions--
you know much more

00:14:14.690 --> 00:14:15.300
about this than I do.

00:14:15.300 --> 00:14:17.270
But I find them to be really
awesome, like to take this

00:14:17.270 --> 00:14:19.430
data and be able to build the
chart automatically in the

00:14:19.430 --> 00:14:21.340
spreadsheet, it's just great.

00:14:21.340 --> 00:14:23.210
IKAI LAN: And we've got some
great tutorials online when

00:14:23.210 --> 00:14:23.760
you search.

00:14:23.760 --> 00:14:28.170
When you search on Google for
Google Apps Script charts

00:14:28.170 --> 00:14:31.700
tutorial, they'll teach you
the process of building a

00:14:31.700 --> 00:14:32.610
charts dashboard.

00:14:32.610 --> 00:14:35.050
But for now, we're doing
a very basic one.

00:14:35.050 --> 00:14:36.970
MICHAEL MANOOCHEHRI: So this
one, this is one thing I

00:14:36.970 --> 00:14:37.890
wanted to highlight.

00:14:37.890 --> 00:14:40.450
BigQuery currently supports
four data types--

00:14:40.450 --> 00:14:43.860
integer, floating point,
Boolean, and string.

00:14:43.860 --> 00:14:46.400
And this particular chart would
like to have either a

00:14:46.400 --> 00:14:48.380
number or a string
as the values.

00:14:48.380 --> 00:14:50.520
So what I'm doing here in this
code-- and this is all on the

00:14:50.520 --> 00:14:52.090
BigQuery Apps Script
tutorial that's on

00:14:52.090 --> 00:14:53.290
the Apps Script site.

00:14:53.290 --> 00:14:55.560
What I'm doing here is I'm just
finding anything that is

00:14:55.560 --> 00:14:58.340
a Boolean or a string, I'm
saying, make that a

00:14:58.340 --> 00:14:59.470
column-type string.

00:14:59.470 --> 00:15:01.620
Anything that's an integer or
floating point, make that a

00:15:01.620 --> 00:15:03.860
column-type number.

00:15:03.860 --> 00:15:04.670
It's pretty easy to use.

00:15:04.670 --> 00:15:06.690
It's just a way to take the
data values coming from

00:15:06.690 --> 00:15:08.800
BigQuery and turning them into
something that the charts

00:15:08.800 --> 00:15:10.270
method really likes.

00:15:10.270 --> 00:15:11.930
So I have this ready to go.

00:15:11.930 --> 00:15:16.350
I'm going to uncomment this part
of my RunQuery function

00:15:16.350 --> 00:15:18.810
that will actually pass the
information that you see here

00:15:18.810 --> 00:15:21.630
in the spreadsheet to
that chart function.

00:15:21.630 --> 00:15:24.250
And this just has dimensions,
like the color of the chart,

00:15:24.250 --> 00:15:25.450
how big the chart
is going to be.

00:15:25.450 --> 00:15:26.120
IKAI LAN: So this is one way of

00:15:26.120 --> 00:15:27.460
building UIs in Apps Script.

00:15:27.460 --> 00:15:30.540
It's called UI service, where
you programmatically construct

00:15:30.540 --> 00:15:36.080
the UIs from various components,
and you used

00:15:36.080 --> 00:15:40.120
composite patterns to build
up these complex UIs.

00:15:40.120 --> 00:15:42.010
And so now, it looks like you're
just building a chart,

00:15:42.010 --> 00:15:43.940
and you're setting certain
variables, and you're setting

00:15:43.940 --> 00:15:44.620
the data sources.

00:15:44.620 --> 00:15:45.110
MICHAEL MANOOCHEHRI: Exactly.

00:15:45.110 --> 00:15:46.340
So let's save that.

00:15:46.340 --> 00:15:49.910
I'm going to run this function
one more time.

00:15:49.910 --> 00:15:52.700
And if you go back to the parent
chart when this is

00:15:52.700 --> 00:15:54.360
done, we should see a chart.

00:15:54.360 --> 00:15:56.220
IKAI LAN: It's actually running
the query again.

00:15:56.220 --> 00:15:58.010
So it's not just taking this
and generating the chart.

00:15:58.010 --> 00:15:59.330
It's running the query
again in case

00:15:59.330 --> 00:16:00.200
the data set is updated.

00:16:00.200 --> 00:16:03.430
Which it actually hasn't, but
in many cases, it might.

00:16:03.430 --> 00:16:04.740
MICHAEL MANOOCHEHRI: And you
see, I actually have a title

00:16:04.740 --> 00:16:05.450
here about Shakespeare.

00:16:05.450 --> 00:16:07.160
That's because I have another
query in there that's a

00:16:07.160 --> 00:16:07.650
Shakespeare one.

00:16:07.650 --> 00:16:10.960
But we can change that in
the code right here.

00:16:10.960 --> 00:16:12.470
That's just a label,
basically.

00:16:12.470 --> 00:16:12.770
IKAI LAN: Right.

00:16:12.770 --> 00:16:13.540
Follow the bug.

00:16:13.540 --> 00:16:14.470
MICHAEL MANOOCHEHRI:
That's right.

00:16:14.470 --> 00:16:16.980
And actually, we can change
that right now.

00:16:16.980 --> 00:16:19.520
We can say Wikipedia revision.

00:16:19.520 --> 00:16:20.880
IKAI LAN: Wikipedia revisions.

00:16:20.880 --> 00:16:22.630
MICHAEL MANOOCHEHRI:
Most revised.

00:16:22.630 --> 00:16:23.280
And that's it.

00:16:23.280 --> 00:16:25.790
IKAI LAN: Let's go ahead, save
it, and run the function.

00:16:25.790 --> 00:16:27.125
And let's go back
to the screen.

00:16:27.125 --> 00:16:30.450
You'll notice that-- oop!

00:16:30.450 --> 00:16:33.020
MICHAEL MANOOCHEHRI: That's
because I went over the free

00:16:33.020 --> 00:16:34.230
query limit for BigQuery.

00:16:34.230 --> 00:16:35.750
IKAI LAN: You've been running
this query all day long.

00:16:35.750 --> 00:16:36.050
MICHAEL MANOOCHEHRI: I know.

00:16:36.050 --> 00:16:36.460
It's true.

00:16:36.460 --> 00:16:38.480
I have been.

00:16:38.480 --> 00:16:39.710
IKAI LAN: Well, that kind
of took the steam

00:16:39.710 --> 00:16:40.890
out of our demo there.

00:16:40.890 --> 00:16:43.020
But you guys all saw,
it was a chart.

00:16:43.020 --> 00:16:43.830
It was a bar chart.

00:16:43.830 --> 00:16:45.610
And you can build all kinds
of charts in App Script.

00:16:45.610 --> 00:16:47.180
You can use a pie chart.

00:16:47.180 --> 00:16:48.320
That's also a very good one.

00:16:48.320 --> 00:16:50.360
Line chart, they have
scatter charts.

00:16:50.360 --> 00:16:53.420
There are all kinds of charts
that are exposed via the App

00:16:53.420 --> 00:16:54.840
Script charts API.

00:16:54.840 --> 00:16:55.980
MICHAEL MANOOCHEHRI: And what a
lot of people do is actually

00:16:55.980 --> 00:16:56.760
do time series.

00:16:56.760 --> 00:16:58.540
So they will group
by a time bucket.

00:16:58.540 --> 00:17:01.380
And that's a great thing for
charts that go over line

00:17:01.380 --> 00:17:02.670
charts and these
kind of things.

00:17:02.670 --> 00:17:03.980
IKAI LAN: Do you have an example
of something that

00:17:03.980 --> 00:17:06.109
people like to graph
in a time series?

00:17:06.109 --> 00:17:08.819
MICHAEL MANOOCHEHRI: Oh,
Yeah, definitely.

00:17:08.819 --> 00:17:09.940
I was talking about
social games.

00:17:09.940 --> 00:17:12.579
Think about daily use of
something over the life of the

00:17:12.579 --> 00:17:14.900
game, like how many people are
playing over the life of the

00:17:14.900 --> 00:17:15.819
game, things like that.

00:17:15.819 --> 00:17:16.980
IKAI LAN: And you would
generate this from,

00:17:16.980 --> 00:17:18.310
say, raw logs data.

00:17:18.310 --> 00:17:18.730
MICHAEL MANOOCHEHRI: Oh, yeah.

00:17:18.730 --> 00:17:19.770
This is a common use
case for BigQuery.

00:17:19.770 --> 00:17:22.690
IKAI LAN: So what do people
commonly do when they have

00:17:22.690 --> 00:17:25.770
lots of raw logs that they want
to get into BigQuery?

00:17:25.770 --> 00:17:26.680
MICHAEL MANOOCHEHRI: Do you mean
how do you actually load

00:17:26.680 --> 00:17:27.140
that data in?

00:17:27.140 --> 00:17:28.160
IKAI LAN: I mean, this
is really cool.

00:17:28.160 --> 00:17:30.560
But I can't imagine that many
people are building dashboards

00:17:30.560 --> 00:17:31.900
based on Wikipedia hits.

00:17:31.900 --> 00:17:33.010
MICHAEL MANOOCHEHRI: These are
just public data sets for

00:17:33.010 --> 00:17:34.150
testing, but you're right.

00:17:34.150 --> 00:17:37.650
To get your data in, first you
stage, either CSV, and we

00:17:37.650 --> 00:17:40.480
recently started supporting JSON
objects for nested and

00:17:40.480 --> 00:17:41.560
repeated values.

00:17:41.560 --> 00:17:44.920
So in your raw source file,
stage that data in Google

00:17:44.920 --> 00:17:45.700
Cloud Storage.

00:17:45.700 --> 00:17:47.060
And we didn't have much
time to talk about

00:17:47.060 --> 00:17:47.820
Google Cloud Storage.

00:17:47.820 --> 00:17:50.650
But basically, it's binary
storage in the cloud.

00:17:50.650 --> 00:17:52.920
Stage your files there, and then
you tell the BigQuery API

00:17:52.920 --> 00:17:54.130
where those files are.

00:17:54.130 --> 00:17:55.740
And it will load that data into

00:17:55.740 --> 00:17:57.400
BigQuery for you to analyze.

00:17:57.400 --> 00:17:58.780
BigQuery is append only.

00:17:58.780 --> 00:18:02.030
You don't have CRUD operations
like a standard database.

00:18:02.030 --> 00:18:03.550
But it's really a tool
for analysis.

00:18:03.550 --> 00:18:06.320
So once you get that data in, no
indexing required once the

00:18:06.320 --> 00:18:07.450
ingestion job is done.

00:18:07.450 --> 00:18:08.720
You can start running queries.

00:18:08.720 --> 00:18:09.170
IKAI LAN: Right, right.

00:18:09.170 --> 00:18:11.140
You would not be using BigQuery,
for instance, the

00:18:11.140 --> 00:18:12.950
way you'd be using be
an SQL database.

00:18:12.950 --> 00:18:17.050
Because logs are very good
because unless we've got some

00:18:17.050 --> 00:18:18.990
Arnold Schwarzenegger
"Terminator" thing going back

00:18:18.990 --> 00:18:22.930
on, you're not going to go back
in time and delete logs.

00:18:22.930 --> 00:18:25.300
You're not going to be
wanting to do that.

00:18:25.300 --> 00:18:28.650
So you mentioned Google
Cloud Storage.

00:18:28.650 --> 00:18:30.860
Now, Google Cloud Storage
also has an API.

00:18:30.860 --> 00:18:32.120
There are two ways
to upload files.

00:18:32.120 --> 00:18:33.070
There's a web UI.

00:18:33.070 --> 00:18:34.460
Actually, there are
multiple ways.

00:18:34.460 --> 00:18:36.110
There's a command-line tool.

00:18:36.110 --> 00:18:37.540
And there's also an API.

00:18:37.540 --> 00:18:39.850
So what people frequently
do is--

00:18:39.850 --> 00:18:41.760
do people use the API and
frequently just push?

00:18:41.760 --> 00:18:43.070
MICHAEL MANOOCHEHRI: Yeah,
people do all kinds of stuff.

00:18:43.070 --> 00:18:43.800
So they'll use the API.

00:18:43.800 --> 00:18:45.840
They'll use the command-line
client and actually build the

00:18:45.840 --> 00:18:49.420
server-side scripting stuff that
pushes it up to Google

00:18:49.420 --> 00:18:51.590
Cloud Storage and then kicks off
a BigQuery ingestion job.

00:18:51.590 --> 00:18:53.390
BigQuery itself also has
a command-line client.

00:18:53.390 --> 00:18:55.400
So a lot of people
use that as well.

00:18:55.400 --> 00:18:57.470
We also have a lot of
partners who do

00:18:57.470 --> 00:18:58.520
things like data ingestion.

00:18:58.520 --> 00:19:00.990
So if you go to the BigQuery
website at

00:19:00.990 --> 00:19:04.200
developers.google.com/bigquery,
there's links to all of our

00:19:04.200 --> 00:19:06.880
partners that do some of these
transformation and ETL jobs.

00:19:06.880 --> 00:19:08.420
So there's a lot of
ways to do it.

00:19:08.420 --> 00:19:09.930
IKAI LAN: And ETL means?

00:19:09.930 --> 00:19:11.440
MICHAEL MANOOCHEHRI: Extract,
Transform, and Load.

00:19:11.440 --> 00:19:14.060
IKAI LAN: I always have to ask
him because I never forget.

00:19:14.060 --> 00:19:14.860
MICHAEL MANOOCHEHRI: And I
always get it confused--

00:19:14.860 --> 00:19:15.770
IKAI LAN: I never remember.

00:19:15.770 --> 00:19:17.170
MICHAEL MANOOCHEHRI:
--with GTL.

00:19:17.170 --> 00:19:18.240
IKAI LAN: What's GTL?

00:19:18.240 --> 00:19:19.910
MICHAEL MANOOCHEHRI: It means
Gym, Tanning, and Laundry.

00:19:19.910 --> 00:19:22.600
IKAI LAN: Oh, right,
right, GTLs.

00:19:22.600 --> 00:19:24.910
And that's--

00:19:24.910 --> 00:19:25.320
MICHAEL MANOOCHEHRI:
That show.

00:19:25.320 --> 00:19:25.800
IKAI LAN: --weekend plan?

00:19:25.800 --> 00:19:27.070
Oh, it's a show.

00:19:27.070 --> 00:19:27.740
I didn't realize.

00:19:27.740 --> 00:19:30.060
See, I'm so out of touch
with the cool people.

00:19:30.060 --> 00:19:31.095
MICHAEL MANOOCHEHRI: You're
just so deep in the Apps

00:19:31.095 --> 00:19:31.600
Script world.

00:19:31.600 --> 00:19:31.808
IKAI LAN: Look at
how cool he is.

00:19:31.808 --> 00:19:32.440
He's a hipster.

00:19:32.440 --> 00:19:33.070
Oh, no, I'm sorry.

00:19:33.070 --> 00:19:35.370
He's an HTTPster.

00:19:35.370 --> 00:19:37.680
So that's all really
cool stuff.

00:19:37.680 --> 00:19:41.610
And I think that when you're
developing, especially in Apps

00:19:41.610 --> 00:19:44.050
Script, one thing that's really
good to do is first

00:19:44.050 --> 00:19:44.720
off, get your data.

00:19:44.720 --> 00:19:47.100
Get a small data set
into BigQuery.

00:19:47.100 --> 00:19:49.290
Use the command line or web
tools to figure out which

00:19:49.290 --> 00:19:51.505
queries you want to run
and what variables

00:19:51.505 --> 00:19:52.690
you want to be dynamic.

00:19:52.690 --> 00:19:54.730
And once you're doing that, when
you want to develop a UI,

00:19:54.730 --> 00:19:57.760
instead of constantly making
calls to BigQuery, a very good

00:19:57.760 --> 00:20:00.530
way of building a UI is to stub
out the data first in a

00:20:00.530 --> 00:20:00.840
spreadsheet.

00:20:00.840 --> 00:20:03.180
And because this is a
spreadsheet, you have a

00:20:03.180 --> 00:20:05.010
built-in UI for editing data.

00:20:05.010 --> 00:20:07.730
So you can quickly create a
sample data set, figure out

00:20:07.730 --> 00:20:08.830
the UI that you want to build.

00:20:08.830 --> 00:20:11.050
And once you've got those two
pieces working together-- they

00:20:11.050 --> 00:20:13.140
don't even have to be built
by the same person--

00:20:13.140 --> 00:20:14.850
you can quickly wire
them together

00:20:14.850 --> 00:20:16.320
using the script editor.

00:20:16.320 --> 00:20:16.690
MICHAEL MANOOCHEHRI:
Definitely.

00:20:16.690 --> 00:20:17.770
I actually do that
all the time.

00:20:17.770 --> 00:20:19.150
That's the way I use Apps
Script as well.

00:20:19.150 --> 00:20:21.650
IKAI LAN: I mean, you could
work with live data.

00:20:21.650 --> 00:20:23.260
But there's always going
to be a delay.

00:20:23.260 --> 00:20:25.000
Now, this is a relatively
fast query.

00:20:25.000 --> 00:20:27.100
But there are some queries
that will take longer.

00:20:27.100 --> 00:20:28.590
MICHAEL MANOOCHEHRI: BigQuery
generally returns results on

00:20:28.590 --> 00:20:29.570
the order of seconds.

00:20:29.570 --> 00:20:31.460
But if you have a lot of data
and you're running a very

00:20:31.460 --> 00:20:33.150
complex query, it's not going
to take 2 seconds.

00:20:33.150 --> 00:20:34.870
It might take 10 or 20,
something like that.

00:20:34.870 --> 00:20:36.340
IKAI LAN: And you don't want
to have to wait that every

00:20:36.340 --> 00:20:38.590
time you just want to make a
change to how the chart looks

00:20:38.590 --> 00:20:39.730
or which chart you
want to use.

00:20:39.730 --> 00:20:41.880
You want to be able to very
quickly get very fast

00:20:41.880 --> 00:20:43.410
turnaround.

00:20:43.410 --> 00:20:44.950
MICHAEL MANOOCHEHRI: So the
other thing I wanted to

00:20:44.950 --> 00:20:47.940
mention is, like I said earlier,
BigQuery is a premium

00:20:47.940 --> 00:20:49.950
product, but you get
a free quota.

00:20:49.950 --> 00:20:51.580
If you want to put your
own data in, you

00:20:51.580 --> 00:20:52.530
have to flip on billing.

00:20:52.530 --> 00:20:54.460
But we do have these public data
sets that you can test

00:20:54.460 --> 00:20:55.870
with and kind of get a
handle of what the

00:20:55.870 --> 00:20:56.840
data will look like.

00:20:56.840 --> 00:20:59.550
And the data sets kind of look
like some of the log data sets

00:20:59.550 --> 00:21:01.310
you mentioned that you
use on your own.

00:21:01.310 --> 00:21:03.970
But to get started, it's really
just a matter of going

00:21:03.970 --> 00:21:07.520
to the BigQuery website, signing
up, and then you're

00:21:07.520 --> 00:21:08.360
ready to go.

00:21:08.360 --> 00:21:08.870
IKAI LAN: Right.

00:21:08.870 --> 00:21:12.240
And once you get that going and
you have connected to Apps

00:21:12.240 --> 00:21:13.700
Script, you get all the
power of App Script.

00:21:13.700 --> 00:21:16.610
You get to use things like
Google Calendar.

00:21:16.610 --> 00:21:18.690
You could publish the results
to Google Doc.

00:21:18.690 --> 00:21:21.610
You can email the results out
every day as a nightly report.

00:21:21.610 --> 00:21:23.260
There's just a lot of things
that you could do.

00:21:23.260 --> 00:21:24.170
MICHAEL MANOOCHEHRI: Yeah,
actually, the Cron

00:21:24.170 --> 00:21:25.910
functionality with Apps Script
is really useful.

00:21:25.910 --> 00:21:26.420
IKAI LAN: Right, right.

00:21:26.420 --> 00:21:28.450
And Cron is--

00:21:28.450 --> 00:21:30.870
for those people not that used
to Unix, it's to schedule

00:21:30.870 --> 00:21:32.050
tasks and clock triggers.

00:21:32.050 --> 00:21:33.980
To use a clock trigger, you
would say something like,

00:21:33.980 --> 00:21:37.050
every night at 4:00
AM, do this.

00:21:37.050 --> 00:21:40.195
Do this BigQuery thing, generate
this chart, and email

00:21:40.195 --> 00:21:41.050
it out to people.

00:21:41.050 --> 00:21:41.540
MICHAEL MANOOCHEHRI:
That's true.

00:21:41.540 --> 00:21:43.700
A lot of people that are using
a spreadsheet functionality,

00:21:43.700 --> 00:21:44.570
they might be analysts.

00:21:44.570 --> 00:21:45.720
They might be making reports.

00:21:45.720 --> 00:21:47.850
But they're not people that
would write SQL or be able to

00:21:47.850 --> 00:21:49.040
kind of develop these kind
of applications.

00:21:49.040 --> 00:21:51.680
So using the scheduler task,
you can actually

00:21:51.680 --> 00:21:53.290
say, run this overnight.

00:21:53.290 --> 00:21:55.420
Get the results back, and their
report is ready to go.

00:21:55.420 --> 00:21:56.280
They can actually use it.

00:21:56.280 --> 00:21:57.900
They can paste it into
something else.

00:21:57.900 --> 00:21:59.400
They can, like you said,
email it to somebody,

00:21:59.400 --> 00:22:00.810
email it to the CEO.

00:22:00.810 --> 00:22:02.990
There's lots of cool stuff you
can do with very little code

00:22:02.990 --> 00:22:04.050
just by toggling this or that.

00:22:04.050 --> 00:22:05.180
IKAI LAN: I'm always
emailing the CEO.

00:22:05.180 --> 00:22:05.630
MICHAEL MANOOCHEHRI:
That's right.

00:22:05.630 --> 00:22:07.110
IKAI LAN: I'm like,
dear Larry.

00:22:07.110 --> 00:22:08.415
MICHAEL MANOOCHEHRI:
Dear Larry.

00:22:08.415 --> 00:22:10.950
IKAI LAN: Dear Larry.

00:22:10.950 --> 00:22:11.890
MICHAEL MANOOCHEHRI:
I've got an idea.

00:22:11.890 --> 00:22:14.700
IKAI LAN: I have an idea.

00:22:14.700 --> 00:22:17.240
So we're just about running
out of time.

00:22:17.240 --> 00:22:20.950
And before we finish this show,
I'd like to plug couple

00:22:20.950 --> 00:22:22.050
of things that you're doing.

00:22:22.050 --> 00:22:25.040
So why don't you tell us what
you and the team are up to?

00:22:25.040 --> 00:22:26.440
MICHAEL MANOOCHEHRI: So
tomorrow, I'm going to give a

00:22:26.440 --> 00:22:28.840
talk about BigQuery, along with
Jim Caputo, who's the

00:22:28.840 --> 00:22:30.210
engineering lead for BigQuery.

00:22:30.210 --> 00:22:30.950
We're going to be at the Strata

00:22:30.950 --> 00:22:32.160
Conference in the morning.

00:22:32.160 --> 00:22:33.400
We're going to give
a talk there.

00:22:33.400 --> 00:22:35.090
So generally check us
out if you're there.

00:22:35.090 --> 00:22:38.230
Also, our buddy Ilya Grigorik,
who's on the Chrome team, and

00:22:38.230 --> 00:22:40.700
another buddy of ours, Brian
from GitHub, are going to talk

00:22:40.700 --> 00:22:43.230
about how they use BigQuery
to analyze GitHub data,

00:22:43.230 --> 00:22:43.970
which is very cool.

00:22:43.970 --> 00:22:44.690
It's going to be very funny.

00:22:44.690 --> 00:22:46.560
So if you're at Strata, you
should check those out.

00:22:46.560 --> 00:22:48.900
My partner in crime, Ryan Boyd,
is going to be at New

00:22:48.900 --> 00:22:50.360
York GDG tonight.

00:22:50.360 --> 00:22:53.240
And we're going to go to Boston
on Thursday and hang

00:22:53.240 --> 00:22:55.750
out with the Boston GDG at
the upcoming hack/reduce

00:22:55.750 --> 00:22:56.350
Hackerspace.

00:22:56.350 --> 00:22:56.720
So that's going to be great.

00:22:56.720 --> 00:22:58.210
IKAI LAN: And I'm also going
to be at the GDG.

00:22:58.210 --> 00:22:58.660
But I don't have--

00:22:58.660 --> 00:22:59.070
MICHAEL MANOOCHEHRI:
That's right.

00:22:59.070 --> 00:23:01.705
IKAI LAN: I'm not adding
any value to that.

00:23:01.705 --> 00:23:04.115
I'm just in a completely
supporting role.

00:23:04.115 --> 00:23:05.670
MICHAEL MANOOCHEHRI: Ikai,
you're always adding value.

00:23:05.670 --> 00:23:07.376
IKAI LAN: No, that's not true.

00:23:07.376 --> 00:23:09.580
But if you're coming to GDG,
that's what you're going to

00:23:09.580 --> 00:23:09.920
hear about.

00:23:09.920 --> 00:23:11.750
You're going to hear some
more about BigQuery.

00:23:11.750 --> 00:23:14.110
And if you're in Boston,
definitely stop by-- what did

00:23:14.110 --> 00:23:14.370
you call it?

00:23:14.370 --> 00:23:14.890
Hack--

00:23:14.890 --> 00:23:16.690
MICHAEL MANOOCHEHRI: Yeah, it's
an upcoming Hackerspace.

00:23:16.690 --> 00:23:19.080
But they're actually hosting
the Boston GDG this week.

00:23:19.080 --> 00:23:19.420
IKAI LAN: Right.

00:23:19.420 --> 00:23:21.190
OK, so they're hosting
the Boston GDG.

00:23:21.190 --> 00:23:23.520
And Strata, I think that you
already have to have tickets

00:23:23.520 --> 00:23:24.260
to be able to attend that.

00:23:24.260 --> 00:23:24.500
MICHAEL MANOOCHEHRI:
That's right.

00:23:24.500 --> 00:23:25.950
If you're there, check it out.

00:23:25.950 --> 00:23:29.310
And otherwise, you'll catch us
at a GDG or catch us on GDL in

00:23:29.310 --> 00:23:30.350
the future.

00:23:30.350 --> 00:23:32.860
IKAI LAN: And of course, if
you've been watching this live

00:23:32.860 --> 00:23:36.120
show, we will be posting a
recording of this show online.

00:23:36.120 --> 00:23:38.900
So you'll be able to watch it
as many times you want.

00:23:38.900 --> 00:23:39.380
MICHAEL MANOOCHEHRI:
Definitely.

00:23:39.380 --> 00:23:41.370
I'm sure you're going
to want to.

00:23:41.370 --> 00:23:42.180
IKAI LAN: People will.

00:23:42.180 --> 00:23:42.820
People will.

00:23:42.820 --> 00:23:43.950
People will.

00:23:43.950 --> 00:23:45.780
So thank you guys
very much again.

00:23:45.780 --> 00:23:48.700
I want to thank Michael
Manoochehri for coming out and

00:23:48.700 --> 00:23:48.980
joining us today.

00:23:48.980 --> 00:23:49.680
MICHAEL MANOOCHEHRI: Thanks
for having me, Ikai.

00:23:49.680 --> 00:23:50.190
IKAI LAN: No problem.

00:23:50.190 --> 00:23:50.880
Thank you for coming out.

00:23:50.880 --> 00:23:52.080
Come and join us any time.

00:23:52.080 --> 00:23:52.390
MICHAEL MANOOCHEHRI: Cool.

00:23:52.390 --> 00:23:52.660
Sounds great.

00:23:52.660 --> 00:23:53.270
IKAI LAN: Any time.

00:23:53.270 --> 00:23:54.770
Any time you're in New York,
we'll have a desk for you.

00:23:54.770 --> 00:23:55.060
MICHAEL MANOOCHEHRI: Awesome.

00:23:55.060 --> 00:23:56.600
Thank you.

00:23:56.600 --> 00:23:58.100
IKAI LAN: Thank you
guys for watching.

00:23:58.100 --> 00:24:00.840
And we'll see you guys
on Thursday.

00:24:00.840 --> 00:24:02.090
[MUSIC PLAYING]

