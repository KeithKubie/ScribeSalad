WEBVTT
Kind: captions
Language: en

00:00:01.455 --> 00:00:11.155
[MUSIC PLAYING]

00:00:11.155 --> 00:00:14.540
MALE SPEAKER 1: Shanghai GDG
is a very interesting

00:00:14.540 --> 00:00:15.215
developer community.

00:00:15.215 --> 00:00:16.490
FEMALE SPEAKER 1: I'm
glad somebody

00:00:16.490 --> 00:00:17.370
has asked this question.

00:00:17.370 --> 00:00:18.860
MALE SPEAKER 2: This is where
the magic happens.

00:00:18.860 --> 00:00:20.340
FEMALE SPEAKER 2: It's primarily
a question and

00:00:20.340 --> 00:00:20.620
answer show.

00:00:20.620 --> 00:00:22.980
So if any of you out there would
like to ask questions.

00:00:28.601 --> 00:00:30.040
PAUL SAXMAN: Hello, everybody.

00:00:30.040 --> 00:00:34.580
Welcome to this week's Google
Maps Developers Live, formerly

00:00:34.580 --> 00:00:35.750
Google Maps Office Hours.

00:00:35.750 --> 00:00:38.740
With me this week, we have a
couple of members from the

00:00:38.740 --> 00:00:40.930
google.org Crisis
Response Team--

00:00:40.930 --> 00:00:45.880
Pete Giencke and Ka-Ping Yee.

00:00:45.880 --> 00:00:48.880
Do you guys want to introduce
yourselves and say what you

00:00:48.880 --> 00:00:52.995
work on here at Google,
or with google.org?

00:00:52.995 --> 00:00:53.670
KA-PING YEE: Sure.

00:00:53.670 --> 00:00:54.875
My name is Ping.

00:00:54.875 --> 00:00:58.450
I'm a software engineer at
Google Crisis Response.

00:00:58.450 --> 00:01:01.410
And I'm the tech lead of the
Person Finder Project and the

00:01:01.410 --> 00:01:02.850
Crisis Map Project, which you're
going to see a little

00:01:02.850 --> 00:01:03.745
bit about today.

00:01:03.745 --> 00:01:06.700
PETE GIENCKE: And I'm Pete
Giencke, as Paul mentioned, a

00:01:06.700 --> 00:01:10.130
GIS data engineer, and I support
the Crisis Map Project

00:01:10.130 --> 00:01:13.000
and several other geo
efforts to get data

00:01:13.000 --> 00:01:14.550
into Map and Earth.

00:01:14.550 --> 00:01:15.350
PAUL SAXMAN: Awesome.

00:01:15.350 --> 00:01:18.340
So, with that, why don't we
just dive into the demo.

00:01:18.340 --> 00:01:20.310
So you guys got some pretty
interesting stuff to show us

00:01:20.310 --> 00:01:25.630
today, things like Crisis
Maps, the People Finder,

00:01:25.630 --> 00:01:28.340
Person Finder, and
let's see it.

00:01:28.340 --> 00:01:28.880
PETE GIENCKE: Sure.

00:01:28.880 --> 00:01:30.570
We'll see how much time we have,
but we'll do as many

00:01:30.570 --> 00:01:32.170
demos as we can.

00:01:32.170 --> 00:01:35.370
OK, So as I mentioned, I'm
Pete and this is Ping.

00:01:35.370 --> 00:01:37.850
So we want to spend about 15
minutes today just providing a

00:01:37.850 --> 00:01:41.220
high-level overview of Crisis
Map and offering some

00:01:41.220 --> 00:01:43.340
technical detail
along the way.

00:01:43.340 --> 00:01:45.500
So before getting started, it's
worth mentioning that a

00:01:45.500 --> 00:01:48.190
majority of what's been
developed and what we'll be

00:01:48.190 --> 00:01:51.480
demoing today is based on the
same tools on APIs that are

00:01:51.480 --> 00:01:53.830
available to external
developers.

00:01:53.830 --> 00:01:56.480
So a big goal of this project
is to open source as much of

00:01:56.480 --> 00:01:57.990
the code as we can.

00:01:57.990 --> 00:01:59.390
And the number of--

00:01:59.390 --> 00:02:03.160
maximizing the amount of
external tools we're using and

00:02:03.160 --> 00:02:06.000
minimizing the internal tools
just means that it's going to

00:02:06.000 --> 00:02:10.509
be a lot easier when it's time
to push that code out.

00:02:10.509 --> 00:02:13.920
So why don't I talk real quickly
about the Crisis

00:02:13.920 --> 00:02:15.150
Response Team.

00:02:15.150 --> 00:02:19.120
So the Crisis Response Team was
formed in January of 2011

00:02:19.120 --> 00:02:22.940
after the Haiti earthquake,
just as a way to better

00:02:22.940 --> 00:02:29.050
organize the Google and
community resources in

00:02:29.050 --> 00:02:32.260
response to an event, really
making critical information

00:02:32.260 --> 00:02:35.450
more accessible in times
of disaster.

00:02:35.450 --> 00:02:38.080
Crisis Map, that we're talking
about today, is the

00:02:38.080 --> 00:02:41.460
application that our team uses
to mash up crisis-related

00:02:41.460 --> 00:02:44.410
data, such as evacuation routes,
flood zones, and

00:02:44.410 --> 00:02:46.600
disaster-related imagery.

00:02:46.600 --> 00:02:50.770
The goal for us is to take
crisis-related geo data that

00:02:50.770 --> 00:02:55.180
traditionally has required
special software and expertise

00:02:55.180 --> 00:02:56.840
to be able to view.

00:02:56.840 --> 00:03:01.160
It takes data that also lives
scattered across the web in

00:03:01.160 --> 00:03:04.450
many different formats and just
makes them available to

00:03:04.450 --> 00:03:08.070
all users without any kind of
special software, so really

00:03:08.070 --> 00:03:12.510
just making critical disaster
geo data more available.

00:03:12.510 --> 00:03:14.910
So when we combine these layers
on a map, different

00:03:14.910 --> 00:03:17.060
organizations that don't
normally communicate with one

00:03:17.060 --> 00:03:20.990
another are able to see their
map data in context with the

00:03:20.990 --> 00:03:22.370
different layers.

00:03:22.370 --> 00:03:25.750
So we're going to go over to a
quick demo here that Ping is

00:03:25.750 --> 00:03:28.670
going to display.

00:03:28.670 --> 00:03:31.380
Since we launched for Hurricane
Irene in 2011, we've

00:03:31.380 --> 00:03:34.960
responded to many different
disasters, most recently

00:03:34.960 --> 00:03:36.050
Hurricane Isaac.

00:03:36.050 --> 00:03:38.970
So what we're seeing here is
our Hurricane Isaac map.

00:03:38.970 --> 00:03:42.110
Isaac hit New Orleans as a
Category 1 storm on the

00:03:42.110 --> 00:03:45.080
seventh anniversary, just about
the seventh anniversary

00:03:45.080 --> 00:03:47.080
of Hurricane Katrina.

00:03:47.080 --> 00:03:50.190
And it caused an estimated $2
billion worth of damage.

00:03:50.190 --> 00:03:52.840
With hurricanes, we have a
little bit of a lead time.

00:03:52.840 --> 00:03:55.290
So in this case, we were able
to work with the states of

00:03:55.290 --> 00:03:58.160
Florida and Mississippi, the
Red Cross, NOAA, and other

00:03:58.160 --> 00:04:00.870
organizations with really
relevant crisis-related data

00:04:00.870 --> 00:04:05.390
and prepared this Hurricane
Isaac crisis map, preparedness

00:04:05.390 --> 00:04:06.750
map, really.

00:04:06.750 --> 00:04:10.015
So what Ping is demoing here,
we have shelters.

00:04:12.920 --> 00:04:14.540
We have many different
layers, so he'll

00:04:14.540 --> 00:04:16.360
pop a placemark there.

00:04:16.360 --> 00:04:17.630
This is coming from
the Red Cross.

00:04:17.630 --> 00:04:18.709
It's a Fusion Table layer.

00:04:18.709 --> 00:04:21.690
It provides nationwide active
and open shelters

00:04:21.690 --> 00:04:23.340
and number of beds.

00:04:23.340 --> 00:04:26.310
We also have things like
evacuation routes

00:04:26.310 --> 00:04:27.680
that are on the map.

00:04:27.680 --> 00:04:29.300
So we have--

00:04:29.300 --> 00:04:31.080
from FEMA, it's a
Fusion Table.

00:04:31.080 --> 00:04:34.360
It's all of the evacuation
routes for the coastal states

00:04:34.360 --> 00:04:37.670
likely to be impacted
by a tropical storm.

00:04:37.670 --> 00:04:39.860
We also have, coming from
the Google Maps

00:04:39.860 --> 00:04:41.930
API, current traffic.

00:04:41.930 --> 00:04:44.210
So this is what I mean by
providing crisis-related data

00:04:44.210 --> 00:04:45.730
in context.

00:04:45.730 --> 00:04:48.560
And if you turn on the
evacuation routes PDF here,

00:04:48.560 --> 00:04:51.580
too, so this is providing more
local level data from the

00:04:51.580 --> 00:04:53.260
Mississippi DOT.

00:04:53.260 --> 00:04:59.430
So really, if you're a user,
your city, your town, your

00:04:59.430 --> 00:05:01.610
apartment has been evacuated and
you're looking to get out

00:05:01.610 --> 00:05:05.230
of the city in advance of Isaac,
we want to provide that

00:05:05.230 --> 00:05:07.260
information in context so
that you can provide--

00:05:07.260 --> 00:05:09.210
so you have enough information
to make an

00:05:09.210 --> 00:05:10.810
informed decision here.

00:05:10.810 --> 00:05:13.530
Maybe you see that one
evacuation route has a lot

00:05:13.530 --> 00:05:15.870
more traffic than another.

00:05:15.870 --> 00:05:18.510
Maybe you take the less traffic
way out of the city.

00:05:18.510 --> 00:05:20.620
So this is just really kind of
taking information that lives

00:05:20.620 --> 00:05:23.360
separately on the web, combining
an evaluated way so

00:05:23.360 --> 00:05:25.940
that people can really make
better decisions.

00:05:25.940 --> 00:05:28.560
PAUL SAXMAN: And Pete, is that
kind of why you chose Fusion

00:05:28.560 --> 00:05:31.560
Tables as a back-end
system for--

00:05:31.560 --> 00:05:33.980
PETE GIENCKE: So, yeah.

00:05:33.980 --> 00:05:36.330
As part of our Crisis Map,
we're able to accept many

00:05:36.330 --> 00:05:38.650
different formats.

00:05:38.650 --> 00:05:42.400
Many of those come directly
from the Maps API, so it's

00:05:42.400 --> 00:05:44.390
built-in support, so KML.

00:05:44.390 --> 00:05:49.720
Fusion Tables is one of those,
GEOSS, Google Map Tiles.

00:05:49.720 --> 00:05:52.480
And then all of the built-in
Maps API layer types that we

00:05:52.480 --> 00:05:56.940
find really useful, especially
for crisis response.

00:05:56.940 --> 00:05:59.290
And as you see Ping turning on
and off layers, it's worth

00:05:59.290 --> 00:06:01.740
mentioning that much of the
application's overall

00:06:01.740 --> 00:06:04.870
functionality is built atop
Google Maps API here.

00:06:04.870 --> 00:06:09.420
So hiding and showing layers
is just built into

00:06:09.420 --> 00:06:12.735
the Google Maps API.

00:06:12.735 --> 00:06:16.450
OK, so one of the questions that
we get asked is how do

00:06:16.450 --> 00:06:18.480
you find data for the web,
or how do you find

00:06:18.480 --> 00:06:19.220
data for the map?

00:06:19.220 --> 00:06:21.120
What does good data look like?

00:06:21.120 --> 00:06:24.880
Really, what is the life of a
crisis layer on the map here?

00:06:24.880 --> 00:06:28.050
So we thought that we would do
a quick demo just to show how

00:06:28.050 --> 00:06:31.060
we find-- how the Crisis
Response Team finds

00:06:31.060 --> 00:06:34.480
information, map data
for the map.

00:06:34.480 --> 00:06:37.410
So we're going to jump
over to the NOAA

00:06:37.410 --> 00:06:38.730
National Hurricane Center.

00:06:38.730 --> 00:06:40.630
So NHC, they provide--

00:06:40.630 --> 00:06:42.660
they're the authoritative
source of tropical storm

00:06:42.660 --> 00:06:44.250
information for the US.

00:06:44.250 --> 00:06:46.270
We're looking at the
website now.

00:06:46.270 --> 00:06:49.090
You can see that there's one
tropical storm, Nadine.

00:06:49.090 --> 00:06:51.950
For us, for the map geeks of the
world, we're looking for

00:06:51.950 --> 00:06:53.130
kind of a data link.

00:06:53.130 --> 00:06:55.510
So we're looking where we
can actually find data.

00:06:55.510 --> 00:06:56.860
And they have a--

00:06:56.860 --> 00:07:00.400
I believe it's GIS data sets, so
you click on that, and they

00:07:00.400 --> 00:07:03.490
provide a slew of different data
that you're able to use

00:07:03.490 --> 00:07:04.820
and play with.

00:07:04.820 --> 00:07:08.460
So in our case, KML is
a format that we

00:07:08.460 --> 00:07:09.170
really, really like.

00:07:09.170 --> 00:07:10.300
It's an open standard.

00:07:10.300 --> 00:07:11.205
It's owned by the community.

00:07:11.205 --> 00:07:14.680
It's supported by a number of
Google products as well as

00:07:14.680 --> 00:07:16.320
third-party applications.

00:07:16.320 --> 00:07:19.350
It's based on XML.

00:07:19.350 --> 00:07:23.610
So you can see here, there's
just a version of KML.

00:07:23.610 --> 00:07:25.676
It's just XML, like I said.

00:07:25.676 --> 00:07:30.070
It includes all of the styling
information, and importantly,

00:07:30.070 --> 00:07:32.750
it plays really nicely
with Google Maps.

00:07:32.750 --> 00:07:35.600
So what we do, we see that a
provider has a KML link.

00:07:35.600 --> 00:07:38.180
It's one of the formats that
we support on Crisis Map.

00:07:38.180 --> 00:07:39.860
We copy that link.

00:07:39.860 --> 00:07:42.210
Crisis Map points at
third-party layers.

00:07:42.210 --> 00:07:44.200
We do no data hosting.

00:07:44.200 --> 00:07:47.190
And what we do, then, is to kind
of validate that the data

00:07:47.190 --> 00:07:47.990
looks good.

00:07:47.990 --> 00:07:52.280
We just paste that URL directly
into Google Maps, and

00:07:52.280 --> 00:07:54.320
Google Maps will do the
rendering for us.

00:07:54.320 --> 00:07:57.950
It'll show you what the KML
looks like via Maps.

00:07:57.950 --> 00:08:01.630
If you pull it in via the Maps
API with KML layer, this is

00:08:01.630 --> 00:08:02.520
exactly what you'll see.

00:08:02.520 --> 00:08:04.780
So in this case, the
data looks good.

00:08:04.780 --> 00:08:08.520
We see that, thankfully,
it's not on

00:08:08.520 --> 00:08:10.520
course to make landfall.

00:08:10.520 --> 00:08:11.920
And it's a relatively
weak storm.

00:08:11.920 --> 00:08:12.440
So that's good.

00:08:12.440 --> 00:08:16.080
So this is something that we
would add to a Crisis Map if

00:08:16.080 --> 00:08:18.270
we were doing a Nadine
Crisis Map.

00:08:18.270 --> 00:08:20.420
So Ping here has added
it to the map.

00:08:20.420 --> 00:08:23.060
And you can see this is what,
indeed, it looks like.

00:08:23.060 --> 00:08:27.480
So we have the link there.

00:08:27.480 --> 00:08:29.260
The other thing that we do--

00:08:29.260 --> 00:08:30.265
for people that--

00:08:30.265 --> 00:08:32.390
we provide this for people that
want to look at the data

00:08:32.390 --> 00:08:33.110
on a Crisis Map.

00:08:33.110 --> 00:08:36.419
But for people that want to
actually bring it into their

00:08:36.419 --> 00:08:39.080
own application or create their
own mashup, we provide

00:08:39.080 --> 00:08:40.820
links to the source
data as well.

00:08:40.820 --> 00:08:43.110
So you can see there that we
have the download KML link,

00:08:43.110 --> 00:08:46.190
and this also works with
GEOSS layers as well.

00:08:46.190 --> 00:08:48.330
These ones, it's really easy to
kind of mash up, so we do

00:08:48.330 --> 00:08:49.540
try to provide--

00:08:49.540 --> 00:08:52.740
improve the discoverability
of the raw data for that.

00:08:52.740 --> 00:08:54.430
PAUL SAXMAN: So, quick
question about that.

00:08:54.430 --> 00:08:57.870
If a developer wanted to do
their own mashup with a Crisis

00:08:57.870 --> 00:09:00.870
Map and that type of
information, would you

00:09:00.870 --> 00:09:04.300
recommend they actually embed
your map in their website, or

00:09:04.300 --> 00:09:06.610
actually just pull the data out
and kind of build their

00:09:06.610 --> 00:09:08.145
own map around it?

00:09:08.145 --> 00:09:11.510
PETE GIENCKE: Yeah, so you
have many options.

00:09:11.510 --> 00:09:13.780
So one of the things that we
provide, we have share

00:09:13.780 --> 00:09:14.740
functionality.

00:09:14.740 --> 00:09:17.400
So if you want to just take the
layers that we have and

00:09:17.400 --> 00:09:20.530
provide your own kind of view
of that, we do spatial

00:09:20.530 --> 00:09:22.740
bookmarking, we affectionately
call it.

00:09:22.740 --> 00:09:26.110
So your view port and all the
layers that you have enabled,

00:09:26.110 --> 00:09:29.240
once you click share, those
are saved in the URL.

00:09:29.240 --> 00:09:31.837
So you can pass that around
with Google+, Twitter, or

00:09:31.837 --> 00:09:33.470
Facebook, or you could
actually--

00:09:33.470 --> 00:09:35.080
we provide the iframe
code, too.

00:09:35.080 --> 00:09:36.670
So if you want to actually
just embed that in your

00:09:36.670 --> 00:09:37.660
website, you can do that.

00:09:37.660 --> 00:09:39.640
If you want to do your own
mashup, we definitely

00:09:39.640 --> 00:09:40.160
encourage that.

00:09:40.160 --> 00:09:40.870
We're developers.

00:09:40.870 --> 00:09:45.780
We love to see different
people's takes on web mapping.

00:09:45.780 --> 00:09:50.130
So we have KML and GEOSS links
there, so we encourage people

00:09:50.130 --> 00:09:51.910
to do that as well
if they want to

00:09:51.910 --> 00:09:53.770
customize what we have.

00:09:53.770 --> 00:09:56.690
Because we're using open
standards, it means that you

00:09:56.690 --> 00:09:58.270
can use open layers if
you want to do that.

00:09:58.270 --> 00:10:01.610
Or we prefer Google Maps, but
there's other options as well.

00:10:01.610 --> 00:10:04.420
And the one thing that I should
re-mention is that we

00:10:04.420 --> 00:10:05.900
are looking to open source
this, too, so if there's

00:10:05.900 --> 00:10:09.010
things that maybe you want to
customize this in some way,

00:10:09.010 --> 00:10:14.090
just stay tuned and we should
be able to give you some new

00:10:14.090 --> 00:10:15.666
hotness to play around with.

00:10:15.666 --> 00:10:17.330
PAUL SAXMAN: Awesome.

00:10:17.330 --> 00:10:19.620
PETE GIENCKE: OK, so I mentioned
KML is one of the

00:10:19.620 --> 00:10:21.750
layers that we talked about.

00:10:21.750 --> 00:10:24.910
Another life of a layer
is a Google Map tile.

00:10:24.910 --> 00:10:27.510
So Google Map tiles
basically--

00:10:27.510 --> 00:10:30.970
a Google Map tile is like when
you first load Google Maps,

00:10:30.970 --> 00:10:32.750
and you see the road data
or the satellite,

00:10:32.750 --> 00:10:34.150
those are all map tiles.

00:10:34.150 --> 00:10:36.850
Google Maps allows you to
override the default map tiles

00:10:36.850 --> 00:10:39.030
with your custom map tiles.

00:10:39.030 --> 00:10:41.950
And that's a format that we
support with Crisis Maps.

00:10:41.950 --> 00:10:44.740
So what we're looking
at now is the--

00:10:44.740 --> 00:10:48.320
so NOAA flew a bunch of imagery
right after Hurricane

00:10:48.320 --> 00:10:51.080
Isaac hit New Orleans.

00:10:51.080 --> 00:10:54.050
They're making those data
available via their own

00:10:54.050 --> 00:10:57.250
website, which is great, to have
some cool functionality.

00:10:57.250 --> 00:10:58.470
You can download the raw data.

00:10:58.470 --> 00:11:00.430
You can toggle the
transparency.

00:11:00.430 --> 00:11:02.390
With Crisis Map, we think
there's a lot of value in kind

00:11:02.390 --> 00:11:05.100
of mashing this up with other
different data sets.

00:11:05.100 --> 00:11:06.980
So one of the things
that we did here--

00:11:06.980 --> 00:11:09.750
because they're producing map
tiles, we're just able to

00:11:09.750 --> 00:11:15.550
point at their data using
the map tile format.

00:11:15.550 --> 00:11:18.000
So I think we have an
example of that.

00:11:18.000 --> 00:11:19.620
So that's what a map
tile looks like.

00:11:19.620 --> 00:11:24.660
It's basically the URL, and
Google Maps replaces the X, Y,

00:11:24.660 --> 00:11:31.150
and Z with the location on the
map that those tiles reside.

00:11:31.150 --> 00:11:32.550
And so we have an
example of that.

00:11:32.550 --> 00:11:34.200
This is just the Mercator
scheme.

00:11:34.200 --> 00:11:37.270
And then you can see that
they're organized into 16

00:11:37.270 --> 00:11:41.200
tiles, and those increase as
you zoom into the math.

00:11:41.200 --> 00:11:43.150
So map tiles are-- these
work really well.

00:11:43.150 --> 00:11:45.890
Map tiles work great for
imagery, whereas, let's say

00:11:45.890 --> 00:11:48.700
you have maybe a 2-gigabyte
image, you can break that into

00:11:48.700 --> 00:11:52.250
bite-size pieces, into smaller
JPEGs and PNGs.

00:11:52.250 --> 00:11:55.840
Also, for vector data, if you
have a very large data set and

00:11:55.840 --> 00:11:57.970
you don't want to render that
as vector, you can turn that

00:11:57.970 --> 00:12:00.510
into a raster and then
slice and dice that.

00:12:00.510 --> 00:12:03.100
And there's many good tools
for doing that, many open

00:12:03.100 --> 00:12:03.990
source tools.

00:12:03.990 --> 00:12:08.180
I believe maptiler.org is one
that you can check out if you

00:12:08.180 --> 00:12:09.870
want to create your
own map tiles.

00:12:09.870 --> 00:12:12.830
PAUL SAXMAN: So tiling's kind
of an art and a science.

00:12:12.830 --> 00:12:15.100
What tools do you guys
use specifically?

00:12:15.100 --> 00:12:18.006
Is it something that external
developers--

00:12:18.006 --> 00:12:20.705
PETE GIENCKE: So we love open
source tools, so maptiler.org,

00:12:20.705 --> 00:12:22.080
I believe, is one of them.

00:12:22.080 --> 00:12:25.410
There is an open source tool
that lots and lots of people

00:12:25.410 --> 00:12:26.590
in the GIS world use.

00:12:26.590 --> 00:12:30.580
It's called GDAL, G-D-A-L, and
there's something called

00:12:30.580 --> 00:12:31.690
GDAL2tiles.

00:12:31.690 --> 00:12:35.710
So that's part of the
GDAL package.

00:12:35.710 --> 00:12:38.010
So people can just download
that, and then they can create

00:12:38.010 --> 00:12:41.490
their own tiles that work
with Google Maps.

00:12:41.490 --> 00:12:45.070
So it is kind of an art, but
there's high returns in terms

00:12:45.070 --> 00:12:48.445
of being able to visualize
really complex data sets on a

00:12:48.445 --> 00:12:51.630
web map once you're
able to do that.

00:12:51.630 --> 00:12:55.690
So because the value of a map
really has a lot to do with

00:12:55.690 --> 00:12:58.220
the underlying data and that
knowing that good data comes

00:12:58.220 --> 00:13:03.570
in many different formats, we
try to support as many of

00:13:03.570 --> 00:13:06.360
these kind of geo formats
as we can.

00:13:06.360 --> 00:13:08.470
Maps API provides a lot of
these for free, like I

00:13:08.470 --> 00:13:14.000
mentioned, so Fusion Tables,
KML, KMZ, GEOSS.

00:13:14.000 --> 00:13:15.600
One of the things that we're
looking at is supporting

00:13:15.600 --> 00:13:18.700
additional formats for the map,
especially some of the

00:13:18.700 --> 00:13:23.920
more traditional GIS layers and
data sets, including PDF.

00:13:23.920 --> 00:13:27.440
And we're looking at doing that
building on top of Google

00:13:27.440 --> 00:13:28.540
App Engine.

00:13:28.540 --> 00:13:31.380
So App Engine scales
extremely well.

00:13:31.380 --> 00:13:33.690
We can serve lots and lots of
traffic and sleep well at

00:13:33.690 --> 00:13:37.170
night knowing that we don't
have to manually tweak the

00:13:37.170 --> 00:13:39.320
application just to make
sure it stays up.

00:13:39.320 --> 00:13:42.820
This is an example here
where we're serving--

00:13:42.820 --> 00:13:44.950
we have the imagery
coming to us.

00:13:44.950 --> 00:13:49.020
We also have the PDF, if you
wanna maybe zoom into that.

00:13:53.210 --> 00:13:53.750
Where is it?

00:13:53.750 --> 00:13:53.950
KA-PING YEE: This one?

00:13:53.950 --> 00:13:54.960
PETE GIENCKE: Yeah.

00:13:54.960 --> 00:13:55.890
So this is the case here.

00:13:55.890 --> 00:13:58.880
So we have the Mississippi
evacuation route.

00:13:58.880 --> 00:14:02.770
We're playing about with
converting PDF into map tiles.

00:14:02.770 --> 00:14:03.270
[AUDIO LOST]

00:14:03.270 --> 00:14:07.200
the ability to kind of toggle
the transparency of that.

00:14:07.200 --> 00:14:08.670
And this is especially
relevant where

00:14:08.670 --> 00:14:10.170
you're dealing with--

00:14:10.170 --> 00:14:12.290
for map tiles, where
you're dealing with

00:14:12.290 --> 00:14:13.310
before and after imagery.

00:14:13.310 --> 00:14:15.580
So you can turn on the
satellite and do the

00:14:15.580 --> 00:14:18.020
comparison.

00:14:18.020 --> 00:14:21.610
So we mentioned that this
application is really about

00:14:21.610 --> 00:14:23.930
improving the discoverability
and accessibility of

00:14:23.930 --> 00:14:26.760
crisis-related geo
data on the web.

00:14:26.760 --> 00:14:30.100
And a lot of this has to do not
just with the data, but

00:14:30.100 --> 00:14:32.740
with the presentation and
supporting many different

00:14:32.740 --> 00:14:34.490
browsers and devices.

00:14:34.490 --> 00:14:38.360
We've made a conscious decision
to really provide

00:14:38.360 --> 00:14:40.830
only one version
of Crisis Map.

00:14:40.830 --> 00:14:43.540
So there's not a separate
desktop and mobile version of

00:14:43.540 --> 00:14:45.170
Crisis Map.

00:14:45.170 --> 00:14:48.510
And that means that we're really
focusing on improving

00:14:48.510 --> 00:14:49.780
the scalability of the map.

00:14:49.780 --> 00:14:52.820
So what Ping has here, and we'll
show you, that the UI

00:14:52.820 --> 00:14:55.330
elements on the map dynamically
resize themselves

00:14:55.330 --> 00:14:57.330
based on the available
real estate.

00:14:57.330 --> 00:14:59.070
So as we get closer and closer,
you'll see that the

00:14:59.070 --> 00:15:01.470
search bar there kind
of disappeared.

00:15:01.470 --> 00:15:04.610
As we get even closer, as the
screen real estate becomes

00:15:04.610 --> 00:15:07.450
less and less, you'll see here
that the Layers panel is

00:15:07.450 --> 00:15:10.210
actually like tucked
into button form.

00:15:10.210 --> 00:15:13.330
So this would be kind of
representative of a tablet or

00:15:13.330 --> 00:15:15.910
of a phone that has a
higher resolution.

00:15:15.910 --> 00:15:19.520
And the beauty of this is that
we're able to make the same

00:15:19.520 --> 00:15:23.650
kind of map data available on
a desktop as we are on a

00:15:23.650 --> 00:15:25.410
mobile device.

00:15:25.410 --> 00:15:28.170
One of the interesting data
points that we have, for

00:15:28.170 --> 00:15:34.310
Hurricane Isaac, we saw over 20%
of access of Crisis Map on

00:15:34.310 --> 00:15:36.970
these mobile devices,
not desktops.

00:15:36.970 --> 00:15:39.435
And really, this reflects the
larger kind of macrotrend of

00:15:39.435 --> 00:15:40.940
people moving away
from the desktop

00:15:40.940 --> 00:15:43.560
onto tablets and phones.

00:15:43.560 --> 00:15:46.540
But for crisis response
especially, where people are

00:15:46.540 --> 00:15:49.500
being evacuated, they don't
necessarily take their desktop

00:15:49.500 --> 00:15:50.290
or laptop with them.

00:15:50.290 --> 00:15:52.290
They're looking for information

00:15:52.290 --> 00:15:53.590
away from their homes.

00:15:53.590 --> 00:15:57.570
So for us, it was a really
no-brainer decision to make

00:15:57.570 --> 00:16:01.850
sure that mobile support was
a core functionality of the

00:16:01.850 --> 00:16:02.895
product here.

00:16:02.895 --> 00:16:05.500
PAUL SAXMAN: Did you guys see
any kind of trade-offs using

00:16:05.500 --> 00:16:10.090
the Maps JS API versus, let's
say, the native Android

00:16:10.090 --> 00:16:13.410
MapView first for building
the mobile application?

00:16:13.410 --> 00:16:15.730
Or did you guys look at the
MapView, Android MapView

00:16:15.730 --> 00:16:17.850
itself for--

00:16:17.850 --> 00:16:19.510
KA-PING YEE: As Pete was
mentioning, we made the

00:16:19.510 --> 00:16:22.480
conscious decision to build
this one app so that as we

00:16:22.480 --> 00:16:25.060
added features to it, as we
continue to developing it, all

00:16:25.060 --> 00:16:26.900
the features that we developed
would be available both on

00:16:26.900 --> 00:16:28.730
desktop and mobile
at the same time.

00:16:28.730 --> 00:16:30.870
So it's actually just
the same app.

00:16:30.870 --> 00:16:32.840
And when it opens in mobile,
it's opening in a browser.

00:16:32.840 --> 00:16:33.490
PAUL SAXMAN: Cool.

00:16:33.490 --> 00:16:35.190
So performance-wise,
though, everything

00:16:35.190 --> 00:16:36.460
seems to work fairly--

00:16:36.460 --> 00:16:37.212
KA-PING YEE: Yeah.

00:16:37.212 --> 00:16:39.900
The V3 of the Maps API did
a lot of performance

00:16:39.900 --> 00:16:41.870
enhancements specifically to
make it work well on mobile

00:16:41.870 --> 00:16:42.350
and tablets.

00:16:42.350 --> 00:16:45.464
And that's really
paid off for us.

00:16:45.464 --> 00:16:49.200
PETE GIENCKE: OK, so I mentioned
the mobile support.

00:16:49.200 --> 00:16:52.840
A big part of that is the
functionality, but another

00:16:52.840 --> 00:16:56.400
part is the performance of
the application itself.

00:16:56.400 --> 00:16:59.490
So if you're serving your
application out to phones that

00:16:59.490 --> 00:17:02.950
don't have the same kind of I7
processor as your desktop

00:17:02.950 --> 00:17:05.900
does, it means that you have to
pay a lot of attention to

00:17:05.900 --> 00:17:08.069
performance and making sure
that the application just

00:17:08.069 --> 00:17:09.520
performs really well.

00:17:09.520 --> 00:17:14.710
So, for us, we used the Closure
JavaScript framework

00:17:14.710 --> 00:17:17.660
to organize the code, but it
also allows us to optimize and

00:17:17.660 --> 00:17:20.990
kind of shrink the code so it
downloads fast and runs fast.

00:17:20.990 --> 00:17:23.290
An interesting kind of step
that we have is that our

00:17:23.290 --> 00:17:27.270
JavaScript code is about 1.8
megabytes in size so all of

00:17:27.270 --> 00:17:29.810
the code that we have
uncompressed.

00:17:29.810 --> 00:17:33.480
And that's clearly too big to
send to a mobile device.

00:17:33.480 --> 00:17:37.300
Using the Closure Compiler, we
were able to get that down by

00:17:37.300 --> 00:17:40.580
over a factor of 10
to 160 kilobytes.

00:17:40.580 --> 00:17:42.890
So that's a much smaller.

00:17:42.890 --> 00:17:44.450
And then, we're using--

00:17:44.450 --> 00:17:48.010
Closure provides the GDAL
module, which is basically a

00:17:48.010 --> 00:17:51.110
dynamic loading mechanism, which
allows us to load only

00:17:51.110 --> 00:17:52.440
what we need first.

00:17:52.440 --> 00:17:55.220
And that takes the initial
JavaScript download size down

00:17:55.220 --> 00:17:57.330
to about 45 kilobytes.

00:17:57.330 --> 00:18:00.460
So for a mobile device, like
just imagine sending that 1.8

00:18:00.460 --> 00:18:03.900
chunk of JavaScript versus
sending the 45 kilobytes just

00:18:03.900 --> 00:18:05.980
to get the application loading
and getting the

00:18:05.980 --> 00:18:08.360
data into the app.

00:18:11.590 --> 00:18:14.780
Another thing that we should
mention is that we release

00:18:14.780 --> 00:18:16.090
every two weeks.

00:18:16.090 --> 00:18:19.280
And we want to make
that even--

00:18:19.280 --> 00:18:21.060
improve the velocity
even more so we

00:18:21.060 --> 00:18:24.240
release in shorter intervals.

00:18:24.240 --> 00:18:26.210
And for that, we really need
automated tasks, and that

00:18:26.210 --> 00:18:29.400
really also speaks to the
cross browser and mobile

00:18:29.400 --> 00:18:31.560
support, like making sure we
don't have breakages and that

00:18:31.560 --> 00:18:36.370
we're supporting the slew of
ways of accessing Crisis Map.

00:18:36.370 --> 00:18:39.090
So we run our tests using
Google JS Test.

00:18:39.090 --> 00:18:40.630
It's an open source project.

00:18:40.630 --> 00:18:44.370
It runs in pure V8, which means
that the tests run fast.

00:18:44.370 --> 00:18:45.660
And that's in italics--

00:18:45.660 --> 00:18:47.040
fast.

00:18:47.040 --> 00:18:50.740
There's no DOM included
with JS Test.

00:18:50.740 --> 00:18:52.570
So we have to write
fakes for the DOM

00:18:52.570 --> 00:18:54.050
documents and elements.

00:18:54.050 --> 00:18:57.640
But the trade-off means that
we have 330 unit tasks that

00:18:57.640 --> 00:18:59.400
run in under 5 seconds.

00:18:59.400 --> 00:19:00.950
So we're testing.

00:19:00.950 --> 00:19:02.080
And we do this continuously.

00:19:02.080 --> 00:19:05.090
We're testing all parts of the
application on a unit testing

00:19:05.090 --> 00:19:07.330
level, and it's just done
really quickly.

00:19:07.330 --> 00:19:10.330
So we have tests that
run that fast.

00:19:10.330 --> 00:19:12.090
We can run them as part of
the checking-in code.

00:19:12.090 --> 00:19:14.600
So before I am able to check in
any code or Ping or anyone

00:19:14.600 --> 00:19:16.670
else on the project, we
actually have to run

00:19:16.670 --> 00:19:17.320
the suite of tests.

00:19:17.320 --> 00:19:18.810
So that takes less than
5 seconds, so

00:19:18.810 --> 00:19:19.930
it's not too painful.

00:19:19.930 --> 00:19:21.680
But it just means that we're
not introducing any

00:19:21.680 --> 00:19:26.940
regressions under the code base
when we're iterating so

00:19:26.940 --> 00:19:29.440
quickly on the development
side.

00:19:29.440 --> 00:19:31.550
PAUL SAXMAN: Wait, what do you
guys-- do you know what your

00:19:31.550 --> 00:19:33.010
code coverage looks like?

00:19:33.010 --> 00:19:35.250
How much of your code is
actually being tested?

00:19:35.250 --> 00:19:37.358
KA-PING YEE: I don't have a
percentage number for that off

00:19:37.358 --> 00:19:40.210
the top of my head, but we've
covered almost everything.

00:19:40.210 --> 00:19:41.640
It's actually pretty good.

00:19:41.640 --> 00:19:43.910
PETE GIENCKE: When you have 1.8
megabytes of JavaScript

00:19:43.910 --> 00:19:45.830
code, there's a lot that
has to get tested.

00:19:45.830 --> 00:19:47.690
KA-PING YEE: Can I do the
crazy keystroke demo?

00:19:47.690 --> 00:19:48.530
PETE GIENCKE: Yes, definitely.

00:19:48.530 --> 00:19:51.170
KA-PING YEE: So the really cool
thing is that, I mean,

00:19:51.170 --> 00:19:53.790
even though all the tests run
in 5 seconds, running a test

00:19:53.790 --> 00:19:57.150
for just a single file takes
like half a second or a

00:19:57.150 --> 00:19:59.350
quarter of a second, which is so
fast that you can actually

00:19:59.350 --> 00:20:02.230
run the tests while
you're editing.

00:20:02.230 --> 00:20:04.420
So over on the right, I've got a
window that's running a test

00:20:04.420 --> 00:20:05.090
continuously.

00:20:05.090 --> 00:20:06.900
You can see it's actually
updating the test several

00:20:06.900 --> 00:20:07.485
times per second.

00:20:07.485 --> 00:20:08.710
PETE GIENCKE: And green
means good.

00:20:08.710 --> 00:20:10.220
KA-PING YEE: Yeah,
and green's good.

00:20:10.220 --> 00:20:11.320
And on the left, I've
got the same--

00:20:11.320 --> 00:20:13.900
I've got the file that's
under test open.

00:20:13.900 --> 00:20:17.170
And I can, as I'm typing into to
this file, I make a change,

00:20:17.170 --> 00:20:19.790
and I can immediately see if
the tests are failing or

00:20:19.790 --> 00:20:20.290
succeeding.

00:20:20.290 --> 00:20:23.150
So I don't even have to go
through the process of opening

00:20:23.150 --> 00:20:26.280
the file, editing it, saving
it, running the tests, and

00:20:26.280 --> 00:20:28.860
then opening the file again
and changing it.

00:20:28.860 --> 00:20:32.780
As I type, every keystroke I
type, I can immediately see

00:20:32.780 --> 00:20:34.535
the results.

00:20:34.535 --> 00:20:37.250
I've just broken that
missing character--

00:20:37.250 --> 00:20:37.746
PAUL SAXMAN: Going to
check that one in?

00:20:37.746 --> 00:20:38.242
PETE GIENCKE: Uh-huh.

00:20:38.242 --> 00:20:39.730
KA-PING YEE: And it's fixed.

00:20:39.730 --> 00:20:43.760
So that makes me feel a lot more
confident as I'm working

00:20:43.760 --> 00:20:46.466
about making sure that
all the tests pass.

00:20:46.466 --> 00:20:48.970
PETE GIENCKE: So, JS Test
for the web, basically.

00:20:48.970 --> 00:20:50.360
KA-PING YEE: Yeah, yeah.

00:20:50.360 --> 00:20:51.250
Check it out.

00:20:51.250 --> 00:20:53.276
It's really amazingly fast.

00:20:53.276 --> 00:20:54.460
PETE GIENCKE: OK.

00:20:54.460 --> 00:20:57.090
So we just wanted to provide a
few highlights of Crisis Map.

00:20:57.090 --> 00:21:00.630
It's good to talk about kind of
what's next, what we have

00:21:00.630 --> 00:21:02.150
coming next.

00:21:02.150 --> 00:21:05.530
So, better format support, I
mentioned that, especially for

00:21:05.530 --> 00:21:07.380
more traditional GIS formats.

00:21:07.380 --> 00:21:11.060
Our ability to be able to handle
additional content on

00:21:11.060 --> 00:21:14.810
the web means that we're just
able to provide the best and

00:21:14.810 --> 00:21:18.260
most complete picture of things
on the ground and

00:21:18.260 --> 00:21:19.860
especially from the preparedness
standpoint, just

00:21:19.860 --> 00:21:22.580
getting all of the data that
people need to make the

00:21:22.580 --> 00:21:25.010
decisions on the ground, and
just make that available to

00:21:25.010 --> 00:21:28.200
them without any kind
of special software.

00:21:28.200 --> 00:21:31.740
Trust signals and visual cues
to improve understanding of

00:21:31.740 --> 00:21:34.920
the data so, things like
metadata coming

00:21:34.920 --> 00:21:36.630
from the GIS world.

00:21:36.630 --> 00:21:38.990
Metadata is a four-letter
word, but it really is

00:21:38.990 --> 00:21:41.030
important, like telling
people when the

00:21:41.030 --> 00:21:42.070
data were last updated.

00:21:42.070 --> 00:21:44.940
So like the shelters for
instance, people want to know

00:21:44.940 --> 00:21:46.910
that there's a certain
number of beds there.

00:21:46.910 --> 00:21:48.800
They want to know that the
evacuation routes are still

00:21:48.800 --> 00:21:51.580
valid, so providing that kind of
information to allow people

00:21:51.580 --> 00:21:56.180
to really trust the data is
something that we want to do.

00:21:56.180 --> 00:21:58.650
More support for user-generated
content.

00:21:58.650 --> 00:22:01.270
On the crisis response space,
we're seeing efforts like

00:22:01.270 --> 00:22:05.760
Ushahidi really pay off in terms
of allowing affected

00:22:05.760 --> 00:22:09.000
people-- provide information
that's relevant to responders

00:22:09.000 --> 00:22:10.650
and the rest of the community.

00:22:10.650 --> 00:22:13.670
And we really want to do a
better job of surfacing that

00:22:13.670 --> 00:22:16.340
data to provide that, like I
said, more complete picture of

00:22:16.340 --> 00:22:17.450
things on the ground.

00:22:17.450 --> 00:22:18.960
And we're doing some
of that now.

00:22:18.960 --> 00:22:22.200
We have YouTube videos that
people are providing.

00:22:22.200 --> 00:22:25.800
We have webcams, but there's a
lot more that we can do there.

00:22:25.800 --> 00:22:27.480
And then open sourcing is
another thing that I

00:22:27.480 --> 00:22:30.010
mentioned as well.

00:22:30.010 --> 00:22:32.360
So I would say check out
google.org Crisis Map.

00:22:32.360 --> 00:22:34.200
We'd love to hear any feedback
that you have.

00:22:34.200 --> 00:22:36.880
And before handing it back to
Paul, I should also say that

00:22:36.880 --> 00:22:37.440
we're hiring.

00:22:37.440 --> 00:22:40.520
PAUL SAXMAN: Oh, awesome.

00:22:40.520 --> 00:22:43.480
Yeah, it sounds like you guys
have the technologies down.

00:22:43.480 --> 00:22:45.420
Sounds like a pretty fun job.

00:22:45.420 --> 00:22:46.270
So--

00:22:46.270 --> 00:22:47.774
PETE GIENCKE: We sleep
all the nights.

00:22:47.774 --> 00:22:50.230
PAUL SAXMAN: So do you guys get
to take vacations around

00:22:50.230 --> 00:22:52.800
hurricane seasons or is that--

00:22:52.800 --> 00:22:55.334
that's your only--

00:22:55.334 --> 00:22:58.780
PETE GIENCKE: The nice thing
is that we have a worldwide

00:22:58.780 --> 00:23:00.170
team, so we have folks
in Sydney.

00:23:00.170 --> 00:23:01.160
We have folks in Japan.

00:23:01.160 --> 00:23:02.730
We have a New York office.

00:23:02.730 --> 00:23:06.940
And we have a Mountain View
contingent as well so that we

00:23:06.940 --> 00:23:08.570
are able to take vacations.

00:23:08.570 --> 00:23:11.930
Knowing that events happen all
over the world, there's going

00:23:11.930 --> 00:23:14.800
to be someone that can
pick up, to help out

00:23:14.800 --> 00:23:16.090
when something happens.

00:23:16.090 --> 00:23:19.400
PAUL SAXMAN: So where do people
go if they want to look

00:23:19.400 --> 00:23:19.840
at the job?

00:23:19.840 --> 00:23:22.290
Do you guys have it posted
on the job site?

00:23:22.290 --> 00:23:23.120
PETE GIENCKE: It should be.

00:23:23.120 --> 00:23:27.010
Check out google.org, sorry,
google.com/jobs and search for

00:23:27.010 --> 00:23:28.340
Crisis Response.

00:23:28.340 --> 00:23:31.460
Otherwise, just hit me up on
Google+ and I'd be happy to

00:23:31.460 --> 00:23:36.105
refer you to an open position or
just give you the details.

00:23:36.105 --> 00:23:37.620
PAUL SAXMAN: Cool.

00:23:37.620 --> 00:23:39.320
I'm going to take a quick peek
and see what kind of

00:23:39.320 --> 00:23:42.030
questions we've got.

00:23:42.030 --> 00:23:43.914
Oops, got to reload the page.

00:23:43.914 --> 00:23:46.480
PETE GIENCKE: And I'll just
watch the YouTube video here

00:23:46.480 --> 00:23:47.980
of the caterpillar.

00:23:47.980 --> 00:23:51.120
PAUL SAXMAN: I can watch
myself right now live.

00:23:51.120 --> 00:23:52.170
OK.

00:23:52.170 --> 00:23:54.230
Let's see.

00:23:54.230 --> 00:23:55.600
Recording.

00:23:55.600 --> 00:23:58.390
I don't see anything
on here right now.

00:23:58.390 --> 00:24:00.740
There's a couple questions
that I had just

00:24:00.740 --> 00:24:01.970
listening to you guys.

00:24:01.970 --> 00:24:04.190
So you did mention
open sourcing.

00:24:04.190 --> 00:24:05.870
So what are we looking at?

00:24:05.870 --> 00:24:06.970
I mean, are you--

00:24:06.970 --> 00:24:09.410
sometime this year, maybe
early next year?

00:24:09.410 --> 00:24:11.820
PETE GIENCKE: So I would
say stay tuned.

00:24:11.820 --> 00:24:13.680
We're working on it right now.

00:24:13.680 --> 00:24:18.210
For a sneak peek, a previous
version of Crisis Map, it was

00:24:18.210 --> 00:24:19.150
done by the Sydney team.

00:24:19.150 --> 00:24:22.810
It's called Map Visage,
code.google.com/mapvisage or

00:24:22.810 --> 00:24:24.730
mapvisage.appspot.com.

00:24:24.730 --> 00:24:26.470
Basically, that's the
template for how

00:24:26.470 --> 00:24:27.800
we're going to do this.

00:24:27.800 --> 00:24:31.110
So to live at code.google.com,
it'll be an App Engine

00:24:31.110 --> 00:24:33.080
instance, and it's basically
everything you need to stand

00:24:33.080 --> 00:24:35.610
on your own, stand up
your own Crisis Map.

00:24:35.610 --> 00:24:38.110
So stay tuned, and we should
be able to provide an

00:24:38.110 --> 00:24:40.490
announcement of that
when it happens.

00:24:40.490 --> 00:24:42.100
So hopefully sooner
rather than later.

00:24:42.100 --> 00:24:44.390
PAUL SAXMAN: Very cool.

00:24:44.390 --> 00:24:46.430
I think that's everything.

00:24:46.430 --> 00:24:50.260
So, again, this is Pete Giencke
and Ka-Ping Yee.

00:24:52.980 --> 00:24:55.880
You can find Pete on Google+
if you wanna ask any

00:24:55.880 --> 00:24:58.290
questions, and feel free to
ask any questions on our

00:24:58.290 --> 00:24:59.410
YouTube channel.

00:24:59.410 --> 00:25:02.120
And we can try to answer
them there.

00:25:02.120 --> 00:25:05.530
Coming up next week, I think
we're back down in Sydney,

00:25:05.530 --> 00:25:08.660
potentially talking with
one of the new PMs

00:25:08.660 --> 00:25:10.190
on the Places API.

00:25:10.190 --> 00:25:13.770
And two weeks out, I
think we might have

00:25:13.770 --> 00:25:14.740
GEO for Good coming.

00:25:14.740 --> 00:25:16.470
So definitely stay tuned.

00:25:16.470 --> 00:25:19.350
We'll have everything posted
on the Google+ channel.

00:25:19.350 --> 00:25:21.700
Thanks for watching, and see
you guys in the next week.

00:25:21.700 --> 00:25:23.800
KA-PING YEE: Thanks, Paul.

00:25:23.800 --> 00:25:52.067
[MUSIC PLAYING]

