WEBVTT
Kind: captions
Language: en

00:00:00.000 --> 00:00:01.586
All right.
Good morning,

00:00:01.586 --> 00:00:02.000
all.

00:00:09.000 --> 00:00:14.852
You have two handouts,
lecture notes and an article on

00:00:14.852 --> 00:00:19.711
mixed signal chips.
A mixed signal stands for

00:00:19.711 --> 00:00:27.000
circuits that have both analog
and digital components to them.

00:00:27.000 --> 00:00:31.810
The reason I am giving you the
handout is that Lab 4 and also

00:00:31.810 --> 00:00:36.300
your last homework involve
designing and building a mixed

00:00:36.300 --> 00:00:39.507
signal circuit.
It's a real fun exercise.

00:00:39.507 --> 00:00:44.398
And I just wanted to tell you
that from past experience people

00:00:44.398 --> 00:00:49.369
who have taken 6.002 often view
the last lab as the single most

00:00:49.369 --> 00:00:52.095
fun thing they did in all of
6.002.

00:00:52.095 --> 00:00:56.505
So, as you go into Lab 4,
you should be telling yourself

00:00:56.505 --> 00:00:59.873
I should be having fun,
I should be having,

00:00:59.873 --> 00:01:05.311
I should be having fun.
You have to positively psych

00:01:05.311 --> 00:01:08.614
yourself.
Otherwise, it's going to go by.

00:01:08.614 --> 00:01:12.412
And then you're going to say
boy, that was fun,

00:01:12.412 --> 00:01:16.458
I wish I had savored the moment
as I was doing it.

00:01:16.458 --> 00:01:18.110
All right.
Let's see.

00:01:18.110 --> 00:01:21.990
What do we do today?
Today's lecture is actually

00:01:21.990 --> 00:01:24.633
going to be a fair amount of
fun.

00:01:24.633 --> 00:01:30.000
We are going to blast through a
bunch of fun things.

00:01:30.000 --> 00:01:34.142
And some things that you will
be quite unprepared for.

00:01:34.142 --> 00:01:38.598
Until now, in the last two
lectures with op amps we talked

00:01:38.598 --> 00:01:42.741
about negative feedback.
That is applying some portion

00:01:42.741 --> 00:01:47.274
of the output voltage to the
negative input so that I could

00:01:47.274 --> 00:01:50.557
control this high strung device,
my op amp.

00:01:50.557 --> 00:01:55.247
Today, what we are going to do
is try to get a handle on what

00:01:55.247 --> 00:01:59.000
happens if we use positive
feedback.

00:01:59.000 --> 00:02:03.008
It's the usual curious child.
You tell them to do this,

00:02:03.008 --> 00:02:06.943
and of course they're going to
try to do this as well.

00:02:06.943 --> 00:02:11.248
And we are going to try to do
that and see what happens and

00:02:11.248 --> 00:02:14.812
look to see if we can build some
useful circuits.

00:02:14.812 --> 00:02:16.000
Today --

00:02:28.000 --> 00:02:31.976
As motivation,
let me do a quick review of a

00:02:31.976 --> 00:02:37.248
circuit that should now become
affixed in your brains in a

00:02:37.248 --> 00:02:41.410
standard pattern.
This is a circuit that gives

00:02:41.410 --> 00:02:44.000
you negative feedback.

00:02:56.000 --> 00:02:58.000
R1 and R2.

00:03:03.000 --> 00:03:07.153
And I apply a vIN.
By now you should be able to

00:03:07.153 --> 00:03:11.397
look at this pattern.
And this is your inverting

00:03:11.397 --> 00:03:15.822
amplifier pattern.
So, you should be able to write

00:03:15.822 --> 00:03:20.608
down by inspection this is
simply vIN or the minus vIN

00:03:20.608 --> 00:03:25.484
times R2 divided by R1.
This is an amplifier whose gain

00:03:25.484 --> 00:03:30.000
is controlled by the ratio of R2
and R1.

00:03:30.000 --> 00:03:34.132
This is a negative feedback
circuit because it is always fun

00:03:34.132 --> 00:03:37.144
to do the intuition thing and
say that look,

00:03:37.144 --> 00:03:41.137
if this voltage tends to go
more positive than I care then

00:03:41.137 --> 00:03:44.640
this negative input goes more
positive than I care.

00:03:44.640 --> 00:03:48.632
If that goes more positive then
the negative input v minus

00:03:48.632 --> 00:03:52.415
becomes more positive in the
plus input which yanks the

00:03:52.415 --> 00:03:54.586
output down.
So, there is a nice

00:03:54.586 --> 00:03:59.000
counteracting force that keeps
the output stable.

00:03:59.000 --> 00:04:03.636
Let's look at this circuit.
Being curious engineers,

00:04:03.636 --> 00:04:08.636
let's look at the opposite here
where I give myself some

00:04:08.636 --> 00:04:12.000
positive feedback in this op
amp.

00:04:24.000 --> 00:04:27.692
And it is going to be
interesting to analyze this

00:04:27.692 --> 00:04:32.538
because what we find out on the
face of it is not quite actually

00:04:32.538 --> 00:04:35.812
how it behaves.
We are going to spend most of

00:04:35.812 --> 00:04:38.875
the lecture today on
understanding the dynamics of

00:04:38.875 --> 00:04:42.812
circuits that look like this and
to see if we can build some fun

00:04:42.812 --> 00:04:46.375
and interesting circuits and
systems based on this kind of

00:04:46.375 --> 00:04:49.437
positive feedback.
It is positive feedback because

00:04:49.437 --> 00:04:52.937
I am feeding back a portion of
the output to the positive

00:04:52.937 --> 00:04:55.250
input.
And you should be able to stare

00:04:55.250 --> 00:04:58.750
at this and already begin to
intuit what should happen to

00:04:58.750 --> 00:05:01.441
this.
Let's think about it.

00:05:01.441 --> 00:05:03.913
This is zero.
Remember, with positive

00:05:03.913 --> 00:05:08.100
feedback, the famous v plus is
equal to v minus method doesn't

00:05:08.100 --> 00:05:10.640
apply anymore.
Let's apply very simple

00:05:10.640 --> 00:05:12.356
analyses.
If this is zero,

00:05:12.356 --> 00:05:16.613
let's say for example that this
output tends to go a little bit

00:05:16.613 --> 00:05:18.398
more positive.
This output,

00:05:18.398 --> 00:05:20.663
due to some noise or
perturbation,

00:05:20.663 --> 00:05:24.508
tends to go up a little bit.
If that goes up a little bit

00:05:24.508 --> 00:05:28.421
then because of feedback this
node tends to go up a little

00:05:28.421 --> 00:05:31.800
bit.
If this node tends to go up a

00:05:31.800 --> 00:05:35.711
little bit this exacerbates the
positive input here and this one

00:05:35.711 --> 00:05:38.381
goes cachunk,
whacks into the positive rail.

00:05:38.381 --> 00:05:42.168
Let's take the other point of
view and look at it intuitively.

00:05:42.168 --> 00:05:44.900
What if this one tries to droop
a little bit?

00:05:44.900 --> 00:05:48.625
If it droops a little bit then
the input at the plus terminal

00:05:48.625 --> 00:05:51.481
droops a little bit.
If that tends to go down a

00:05:51.481 --> 00:05:55.082
little bit, that makes the
output droop further and it goes

00:05:55.082 --> 00:05:59.561
and hits into the negative rail.
I can see that this circuit

00:05:59.561 --> 00:06:02.800
wants to hammer into the
positive rail or hammer into the

00:06:02.800 --> 00:06:05.460
negative rail because of the
positive feedback.

00:06:05.460 --> 00:06:08.583
It is like if you give
incredibly positive feedback all

00:06:08.583 --> 00:06:11.417
the time, and by positive
feedback I mean feedback

00:06:11.417 --> 00:06:14.598
encouraging the child to do
whatever the child is doing.

00:06:14.598 --> 00:06:17.953
It could be if he does bad
stuff you give a lot of positive

00:06:17.953 --> 00:06:21.539
feedback or good stuff you give
a lot of positive feedback then

00:06:21.539 --> 00:06:24.835
you are guaranteed to have a
very good child or a very bad

00:06:24.835 --> 00:06:26.628
child.
You are not going to have

00:06:26.628 --> 00:06:29.970
anybody in the middle.
Same way here.

00:06:29.970 --> 00:06:33.993
By giving positive feedback
you're going to drive this into

00:06:33.993 --> 00:06:37.738
the positive rail or drive this
into the negative rail.

00:06:37.738 --> 00:06:40.789
Now, I am going to analyze this
in two steps.

00:06:40.789 --> 00:06:44.812
First I am going to analyze
this using a method you've seen

00:06:44.812 --> 00:06:49.042
before which is replace the op
amp with its equivalent circuit

00:06:49.042 --> 00:06:52.926
and analyze it statically.
And by analyzing it statically

00:06:52.926 --> 00:06:56.809
we are going to show that the
simple static analysis will

00:06:56.809 --> 00:07:01.644
yield the following expression.
I put this in quotes,

00:07:01.644 --> 00:07:04.699
well, for a reason you will see
shortly.

00:07:04.699 --> 00:07:09.477
When I apply a plain and simple
static analysis here is what I

00:07:09.477 --> 00:07:11.671
find.
Let's go ahead with the

00:07:11.671 --> 00:07:15.979
analysis and see what is
basically different about these

00:07:15.979 --> 00:07:17.702
two.
And, first of all,

00:07:17.702 --> 00:07:22.480
I will confirm for you that our
naive analysis we have seen so

00:07:22.480 --> 00:07:25.378
far will give rise to that
expression.

00:07:25.378 --> 00:07:30.000
So, let's go ahead and analyze
that circuit.

00:07:30.000 --> 00:07:38.034
And to analyze that circuit
what I will do is replace the op

00:07:38.034 --> 00:07:46.340
amp with its equivalent circuit.
If you remember the op amp is

00:07:46.340 --> 00:07:54.374
characterized by the following
circuit, A times v+ minus v-,

00:07:54.374 --> 00:07:59.140
vOUT.
This is the equivalent circuit

00:07:59.140 --> 00:08:04.699
of my op amp.
And let me just impose that

00:08:04.699 --> 00:08:11.000
external circuit on this op amp.
I have grounded my v- terminal.

00:08:11.000 --> 00:08:16.100
My v+ terminal goes through a
resistor and a supply,

00:08:16.100 --> 00:08:20.199
the v into ground,
it's the resistance R1.

00:08:20.199 --> 00:08:25.600
This terminal goes to the
output through a resistor R2.

00:08:25.600 --> 00:08:30.000
So, this is the equivalent
circuit.

00:08:30.000 --> 00:08:35.521
And I can apply the same
good-old techniques I have

00:08:35.521 --> 00:08:42.147
learned about all through this
course to this circuit and see

00:08:42.147 --> 00:08:45.791
what vOUT looks like.
Very simply,

00:08:45.791 --> 00:08:51.092
vOUT is this expression here A
times v+ minus v-.

00:08:51.092 --> 00:08:56.171
And because of my ground
connection v- is zero.

00:08:56.171 --> 00:09:02.355
Then let me go ahead and
replace v+ with the voltage that

00:09:02.355 --> 00:09:07.198
relates vOUT and vIN.
What is v+?

00:09:07.198 --> 00:09:12.425
v+ is simply the current
through this part of the

00:09:12.425 --> 00:09:18.633
circuit, the current flowing
here times the resistance R1.

00:09:18.633 --> 00:09:22.118
That gives me the drop across
R1.

00:09:22.118 --> 00:09:28.000
And to that I add vIN and that
will give me V+.

00:09:28.000 --> 00:09:32.480
And then of course I multiply
this by the gain here.

00:09:32.480 --> 00:09:35.731
So, let me write down that
expression.

00:09:35.731 --> 00:09:40.036
The current through this is
simply vOUT minus vIN.

00:09:40.036 --> 00:09:44.341
That is the voltage drop
between these two points.

00:09:44.341 --> 00:09:48.031
I divide that by the resistance
R1 plus R2.

00:09:48.031 --> 00:09:52.072
That gives me the current
flowing through here.

00:09:52.072 --> 00:09:55.937
That times R1 is the drop
across resistor R1.

00:09:55.937 --> 00:10:02.000
And to that I add vIN and that
gives me the voltage v+.

00:10:02.000 --> 00:10:07.447
So, this is v+.
That is simply vIN plus the

00:10:07.447 --> 00:10:14.970
drop across the resistance R1.
Let me shuffle things around

00:10:14.970 --> 00:10:20.677
and put all the vOUT terms on
this side here.

00:10:20.677 --> 00:10:28.071
I get a 1+ for that vOUT and
let me move AR1 divided by R1

00:10:28.071 --> 00:10:36.283
plus R2 to the left-hand side.
And I pick up a minus sign.

00:10:36.283 --> 00:10:40.418
So, I get AR1 divide by R1 plus
R2.

00:10:40.418 --> 00:10:46.013
I pick up that.
And on the left-hand sign I end

00:10:46.013 --> 00:10:53.189
up with vIN, and my vIN here is
a function of the vIN that I

00:10:53.189 --> 00:10:57.810
have here.
I have an A multiplying both

00:10:57.810 --> 00:11:03.140
the vINs.
And then I get a one for this

00:11:03.140 --> 00:11:08.989
vIN here and there is a minus
sign, so I get a minus R1

00:11:08.989 --> 00:11:13.971
divided by R1+R2.
That is the expression that I

00:11:13.971 --> 00:11:17.545
have.
Let me go ahead and simplify

00:11:17.545 --> 00:11:23.718
that a little further and move
this whole thing down here.

00:11:23.718 --> 00:11:30.000
That gives me my expression as
a function of vIN.

00:11:30.000 --> 00:11:33.214
What I will do is,
let me continue here.

00:11:33.214 --> 00:11:37.087
vOUT=vIN A(1-R1/(R1+R2)).
By the way, you may be

00:11:37.087 --> 00:11:42.362
wondering why I am going through
so laboriously what is seemingly

00:11:42.362 --> 00:11:46.813
a very simple exercise.
The reason I want to do is it I

00:11:46.813 --> 00:11:52.005
want to very carefully show you
that the result produced by this

00:11:52.005 --> 00:11:55.219
exercise is exactly that.
No magic here.

00:11:55.219 --> 00:11:58.434
No cheating.
We are going to get exactly

00:11:58.434 --> 00:12:02.495
that.
And then stare at it and say

00:12:02.495 --> 00:12:07.487
huh, how did that happen?
And then we are going to try to

00:12:07.487 --> 00:12:11.855
figure out how it actually
behaves following that.

00:12:11.855 --> 00:12:16.757
I divide this by 1-AR1/(R1+R2).
And by now you should be

00:12:16.757 --> 00:12:22.016
familiar with the technique of
ignoring small numbers when I

00:12:22.016 --> 00:12:27.008
have a big number next to it.
So, AR1/(R1+R2) can be very

00:12:27.008 --> 00:12:32.000
much larger than one because A
is very large.

00:12:32.000 --> 00:12:37.636
So, I can ignore my one there.
And then what I am going to do

00:12:37.636 --> 00:12:42.333
is multiply the numerator and
denominator by R1+R2.

00:12:42.333 --> 00:12:46.466
Oh, this A and this A is going
to cancel out.

00:12:46.466 --> 00:12:50.036
This A and this A will then
cancel out.

00:12:50.036 --> 00:12:54.827
And then I multiply the
numerator and denominator by

00:12:54.827 --> 00:12:59.242
R1+R2, so this R1+R2 vanishes.
I get R1+R2 here.

00:12:59.242 --> 00:13:06.589
R1+R2 minus R1 is simply R2.
And then down here I get a R1

00:13:06.589 --> 00:13:11.292
and then I have a minus sign out
there.

00:13:11.292 --> 00:13:18.965
Notice that vOUT we have found
to be equal to vIN R2 divided by

00:13:18.965 --> 00:13:21.564
R1.
That is not wrong.

00:13:21.564 --> 00:13:28.000
That is correct.
Technically that is correct.

00:13:28.000 --> 00:13:32.105
But you will see in a few
seconds that in practice that

00:13:32.105 --> 00:13:35.603
that's rarely what you are going
to see happen.

00:13:35.603 --> 00:13:38.949
And we will try to understand
why that is so.

00:13:38.949 --> 00:13:42.751
What we have done so far,
if you stare at these two

00:13:42.751 --> 00:13:46.705
panels here, first of all,
we know that the inverting

00:13:46.705 --> 00:13:50.202
amplifier has the expression for
vOUT up there.

00:13:50.202 --> 00:13:54.612
And through this laborious
exercise we have also shown that

00:13:54.612 --> 00:13:59.023
even with positive feedback,
if I take a static view of the

00:13:59.023 --> 00:14:03.051
circuit --
If I take a snapshot of the

00:14:03.051 --> 00:14:06.774
circuit and simply analyze it as
a static circuit,

00:14:06.774 --> 00:14:11.409
I get the same expression vOUT.
But what we are going to do is

00:14:11.409 --> 00:14:16.196
when I explain to you that look,
a small perturbation in vOUT is

00:14:16.196 --> 00:14:20.678
going to drive the op amp to the
positive and negative rail,

00:14:20.678 --> 00:14:23.718
that is where the insight
begins to show.

00:14:23.718 --> 00:14:28.504
That if everything were magical
and I could somehow exactly keep

00:14:28.504 --> 00:14:32.000
things just so that will be
true.

00:14:32.000 --> 00:14:35.933
I will be able to build that
positive feedback circuit where

00:14:35.933 --> 00:14:38.066
the output is equal to R2/R1
vIN.

00:14:38.066 --> 00:14:42.133
But remember even the slightly
amount of perturbation is going

00:14:42.133 --> 00:14:46.066
to send the op amp scurrying off
to the positive rail or the

00:14:46.066 --> 00:14:48.533
negative rail.
How do we analyze that?

00:14:48.533 --> 00:14:52.399
How do we analyze the behavior
of a circuit that based on a

00:14:52.399 --> 00:14:56.000
small perturbation begins to
move one place or another?

00:14:56.000 --> 00:15:00.000
We want to analyze the dynamics
of the op amp.

00:15:00.000 --> 00:15:04.243
And to analyze the dynamics
what I need to do is give you a

00:15:04.243 --> 00:15:08.341
slightly more detailed view of
the operational amplifier.

00:15:08.341 --> 00:15:12.512
If the operational amplifier is
not moving instantaneously

00:15:12.512 --> 00:15:16.682
between the plus and minus rail,
I need to give you a more

00:15:16.682 --> 00:15:21.000
detailed model that encapsulates
the behavior of the op amp.

00:15:21.000 --> 00:15:24.365
And so let me do that.
If you want to study the

00:15:24.365 --> 00:15:30.712
dynamics of an op amp --
By dynamics I mean how an op

00:15:30.712 --> 00:15:38.138
amp moves as I perturb the input
or the output and so on.

00:15:38.138 --> 00:15:46.226
To capture the dynamics of the
op amp we build a slightly more

00:15:46.226 --> 00:15:51.000
involved circuit,
so v+ and v-.

00:16:06.000 --> 00:16:10.491
This is what we've seen before,
two terminals and dependent

00:16:10.491 --> 00:16:14.905
source that amplifies the
difference input here by a large

00:16:14.905 --> 00:16:17.848
amount.
Instead what we are going to do

00:16:17.848 --> 00:16:21.952
here is something slightly
different and interpose the

00:16:21.952 --> 00:16:24.740
following circuit in the middle
here.

00:16:24.740 --> 00:16:29.000
This is a model of the dynamics
of an op amp.

00:16:29.000 --> 00:16:33.500
We are going to impose a small
RC circuit in here.

00:16:33.500 --> 00:16:35.336
This is R.
This is C.

00:16:35.336 --> 00:16:40.663
And I am going to call the
voltage across the capacitor v*.

00:16:40.663 --> 00:16:45.530
Notice what I have done is
rather than say this is Av+

00:16:45.530 --> 00:16:50.673
minus v- I am breaking it apart
in two dependent sources,

00:16:50.673 --> 00:16:55.724
the first dependent source,
which is simply v+ minus v-,

00:16:55.724 --> 00:17:01.326
and there is a RC time constant
surrounding it and then here I

00:17:01.326 --> 00:17:07.000
simply add on my gain Av*.
Notice that if it turned out

00:17:07.000 --> 00:17:09.642
that the resistance here,
for example,

00:17:09.642 --> 00:17:14.071
was zero then v+ minus v- would
appear across v* and this would

00:17:14.071 --> 00:17:16.928
be A(v+ - v-),
what you have seen before.

00:17:16.928 --> 00:17:20.857
It is always good to take a
look at circuits and look at

00:17:20.857 --> 00:17:24.928
what happens when some component
goes to an extreme value.

00:17:24.928 --> 00:17:29.000
This would give you your basic
op amp circuit.

00:17:29.000 --> 00:17:33.834
What I would like to do next is
analyze the following circuit to

00:17:33.834 --> 00:17:38.362
understand how positive and
negative feedback work together.

00:17:38.362 --> 00:17:42.506
And by understanding that then
be able to explain how a

00:17:42.506 --> 00:17:47.188
positive feedback circuit works
or a negative feedback circuit

00:17:47.188 --> 00:17:49.413
works.
Here is what I will do.

00:17:49.413 --> 00:17:54.018
This part simply corresponds to
my positive feedback circuit,

00:17:54.018 --> 00:17:56.320
R2, R1.
So, that is my positive

00:17:56.320 --> 00:18:00.004
feedback circuit.
And I will do the same thing on

00:18:00.004 --> 00:18:02.000
this side.

00:18:09.000 --> 00:18:12.745
All I am doing is applying both
a positive feedback through R2

00:18:12.745 --> 00:18:15.754
and R1 and negative feedback
through R4 and R3 and

00:18:15.754 --> 00:18:19.500
representing the dynamics of the
op amp and then standing back

00:18:19.500 --> 00:18:22.447
and ee, all right,
let's see what happens to you.

00:18:22.447 --> 00:18:25.763
So, I am sticking positive
feedback, negative feedback,

00:18:25.763 --> 00:18:30.000
the dynamics of the op amp here
and let's see what happens.

00:18:30.000 --> 00:18:38.964
What I would like to do is
impose this circuit on top of

00:18:38.964 --> 00:18:46.299
this op amp model.
To save myself some effort,

00:18:46.299 --> 00:18:54.938
let me just go ahead and modify
this circuit directly.

00:18:54.938 --> 00:19:02.599
I get an R2 here,
an R1 here, and then up here I

00:19:02.599 --> 00:19:09.265
get an R4, R3 here.
The math is going to be just a

00:19:09.265 --> 00:19:14.023
little bit grubby but the result
is actually pretty spectacular.

00:19:14.023 --> 00:19:18.403
So, all I have done is replace
the op amp with its internal

00:19:18.403 --> 00:19:21.953
circuit out here.
And now we are going to take a

00:19:21.953 --> 00:19:26.484
look at what happens to op amp
dynamics when there is a small

00:19:26.484 --> 00:19:29.580
perturbation.
Let's develop an equation of

00:19:29.580 --> 00:19:33.809
this circuit containing a
capacitor using techniques that

00:19:33.809 --> 00:19:38.230
we already know.
Just to give you some insight

00:19:38.230 --> 00:19:42.769
into what you're going to see,
notice that if I make a small

00:19:42.769 --> 00:19:46.461
perturbation in the voltage
across the capacitor,

00:19:46.461 --> 00:19:50.538
let's say I make a small
perturbation to the capacitor

00:19:50.538 --> 00:19:55.076
voltage let's say by applying
some initial condition kind of

00:19:55.076 --> 00:19:59.307
thing onto the capacitor.
Then let's say that the output

00:19:59.307 --> 00:20:03.902
changes to some value K.
So, the change on the capacitor

00:20:03.902 --> 00:20:07.522
must have been K divided by A.
And what you are going to see

00:20:07.522 --> 00:20:11.081
is what happens to the op amp
when the initial condition on

00:20:11.081 --> 00:20:14.702
the capacitor is such that this
output gets perturbed to the

00:20:14.702 --> 00:20:16.849
value K.
Let's write an equation for

00:20:16.849 --> 00:20:19.304
this little circuit and see what
happens.

00:20:19.304 --> 00:20:22.495
Recall our goal was to
understand what happens when I

00:20:22.495 --> 00:20:24.520
perturbed the output a little
bit.

00:20:24.520 --> 00:20:29.000
Here I perturbed the output
such that its value goes to K.

00:20:29.000 --> 00:20:33.613
And I can perturb the output by
changing what happens at the

00:20:33.613 --> 00:20:36.663
capacitor.
Let me write the equation for

00:20:36.663 --> 00:20:41.277
this circuit now and then to
understand what happens to this

00:20:41.277 --> 00:20:45.343
capacitor circuit if I let go
after giving it a small

00:20:45.343 --> 00:20:48.784
perturbation.
What I am going to do is let me

00:20:48.784 --> 00:20:53.554
start by writing the good old
equation for this little circuit

00:20:53.554 --> 00:20:56.369
here.
And that equation is simply the

00:20:56.369 --> 00:21:02.000
voltage here v+ minus v- equals
the voltage across the RC.

00:21:02.000 --> 00:21:08.890
So, v+ minus v- will be equal
to the voltage drop across the

00:21:08.890 --> 00:21:13.445
resistor plus that across the
capacitor.

00:21:13.445 --> 00:21:17.883
The voltage across the
capacitor is v*.

00:21:17.883 --> 00:21:24.540
The voltage across the resistor
is the current through the

00:21:24.540 --> 00:21:31.080
capacitor C dv*/dt times R.
So, v* plus RC dv/dt is equal

00:21:31.080 --> 00:21:37.036
to v+ minus v-.
RC dv*/dt plus v* is v+ minus

00:21:37.036 --> 00:21:40.490
v-.
You have done this millions of

00:21:40.490 --> 00:21:43.317
times before,
but yet again.

00:21:43.317 --> 00:21:49.075
This voltage here is equal to
the drop across these two,

00:21:49.075 --> 00:21:54.729
and the drop across these two
is v*, the drop across C,

00:21:54.729 --> 00:22:00.487
plus the current through the
capacitor C dv/dt times the

00:22:00.487 --> 00:22:05.941
resistance R.
Or you can apply the node

00:22:05.941 --> 00:22:10.882
method as well and get the same
expression.

00:22:10.882 --> 00:22:16.647
Now, we also know here that vO
divided by A is v*.

00:22:16.647 --> 00:22:24.058
I can go ahead and replace this
guy here, v* by vO divided by A.

00:22:24.058 --> 00:22:29.000
RC/A dvO/dt.
Recall, I want the dynamics of

00:22:29.000 --> 00:22:35.000
vO so let me just get an
expression in vO.

00:22:35.000 --> 00:22:43.221
So, I get vO divided by A plus
v+ minus v- equals.

00:22:43.221 --> 00:22:51.610
Now, I want an expression in
vO, an equation in vO,

00:22:51.610 --> 00:23:00.000
so I need to express v+ and v-
in terms of vO.

00:23:00.000 --> 00:23:09.572
What are these expressions?
The expression for v- is vO and

00:23:09.572 --> 00:23:16.504
this voltage divider,
so it's vOR3/(R3+R4).

00:23:16.504 --> 00:23:25.417
And just for simplicity,
let me call this some constant

00:23:25.417 --> 00:23:30.864
gamma minus.
This is some fraction

00:23:30.864 --> 00:23:37.351
R3/(R3+R4).
And let me call that fraction

00:23:37.351 --> 00:23:42.319
gamma minus.
Similarly, v+ is vO R1/(R1+R2).

00:23:42.319 --> 00:23:45.902
And let me call that gamma
plus.

00:23:45.902 --> 00:23:51.911
All I am doing is replacing v+
and v- in terms of vO.

00:23:51.911 --> 00:23:57.226
So, effectively,
what I have here is v+ is some

00:23:57.226 --> 00:24:03.893
fraction of vO.
That's the best intuitive way

00:24:03.893 --> 00:24:09.398
of thinking about it,
some fraction of vO.

00:24:09.398 --> 00:24:14.365
And v- is some fraction of vO
as well.

00:24:14.365 --> 00:24:21.615
And I just stick these.
I now have an expression in vO.

00:24:21.615 --> 00:24:29.000
Don't get psyched by gamma plus
and gamma minus.

00:24:29.000 --> 00:24:34.443
Simply read this as if it is an
F1 and F2 if you would like.

00:24:34.443 --> 00:24:39.148
So, vO times some fraction
minus vO times some other

00:24:39.148 --> 00:24:42.839
fraction.
I am feeding back some fraction

00:24:42.839 --> 00:24:48.282
of the output to the positive
and to the negative terminals.

00:24:48.282 --> 00:24:52.342
Then, just moving things around
a little bit,

00:24:52.342 --> 00:24:55.848
dividing throughout by A
divided by RC.

00:24:55.848 --> 00:25:00.000
So, I divided by A divided by
RC.

00:25:00.000 --> 00:25:08.524
Plus vO divided by RC.
And what I am going to do here

00:25:08.524 --> 00:25:15.737
in a second, vO gamma plus minus
gamma minus.

00:25:15.737 --> 00:25:24.098
And I have multiplied by A
divided by RC throughout.

00:25:24.098 --> 00:25:34.262
Finally, collecting all the vO
terms I get vO times one divided

00:25:34.262 --> 00:25:42.316
by RC plus A divided by RC.
I got a plus sign here so I

00:25:42.316 --> 00:25:47.378
will just reverse these two guys
in there, gamma minus minus

00:25:47.378 --> 00:25:51.926
gamma plus equals zero.
All I have done here is simply

00:25:51.926 --> 00:25:56.902
grunged through some math to
express this equation in terms

00:25:56.902 --> 00:25:59.476
of vO.
And just to make it even

00:25:59.476 --> 00:26:04.538
simpler, I will just replace
this thing by one divided by T,

00:26:04.538 --> 00:26:09.000
much as we did for first order
equations.

00:26:09.000 --> 00:26:19.000
What I end up with is
dvO/dt+vO/T=0.

00:26:29.000 --> 00:26:33.893
Despite all the grubbiness,
I end up with something that is

00:26:33.893 --> 00:26:36.593
very, very familiar to all of
us.

00:26:36.593 --> 00:26:41.317
I went through a bunch of
gyrations to substitute for v+,

00:26:41.317 --> 00:26:45.704
v- and v*, but at the end of
the day I got the simple

00:26:45.704 --> 00:26:48.573
expression which was
dvO/dt+vO/T=0.

00:26:48.573 --> 00:26:52.875
Where capital T is the time
constant of the circuit,

00:26:52.875 --> 00:26:57.094
and the time constant of the
circuit relates to the

00:26:57.094 --> 00:27:01.143
expression in there
1/RC+A/RC(gamma minus - gamma

00:27:01.143 --> 00:27:05.219
plus).
The gamma minus and gamma plus

00:27:05.219 --> 00:27:09.361
are the respective portions of
the output fed back to the

00:27:09.361 --> 00:27:12.098
negative input and the positive
input.

00:27:12.098 --> 00:27:15.797
Now, as we all know,
based on very simple intuition

00:27:15.797 --> 00:27:20.383
that we can completely predict
the behavior of a first order of

00:27:20.383 --> 00:27:24.747
an RC circuit once we know what
the initial condition of the

00:27:24.747 --> 00:27:28.298
capacitor is and once you know
the time constant.

00:27:28.298 --> 00:27:32.270
That's it.
We know, we are masters at the

00:27:32.270 --> 00:27:36.205
fact that the capacitor is going
to behave like this.

00:27:36.205 --> 00:27:40.518
It is going to be exponential.
And I do know that the time

00:27:40.518 --> 00:27:42.864
constant capital T.
What's here?

00:27:42.864 --> 00:27:45.437
It is simply the initial
condition.

00:27:45.437 --> 00:27:49.524
There is no drive input.
I am not driving this with any

00:27:49.524 --> 00:27:52.097
input here.
There is no input drive

00:27:52.097 --> 00:27:55.124
anywhere here.
This is simply the natural

00:27:55.124 --> 00:27:58.945
dynamics of the system.
And, recall,

00:27:58.945 --> 00:28:03.596
I start off with bumping the
capacitor voltage such that the

00:28:03.596 --> 00:28:06.512
output starts off being K.
That is it.

00:28:06.512 --> 00:28:10.847
You should be able to write
down this expression and the

00:28:10.847 --> 00:28:14.078
form of the response simply
based on this.

00:28:14.078 --> 00:28:18.650
So, this is what I bumped up
the output to be by perturbing

00:28:18.650 --> 00:28:22.512
the capacitor voltage.
My output response based on

00:28:22.512 --> 00:28:25.665
this equation is going to look
like that.

00:28:25.665 --> 00:28:30.000
Let's try to understand what
that means.

00:28:30.000 --> 00:28:32.584
It is actually quite a lot of
fun.

00:28:32.584 --> 00:28:37.284
How do we plot that response?
You all learned that the way to

00:28:37.284 --> 00:28:40.652
plot the response is plot the
initial value,

00:28:40.652 --> 00:28:43.550
plot the final value,
and go cachoock,

00:28:43.550 --> 00:28:45.509
right?
It's pretty simple.

00:28:45.509 --> 00:28:48.407
I am going to start at K.
I know that.

00:28:48.407 --> 00:28:53.263
I am going to start at K and I
am going to go and find out what

00:28:53.263 --> 00:28:57.571
the steady state value is.
Here is where the interesting

00:28:57.571 --> 00:29:01.864
stuff comes in.
The final value on the

00:29:01.864 --> 00:29:06.101
capacitor depends a lot on
whether T is positive or

00:29:06.101 --> 00:29:09.491
negative.
In my RC circuits that I looked

00:29:09.491 --> 00:29:13.135
at what was T?
In the very simple RC circuit

00:29:13.135 --> 00:29:18.135
we looked at what was capital T?
What was the time constant?

00:29:18.135 --> 00:29:19.406
RC.
This was RC.

00:29:19.406 --> 00:29:24.322
This was a positive quantity.
When capital T is positive my

00:29:24.322 --> 00:29:27.118
output is going to look like
this.

00:29:27.118 --> 00:29:33.102
When T is positive.
And T is positive when this

00:29:33.102 --> 00:29:39.306
expression is positive.
And if A is so large that I can

00:29:39.306 --> 00:29:43.212
ignore the 1/RC term,
if A is very,

00:29:43.212 --> 00:29:50.106
very large and I can ignore the
left-hand term here then T is

00:29:50.106 --> 00:29:57.000
positive when gamma minus is
greater than gamma plus.

00:29:57.000 --> 00:30:00.680
So, when gamma minus is greater
than gamma plus,

00:30:00.680 --> 00:30:04.829
I have a stable circuit,
this is the good-old stuff we

00:30:04.829 --> 00:30:08.588
have seen before.
Now things begin to make sense.

00:30:08.588 --> 00:30:11.250
Intuitively,
what am I saying here?

00:30:11.250 --> 00:30:15.008
All the gammas and other pieces
of crapola aside,

00:30:15.008 --> 00:30:18.062
what am I really saying here in
English?

00:30:18.062 --> 00:30:22.838
What I am saying here is that
if the portion of the output fed

00:30:22.838 --> 00:30:27.615
to the negative input is greater
than that fed to the positive

00:30:27.615 --> 00:30:32.000
input then I have net negative
feedback.

00:30:32.000 --> 00:30:36.918
I have net negative feedback.
I am feeding the output back to

00:30:36.918 --> 00:30:39.950
both the positive and negative
inputs.

00:30:39.950 --> 00:30:44.950
And if my negative input has a
stronger effect then I am going

00:30:44.950 --> 00:30:49.786
to see the op amp output decay
down to a value that I expect

00:30:49.786 --> 00:30:54.049
which is going to be zero.
Notice that since I am not

00:30:54.049 --> 00:30:58.393
applying any input here,
I expect the stable point for

00:30:58.393 --> 00:31:03.919
this to be output going to zero.
I don't have any input there.

00:31:03.919 --> 00:31:06.434
Let's take a look at another
situation.

00:31:06.434 --> 00:31:08.950
What happens when the opposite
is true?

00:31:08.950 --> 00:31:12.458
What happens when gamma minus
is less than gamma plus?

00:31:12.458 --> 00:31:15.702
When I feedback more,
what happens when I do this,

00:31:15.702 --> 00:31:18.548
when gamma plus is greater than
gamma minus?

00:31:18.548 --> 00:31:21.791
The opposite is true.
This means that I am feeding

00:31:21.791 --> 00:31:25.962
back more to the positive input.
A bigger proportion goes to the

00:31:25.962 --> 00:31:30.000
positive than the negative.
What happens then?

00:31:30.000 --> 00:31:34.075
Then what happens is capital T
becomes negative.

00:31:34.075 --> 00:31:39.537
We cannot see this happening on
the RC circuit because capital T

00:31:39.537 --> 00:31:42.832
is equal to RC,
but here we have a more

00:31:42.832 --> 00:31:47.080
complicated circuit and capital
T can go negative.

00:31:47.080 --> 00:31:52.543
If capital T goes negative then
this whole thing in the exponent

00:31:52.543 --> 00:31:56.531
there goes positive.
If that goes positive what

00:31:56.531 --> 00:32:02.613
should the output look like?
It should take off into

00:32:02.613 --> 00:32:05.909
never-never land.
There we go.

00:32:05.909 --> 00:32:11.704
I start off at zero and a make
a small perturbation,

00:32:11.704 --> 00:32:17.386
and the output should go as t
divided by capital T.

00:32:17.386 --> 00:32:23.977
The dynamics of this it goes
berserk, so it is net positive

00:32:23.977 --> 00:32:27.613
feedback.
This is called a stable

00:32:27.613 --> 00:32:31.764
situation.
This is unstable.

00:32:31.764 --> 00:32:36.332
What happens when capital T
goes to infinity?

00:32:36.332 --> 00:32:41.522
When capital T goes to
infinity, spend five seconds

00:32:41.522 --> 00:32:45.570
thinking about what it means
physically.

00:32:45.570 --> 00:32:51.903
What does it mean for the time
constant of an RC circuit to go

00:32:51.903 --> 00:32:56.055
to infinity?
That means that your R and C

00:32:56.055 --> 00:33:00.000
are very, very,
very large.

00:33:00.000 --> 00:33:03.323
That means that circuit is
going to be very,

00:33:03.323 --> 00:33:05.564
very sluggish.
Think elephant.

00:33:05.564 --> 00:33:08.733
A big time constant.
I want to move a leg.

00:33:08.733 --> 00:33:11.669
It takes a while to do that.
Think big.

00:33:11.669 --> 00:33:15.070
Big time constant.
So, everything is going to

00:33:15.070 --> 00:33:18.934
happen really slowly.
It's like moving in molasses.

00:33:18.934 --> 00:33:22.566
Big time constant.
Everything is going to happen

00:33:22.566 --> 00:33:26.585
really, really slowly.
If gamma minus is greater than

00:33:26.585 --> 00:33:30.836
gamma plus with a huge time
constant it is going to look

00:33:30.836 --> 00:33:35.762
like this.
And the output is going to look

00:33:35.762 --> 00:33:38.524
like this.
I make T even larger.

00:33:38.524 --> 00:33:42.000
All right.
It is going to like this.

00:33:47.000 --> 00:33:51.549
I make these so large that T
tends to zero,

00:33:51.549 --> 00:33:57.400
T tends to infinity in which
case I get this situation.

00:33:57.400 --> 00:34:00.284
The output goes dah.
OK?

00:34:00.284 --> 00:34:02.658
Very slow.
Very lethargic.

00:34:02.658 --> 00:34:06.265
Big time constant.
T tends to infinity.

00:34:06.265 --> 00:34:10.253
And so if this is stable,
this is unstable,

00:34:10.253 --> 00:34:13.670
this is called corresponding
neutral.

00:34:13.670 --> 00:34:18.132
And there is a mechanical
analog to all of this.

00:34:18.132 --> 00:34:23.259
You can show that this
situation is akin to let's say I

00:34:23.259 --> 00:34:30.000
had a physical well of the sort
and I had a ball in there.

00:34:30.000 --> 00:34:33.556
I let the ball go.
Then the ball will come down

00:34:33.556 --> 00:34:36.494
here and settle down in a stable
state.

00:34:36.494 --> 00:34:40.979
Any small perturbation of the
ball will get it to come down

00:34:40.979 --> 00:34:44.922
and settle down here.
The unstable situation is this

00:34:44.922 --> 00:34:49.561
situation where I have a ball
sitting up here where any small

00:34:49.561 --> 00:34:54.355
perturbation will get it to zip
down to a positive rail or to a

00:34:54.355 --> 00:34:57.216
negative rail.
So, this is an unstable

00:34:57.216 --> 00:35:02.148
equilibrium situation.
And exactly the reason we got

00:35:02.148 --> 00:35:06.074
this analysis in the static
situation is that this can

00:35:06.074 --> 00:35:08.740
happen.
If I do this circuit here and

00:35:08.740 --> 00:35:13.185
don't perturb it then I could
get the output sitting at zero,

00:35:13.185 --> 00:35:17.703
but the slightest perturbation,
boom, it is going to fall down

00:35:17.703 --> 00:35:20.000
or go up.
What about the neutral

00:35:20.000 --> 00:35:23.259
equilibrium state?
That can be modeled like a

00:35:23.259 --> 00:35:27.851
table top and the ball is here.
It doesn't matter where you go.

00:35:27.851 --> 00:35:32.243
There you are.
How many people saw the

00:35:32.243 --> 00:35:37.317
Buckaroo Bonzi thing?
Possibly well before your time.

00:35:37.317 --> 00:35:39.853
OK.
I have this table here.

00:35:39.853 --> 00:35:45.219
No matter what I do to it,
it just goes and settles down

00:35:45.219 --> 00:35:49.512
where it is, and that is neutral
equilibrium.

00:35:49.512 --> 00:35:55.268
But what this gives you is a
fun view of the dynamics of the

00:35:55.268 --> 00:36:02.000
operational amplifier as I make
small perturbations to it.

00:36:02.000 --> 00:36:06.838
And the even more interesting
thing here is you have the tools

00:36:06.838 --> 00:36:11.597
based on your first order RC
analysis to analyze the dynamics

00:36:11.597 --> 00:36:15.563
of a simple op amp circuit.
OK, so much for theory.

00:36:15.563 --> 00:36:18.181
Now let's get to some action
here.

00:36:18.181 --> 00:36:19.371
All right.
Fine.

00:36:19.371 --> 00:36:22.305
That is really pretty,
good and so on,

00:36:22.305 --> 00:36:26.906
but what can you do for me?
What good does this property do

00:36:26.906 --> 00:36:30.000
for me?
What can I build?

00:36:30.000 --> 00:36:34.591
What we will do is look at the
op amp circuit and focus on the

00:36:34.591 --> 00:36:37.903
situation where I have net
positive feedback.

00:36:37.903 --> 00:36:42.569
In particular just look at this
circuit with R1 and R2 and send

00:36:42.569 --> 00:36:46.182
both to infinity.
So, I have no negative feedback

00:36:46.182 --> 00:36:50.849
and I ground this terminal here
and take a look at what happens

00:36:50.849 --> 00:36:55.139
to a circuit with positive
feedback and see if I can build

00:36:55.139 --> 00:37:01.158
some interesting circuits.
What you are going to do is

00:37:01.158 --> 00:37:06.539
build on a circuit called the
basic comparator.

00:37:06.539 --> 00:37:11.569
What is that?
If I have an op amp that looks

00:37:11.569 --> 00:37:18.471
like this, and remember a VS
rail and minus VS supply there,

00:37:18.471 --> 00:37:23.969
this is v+, this is v-,
I can build a very basic

00:37:23.969 --> 00:37:29.000
comparator by doing the
following.

00:37:29.000 --> 00:37:34.528
All the circuits I am going to
show you are going to build on

00:37:34.528 --> 00:37:39.135
this basic little circuit.
What I am going to do is

00:37:39.135 --> 00:37:43.281
consider applying an input to
the v- terminal,

00:37:43.281 --> 00:37:48.626
applying some sort of an input
and taking a look at how the

00:37:48.626 --> 00:37:52.495
output behaves.
So, I apply some input vIN.

00:37:52.495 --> 00:37:57.010
And if I just do that,
if this is v+ minus v- here

00:37:57.010 --> 00:38:03.000
then I am going to get something
that goes like this.

00:38:03.000 --> 00:38:09.930
That is when this is positive
here then this guy is going to

00:38:09.930 --> 00:38:16.977
go to the VS rail and this guy
is going to go to the minus VS

00:38:16.977 --> 00:38:19.444
rail.
In terms of the,

00:38:19.444 --> 00:38:24.260
if I plot the same thing,
in terms of vIN,

00:38:24.260 --> 00:38:29.898
and this is vOUT,
if I plot the thing in terms of

00:38:29.898 --> 00:38:36.711
vIN then notice that as vIN
increases this guy should go to

00:38:36.711 --> 00:38:42.434
a negative rail.
So, in terms of vIN it looks

00:38:42.434 --> 00:38:45.826
like this.
What this says is that as the

00:38:45.826 --> 00:38:50.869
input becomes more and more
positive applied to v- then the

00:38:50.869 --> 00:38:55.478
output goes to minus VS,
and if the input becomes more

00:38:55.478 --> 00:39:00.000
and more negative then the
output goes to VS.

00:39:00.000 --> 00:39:05.126
This is what is called a very
basic comparator circuit.

00:39:05.126 --> 00:39:10.822
It compares the two inputs and
goes up if the input is in one

00:39:10.822 --> 00:39:16.329
direction and goes to the other
rail if the input is in the

00:39:16.329 --> 00:39:21.075
opposite direction.
So supposing I feed this- I can

00:39:21.075 --> 00:39:26.107
plot this is a function of time.
Let's say I plot vIN.

00:39:26.107 --> 00:39:32.006
Let's say I feed some vIN here.
Let me just call this.

00:39:32.006 --> 00:39:37.477
I feed some vIN to this circuit
here, then what do you expect

00:39:37.477 --> 00:39:41.581
the output to look like,
the output wave form?

00:39:41.581 --> 00:39:45.594
For all positive vINs the
output is negative.

00:39:45.594 --> 00:39:50.792
So, my output vO is going to be
negative as long as vIN is

00:39:50.792 --> 00:39:54.257
positive.
And when vIN becomes negative

00:39:54.257 --> 00:39:59.000
this one shoots up and behaves
like this.

00:39:59.000 --> 00:40:02.242
This is minus VS.
That is plus VS.

00:40:02.242 --> 00:40:07.350
This is my input vIN.
Then this guy is going to be my

00:40:07.350 --> 00:40:11.084
output.
As vIN is positive output slams

00:40:11.084 --> 00:40:15.996
to the negative rail.
When vIN becomes negative the

00:40:15.996 --> 00:40:19.238
output slams to the positive
rail.

00:40:19.238 --> 00:40:24.543
So, that is quite nice.
And so such a circuit is pretty

00:40:24.543 --> 00:40:28.511
useful to me.
Let's say, for example,

00:40:28.511 --> 00:40:32.190
I want to build a little
digital circuit that is fed ones

00:40:32.190 --> 00:40:34.819
and zeros.
I can use a comparator to turn

00:40:34.819 --> 00:40:37.973
my vIN voltage into a sequence
of ones and zeros.

00:40:37.973 --> 00:40:41.981
When vIN is positive I produce
a zero and when vIN is negative

00:40:41.981 --> 00:40:44.281
I produce a one.
I can get this one,

00:40:44.281 --> 00:40:48.355
zero, one, zero sequence coming
out corresponding to the values

00:40:48.355 --> 00:40:50.852
of vIN being greater or less
than zero.

00:40:50.852 --> 00:40:54.860
Now, one problem with something
like this is that this circuit

00:40:54.860 --> 00:40:59.000
can be quite messy in the
following situation.

00:40:59.000 --> 00:41:04.250
Suppose I superimpose a small
amount of noise in vIN.

00:41:04.250 --> 00:41:08.289
In particular,
let's say that I have some

00:41:08.289 --> 00:41:13.641
amount of noise on vIN.
I get a bunch of noise sitting

00:41:13.641 --> 00:41:17.680
around here.
What happens is that at this

00:41:17.680 --> 00:41:22.628
point where the value goes
negative, I do bump up.

00:41:22.628 --> 00:41:30.000
But when for a second I have my
input going above zero again --

00:41:30.000 --> 00:41:34.906
-- this output comes down again
and out here it goes up again.

00:41:34.906 --> 00:41:39.410
I get this nasty behavior at
the point where the input is

00:41:39.410 --> 00:41:42.788
around zero.
When the input is around zero,

00:41:42.788 --> 00:41:46.970
the input is meandering around
zero because of noise,

00:41:46.970 --> 00:41:51.554
I get a huge amount of up and
down glitches on the output.

00:41:51.554 --> 00:41:55.737
That's not very nice.
And we will do a little circuit

00:41:55.737 --> 00:42:00.000
that attempts to fix that little
problem.

00:42:00.000 --> 00:42:04.948
What we are going to do is use
positive feedback.

00:42:04.948 --> 00:42:11.030
And I am going to build you a
circuit that shows that we can

00:42:11.030 --> 00:42:15.463
eliminate this for small noise
on the input.

00:42:15.463 --> 00:42:19.278
So, let's build the following
circuit.

00:42:19.278 --> 00:42:23.402
So I still feed vi to the
negative input,

00:42:23.402 --> 00:42:30.000
but this time around I give it
some positive feedback.

00:42:30.000 --> 00:42:33.387
So, I give it some positive
feedback.

00:42:33.387 --> 00:42:38.938
And what I am going to do is
feedback a portion of vO to the

00:42:38.938 --> 00:42:42.795
positive input.
This is positive feedback.

00:42:42.795 --> 00:42:47.405
And, in particular,
let's assume that VS equals 12

00:42:47.405 --> 00:42:50.322
volts.
And to the negative one I

00:42:50.322 --> 00:42:54.368
connect -VS.
This guy is going to go between

00:42:54.368 --> 00:42:57.943
12 and -12.
And correspondingly because

00:42:57.943 --> 00:43:05.000
these two are equal this one is
going to go between 6 and -6.

00:43:05.000 --> 00:43:08.075
This is going to be a 12 or
-12.

00:43:08.075 --> 00:43:12.242
Remember, the top rail and the
bottom rail.

00:43:12.242 --> 00:43:16.011
And this one is going to be a
+6 or -6.

00:43:16.011 --> 00:43:21.765
And let's understand how this
circuit works when I apply an

00:43:21.765 --> 00:43:25.337
input vIN.
Let's start by saying that

00:43:25.337 --> 00:43:30.000
assume my input is zero for a
moment.

00:43:30.000 --> 00:43:35.025
And let's say my output starts
off being 12 volts.

00:43:35.025 --> 00:43:40.974
The output is 12 volts then the
input here is going to be 6

00:43:40.974 --> 00:43:44.666
volts.
In this case v+ is going to be

00:43:44.666 --> 00:43:47.230
6 volts.
The output is 12,

00:43:47.230 --> 00:43:52.871
v+ is going to be 6 volts.
And my circuit is sitting out

00:43:52.871 --> 00:43:57.692
there doing nothing.
Now, this started off being

00:43:57.692 --> 00:44:02.000
zero.
Let's say vIN increases.

00:44:02.000 --> 00:44:05.066
As vIN begins to increase what
happens?

00:44:05.066 --> 00:44:08.213
Well, nothing until vIN reaches
6 volts.

00:44:08.213 --> 00:44:11.763
Since this is 6,
vIN has to go up to 6 volts,

00:44:11.763 --> 00:44:16.201
has to equal this voltage
before I can flip the circuit.

00:44:16.201 --> 00:44:19.832
What happens when vIN is
greater than 6 volts,

00:44:19.832 --> 00:44:24.432
if vIN goes above 6 then I have
more voltage on a negative

00:44:24.432 --> 00:44:30.000
terminal than the positive so
the op amp flips its state.

00:44:30.000 --> 00:44:36.540
And vO gets to -12 volts.
When vi goes above 6,

00:44:36.540 --> 00:44:42.654
vO gets to 12 volts.
And what does v+ go to?

00:44:42.654 --> 00:44:50.331
In this state v+ goes to half
of -12 which is -6 volts.

00:44:50.331 --> 00:45:00.000
Now, this guy is sitting at -6
and this guy is sitting at -12.

00:45:00.000 --> 00:45:03.603
If this one keeps rising
nothing happens,

00:45:03.603 --> 00:45:07.747
so output can stay at -12.
So I am pretty safe.

00:45:07.747 --> 00:45:10.990
Then let's say v begins to come
down.

00:45:10.990 --> 00:45:15.675
As v begins to come down,
does anything happen when v

00:45:15.675 --> 00:45:19.189
gets to 6 again?
If v is equal to 6 what

00:45:19.189 --> 00:45:22.522
happens?
Nothing because this is at -6

00:45:22.522 --> 00:45:25.495
now.
So, there is still a huge net

00:45:25.495 --> 00:45:30.000
negative voltage here from v+ to
v-.

00:45:30.000 --> 00:45:36.692
And so therefore I sit at -12.
Oh, well, I keep coming down

00:45:36.692 --> 00:45:42.115
until I reach -6.
When I reach -6 here these two

00:45:42.115 --> 00:45:46.615
become equal.
And what happens when this

00:45:46.615 --> 00:45:51.807
becomes less than -6?
v- becomes less than -6.

00:45:51.807 --> 00:45:58.500
If this one goes below this
voltage, this is -6 and this is

00:45:58.500 --> 00:46:02.464
-7.
There is a net positive voltage

00:46:02.464 --> 00:46:06.120
between v+ and v-,
so this output swings to the

00:46:06.120 --> 00:46:10.174
positive rail like so.
We will spend a lot more time

00:46:10.174 --> 00:46:15.182
on this in the next few minutes
to really hammer the point home.

00:46:15.182 --> 00:46:19.951
What is interesting about this
is that even though the moment

00:46:19.951 --> 00:46:24.005
vi became more than 6,
I swung to the positive rail,

00:46:24.005 --> 00:46:28.456
and then I had to go all the
way back down to -6 before I

00:46:28.456 --> 00:46:34.452
could change state.
I had to go way down before it

00:46:34.452 --> 00:46:39.630
could flip again.
How can we make use of that?

00:46:39.630 --> 00:46:46.420
Well, let me draw you a little
vi versus vO diagram and then

00:46:46.420 --> 00:46:50.908
talk about how that can be
useful to us.

00:46:50.908 --> 00:46:55.051
This is vi, this is vO,
this is zero.

00:46:55.051 --> 00:47:00.000
Let's say this is 12,
-12, -6, +6.

00:47:00.000 --> 00:47:04.707
Let's plot that on the screen
and see what it looks like.

00:47:04.707 --> 00:47:08.321
As I told you,
the output was at 12 volts to

00:47:08.321 --> 00:47:11.263
begin with and my input was at
zero.

00:47:11.263 --> 00:47:15.886
So, my input kept increasing.
When the input hit +6 what

00:47:15.886 --> 00:47:20.089
happened to my output?
My output swung down to -12.

00:47:20.089 --> 00:47:23.872
As the input kept increasing
nothing happened.

00:47:23.872 --> 00:47:26.898
This was step one,
this was step two,

00:47:26.898 --> 00:47:31.463
step three.
My input kept increasing and

00:47:31.463 --> 00:47:36.126
output stayed at -12 volts.
Then what I said was well,

00:47:36.126 --> 00:47:41.140
let's bring the input down.
So, my input began to go down,

00:47:41.140 --> 00:47:44.659
step four, became more and more
negative.

00:47:44.659 --> 00:47:47.739
Nothing happened until I
reached -6.

00:47:47.739 --> 00:47:51.697
When I reached -6 I swung
positive, step five.

00:47:51.697 --> 00:47:54.161
Again, one, two,
three, four,

00:47:54.161 --> 00:47:56.272
five.
I am going up here.

00:47:56.272 --> 00:48:01.357
It came up here.
And nothing happens until I

00:48:01.357 --> 00:48:06.160
reach -6, but at -6 boom,
I switch to the positive rail.

00:48:06.160 --> 00:48:10.352
And as I get more and more
negative I stay there.

00:48:10.352 --> 00:48:13.757
Then again, as I start
increasing again,

00:48:13.757 --> 00:48:16.552
nothing happens until I reach
+6.

00:48:16.552 --> 00:48:19.521
Think of that as your seventh
step.

00:48:19.521 --> 00:48:24.935
What is spectacular about this
is that I seem to have a circuit

00:48:24.935 --> 00:48:30.000
that now has some knowledge of
where it came.

00:48:30.000 --> 00:48:33.782
If it is coming from here it
switches at +6,

00:48:33.782 --> 00:48:37.917
but if it is coming from here
it switches at -6.

00:48:37.917 --> 00:48:42.932
So, there seems to be sort of a
lag in the behavior of the

00:48:42.932 --> 00:48:46.979
circuit or some memory property
in the circuit.

00:48:46.979 --> 00:48:50.674
This kind of behavior is called
hysteresis.

00:48:50.674 --> 00:48:54.457
The word comes from magnetic
circuits where,

00:48:54.457 --> 00:49:00.000
or rather elements that you're
trying to magnetize.

00:49:00.000 --> 00:49:04.793
Where if you take a magnet and
move it over a piece of metal it

00:49:04.793 --> 00:49:07.809
may leave some residual
magnetism in it.

00:49:07.809 --> 00:49:11.443
And, in the same way,
that is called hysteresis.

00:49:11.443 --> 00:49:14.613
Same way here.
As the voltage increases it

00:49:14.613 --> 00:49:19.329
seems to leave some residual in
the circuit so that it effects

00:49:19.329 --> 00:49:22.886
when it shifts.
The good news with this is that

00:49:22.886 --> 00:49:27.293
now, if I take the same kind of
noisy wave form that I had

00:49:27.293 --> 00:49:32.662
before and do this --
If this is vi then what is

00:49:32.662 --> 00:49:38.600
going to happen is for vO I am
going to be negative at this

00:49:38.600 --> 00:49:42.286
point.
Nothing happens here because I

00:49:42.286 --> 00:49:47.201
have to get to -6 or +6 before
something happens.

00:49:47.201 --> 00:49:52.935
Out here I get to -6 and I
switch state and go up to +12.

00:49:52.935 --> 00:49:58.259
And then this one comes up
above -6 very slightly out

00:49:58.259 --> 00:50:01.923
there.
Nothing happens because the

00:50:01.923 --> 00:50:05.771
next change will happen only
when the input goes to +6.

00:50:05.771 --> 00:50:09.832
So, if eventually the input
gets to +6 and then I am going

00:50:09.832 --> 00:50:13.395
to change state again.
It is actually a really cool

00:50:13.395 --> 00:50:17.171
property and something that is
completely non-obvious.

00:50:17.171 --> 00:50:20.805
In the last 30 seconds let me
show you a quick demo.

00:50:20.805 --> 00:50:24.867
And, based on this property of
hysteresis, I have actually

00:50:24.867 --> 00:50:29.000
built a little circuit.
Let me do that first.

00:50:29.000 --> 00:50:34.301
Notice here that I am showing
you the input on the X axis vi

00:50:34.301 --> 00:50:38.884
and vO on the Y axis.
Notice how the output switches

00:50:38.884 --> 00:50:43.556
at +6 volts and switches at a -6
volts to +12 or -12.

00:50:43.556 --> 00:50:48.857
That's the hysteresis property.
And we can actually use this

00:50:48.857 --> 00:50:53.620
property to build a clock
circuit, which is on page 9,

00:50:53.620 --> 00:51:00.000
build an oscillator that sits
there and oscillates by itself.

00:51:00.000 --> 00:51:03.666
And you will see details of
that in recitation tomorrow.

