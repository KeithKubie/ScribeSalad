WEBVTT
Kind: captions
Language: en

00:00:00.319 --> 00:00:02.720
hi my name is Lisa Raye and I'm a

00:00:02.720 --> 00:00:02.730
hi my name is Lisa Raye and I'm a
 

00:00:02.730 --> 00:00:04.640
hi my name is Lisa Raye and I'm a
developer advocate at Google today I'm

00:00:04.640 --> 00:00:04.650
developer advocate at Google today I'm
 

00:00:04.650 --> 00:00:06.760
developer advocate at Google today I'm
going to talk about media route provider

00:00:06.760 --> 00:00:06.770
going to talk about media route provider
 

00:00:06.770 --> 00:00:09.140
going to talk about media route provider
in the last episode we talked about the

00:00:09.140 --> 00:00:09.150
in the last episode we talked about the
 

00:00:09.150 --> 00:00:10.910
in the last episode we talked about the
Android support library media router

00:00:10.910 --> 00:00:10.920
Android support library media router
 

00:00:10.920 --> 00:00:12.890
Android support library media router
that was the first part of our series on

00:00:12.890 --> 00:00:12.900
that was the first part of our series on
 

00:00:12.900 --> 00:00:14.990
that was the first part of our series on
the media router framework the API for

00:00:14.990 --> 00:00:15.000
the media router framework the API for
 

00:00:15.000 --> 00:00:17.029
the media router framework the API for
any Android app to cast its content via

00:00:17.029 --> 00:00:17.039
any Android app to cast its content via
 

00:00:17.039 --> 00:00:18.910
any Android app to cast its content via
supported media routes to remote devices

00:00:18.910 --> 00:00:18.920
supported media routes to remote devices
 

00:00:18.920 --> 00:00:22.040
supported media routes to remote devices
in this episode I'm gonna cover media

00:00:22.040 --> 00:00:22.050
in this episode I'm gonna cover media
 

00:00:22.050 --> 00:00:24.259
in this episode I'm gonna cover media
route provider a media route provider

00:00:24.259 --> 00:00:24.269
route provider a media route provider
 

00:00:24.269 --> 00:00:26.000
route provider a media route provider
can be used by other applications to

00:00:26.000 --> 00:00:26.010
can be used by other applications to
 

00:00:26.010 --> 00:00:27.679
can be used by other applications to
control media content playback equipment

00:00:27.679 --> 00:00:27.689
control media content playback equipment
 

00:00:27.689 --> 00:00:30.320
control media content playback equipment
such as TVs stereos and home theatre

00:00:30.320 --> 00:00:30.330
such as TVs stereos and home theatre
 

00:00:30.330 --> 00:00:32.479
such as TVs stereos and home theatre
components if you are a device

00:00:32.479 --> 00:00:32.489
components if you are a device
 

00:00:32.489 --> 00:00:34.430
components if you are a device
manufacturer then this devbyte is for

00:00:34.430 --> 00:00:34.440
manufacturer then this devbyte is for
 

00:00:34.440 --> 00:00:36.799
manufacturer then this devbyte is for
you makers and media devices can publish

00:00:36.799 --> 00:00:36.809
you makers and media devices can publish
 

00:00:36.809 --> 00:00:38.209
you makers and media devices can publish
their products as media routes on

00:00:38.209 --> 00:00:38.219
their products as media routes on
 

00:00:38.219 --> 00:00:40.220
their products as media routes on
Android by implementing their own Mr P's

00:00:40.220 --> 00:00:40.230
Android by implementing their own Mr P's
 

00:00:40.230 --> 00:00:42.260
Android by implementing their own Mr P's
the providers can then be plugged into

00:00:42.260 --> 00:00:42.270
the providers can then be plugged into
 

00:00:42.270 --> 00:00:43.700
the providers can then be plugged into
the framework and presented to any

00:00:43.700 --> 00:00:43.710
the framework and presented to any
 

00:00:43.710 --> 00:00:45.529
the framework and presented to any
Android application that supports media

00:00:45.529 --> 00:00:45.539
Android application that supports media
 

00:00:45.539 --> 00:00:47.750
Android application that supports media
routes this approach allows applications

00:00:47.750 --> 00:00:47.760
routes this approach allows applications
 

00:00:47.760 --> 00:00:49.369
routes this approach allows applications
to control content playback equipment

00:00:49.369 --> 00:00:49.379
to control content playback equipment
 

00:00:49.379 --> 00:00:51.200
to control content playback equipment
without knowing the specific and

00:00:51.200 --> 00:00:51.210
without knowing the specific and
 

00:00:51.210 --> 00:00:53.090
without knowing the specific and
possibly proprietary interfaces to

00:00:53.090 --> 00:00:53.100
possibly proprietary interfaces to
 

00:00:53.100 --> 00:00:55.360
possibly proprietary interfaces to
manufacturers playback equipment a

00:00:55.360 --> 00:00:55.370
manufacturers playback equipment a
 

00:00:55.370 --> 00:00:57.410
manufacturers playback equipment a
sample implementation of media wrap

00:00:57.410 --> 00:00:57.420
sample implementation of media wrap
 

00:00:57.420 --> 00:00:59.630
sample implementation of media wrap
provider is the Google cast SDK which

00:00:59.630 --> 00:00:59.640
provider is the Google cast SDK which
 

00:00:59.640 --> 00:01:01.430
provider is the Google cast SDK which
allows apps to cast content to Google

00:01:01.430 --> 00:01:01.440
allows apps to cast content to Google
 

00:01:01.440 --> 00:01:03.319
allows apps to cast content to Google
cast compatible receiver devices such as

00:01:03.319 --> 00:01:03.329
cast compatible receiver devices such as
 

00:01:03.329 --> 00:01:05.420
cast compatible receiver devices such as
chromecast if you've used one you know

00:01:05.420 --> 00:01:05.430
chromecast if you've used one you know
 

00:01:05.430 --> 00:01:07.039
chromecast if you've used one you know
how satisfying it is to cast a video

00:01:07.039 --> 00:01:07.049
how satisfying it is to cast a video
 

00:01:07.049 --> 00:01:08.480
how satisfying it is to cast a video
from your mobile device to the big

00:01:08.480 --> 00:01:08.490
from your mobile device to the big
 

00:01:08.490 --> 00:01:12.109
from your mobile device to the big
screen first an important note the media

00:01:12.109 --> 00:01:12.119
screen first an important note the media
 

00:01:12.119 --> 00:01:13.820
screen first an important note the media
router framework we're examining here is

00:01:13.820 --> 00:01:13.830
router framework we're examining here is
 

00:01:13.830 --> 00:01:15.170
router framework we're examining here is
the one in the support library which

00:01:15.170 --> 00:01:15.180
the one in the support library which
 

00:01:15.180 --> 00:01:16.580
the one in the support library which
means that is backward compatible with

00:01:16.580 --> 00:01:16.590
means that is backward compatible with
 

00:01:16.590 --> 00:01:19.910
means that is backward compatible with
Android 2.1 and above it supersedes the

00:01:19.910 --> 00:01:19.920
Android 2.1 and above it supersedes the
 

00:01:19.920 --> 00:01:21.170
Android 2.1 and above it supersedes the
media router classes in the android

00:01:21.170 --> 00:01:21.180
media router classes in the android
 

00:01:21.180 --> 00:01:22.429
media router classes in the android
framework meaning that you should not

00:01:22.429 --> 00:01:22.439
framework meaning that you should not
 

00:01:22.439 --> 00:01:24.950
framework meaning that you should not
use them use the classes in the v7 media

00:01:24.950 --> 00:01:24.960
use them use the classes in the v7 media
 

00:01:24.960 --> 00:01:28.760
use them use the classes in the v7 media
router library instead so how do we get

00:01:28.760 --> 00:01:28.770
router library instead so how do we get
 

00:01:28.770 --> 00:01:29.120
router library instead so how do we get
started

00:01:29.120 --> 00:01:29.130
started
 

00:01:29.130 --> 00:01:31.280
started
subclass media rep provider and in the

00:01:31.280 --> 00:01:31.290
subclass media rep provider and in the
 

00:01:31.290 --> 00:01:32.810
subclass media rep provider and in the
constructor we register one or more

00:01:32.810 --> 00:01:32.820
constructor we register one or more
 

00:01:32.820 --> 00:01:34.370
constructor we register one or more
media routes using a media route

00:01:34.370 --> 00:01:34.380
media routes using a media route
 

00:01:34.380 --> 00:01:37.730
media routes using a media route
descriptor each route needs control

00:01:37.730 --> 00:01:37.740
descriptor each route needs control
 

00:01:37.740 --> 00:01:39.530
descriptor each route needs control
intent filters these filters tell

00:01:39.530 --> 00:01:39.540
intent filters these filters tell
 

00:01:39.540 --> 00:01:40.940
intent filters these filters tell
applications that use your route what

00:01:40.940 --> 00:01:40.950
applications that use your route what
 

00:01:40.950 --> 00:01:42.170
applications that use your route what
types of features are supported

00:01:42.170 --> 00:01:42.180
types of features are supported
 

00:01:42.180 --> 00:01:43.670
types of features are supported
including playback controls like play

00:01:43.670 --> 00:01:43.680
including playback controls like play
 

00:01:43.680 --> 00:01:46.429
including playback controls like play
pause rewind fast-forward etc cueing

00:01:46.429 --> 00:01:46.439
pause rewind fast-forward etc cueing
 

00:01:46.439 --> 00:01:48.020
pause rewind fast-forward etc cueing
features or playlist management and

00:01:48.020 --> 00:01:48.030
features or playlist management and
 

00:01:48.030 --> 00:01:50.300
features or playlist management and
session features meaning Android device

00:01:50.300 --> 00:01:50.310
session features meaning Android device
 

00:01:50.310 --> 00:01:52.480
session features meaning Android device
to playback device connection management

00:01:52.480 --> 00:01:52.490
to playback device connection management
 

00:01:52.490 --> 00:01:55.069
to playback device connection management
you can also set many other capabilities

00:01:55.069 --> 00:01:55.079
you can also set many other capabilities
 

00:01:55.079 --> 00:01:56.810
you can also set many other capabilities
of the route such as the playback type

00:01:56.810 --> 00:01:56.820
of the route such as the playback type
 

00:01:56.820 --> 00:01:58.219
of the route such as the playback type
which can be remote playback or

00:01:58.219 --> 00:01:58.229
which can be remote playback or
 

00:01:58.229 --> 00:02:00.380
which can be remote playback or
secondary output the media type can be

00:02:00.380 --> 00:02:00.390
secondary output the media type can be
 

00:02:00.390 --> 00:02:02.749
secondary output the media type can be
audio or video the volume can be fixed

00:02:02.749 --> 00:02:02.759
audio or video the volume can be fixed
 

00:02:02.759 --> 00:02:05.149
audio or video the volume can be fixed
or variable and intent filters we just

00:02:05.149 --> 00:02:05.159
or variable and intent filters we just
 

00:02:05.159 --> 00:02:06.950
or variable and intent filters we just
discussed defined playback controls such

00:02:06.950 --> 00:02:06.960
discussed defined playback controls such
 

00:02:06.960 --> 00:02:08.570
discussed defined playback controls such
as basic play controls cueing and

00:02:08.570 --> 00:02:08.580
as basic play controls cueing and
 

00:02:08.580 --> 00:02:10.030
as basic play controls cueing and
session management

00:02:10.030 --> 00:02:10.040
session management
 

00:02:10.040 --> 00:02:12.080
session management
next you need to implement a route

00:02:12.080 --> 00:02:12.090
next you need to implement a route
 

00:02:12.090 --> 00:02:13.670
next you need to implement a route
controller class that extends media

00:02:13.670 --> 00:02:13.680
controller class that extends media
 

00:02:13.680 --> 00:02:15.770
controller class that extends media
route provider route controller this

00:02:15.770 --> 00:02:15.780
route provider route controller this
 

00:02:15.780 --> 00:02:17.630
route provider route controller this
class handles the actual media control

00:02:17.630 --> 00:02:17.640
class handles the actual media control
 

00:02:17.640 --> 00:02:18.800
class handles the actual media control
requests from other applications

00:02:18.800 --> 00:02:18.810
requests from other applications
 

00:02:18.810 --> 00:02:20.810
requests from other applications
supported by your route anything you

00:02:20.810 --> 00:02:20.820
supported by your route anything you
 

00:02:20.820 --> 00:02:22.550
supported by your route anything you
defined in your intent filters including

00:02:22.550 --> 00:02:22.560
defined in your intent filters including
 

00:02:22.560 --> 00:02:24.590
defined in your intent filters including
playback controls cueing and session

00:02:24.590 --> 00:02:24.600
playback controls cueing and session
 

00:02:24.600 --> 00:02:26.810
playback controls cueing and session
features this route controller class

00:02:26.810 --> 00:02:26.820
features this route controller class
 

00:02:26.820 --> 00:02:28.640
features this route controller class
accesses the wrapper for the proprietary

00:02:28.640 --> 00:02:28.650
accesses the wrapper for the proprietary
 

00:02:28.650 --> 00:02:29.960
accesses the wrapper for the proprietary
interface to your media playback

00:02:29.960 --> 00:02:29.970
interface to your media playback
 

00:02:29.970 --> 00:02:31.790
interface to your media playback
equipment this is where the magic

00:02:31.790 --> 00:02:31.800
equipment this is where the magic
 

00:02:31.800 --> 00:02:32.390
equipment this is where the magic
happens

00:02:32.390 --> 00:02:32.400
happens
 

00:02:32.400 --> 00:02:33.770
happens
your implementation will depend on your

00:02:33.770 --> 00:02:33.780
your implementation will depend on your
 

00:02:33.780 --> 00:02:36.410
your implementation will depend on your
specific media device and finally it

00:02:36.410 --> 00:02:36.420
specific media device and finally it
 

00:02:36.420 --> 00:02:37.940
specific media device and finally it
should be instantiated in this helpfully

00:02:37.940 --> 00:02:37.950
should be instantiated in this helpfully
 

00:02:37.950 --> 00:02:39.800
should be instantiated in this helpfully
named method oncreate route controller

00:02:39.800 --> 00:02:39.810
named method oncreate route controller
 

00:02:39.810 --> 00:02:43.850
named method oncreate route controller
of your media route provider next is the

00:02:43.850 --> 00:02:43.860
of your media route provider next is the
 

00:02:43.860 --> 00:02:45.350
of your media route provider next is the
service wrapper to enable other

00:02:45.350 --> 00:02:45.360
service wrapper to enable other
 

00:02:45.360 --> 00:02:46.610
service wrapper to enable other
applications to use the provider

00:02:46.610 --> 00:02:46.620
applications to use the provider
 

00:02:46.620 --> 00:02:48.350
applications to use the provider
immediate provider should be wrapped in

00:02:48.350 --> 00:02:48.360
immediate provider should be wrapped in
 

00:02:48.360 --> 00:02:50.510
immediate provider should be wrapped in
a service to do this extend the media

00:02:50.510 --> 00:02:50.520
a service to do this extend the media
 

00:02:50.520 --> 00:02:52.490
a service to do this extend the media
route provider service class and provide

00:02:52.490 --> 00:02:52.500
route provider service class and provide
 

00:02:52.500 --> 00:02:53.960
route provider service class and provide
an instance of your media route provider

00:02:53.960 --> 00:02:53.970
an instance of your media route provider
 

00:02:53.970 --> 00:02:57.140
an instance of your media route provider
from within the class you can make a

00:02:57.140 --> 00:02:57.150
from within the class you can make a
 

00:02:57.150 --> 00:02:58.670
from within the class you can make a
media rep provider private within the

00:02:58.670 --> 00:02:58.680
media rep provider private within the
 

00:02:58.680 --> 00:03:00.470
media rep provider private within the
scope of an app by simply calling media

00:03:00.470 --> 00:03:00.480
scope of an app by simply calling media
 

00:03:00.480 --> 00:03:01.700
scope of an app by simply calling media
router ad provider

00:03:01.700 --> 00:03:01.710
router ad provider
 

00:03:01.710 --> 00:03:03.470
router ad provider
no service needed but in this example

00:03:03.470 --> 00:03:03.480
no service needed but in this example
 

00:03:03.480 --> 00:03:04.580
no service needed but in this example
we'll make the media rep provider

00:03:04.580 --> 00:03:04.590
we'll make the media rep provider
 

00:03:04.590 --> 00:03:07.520
we'll make the media rep provider
available to all apps on the device to

00:03:07.520 --> 00:03:07.530
available to all apps on the device to
 

00:03:07.530 --> 00:03:09.020
available to all apps on the device to
do this our application must declare in

00:03:09.020 --> 00:03:09.030
do this our application must declare in
 

00:03:09.030 --> 00:03:10.820
do this our application must declare in
the manifest a service declaration for

00:03:10.820 --> 00:03:10.830
the manifest a service declaration for
 

00:03:10.830 --> 00:03:12.680
the manifest a service declaration for
the media rep provider with an intent

00:03:12.680 --> 00:03:12.690
the media rep provider with an intent
 

00:03:12.690 --> 00:03:14.720
the media rep provider with an intent
filter for Android media media route

00:03:14.720 --> 00:03:14.730
filter for Android media media route
 

00:03:14.730 --> 00:03:16.760
filter for Android media media route
provider service this service is the

00:03:16.760 --> 00:03:16.770
provider service this service is the
 

00:03:16.770 --> 00:03:18.910
provider service this service is the
same one we just looked at

00:03:18.910 --> 00:03:18.920
same one we just looked at
 

00:03:18.920 --> 00:03:20.870
same one we just looked at
finally the provider should watch for

00:03:20.870 --> 00:03:20.880
finally the provider should watch for
 

00:03:20.880 --> 00:03:22.670
finally the provider should watch for
changes to the discovery request by

00:03:22.670 --> 00:03:22.680
changes to the discovery request by
 

00:03:22.680 --> 00:03:24.140
changes to the discovery request by
implementing on discovery request

00:03:24.140 --> 00:03:24.150
implementing on discovery request
 

00:03:24.150 --> 00:03:26.120
implementing on discovery request
changed in this method we kick off an

00:03:26.120 --> 00:03:26.130
changed in this method we kick off an
 

00:03:26.130 --> 00:03:27.770
changed in this method we kick off an
update of the media routes the provider

00:03:27.770 --> 00:03:27.780
update of the media routes the provider
 

00:03:27.780 --> 00:03:29.660
update of the media routes the provider
describes by finding the routes that

00:03:29.660 --> 00:03:29.670
describes by finding the routes that
 

00:03:29.670 --> 00:03:31.760
describes by finding the routes that
satisfy the new criteria specified by

00:03:31.760 --> 00:03:31.770
satisfy the new criteria specified by
 

00:03:31.770 --> 00:03:34.070
satisfy the new criteria specified by
the current request to publish them we

00:03:34.070 --> 00:03:34.080
the current request to publish them we
 

00:03:34.080 --> 00:03:35.600
the current request to publish them we
create a new media route provider

00:03:35.600 --> 00:03:35.610
create a new media route provider
 

00:03:35.610 --> 00:03:37.550
create a new media route provider
descriptor with information about each

00:03:37.550 --> 00:03:37.560
descriptor with information about each
 

00:03:37.560 --> 00:03:40.070
descriptor with information about each
route and call set descriptor again this

00:03:40.070 --> 00:03:40.080
route and call set descriptor again this
 

00:03:40.080 --> 00:03:41.390
route and call set descriptor again this
notifies the currently registered

00:03:41.390 --> 00:03:41.400
notifies the currently registered
 

00:03:41.400 --> 00:03:43.310
notifies the currently registered
callback and this process usually

00:03:43.310 --> 00:03:43.320
callback and this process usually
 

00:03:43.320 --> 00:03:46.699
callback and this process usually
happens asynchronously if you are a

00:03:46.699 --> 00:03:46.709
happens asynchronously if you are a
 

00:03:46.709 --> 00:03:48.410
happens asynchronously if you are a
manufacturer of media playback devices

00:03:48.410 --> 00:03:48.420
manufacturer of media playback devices
 

00:03:48.420 --> 00:03:50.090
manufacturer of media playback devices
or you work with one the media rep

00:03:50.090 --> 00:03:50.100
or you work with one the media rep
 

00:03:50.100 --> 00:03:52.250
or you work with one the media rep
provider is for you Android devices

00:03:52.250 --> 00:03:52.260
provider is for you Android devices
 

00:03:52.260 --> 00:03:54.080
provider is for you Android devices
everywhere can be casting to your MRP

00:03:54.080 --> 00:03:54.090
everywhere can be casting to your MRP
 

00:03:54.090 --> 00:03:55.910
everywhere can be casting to your MRP
shortly please take a look at the docs

00:03:55.910 --> 00:03:55.920
shortly please take a look at the docs
 

00:03:55.920 --> 00:03:58.160
shortly please take a look at the docs
and sample code and get started my name

00:03:58.160 --> 00:03:58.170
and sample code and get started my name
 

00:03:58.170 --> 00:04:01.670
and sample code and get started my name
is Lisa Wray thanks for watching

