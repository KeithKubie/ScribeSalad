WEBVTT
Kind: captions
Language: en

00:00:16.290 --> 00:00:17.630
ROBBIE: Hey, dad.

00:00:17.630 --> 00:00:18.810
DAD: Why hi, son.

00:00:18.810 --> 00:00:19.810
Something bothering you?

00:00:19.810 --> 00:00:23.842
Your get up and go seems
to have got up and left.

00:00:23.842 --> 00:00:25.880
ROBBIE: Eddie Clark
was making fun of me

00:00:25.880 --> 00:00:30.400
today because he's got
CocoaPods in his Xcode project

00:00:30.400 --> 00:00:33.280
and I don't have any.

00:00:33.280 --> 00:00:35.160
What am I going to do?

00:00:35.160 --> 00:00:37.920
DAD: Son, I think it's
time we had a talk.

00:00:37.920 --> 00:00:39.469
You're getting
older now, and I'm

00:00:39.469 --> 00:00:41.260
guessing you've started
noticing the allure

00:00:41.260 --> 00:00:44.550
of certain
third-party libraries.

00:00:44.550 --> 00:00:47.390
ROBBIE: AFNetworking has been
kind of nice to me lately.

00:00:47.390 --> 00:00:51.570
And oh gosh, I guess I do
sort of like Google Analytics.

00:00:51.570 --> 00:00:55.150
But I think I'd be too
scared to talk to them.

00:00:55.150 --> 00:00:57.070
DAD: Son, I won't lie.

00:00:57.070 --> 00:01:00.870
Integrating with a third-party
library, It isn't always easy.

00:01:00.870 --> 00:01:03.060
You have to download
frameworks and bundles

00:01:03.060 --> 00:01:05.340
and import them into
your Xcode project.

00:01:05.340 --> 00:01:06.970
You probably need
to link your binary

00:01:06.970 --> 00:01:10.040
and add a new iOS
linker flag or two.

00:01:10.040 --> 00:01:12.100
And, well, heck, if
this library depends

00:01:12.100 --> 00:01:14.530
on any other
frameworks, well, you're

00:01:14.530 --> 00:01:18.445
going to have to do it all over
again with those libraries.

00:01:18.445 --> 00:01:20.430
It wasn't that funny.

00:01:20.430 --> 00:01:22.960
Anyway, keeping these things
up to date isn't easy either.

00:01:22.960 --> 00:01:24.440
You have to go on
onto the internet

00:01:24.440 --> 00:01:26.981
and see if anything has changed,
and repeat the whole process

00:01:26.981 --> 00:01:28.280
all over again.

00:01:28.280 --> 00:01:31.310
ROBBIE: Gosh, dad, that just
sounds like a bunch of work.

00:01:31.310 --> 00:01:33.236
DAD: Well, there
are a lot of steps.

00:01:33.236 --> 00:01:34.610
And if you're not
careful, you're

00:01:34.610 --> 00:01:36.443
going to end up making
some pretty confusing

00:01:36.443 --> 00:01:38.490
little mistakes, like this one.

00:01:38.490 --> 00:01:43.210
Oh, instance 7fe5b1, I'm
sorry I let you down.

00:01:43.210 --> 00:01:46.132
ROBBIE: Gee, dad, this
just sounds too scary.

00:01:46.132 --> 00:01:46.965
Forget I even asked.

00:01:46.965 --> 00:01:48.200
DAD: Well, not so fast, son.

00:01:48.200 --> 00:01:50.640
You see, this is where
CocoaPods comes in.

00:01:50.640 --> 00:01:53.270
CocoaPods is a dependency
manager written specifically

00:01:53.270 --> 00:01:57.200
for adding third-party libraries
to your iOS application.

00:01:57.200 --> 00:01:57.930
ROBBIE: Really?

00:01:57.930 --> 00:01:59.070
Well, how does that work?

00:01:59.070 --> 00:01:59.920
DAD: Well, come with me.

00:01:59.920 --> 00:02:00.503
I'll show you.

00:02:05.822 --> 00:02:06.780
So now you see, Robbie.

00:02:06.780 --> 00:02:09.360
Oh, good thing I
have this on me.

00:02:09.360 --> 00:02:12.790
The author of a library is going
to write a Podspec file that

00:02:12.790 --> 00:02:15.220
specifies everything you
as a developer would need

00:02:15.220 --> 00:02:17.740
to properly install it--
what files are required

00:02:17.740 --> 00:02:19.750
and where they live,
what iOS libraries

00:02:19.750 --> 00:02:21.370
you might need to
run it, if there

00:02:21.370 --> 00:02:24.380
any pre or post-processing
stops, and much more.

00:02:24.380 --> 00:02:25.970
Now, you as a developer
don't actually

00:02:25.970 --> 00:02:28.520
need to care about most
of this, although I do

00:02:28.520 --> 00:02:29.670
think it's interesting.

00:02:29.670 --> 00:02:32.420
You just need to know the
name of this Podspec file,

00:02:32.420 --> 00:02:34.810
and optionally, if
there's a specific version

00:02:34.810 --> 00:02:36.240
you want to be using.

00:02:36.240 --> 00:02:38.280
See, you're going to
create your own file,

00:02:38.280 --> 00:02:41.470
called a Podfile, that lists
the names of the Podspecs

00:02:41.470 --> 00:02:43.250
that represent the
libraries you want

00:02:43.250 --> 00:02:45.110
to use with your application.

00:02:45.110 --> 00:02:47.320
Then CocoaPods takes
care of the rest.

00:02:47.320 --> 00:02:49.140
We here at Google
like it so much,

00:02:49.140 --> 00:02:52.010
heck, you might even say
we're cuckoo for CocoaPods.

00:02:52.010 --> 00:02:54.590
ROBBIE: I don't
get that reference.

00:02:54.590 --> 00:02:56.060
DAD: You will in a few years.

00:02:56.060 --> 00:02:58.160
We like it so much that
Google is now making it

00:02:58.160 --> 00:03:01.140
the official way we distribute a
growing number of our libraries

00:03:01.140 --> 00:03:05.150
to the world, including AdMob,
Google Sign-in, and Google

00:03:05.150 --> 00:03:06.360
Analytics.

00:03:06.360 --> 00:03:06.860
ROBBIE: Wow.

00:03:06.860 --> 00:03:08.381
So how do we get started?

00:03:08.381 --> 00:03:10.005
DAD: Well, Robbie,
perhaps the best way

00:03:10.005 --> 00:03:11.640
to understand the
beauty of CocoaPods

00:03:11.640 --> 00:03:12.960
is to see it for yourself.

00:03:12.960 --> 00:03:14.850
Here, we'll use my laptop.

00:03:20.720 --> 00:03:23.350
So Robbie, if you've never
used CocoaPods before,

00:03:23.350 --> 00:03:25.060
the first step is to install it.

00:03:25.060 --> 00:03:26.560
We're going to be
using the RubyGems

00:03:26.560 --> 00:03:28.239
tool to install CocoaPods.

00:03:28.239 --> 00:03:29.030
Yeah, that's right.

00:03:29.030 --> 00:03:31.350
We're going to be using a
dependency manager to install

00:03:31.350 --> 00:03:32.775
a dependency manager.

00:03:32.775 --> 00:03:35.720
ROBBIE: It must go
deeper, huh, dad?

00:03:35.720 --> 00:03:38.103
DAD: Yeah, that movie hasn't
been written yet, Robbie.

00:03:38.103 --> 00:03:42.020
Anyway, go ahead and open up
your favorite terminal program.

00:03:42.020 --> 00:03:43.295
iTerm2, good choice.

00:03:43.295 --> 00:03:44.920
Now, the first thing
we want to do here

00:03:44.920 --> 00:03:46.670
is make sure your Gems
tool is up to date.

00:03:46.670 --> 00:03:51.540
So go ahead and type sudo
gem update - - system.

00:03:51.540 --> 00:03:53.630
And you can enter
your password there.

00:03:53.630 --> 00:03:54.610
ROBBIE: OK.

00:03:54.610 --> 00:03:56.070
Hunter two.

00:03:56.070 --> 00:03:57.550
DAD: That's your password?

00:03:57.550 --> 00:03:58.530
All right.

00:03:58.530 --> 00:04:00.900
Well, depending on how old
your version of Gems is,

00:04:00.900 --> 00:04:03.150
it might need to
update some things.

00:04:03.150 --> 00:04:06.480
But once that's done, you can
use Gem to install CocoaPods.

00:04:06.480 --> 00:04:10.900
So you'll type sudo
gem install cocoapods.

00:04:10.900 --> 00:04:13.120
And that will install
the CocoaPods tool.

00:04:13.120 --> 00:04:15.060
This might take a while,
so don't worry if it

00:04:15.060 --> 00:04:17.209
looks like your system is hung.

00:04:17.209 --> 00:04:19.772
ROBBIE: Gosh, this is
taking a long time.

00:04:19.772 --> 00:04:20.480
DAD: Yeah, it is.

00:04:20.480 --> 00:04:22.554
Let's skip ahead here.

00:04:22.554 --> 00:04:23.610
That's better.

00:04:23.610 --> 00:04:25.610
Now, you're going to type
one more command here.

00:04:25.610 --> 00:04:27.785
You're going to type pod setup.

00:04:27.785 --> 00:04:31.000
And this is going to download
every single Podspec file,

00:04:31.000 --> 00:04:34.450
over 8,000 of them, from the
official CocoaPods repository

00:04:34.450 --> 00:04:35.592
to your machine.

00:04:35.592 --> 00:04:36.300
Now, don't worry.

00:04:36.300 --> 00:04:38.240
These automatically get
updated in the future,

00:04:38.240 --> 00:04:40.460
so you only need
to do this once.

00:04:40.460 --> 00:04:40.960
All right.

00:04:40.960 --> 00:04:43.100
Once that's done,
we're ready to go.

00:04:43.100 --> 00:04:45.950
Next, let's create a simple
application in Xcode.

00:04:45.950 --> 00:04:48.330
Just go ahead and create a
simple single view application

00:04:48.330 --> 00:04:49.490
here.

00:04:49.490 --> 00:04:51.477
And now you can quit Xcode.

00:04:51.477 --> 00:04:52.810
ROBBIE: Well, that was exciting.

00:04:52.810 --> 00:04:53.976
DAD: Don't be a smart aleck.

00:04:56.960 --> 00:04:59.640
Now we're going to navigate to
the project you just created.

00:04:59.640 --> 00:05:02.220
You want to be in the same
directory as our Xcode project.

00:05:02.220 --> 00:05:05.476
And here, we get to create
our very own pod file.

00:05:05.476 --> 00:05:07.850
Now, we could have CocoaPods
create a slightly filled out

00:05:07.850 --> 00:05:10.230
version for us by
typing pod init,

00:05:10.230 --> 00:05:12.260
or we can start
with an empty file.

00:05:12.260 --> 00:05:14.870
Let's do that
because it's easier.

00:05:14.870 --> 00:05:17.940
So now go ahead and
edit this empty file.

00:05:17.940 --> 00:05:19.940
And there are really only
a couple lines of text

00:05:19.940 --> 00:05:21.344
you're going to
need to add here.

00:05:21.344 --> 00:05:23.760
First, you need to tell CocaPods
pods what platform you're

00:05:23.760 --> 00:05:29.420
running on by typing platform:
iOS, and then in quotes, "7.0."

00:05:29.420 --> 00:05:31.050
And this says we're
building on iOS

00:05:31.050 --> 00:05:33.720
and 7.0 is our
deployment target.

00:05:33.720 --> 00:05:34.991
ROBBIE: Deployment target?

00:05:34.991 --> 00:05:35.490
DAD: Right.

00:05:35.490 --> 00:05:37.780
See, that's the
minimum iOS target

00:05:37.780 --> 00:05:39.512
that your app is
going to support.

00:05:39.512 --> 00:05:41.970
It's something every developer
sets in their Xcode project,

00:05:41.970 --> 00:05:44.020
and we need to make
sure we list it here.

00:05:44.020 --> 00:05:45.140
ROBBIE: Why?

00:05:45.140 --> 00:05:46.800
DAD: Well, libraries
might only work

00:05:46.800 --> 00:05:48.670
on certain versions of iOS.

00:05:48.670 --> 00:05:51.220
You need to tell CocoaPods
the oldest version of iOS

00:05:51.220 --> 00:05:53.690
your project is going to
support so that it can point out

00:05:53.690 --> 00:05:55.530
problems to you ahead of time.

00:05:55.530 --> 00:05:58.029
Now we can list the
podspecs we want to add.

00:05:58.029 --> 00:05:59.820
Now what was that
delightful little library

00:05:59.820 --> 00:06:01.160
you're keeping your eye on?

00:06:01.160 --> 00:06:04.070
ROBBIE: Aw shucks,
it was AFNetworking.

00:06:04.070 --> 00:06:04.800
DAD: Ah yes.

00:06:04.800 --> 00:06:05.300
All right.

00:06:05.300 --> 00:06:06.591
Well, let's add that one first.

00:06:06.591 --> 00:06:09.800
Now, the thing is, we don't know
for sure what AFNetworking's

00:06:09.800 --> 00:06:11.050
podspec is named.

00:06:11.050 --> 00:06:13.250
There's no real
industry standard there.

00:06:13.250 --> 00:06:15.690
Luckily, there are ways
to figure this out.

00:06:15.690 --> 00:06:18.760
One way is to use the pod search
command from the command line.

00:06:18.760 --> 00:06:23.154
So go ahead and type
pod search AFNetworking.

00:06:23.154 --> 00:06:23.695
ROBBIE: Whoa.

00:06:23.695 --> 00:06:25.384
That's a lot of results.

00:06:25.384 --> 00:06:27.800
DAD: Well yeah, but it looks
like this first one is simply

00:06:27.800 --> 00:06:30.150
called AFNetworking is
the one that we need.

00:06:30.150 --> 00:06:31.840
ROBBIE: Well, what
are these others?

00:06:31.840 --> 00:06:34.372
DAD: You mean things like
AFNetworking-Synchronous?

00:06:34.372 --> 00:06:35.830
These are mostly
categories written

00:06:35.830 --> 00:06:38.340
by other developers that
extend the capabilities

00:06:38.340 --> 00:06:39.860
of AFNetworking.

00:06:39.860 --> 00:06:42.660
But we just want the main
AFNetworking CocoaPod.

00:06:42.660 --> 00:06:44.350
And as we can see
here, you can get that

00:06:44.350 --> 00:06:48.890
by adding the line pod
afnetworking to our pod file.

00:06:48.890 --> 00:06:51.406
ROBBIE: Oh, oh, can we
add Google Analytics next?

00:06:51.406 --> 00:06:51.905
Can we?

00:06:51.905 --> 00:06:52.580
DAD: Yes, yes.

00:06:52.580 --> 00:06:53.860
Calm down, son.

00:06:53.860 --> 00:06:55.650
Now, for Google
Analytics, I'll show you

00:06:55.650 --> 00:06:57.440
how to search for
it another way.

00:06:57.440 --> 00:07:00.750
We can open up our
browser to cocoapods.org

00:07:00.750 --> 00:07:03.240
and in this big search bar at
the top, just type in Google

00:07:03.240 --> 00:07:03.740
Analytics.

00:07:08.480 --> 00:07:10.080
Well, this looks
like the one we want.

00:07:10.080 --> 00:07:12.510
Now, it has this copy
to clipboard icon here.

00:07:12.510 --> 00:07:14.080
So you can just select that.

00:07:14.080 --> 00:07:17.475
And now you can paste this line
into your pod file as well.

00:07:17.475 --> 00:07:18.600
ROBBIE: Say, wait a second.

00:07:18.600 --> 00:07:20.380
What's that squiggly arrow mean?

00:07:20.380 --> 00:07:21.990
DAD: Well, it gets complicated.

00:07:21.990 --> 00:07:24.450
But you can think of it as
saying let's start with version

00:07:24.450 --> 00:07:27.820
3.10, but feel free to update it
for me until you get to version

00:07:27.820 --> 00:07:29.370
4.

00:07:29.370 --> 00:07:32.120
ROBBIE: Sounds like a good
topic for a follow-up video.

00:07:32.120 --> 00:07:34.255
DAD: You always
were a bright kid.

00:07:34.255 --> 00:07:38.980
So let's go back to your command
line and type pod install.

00:07:38.980 --> 00:07:39.480
Here we go.

00:07:39.480 --> 00:07:41.750
You're going to see
CocoaPods think for a while.

00:07:41.750 --> 00:07:43.583
Then it's going to go
out onto the internet,

00:07:43.583 --> 00:07:45.690
grab the libraries that
we need, and install them.

00:07:45.690 --> 00:07:46.981
We can wait a few more seconds.

00:07:46.981 --> 00:07:48.840
And we're done.

00:07:48.840 --> 00:07:52.635
ROBBIE: Say, what's this line
about using xcworkspace file?

00:07:52.635 --> 00:07:53.700
What's that?

00:07:53.700 --> 00:07:55.910
DAD: Well, an xcworkspace
file is basically

00:07:55.910 --> 00:07:57.470
a collection of projects.

00:07:57.470 --> 00:07:59.350
In this case, we have
our original project,

00:07:59.350 --> 00:08:01.280
which is our empty application.

00:08:01.280 --> 00:08:03.090
And then we also have
the Pods project,

00:08:03.090 --> 00:08:06.450
which builds all of our
CocoaPods as static libraries.

00:08:06.450 --> 00:08:07.670
ROBBIE: But I don't get it.

00:08:07.670 --> 00:08:10.260
Why can't we just use
our original project?

00:08:10.260 --> 00:08:12.570
DAD: Well, CocoaPods has
altered our original project

00:08:12.570 --> 00:08:16.000
to rely on the static libraries
built by this other project.

00:08:16.000 --> 00:08:18.350
So go ahead and open your
original project by itself

00:08:18.350 --> 00:08:20.195
and try and run it.

00:08:20.195 --> 00:08:20.695
See?

00:08:20.695 --> 00:08:22.150
Xcode is complaining
that it doesn't

00:08:22.150 --> 00:08:24.310
know what these libraries are,
and we get these fun linker

00:08:24.310 --> 00:08:25.010
errors.

00:08:25.010 --> 00:08:25.722
ROBBIE: Yikes.

00:08:25.722 --> 00:08:27.180
DAD: Well, it's
not really too bad.

00:08:27.180 --> 00:08:29.040
You just need to open
the workspace in Xcode

00:08:29.040 --> 00:08:30.165
and build from there.

00:08:30.165 --> 00:08:32.789
Once you do that, it builds the
static libraries and everything

00:08:32.789 --> 00:08:33.989
works just fine.

00:08:33.989 --> 00:08:36.470
ROBBIE: Oh, I see.

00:08:36.470 --> 00:08:38.959
But if I tried to
reopen my old project

00:08:38.959 --> 00:08:40.211
from the welcome screen--

00:08:40.211 --> 00:08:40.960
DAD: That's right.

00:08:40.960 --> 00:08:43.000
That, along with any
recent projects list,

00:08:43.000 --> 00:08:44.880
it's probably a link
to your old project

00:08:44.880 --> 00:08:47.060
that no longer works on its own.

00:08:47.060 --> 00:08:48.130
ROBBIE: So is that it?

00:08:48.130 --> 00:08:49.420
Can I use my libraries now?

00:08:49.420 --> 00:08:50.349
DAD: You betcha.

00:08:50.349 --> 00:08:52.140
Let's go back to your
view controller here.

00:08:52.140 --> 00:08:55.270
You can import AFNetworking
and GIA, which stands

00:08:55.270 --> 00:08:58.637
for Google Analytics Igloos?

00:08:58.637 --> 00:08:59.970
ROBBIE: I don't think that's it.

00:08:59.970 --> 00:09:01.140
DAD: No All right.

00:09:01.140 --> 00:09:02.780
And in our viewDidLoad
method, you

00:09:02.780 --> 00:09:05.530
can make calls on both
of these libraries.

00:09:05.530 --> 00:09:06.280
And look at that.

00:09:06.280 --> 00:09:08.380
Everything builds
and runs just fine.

00:09:08.380 --> 00:09:09.904
We saved a whole
lot of manual steps

00:09:09.904 --> 00:09:11.570
we normally would
have needed to include

00:09:11.570 --> 00:09:12.732
both of these libraries.

00:09:12.732 --> 00:09:15.190
And if you ever want to make
sure you're running the latest

00:09:15.190 --> 00:09:16.840
and greatest of
any these pods, you

00:09:16.840 --> 00:09:19.827
can simply type pod update
from the command line.

00:09:19.827 --> 00:09:22.160
CocoaPods will check and see
if there are newer versions

00:09:22.160 --> 00:09:23.600
of any these libraries.

00:09:23.600 --> 00:09:25.351
If there are, it will
update them for you.

00:09:25.351 --> 00:09:27.558
Since we just installed
everything a few minutes ago,

00:09:27.558 --> 00:09:30.027
I would be surprised if this
command actually did anything.

00:09:30.027 --> 00:09:32.610
But I'm sure you can imagine how
much work this would save you

00:09:32.610 --> 00:09:34.650
on an actual project.

00:09:34.650 --> 00:09:35.930
So there you go, son.

00:09:35.930 --> 00:09:38.700
Everything you've always
wanted to know about CocoaPods.

00:09:38.700 --> 00:09:40.060
ROBBIE: Gee, thanks, dad.

00:09:40.060 --> 00:09:41.990
DAD: Now, when that Eddie
Clark starts teasing you again

00:09:41.990 --> 00:09:44.115
at the school yard, what
are you going to tell him?

00:09:44.115 --> 00:09:46.470
ROBBIE: I'm going to tell
him, hey Eddie, it was

00:09:46.470 --> 00:09:48.690
me who set your car on fire.

00:09:48.690 --> 00:09:52.070
DAD: You set his-- oh, Robert.

