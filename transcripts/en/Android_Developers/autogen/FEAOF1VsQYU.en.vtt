WEBVTT
Kind: captions
Language: en

00:00:00.030 --> 00:00:03.050
Android 6.0 also known as marshmallow

00:00:03.050 --> 00:00:03.060
Android 6.0 also known as marshmallow
 

00:00:03.060 --> 00:00:05.090
Android 6.0 also known as marshmallow
has a new permissions model that

00:00:05.090 --> 00:00:05.100
has a new permissions model that
 

00:00:05.100 --> 00:00:07.070
has a new permissions model that
streamlines the app install and auto

00:00:07.070 --> 00:00:07.080
streamlines the app install and auto
 

00:00:07.080 --> 00:00:09.860
streamlines the app install and auto
update process this new model gives your

00:00:09.860 --> 00:00:09.870
update process this new model gives your
 

00:00:09.870 --> 00:00:12.379
update process this new model gives your
users great flexibility but you need to

00:00:12.379 --> 00:00:12.389
users great flexibility but you need to
 

00:00:12.389 --> 00:00:13.940
users great flexibility but you need to
make sure that your app behaves as

00:00:13.940 --> 00:00:13.950
make sure that your app behaves as
 

00:00:13.950 --> 00:00:16.070
make sure that your app behaves as
expected when they allow or deny

00:00:16.070 --> 00:00:16.080
expected when they allow or deny
 

00:00:16.080 --> 00:00:18.800
expected when they allow or deny
specific permissions hi I'm Laurence

00:00:18.800 --> 00:00:18.810
specific permissions hi I'm Laurence
 

00:00:18.810 --> 00:00:20.420
specific permissions hi I'm Laurence
Moroney and I'm here today to take you

00:00:20.420 --> 00:00:20.430
Moroney and I'm here today to take you
 

00:00:20.430 --> 00:00:22.550
Moroney and I'm here today to take you
through the steps that will ensure your

00:00:22.550 --> 00:00:22.560
through the steps that will ensure your
 

00:00:22.560 --> 00:00:25.009
through the steps that will ensure your
apps give your users the best possible

00:00:25.009 --> 00:00:25.019
apps give your users the best possible
 

00:00:25.019 --> 00:00:28.670
apps give your users the best possible
experience in marshmallow step 1 set

00:00:28.670 --> 00:00:28.680
experience in marshmallow step 1 set
 

00:00:28.680 --> 00:00:31.429
experience in marshmallow step 1 set
your API level and target SDK to at

00:00:31.429 --> 00:00:31.439
your API level and target SDK to at
 

00:00:31.439 --> 00:00:34.069
your API level and target SDK to at
least version 23 you can see them in

00:00:34.069 --> 00:00:34.079
least version 23 you can see them in
 

00:00:34.079 --> 00:00:36.770
least version 23 you can see them in
your Gradle code here also make sure

00:00:36.770 --> 00:00:36.780
your Gradle code here also make sure
 

00:00:36.780 --> 00:00:39.139
your Gradle code here also make sure
that you're using the v4 support library

00:00:39.139 --> 00:00:39.149
that you're using the v4 support library
 

00:00:39.149 --> 00:00:42.020
that you're using the v4 support library
to verify and request permissions add it

00:00:42.020 --> 00:00:42.030
to verify and request permissions add it
 

00:00:42.030 --> 00:00:43.430
to verify and request permissions add it
to your Gradle file if you don't already

00:00:43.430 --> 00:00:43.440
to your Gradle file if you don't already
 

00:00:43.440 --> 00:00:44.209
to your Gradle file if you don't already
have it

00:00:44.209 --> 00:00:44.219
have it
 

00:00:44.219 --> 00:00:46.970
have it
step 2 go back to your code when you

00:00:46.970 --> 00:00:46.980
step 2 go back to your code when you
 

00:00:46.980 --> 00:00:49.190
step 2 go back to your code when you
connect to Google Play services you

00:00:49.190 --> 00:00:49.200
connect to Google Play services you
 

00:00:49.200 --> 00:00:50.900
connect to Google Play services you
first connect to a Google API client

00:00:50.900 --> 00:00:50.910
first connect to a Google API client
 

00:00:50.910 --> 00:00:53.299
first connect to a Google API client
it's a common step that you may have

00:00:53.299 --> 00:00:53.309
it's a common step that you may have
 

00:00:53.309 --> 00:00:54.560
it's a common step that you may have
seen a hundred times before

00:00:54.560 --> 00:00:54.570
seen a hundred times before
 

00:00:54.570 --> 00:00:56.389
seen a hundred times before
but before you skip over this it's

00:00:56.389 --> 00:00:56.399
but before you skip over this it's
 

00:00:56.399 --> 00:00:58.939
but before you skip over this it's
extremely important to set your code to

00:00:58.939 --> 00:00:58.949
extremely important to set your code to
 

00:00:58.949 --> 00:01:01.279
extremely important to set your code to
handle Google API client connection

00:01:01.279 --> 00:01:01.289
handle Google API client connection
 

00:01:01.289 --> 00:01:03.529
handle Google API client connection
failures gracefully using the proper

00:01:03.529 --> 00:01:03.539
failures gracefully using the proper
 

00:01:03.539 --> 00:01:05.929
failures gracefully using the proper
resolution process for details and code

00:01:05.929 --> 00:01:05.939
resolution process for details and code
 

00:01:05.939 --> 00:01:07.660
resolution process for details and code
samples take a look at the link here

00:01:07.660 --> 00:01:07.670
samples take a look at the link here
 

00:01:07.670 --> 00:01:11.210
samples take a look at the link here
step 3 at this point you've likely

00:01:11.210 --> 00:01:11.220
step 3 at this point you've likely
 

00:01:11.220 --> 00:01:13.190
step 3 at this point you've likely
connected to Google Play services and

00:01:13.190 --> 00:01:13.200
connected to Google Play services and
 

00:01:13.200 --> 00:01:15.260
connected to Google Play services and
it's easy to assume that once you've

00:01:15.260 --> 00:01:15.270
it's easy to assume that once you've
 

00:01:15.270 --> 00:01:16.760
it's easy to assume that once you've
done this that you can just go ahead and

00:01:16.760 --> 00:01:16.770
done this that you can just go ahead and
 

00:01:16.770 --> 00:01:20.149
done this that you can just go ahead and
call the api's well that's mostly true

00:01:20.149 --> 00:01:20.159
call the api's well that's mostly true
 

00:01:20.159 --> 00:01:22.850
call the api's well that's mostly true
prior to marshmallow users had to agree

00:01:22.850 --> 00:01:22.860
prior to marshmallow users had to agree
 

00:01:22.860 --> 00:01:25.340
prior to marshmallow users had to agree
to your permissions before installing so

00:01:25.340 --> 00:01:25.350
to your permissions before installing so
 

00:01:25.350 --> 00:01:27.320
to your permissions before installing so
by the time your code was running you

00:01:27.320 --> 00:01:27.330
by the time your code was running you
 

00:01:27.330 --> 00:01:28.700
by the time your code was running you
could assume that you had the

00:01:28.700 --> 00:01:28.710
could assume that you had the
 

00:01:28.710 --> 00:01:30.560
could assume that you had the
permissions to do what you needed to do

00:01:30.560 --> 00:01:30.570
permissions to do what you needed to do
 

00:01:30.570 --> 00:01:33.350
permissions to do what you needed to do
in the new model that's not necessarily

00:01:33.350 --> 00:01:33.360
in the new model that's not necessarily
 

00:01:33.360 --> 00:01:36.170
in the new model that's not necessarily
the case before calling any of the api's

00:01:36.170 --> 00:01:36.180
the case before calling any of the api's
 

00:01:36.180 --> 00:01:38.450
the case before calling any of the api's
that require permissions you need to

00:01:38.450 --> 00:01:38.460
that require permissions you need to
 

00:01:38.460 --> 00:01:39.789
that require permissions you need to
check that you have those permissions

00:01:39.789 --> 00:01:39.799
check that you have those permissions
 

00:01:39.799 --> 00:01:43.340
check that you have those permissions
every single time because users may have

00:01:43.340 --> 00:01:43.350
every single time because users may have
 

00:01:43.350 --> 00:01:45.260
every single time because users may have
changed the privileges granted to your

00:01:45.260 --> 00:01:45.270
changed the privileges granted to your
 

00:01:45.270 --> 00:01:47.359
changed the privileges granted to your
app and you may need to re-request the

00:01:47.359 --> 00:01:47.369
app and you may need to re-request the
 

00:01:47.369 --> 00:01:49.670
app and you may need to re-request the
permissions again you do this by calling

00:01:49.670 --> 00:01:49.680
permissions again you do this by calling
 

00:01:49.680 --> 00:01:52.460
permissions again you do this by calling
the checks self permission method on the

00:01:52.460 --> 00:01:52.470
the checks self permission method on the
 

00:01:52.470 --> 00:01:54.800
the checks self permission method on the
activity compact fragment or contacts

00:01:54.800 --> 00:01:54.810
activity compact fragment or contacts
 

00:01:54.810 --> 00:01:57.709
activity compact fragment or contacts
combat you can see it here if this call

00:01:57.709 --> 00:01:57.719
combat you can see it here if this call
 

00:01:57.719 --> 00:02:00.050
combat you can see it here if this call
returns false then the requested

00:02:00.050 --> 00:02:00.060
returns false then the requested
 

00:02:00.060 --> 00:02:02.420
returns false then the requested
permission is no longer available it

00:02:02.420 --> 00:02:02.430
permission is no longer available it
 

00:02:02.430 --> 00:02:04.550
permission is no longer available it
might have been previously but it isn't

00:02:04.550 --> 00:02:04.560
might have been previously but it isn't
 

00:02:04.560 --> 00:02:07.940
might have been previously but it isn't
now so don't call the API the good news

00:02:07.940 --> 00:02:07.950
now so don't call the API the good news
 

00:02:07.950 --> 00:02:10.190
now so don't call the API the good news
is does this request permissions method

00:02:10.190 --> 00:02:10.200
is does this request permissions method
 

00:02:10.200 --> 00:02:12.320
is does this request permissions method
that you can use to inform your user

00:02:12.320 --> 00:02:12.330
that you can use to inform your user
 

00:02:12.330 --> 00:02:14.150
that you can use to inform your user
that you need those permissions

00:02:14.150 --> 00:02:14.160
that you need those permissions
 

00:02:14.160 --> 00:02:16.100
that you need those permissions
and that they can choose to grant them

00:02:16.100 --> 00:02:16.110
and that they can choose to grant them
 

00:02:16.110 --> 00:02:19.790
and that they can choose to grant them
in the previous step you requested the

00:02:19.790 --> 00:02:19.800
in the previous step you requested the
 

00:02:19.800 --> 00:02:21.680
in the previous step you requested the
permission again and the system would

00:02:21.680 --> 00:02:21.690
permission again and the system would
 

00:02:21.690 --> 00:02:24.320
permission again and the system would
call you back with an unrequested result

00:02:24.320 --> 00:02:24.330
call you back with an unrequested result
 

00:02:24.330 --> 00:02:26.990
call you back with an unrequested result
function so step four is to implement

00:02:26.990 --> 00:02:27.000
function so step four is to implement
 

00:02:27.000 --> 00:02:28.880
function so step four is to implement
this callback function the callback

00:02:28.880 --> 00:02:28.890
this callback function the callback
 

00:02:28.890 --> 00:02:31.430
this callback function the callback
gives you a request code parameter which

00:02:31.430 --> 00:02:31.440
gives you a request code parameter which
 

00:02:31.440 --> 00:02:33.500
gives you a request code parameter which
you can check against the particular API

00:02:33.500 --> 00:02:33.510
you can check against the particular API
 

00:02:33.510 --> 00:02:35.570
you can check against the particular API
call types that you want to access and

00:02:35.570 --> 00:02:35.580
call types that you want to access and
 

00:02:35.580 --> 00:02:37.880
call types that you want to access and
if it gives you the go-ahead by passing

00:02:37.880 --> 00:02:37.890
if it gives you the go-ahead by passing
 

00:02:37.890 --> 00:02:40.130
if it gives you the go-ahead by passing
the permission granted constant then you

00:02:40.130 --> 00:02:40.140
the permission granted constant then you
 

00:02:40.140 --> 00:02:42.770
the permission granted constant then you
can safely call the API knowing that is

00:02:42.770 --> 00:02:42.780
can safely call the API knowing that is
 

00:02:42.780 --> 00:02:45.140
can safely call the API knowing that is
permitted step 5

00:02:45.140 --> 00:02:45.150
permitted step 5
 

00:02:45.150 --> 00:02:47.900
permitted step 5
if your user has explicitly denied a

00:02:47.900 --> 00:02:47.910
if your user has explicitly denied a
 

00:02:47.910 --> 00:02:50.210
if your user has explicitly denied a
permission to your app but your app

00:02:50.210 --> 00:02:50.220
permission to your app but your app
 

00:02:50.220 --> 00:02:52.730
permission to your app but your app
needs that permission to continue you

00:02:52.730 --> 00:02:52.740
needs that permission to continue you
 

00:02:52.740 --> 00:02:54.290
needs that permission to continue you
will need to manage their expectations

00:02:54.290 --> 00:02:54.300
will need to manage their expectations
 

00:02:54.300 --> 00:02:56.840
will need to manage their expectations
and help them understand what your app

00:02:56.840 --> 00:02:56.850
and help them understand what your app
 

00:02:56.850 --> 00:02:59.510
and help them understand what your app
needs for that specific permission to

00:02:59.510 --> 00:02:59.520
needs for that specific permission to
 

00:02:59.520 --> 00:03:02.210
needs for that specific permission to
function you can do this with the should

00:03:02.210 --> 00:03:02.220
function you can do this with the should
 

00:03:02.220 --> 00:03:04.250
function you can do this with the should
show request permissions rationale

00:03:04.250 --> 00:03:04.260
show request permissions rationale
 

00:03:04.260 --> 00:03:06.470
show request permissions rationale
method on an activity fragment or

00:03:06.470 --> 00:03:06.480
method on an activity fragment or
 

00:03:06.480 --> 00:03:09.260
method on an activity fragment or
context so for example here you can see

00:03:09.260 --> 00:03:09.270
context so for example here you can see
 

00:03:09.270 --> 00:03:11.570
context so for example here you can see
that a permission has been granted for

00:03:11.570 --> 00:03:11.580
that a permission has been granted for
 

00:03:11.580 --> 00:03:14.990
that a permission has been granted for
fine location so UI can be generated to

00:03:14.990 --> 00:03:15.000
fine location so UI can be generated to
 

00:03:15.000 --> 00:03:17.570
fine location so UI can be generated to
tell the user that what this UI is is up

00:03:17.570 --> 00:03:17.580
tell the user that what this UI is is up
 

00:03:17.580 --> 00:03:19.700
tell the user that what this UI is is up
to you it can be as simple as a toast

00:03:19.700 --> 00:03:19.710
to you it can be as simple as a toast
 

00:03:19.710 --> 00:03:22.250
to you it can be as simple as a toast
notification or an entirely new activity

00:03:22.250 --> 00:03:22.260
notification or an entirely new activity
 

00:03:22.260 --> 00:03:25.100
notification or an entirely new activity
it's entirely up to you from there you

00:03:25.100 --> 00:03:25.110
it's entirely up to you from there you
 

00:03:25.110 --> 00:03:26.960
it's entirely up to you from there you
can go into the user flow to request

00:03:26.960 --> 00:03:26.970
can go into the user flow to request
 

00:03:26.970 --> 00:03:29.120
can go into the user flow to request
permissions again but be sure to be

00:03:29.120 --> 00:03:29.130
permissions again but be sure to be
 

00:03:29.130 --> 00:03:31.310
permissions again but be sure to be
respectful and clear in the message that

00:03:31.310 --> 00:03:31.320
respectful and clear in the message that
 

00:03:31.320 --> 00:03:33.170
respectful and clear in the message that
you give and that's it

00:03:33.170 --> 00:03:33.180
you give and that's it
 

00:03:33.180 --> 00:03:35.180
you give and that's it
Android marshmallow is the latest

00:03:35.180 --> 00:03:35.190
Android marshmallow is the latest
 

00:03:35.190 --> 00:03:36.440
Android marshmallow is the latest
greatest version of this mobile

00:03:36.440 --> 00:03:36.450
greatest version of this mobile
 

00:03:36.450 --> 00:03:38.210
greatest version of this mobile
operating system and while the

00:03:38.210 --> 00:03:38.220
operating system and while the
 

00:03:38.220 --> 00:03:39.770
operating system and while the
permissions model has changed quite a

00:03:39.770 --> 00:03:39.780
permissions model has changed quite a
 

00:03:39.780 --> 00:03:41.570
permissions model has changed quite a
bit it's pretty straightforward to get

00:03:41.570 --> 00:03:41.580
bit it's pretty straightforward to get
 

00:03:41.580 --> 00:03:43.670
bit it's pretty straightforward to get
your apps ready to use it by allowing

00:03:43.670 --> 00:03:43.680
your apps ready to use it by allowing
 

00:03:43.680 --> 00:03:45.590
your apps ready to use it by allowing
users to choose their permissions when

00:03:45.590 --> 00:03:45.600
users to choose their permissions when
 

00:03:45.600 --> 00:03:48.020
users to choose their permissions when
they're relevant and in context instead

00:03:48.020 --> 00:03:48.030
they're relevant and in context instead
 

00:03:48.030 --> 00:03:49.460
they're relevant and in context instead
of being overwhelmed when they first

00:03:49.460 --> 00:03:49.470
of being overwhelmed when they first
 

00:03:49.470 --> 00:03:51.710
of being overwhelmed when they first
install the app their experience with

00:03:51.710 --> 00:03:51.720
install the app their experience with
 

00:03:51.720 --> 00:03:53.600
install the app their experience with
your app will be much better we have

00:03:53.600 --> 00:03:53.610
your app will be much better we have
 

00:03:53.610 --> 00:03:55.370
your app will be much better we have
some great samples that you can look at

00:03:55.370 --> 00:03:55.380
some great samples that you can look at
 

00:03:55.380 --> 00:03:56.930
some great samples that you can look at
and to see how to handle user

00:03:56.930 --> 00:03:56.940
and to see how to handle user
 

00:03:56.940 --> 00:03:59.510
and to see how to handle user
permissions in marshmallow thank you

00:03:59.510 --> 00:03:59.520
permissions in marshmallow thank you
 

00:03:59.520 --> 00:04:01.490
permissions in marshmallow thank you
I'm Laurence Moroney and you're gonna go

00:04:01.490 --> 00:04:01.500
I'm Laurence Moroney and you're gonna go
 

00:04:01.500 --> 00:04:04.190
I'm Laurence Moroney and you're gonna go
build better apps

