WEBVTT
Kind: captions
Language: en

00:00:05.819 --> 00:00:07.110
ANDREW BROGDON: Hey, everybody.

00:00:07.110 --> 00:00:08.500
Welcome back to The Boring Show.

00:00:08.500 --> 00:00:10.800
I'm Andrew Brogdon
from the Flutter team.

00:00:10.800 --> 00:00:11.790
And with me is--

00:00:11.790 --> 00:00:13.500
MATT SULLIVAN: I'm
Matt Sullivan, also,

00:00:13.500 --> 00:00:14.250
from the Flutter team.

00:00:14.250 --> 00:00:15.125
ANDREW BROGDON: Yeah.

00:00:15.125 --> 00:00:18.000
And so today we're going
to pick up right where

00:00:18.000 --> 00:00:20.190
Phillip and Will left off.

00:00:20.190 --> 00:00:22.130
We're going to build
on what they had done,

00:00:22.130 --> 00:00:24.710
and we're going to talk about
adding searching to the app.

00:00:24.710 --> 00:00:25.710
MATT SULLIVAN: Oh, cool.

00:00:25.710 --> 00:00:27.410
So this is the Hacker
News app that they built.

00:00:27.410 --> 00:00:28.170
ANDREW BROGDON: Yes.

00:00:28.170 --> 00:00:29.880
So we're going to be working
on the Hacker News app.

00:00:29.880 --> 00:00:31.770
And right now it
pulls down articles

00:00:31.770 --> 00:00:33.450
and puts in a list
view, and you can

00:00:33.450 --> 00:00:35.580
expand them and use
URL launcher to get out

00:00:35.580 --> 00:00:36.780
to the actual article.

00:00:36.780 --> 00:00:39.390
We're going to use some stuff
out of the material package

00:00:39.390 --> 00:00:42.240
to add some easy
searching functionality

00:00:42.240 --> 00:00:43.305
to the existing app.

00:00:43.305 --> 00:00:45.616
MATT SULLIVAN:
Searching is never easy.

00:00:45.616 --> 00:00:46.965
ANDREW BROGDON: Well, now--

00:00:46.965 --> 00:00:49.507
MATT SULLIVAN: You're
going to prove me wrong.

00:00:49.507 --> 00:00:50.590
ANDREW BROGDON: Let's see.

00:00:50.590 --> 00:00:52.330
I think we can get this
wired up pretty quick.

00:00:52.330 --> 00:00:52.510
It's--

00:00:52.510 --> 00:00:53.343
MATT SULLIVAN: Cool.

00:00:53.343 --> 00:00:56.560
ANDREW BROGDON: It's a fairly
straightforward thing to do.

00:00:56.560 --> 00:00:59.220
So if we look at the
code, material has--

00:00:59.220 --> 00:01:00.990
let me go into
the API docs here.

00:01:00.990 --> 00:01:04.074
Material gives us this
nice show search function.

00:01:04.074 --> 00:01:06.990
MATT SULLIVAN: This is
going to be in the same vein

00:01:06.990 --> 00:01:11.760
as you have things like
show persistence sheet,

00:01:11.760 --> 00:01:12.700
show modal dialogue.

00:01:12.700 --> 00:01:13.290
ANDREW BROGDON:
Show modal dialogue

00:01:13.290 --> 00:01:14.550
is one I've used before, yeah.

00:01:14.550 --> 00:01:15.650
MATT SULLIVAN: So this
is a conditional one.

00:01:15.650 --> 00:01:16.300
Show search.

00:01:16.300 --> 00:01:16.980
ANDREW BROGDON: Yeah.

00:01:16.980 --> 00:01:18.240
See, there's some
top level functions

00:01:18.240 --> 00:01:19.980
just kind of hanging out
in the material package

00:01:19.980 --> 00:01:20.990
that you can call.

00:01:20.990 --> 00:01:24.095
And so this is show search
that I'm looking at right here.

00:01:24.095 --> 00:01:25.816
It takes a build
context, because you're

00:01:25.816 --> 00:01:27.190
going to be
displaying something,

00:01:27.190 --> 00:01:29.010
you need a context to
put it into a tree.

00:01:29.010 --> 00:01:31.140
And it takes a search delegate.

00:01:31.140 --> 00:01:35.160
And a search delegate is a thing
that does searching for you.

00:01:35.160 --> 00:01:38.280
So it provides kind
of a nice framework

00:01:38.280 --> 00:01:41.190
to basically get the
search functionality wired

00:01:41.190 --> 00:01:42.450
into the UI.

00:01:42.450 --> 00:01:46.330
And so let me go
ahead, pop in here.

00:01:46.330 --> 00:01:48.780
Quick note, in keeping
with Will's request

00:01:48.780 --> 00:01:51.720
at the end of our last
episode, I did change the font.

00:01:51.720 --> 00:01:56.580
We changed the font from
the sort of 1980s style

00:01:56.580 --> 00:01:59.580
to Garamond, which is a
little bit more newsy.

00:01:59.580 --> 00:02:01.945
MATT SULLIVAN: So we actually
have some like styling.

00:02:01.945 --> 00:02:02.820
ANDREW BROGDON: Yeah.

00:02:02.820 --> 00:02:05.130
We did a slight bit of
styling before this episode

00:02:05.130 --> 00:02:11.004
in keeping with some requests
from Will that he made.

00:02:11.004 --> 00:02:12.670
So it might look a
little bit different,

00:02:12.670 --> 00:02:14.760
but it's just a
font at this point.

00:02:14.760 --> 00:02:16.350
So we've got our app here.

00:02:16.350 --> 00:02:18.450
It uses-- it's got
a home page, and we

00:02:18.450 --> 00:02:20.434
need to wire in searching.

00:02:20.434 --> 00:02:22.350
So we're going to need
a search icon somewhere

00:02:22.350 --> 00:02:24.064
that people can click
on to trigger it.

00:02:24.064 --> 00:02:25.980
And we're going to need
this search delegates.

00:02:25.980 --> 00:02:30.000
Let me start-- let's
drop an icon into our--

00:02:30.000 --> 00:02:32.167
MATT SULLIVAN: Why don't
we stick it in the app bar.

00:02:32.167 --> 00:02:33.833
ANDREW BROGDON: Stick
it in the app bar.

00:02:33.833 --> 00:02:36.150
I think we can go up here
and just do actions, right?

00:02:36.150 --> 00:02:36.983
MATT SULLIVAN: Yeah.

00:02:36.983 --> 00:02:40.290
One of the nice things about
the floaters implementation

00:02:40.290 --> 00:02:45.084
of the app bar is it gives you
a whole bunch of other widgets

00:02:45.084 --> 00:02:45.750
you can drop in.

00:02:45.750 --> 00:02:48.930
One of them is actions, which
will basically display things,

00:02:48.930 --> 00:02:51.100
I believe, trailing at
the end of the app bar.

00:02:51.100 --> 00:02:51.975
ANDREW BROGDON: Yeah.

00:02:51.975 --> 00:02:53.970
So we've got our Hacker
News icon on the left.

00:02:53.970 --> 00:02:55.560
So we've got in the
center our title,

00:02:55.560 --> 00:02:57.160
and this should go on the right.

00:02:57.160 --> 00:02:58.185
So let's do--

00:02:58.185 --> 00:03:00.292
I'm guessing I
need an icon here.

00:03:00.292 --> 00:03:02.250
MATT SULLIVAN: Do you
want icon or icon button?

00:03:02.250 --> 00:03:03.877
ANDREW BROGDON: Let's see.

00:03:03.877 --> 00:03:05.460
I was going to go
with an icon button.

00:03:05.460 --> 00:03:08.530
We could do a straight
up like gesture detector

00:03:08.530 --> 00:03:09.855
and start with that.

00:03:09.855 --> 00:03:11.412
MATT SULLIVAN: Could do.

00:03:11.412 --> 00:03:13.190
ANDREW BROGDON: So
we'd have an on tab

00:03:13.190 --> 00:03:15.300
and I'll just give it
an empty one for now.

00:03:15.300 --> 00:03:19.270
And then child would be an icon.

00:03:19.270 --> 00:03:20.325
And so we give it--

00:03:20.325 --> 00:03:22.010
I'm guessing-- yep, search.

00:03:22.010 --> 00:03:23.160
There's the Search icon.

00:03:23.160 --> 00:03:24.580
There we go.

00:03:24.580 --> 00:03:25.650
Put that in there.

00:03:25.650 --> 00:03:27.830
MATT SULLIVAN: Oh, and you
can preview the icon over

00:03:27.830 --> 00:03:28.680
on the reference side.

00:03:28.680 --> 00:03:29.320
I never noticed that.

00:03:29.320 --> 00:03:31.470
ANDREW BROGDON: You can do that
actually with material icons,

00:03:31.470 --> 00:03:33.820
not with the Cupertino
icons, believe it or not.

00:03:33.820 --> 00:03:35.490
So we have an open bug for that.

00:03:35.490 --> 00:03:38.417
That's a request I made of
the IntelliJ plugin team.

00:03:38.417 --> 00:03:40.500
Because I've been working
on some Cupertino stuff.

00:03:40.500 --> 00:03:41.220
MATT SULLIVAN: Cool.

00:03:41.220 --> 00:03:43.350
ANDREW BROGDON: But, yeah, you
get the little search thing

00:03:43.350 --> 00:03:44.000
right there.

00:03:44.000 --> 00:03:46.700
And so let's save that
and see what we get.

00:03:46.700 --> 00:03:47.836
MATT SULLIVAN: There we go.

00:03:47.836 --> 00:03:48.828
ANDREW BROGDON: Cool.

00:03:48.828 --> 00:03:50.940
MATT SULLIVAN: You know,
probably the problem here

00:03:50.940 --> 00:03:53.490
is that if you make that an
icon button that will give

00:03:53.490 --> 00:03:54.940
it more appropriate padding.

00:03:54.940 --> 00:03:56.023
ANDREW BROGDON: All right.

00:03:56.023 --> 00:03:57.290
Let's try that.

00:03:57.290 --> 00:03:59.373
MATT SULLIVAN: Because
just your texture's one way

00:03:59.373 --> 00:04:00.780
to get gestures on--

00:04:00.780 --> 00:04:03.900
a whole range of gestures
on any type of widget.

00:04:03.900 --> 00:04:07.140
Icon button will basically
do most of the wiring

00:04:07.140 --> 00:04:09.206
up things like
the InkWell splash

00:04:09.206 --> 00:04:10.830
and all the other
bits and pieces for--

00:04:10.830 --> 00:04:11.010
ANDREW BROGDON: That's right.

00:04:11.010 --> 00:04:12.750
All the other material eBits.

00:04:12.750 --> 00:04:16.751
And I think this takes
an on press like that.

00:04:16.751 --> 00:04:17.880
NT yelling at me.

00:04:17.880 --> 00:04:19.860
What have I forgotten?

00:04:19.860 --> 00:04:22.320
Too many positional arguments?

00:04:22.320 --> 00:04:22.820
Like that?

00:04:22.820 --> 00:04:23.319
OK.

00:04:23.319 --> 00:04:24.810
MATT SULLIVAN: If
you wanted to do

00:04:24.810 --> 00:04:27.120
double tap or long
press on an icon,

00:04:27.120 --> 00:04:29.290
then you'd use gesture detector.

00:04:29.290 --> 00:04:29.790
But--

00:04:29.790 --> 00:04:31.800
ANDREW BROGDON: Or dragging it,
for some reason if you want.

00:04:31.800 --> 00:04:33.535
I don't know why you'd
want to start a drag--

00:04:33.535 --> 00:04:34.600
one of your actions but--

00:04:37.360 --> 00:04:37.860
OK.

00:04:37.860 --> 00:04:39.390
So we got-- we got
a-- can I click this?

00:04:39.390 --> 00:04:39.650
Yep.

00:04:39.650 --> 00:04:40.290
MATT SULLIVAN: Here we go.

00:04:40.290 --> 00:04:40.810
ANDREW BROGDON: There we go.

00:04:40.810 --> 00:04:41.310
OK.

00:04:41.310 --> 00:04:43.590
So now we got something we
can launch our search with,

00:04:43.590 --> 00:04:44.700
which is cool.

00:04:44.700 --> 00:04:47.430
Let's get the search
delegate in here.

00:04:47.430 --> 00:04:53.180
I'll put it-- let's just
put it at the bottom.

00:04:53.180 --> 00:04:56.416
So class, article search.

00:04:56.416 --> 00:04:57.540
MATT SULLIVAN: Sounds good.

00:04:57.540 --> 00:04:59.081
ANDREW BROGDON: And
I'm going to pass

00:04:59.081 --> 00:05:01.770
[INAUDIBLE] case this because
that's how we do things.

00:05:01.770 --> 00:05:06.850
And then it's extends, search,
delegates, which is a generic.

00:05:06.850 --> 00:05:08.700
And so you put in
the thing that you

00:05:08.700 --> 00:05:10.395
want to get out of the search.

00:05:10.395 --> 00:05:11.250
MATT SULLIVAN: Yes.

00:05:11.250 --> 00:05:13.410
So what type you want to
get out of the search.

00:05:13.410 --> 00:05:14.310
ANDREW BROGDON: Yeah.

00:05:14.310 --> 00:05:15.520
MATT SULLIVAN: So here we
need to make a decision.

00:05:15.520 --> 00:05:17.230
So when we search
for something, what

00:05:17.230 --> 00:05:18.665
do we want the action to be?

00:05:18.665 --> 00:05:19.675
ANDREW BROGDON: That's
a good question.

00:05:19.675 --> 00:05:21.420
MATT SULLIVAN: Because
what we could do is we

00:05:21.420 --> 00:05:22.920
could create a
separate page, and we

00:05:22.920 --> 00:05:26.340
could have a details page.

00:05:26.340 --> 00:05:28.140
Probably the easier
thing to begin with

00:05:28.140 --> 00:05:31.470
is if we search and get
the URL, and then we

00:05:31.470 --> 00:05:33.211
can use the URL launcher to--

00:05:33.211 --> 00:05:34.710
ANDREW BROGDON: See
it pick a result

00:05:34.710 --> 00:05:36.793
and you just go immediately
to the article just as

00:05:36.793 --> 00:05:38.685
a sort of demonstration
of the concept.

00:05:38.685 --> 00:05:40.560
MATT SULLIVAN: But the problem
with that, potentially,

00:05:40.560 --> 00:05:42.101
is when the search
results come back,

00:05:42.101 --> 00:05:44.589
you're going to see the
URL and not the title.

00:05:44.589 --> 00:05:46.380
Do we have the concept
of an article class?

00:05:46.380 --> 00:05:47.070
ANDREW BROGDON: We do.

00:05:47.070 --> 00:05:48.060
MATT SULLIVAN: So
maybe we could--

00:05:48.060 --> 00:05:48.490
ANDREW BROGDON:
Why don't we do--

00:05:48.490 --> 00:05:49.698
MATT SULLIVAN: --return that?

00:05:49.698 --> 00:05:51.880
ANDREW BROGDON: --do an
article and start with that.

00:05:51.880 --> 00:05:54.087
And so that's going to extend--

00:05:54.087 --> 00:05:55.920
I'm just going to put
a bunch of blank lines

00:05:55.920 --> 00:05:59.630
in here so I can kind of work
in the middle of the screen.

00:05:59.630 --> 00:06:01.380
And so we're being
yelled at because we're

00:06:01.380 --> 00:06:04.704
missing a whole bunch
of required overrides.

00:06:04.704 --> 00:06:05.282
Boom.

00:06:05.282 --> 00:06:07.740
MATT SULLIVAN: Build actions,
build leading, build results.

00:06:07.740 --> 00:06:07.980
ANDREW BROGDON: Right.

00:06:07.980 --> 00:06:08.310
So, yeah.

00:06:08.310 --> 00:06:08.880
MATT SULLIVAN:
Build suggestions.

00:06:08.880 --> 00:06:10.629
ANDREW BROGDON: What
the heck do these do?

00:06:10.629 --> 00:06:13.140
Fortunately, we have-- here.

00:06:13.140 --> 00:06:16.650
So we have-- this comes with
four different build methods.

00:06:16.650 --> 00:06:19.710
Build actions so widgets
to display after the search

00:06:19.710 --> 00:06:20.930
query in the app bar.

00:06:20.930 --> 00:06:24.270
So this is going to pop up a
new screen on top of whatever we

00:06:24.270 --> 00:06:26.534
had before that's
going to be our search.

00:06:26.534 --> 00:06:28.200
MATT SULLIVAN: So
this is the equivalent

00:06:28.200 --> 00:06:30.570
of using the navigator to
navigate to an entirely

00:06:30.570 --> 00:06:31.930
new widget tree inside the--

00:06:31.930 --> 00:06:34.305
ANDREW BROGDON: Which it's
probably doing under the hood.

00:06:34.305 --> 00:06:35.874
MATT SULLIVAN: It
is because I think

00:06:35.874 --> 00:06:38.040
we're going to have to use
Navigator.pop to get back

00:06:38.040 --> 00:06:38.917
off the page.

00:06:38.917 --> 00:06:40.750
ANDREW BROGDON: Yeah,
that would make sense.

00:06:40.750 --> 00:06:42.440
Although, is there a--

00:06:42.440 --> 00:06:43.544
oh, there's close method.

00:06:43.544 --> 00:06:45.710
MATT SULLIVAN: Or you could
just use a close method.

00:06:45.710 --> 00:06:47.400
ANDREW BROGDON: OK.

00:06:47.400 --> 00:06:49.230
So build actions,
build leading, which

00:06:49.230 --> 00:06:51.690
is the widget to
display before the text

00:06:51.690 --> 00:06:53.190
that you're going
to be typing into.

00:06:53.190 --> 00:06:54.110
So like a back button.

00:06:54.110 --> 00:06:55.860
MATT SULLIVAN: Yeah,
it's going to-- yeah,

00:06:55.860 --> 00:06:57.276
there's going to
be-- that's going

00:06:57.276 --> 00:06:59.795
to be the leading button on
the left of the search bar.

00:06:59.795 --> 00:07:01.795
ANDREW BROGDON: So that's
when we'll call close.

00:07:01.795 --> 00:07:03.930
MATT SULLIVAN: That's
when we'll call for--

00:07:03.930 --> 00:07:06.240
yeah, so if we want to have
navigation back-- you know,

00:07:06.240 --> 00:07:08.490
those if you want to close,
the easiest way to do that

00:07:08.490 --> 00:07:10.110
would be to either
do the Cupertino

00:07:10.110 --> 00:07:15.105
little x in the corner, or to
have the Android back arrow.

00:07:15.105 --> 00:07:18.360
ANDREW BROGDON: So just for fun,
what if we just leave all those

00:07:18.360 --> 00:07:19.095
empty?

00:07:19.095 --> 00:07:20.950
I wonder if it'll
completely freak out?

00:07:20.950 --> 00:07:23.600
So show search is the
name of the function.

00:07:23.600 --> 00:07:27.345
Then I could just give it
an article search object.

00:07:27.345 --> 00:07:30.210
And that should be--
what else have we got?

00:07:30.210 --> 00:07:31.770
Oh, you're right.

00:07:31.770 --> 00:07:34.805
Unfortunately, I have one
because I'm in a builder.

00:07:34.805 --> 00:07:36.674
Take it those out of order.

00:07:36.674 --> 00:07:38.090
MATT SULLIVAN: You
might have to--

00:07:38.090 --> 00:07:40.841
ANDREW BROGDON:
They're not positional.

00:07:40.841 --> 00:07:41.340
Search.

00:07:46.020 --> 00:07:49.030
Just delegate.

00:07:49.030 --> 00:07:51.840
Delegate.

00:07:51.840 --> 00:07:53.310
There we go.

00:07:53.310 --> 00:07:56.020
Now, I put my comma in
here so I can format,

00:07:56.020 --> 00:07:59.524
which always makes me happy.

00:07:59.524 --> 00:08:00.440
Bring my same back up.

00:08:00.440 --> 00:08:02.687
MATT SULLIVAN: I feel bad
things are about to happen.

00:08:02.687 --> 00:08:03.520
ANDREW BROGDON: Yes.

00:08:03.520 --> 00:08:04.870
MATT SULLIVAN: That just happen.

00:08:04.870 --> 00:08:08.860
ANDREW BROGDON: So it's not
kidding when it says to do.

00:08:08.860 --> 00:08:10.400
You need to implement this.

00:08:10.400 --> 00:08:11.551
So--

00:08:11.551 --> 00:08:13.300
MATT SULLIVAN: The
question is, which ones

00:08:13.300 --> 00:08:15.160
are these is it going to need?

00:08:15.160 --> 00:08:16.910
ANDREW BROGDON: To get
going we could go--

00:08:16.910 --> 00:08:21.454
I wonder if we could find
out where exactly it failed.

00:08:21.454 --> 00:08:23.530
Anyway, let's start putting
some things in here.

00:08:23.530 --> 00:08:25.010
So build actions.

00:08:25.010 --> 00:08:27.762
So we would have a--

00:08:27.762 --> 00:08:28.720
so that's to the right.

00:08:28.720 --> 00:08:30.280
So if you wanted like a clear--

00:08:30.280 --> 00:08:30.720
or something like that.

00:08:30.720 --> 00:08:31.660
MATT SULLIVAN: This
is the same as-- this

00:08:31.660 --> 00:08:32.780
is the same as the app bar.

00:08:32.780 --> 00:08:34.150
So you have actions
on the right and you

00:08:34.150 --> 00:08:35.439
have leaving on the left.

00:08:35.439 --> 00:08:37.231
ANDREW BROGDON: That's
why it takes a list.

00:08:37.231 --> 00:08:39.189
MATT SULLIVAN: So we
could return an empty list

00:08:39.189 --> 00:08:39.780
and it might--

00:08:39.780 --> 00:08:42.937
ANDREW BROGDON: Let's just give
it some kind of an icon here.

00:08:42.937 --> 00:08:44.370
Is there a clear?

00:08:44.370 --> 00:08:46.641
Cool.

00:08:46.641 --> 00:08:47.140
OK.

00:08:47.140 --> 00:08:49.420
So that's one.

00:08:49.420 --> 00:08:50.810
Three to go.

00:08:50.810 --> 00:08:51.820
Build leading--

00:08:51.820 --> 00:08:54.368
MATT SULLIVAN:
Semicolon or a comma.

00:08:54.368 --> 00:08:54.942
There you go.

00:08:54.942 --> 00:08:56.400
ANDREW BROGDON:
Gets me every time.

00:08:56.400 --> 00:08:57.900
There we go.

00:08:57.900 --> 00:09:00.290
MATT SULLIVAN: Don't you
just love backseat drivers?

00:09:00.290 --> 00:09:01.680
[INAUDIBLE]

00:09:01.680 --> 00:09:03.620
ANDREW BROGDON: You're
right, I can't--

00:09:03.620 --> 00:09:05.120
you spotted an actual error so--

00:09:05.120 --> 00:09:05.900
MATT SULLIVAN: You coded wrong.

00:09:05.900 --> 00:09:06.580
ANDREW BROGDON: --I
can hardly complain.

00:09:06.580 --> 00:09:08.550
MATT SULLIVAN: So I
can just-- you know.

00:09:08.550 --> 00:09:10.720
ANDREW BROGDON: You missed
the exit two miles ago.

00:09:10.720 --> 00:09:12.470
MATT SULLIVAN: So this
is a single widget.

00:09:12.470 --> 00:09:13.300
ANDREW BROGDON: Right.

00:09:13.300 --> 00:09:14.674
And so this is
the build leading.

00:09:14.674 --> 00:09:16.982
So this is where we could
return a button to close.

00:09:16.982 --> 00:09:17.815
MATT SULLIVAN: Yeah.

00:09:17.815 --> 00:09:20.540
ANDREW BROGDON:
So we tried that.

00:09:20.540 --> 00:09:22.790
And that could be
an icon button.

00:09:22.790 --> 00:09:23.515
Right.

00:09:23.515 --> 00:09:27.322
So that gets an icon.

00:09:27.322 --> 00:09:32.770
MATT SULLIVAN: See, it gives
icon.clear or .left back.

00:09:32.770 --> 00:09:34.440
ANDREW BROGDON: Is
there a row back?

00:09:37.340 --> 00:09:38.000
Like that.

00:09:38.000 --> 00:09:39.962
And then we need to
give it an on pressed.

00:09:43.570 --> 00:09:46.790
And that-- oh, it was
going to do closed, right?

00:09:46.790 --> 00:09:48.387
And close takes a--

00:09:48.387 --> 00:09:49.470
MATT SULLIVAN: I think so.

00:09:49.470 --> 00:09:50.860
You need the
context and closed--

00:09:50.860 --> 00:09:52.609
ANDREW BROGDON: Oh,
it gives me a context.

00:09:52.609 --> 00:09:53.470
OK.

00:09:53.470 --> 00:09:57.100
So I can use that.

00:09:57.100 --> 00:09:57.697
And--

00:09:57.697 --> 00:09:58.530
MATT SULLIVAN: Wait.

00:09:58.530 --> 00:10:00.216
What does it give you?

00:10:00.216 --> 00:10:04.420
ANDREW BROGDON: Oh,
this wants the result.

00:10:04.420 --> 00:10:06.170
So we pass back a no?

00:10:10.394 --> 00:10:12.310
MATT SULLIVAN: Let's
have-- let's have a look.

00:10:12.310 --> 00:10:13.193
ANDREW BROGDON: Why don't
we go-- let's look at the--

00:10:13.193 --> 00:10:14.157
MATT SULLIVAN: Oh, OK.

00:10:14.157 --> 00:10:15.990
So let's press make
null for the time being,

00:10:15.990 --> 00:10:17.624
because we don't have a result.

00:10:17.624 --> 00:10:19.790
ANDREW BROGDON: The return
value provided for result

00:10:19.790 --> 00:10:22.360
is used as a return value
of the call to show search.

00:10:22.360 --> 00:10:25.200
So if we want it, we had to pass
something back to be like, hey,

00:10:25.200 --> 00:10:27.200
they didn't care about
the search, right?

00:10:27.200 --> 00:10:28.155
MATT SULLIVAN: Yeah.

00:10:28.155 --> 00:10:30.860
So it could be an empty article
that might just take null.

00:10:30.860 --> 00:10:31.735
ANDREW BROGDON: Yeah.

00:10:31.735 --> 00:10:33.920
I think null would work.

00:10:37.320 --> 00:10:40.360
Does this build now?

00:10:40.360 --> 00:10:41.240
No?

00:10:41.240 --> 00:10:41.785
All right.

00:10:41.785 --> 00:10:45.280
MATT SULLIVAN: How about we
just ret-- we could return null

00:10:45.280 --> 00:10:46.270
for those two widgets.

00:10:46.270 --> 00:10:48.020
That might just be
looking for the return.

00:10:50.770 --> 00:10:51.910
Child is not equal to null.

00:10:51.910 --> 00:10:52.915
Which child?

00:10:52.915 --> 00:10:54.895
ANDREW BROGDON: Let's
just return a container.

00:10:54.895 --> 00:10:57.270
I'm worried that I've messed
something else up and I just

00:10:57.270 --> 00:10:58.170
think that I've--

00:11:03.310 --> 00:11:03.950
no.

00:11:03.950 --> 00:11:05.860
OK.

00:11:05.860 --> 00:11:06.670
So there's that.

00:11:06.670 --> 00:11:09.160
That still has-- let's make
this an icon button, too.

00:11:09.160 --> 00:11:09.993
MATT SULLIVAN: Yeah.

00:11:12.564 --> 00:11:19.041
ANDREW BROGDON: So we
give it an icon like that.

00:11:19.041 --> 00:11:21.950
Then we need an on pressed.

00:11:21.950 --> 00:11:23.740
Let's just give it
an empty one for now.

00:11:23.740 --> 00:11:27.290
And capitalization helps because
this is not Visual Basic.

00:11:27.290 --> 00:11:27.790
There we go.

00:11:30.980 --> 00:11:33.830
No offense to anyone who
codes in Visual Basic.

00:11:33.830 --> 00:11:35.476
Gets a lot of work done.

00:11:35.476 --> 00:11:38.070
And what am I messing up here?

00:11:38.070 --> 00:11:41.568
That's it right there.

00:11:41.568 --> 00:11:44.860
MATT SULLIVAN: There you go.

00:11:44.860 --> 00:11:46.860
So does this mean if you
click the leading, what

00:11:46.860 --> 00:11:49.250
happens when it calls close?

00:11:49.250 --> 00:11:50.245
It closes.

00:11:50.245 --> 00:11:52.681
ANDREW BROGDON: Did
you see that, though?

00:11:52.681 --> 00:11:53.180
Watch.

00:11:57.030 --> 00:11:58.950
I swear I saw a little
bit of the red screen

00:11:58.950 --> 00:12:01.850
in there the first
time I did that.

00:12:01.850 --> 00:12:02.520
No.

00:12:02.520 --> 00:12:02.790
All right.

00:12:02.790 --> 00:12:03.480
MATT SULLIVAN: OK.

00:12:03.480 --> 00:12:04.630
We should-- we'll
have to watch the re--

00:12:04.630 --> 00:12:05.470
ANDREW BROGDON: I'm
imagining things.

00:12:05.470 --> 00:12:06.250
MATT SULLIVAN: We'll
watch the rerun and see--

00:12:06.250 --> 00:12:06.450
ANDREW BROGDON: Yeah.

00:12:06.450 --> 00:12:07.485
MATT SULLIVAN:
--what we messed up.

00:12:07.485 --> 00:12:09.193
ANDREW BROGDON: What
are we-- are we 30--

00:12:09.193 --> 00:12:10.230
are we 30 fps here--

00:12:10.230 --> 00:12:11.100
MATT SULLIVAN:
Comments below, please.

00:12:11.100 --> 00:12:12.350
ANDREW BROGDON: --for YouTube?

00:12:12.350 --> 00:12:13.004
I don't know.

00:12:13.004 --> 00:12:15.170
MATT SULLIVAN: We're surely
recording this is 60 fps

00:12:15.170 --> 00:12:16.470
because that's what
Flutter does, right?

00:12:16.470 --> 00:12:18.390
ANDREW BROGDON: I just moved
so quickly you can't really

00:12:18.390 --> 00:12:19.810
get the nuance at 30 fps.

00:12:19.810 --> 00:12:21.393
MATT SULLIVAN:
You're-- you're a blur.

00:12:21.393 --> 00:12:23.295
ANDREW BROGDON: Yeah.

00:12:23.295 --> 00:12:25.000
MATT SULLIVAN: So where were we?

00:12:25.000 --> 00:12:25.875
ANDREW BROGDON: Yeah.

00:12:25.875 --> 00:12:27.930
So we launched an empty
screen, and then I

00:12:27.930 --> 00:12:29.166
congratulated myself a lot.

00:12:29.166 --> 00:12:31.040
MATT SULLIVAN: Search
was typable now, right?

00:12:31.040 --> 00:12:32.206
ANDREW BROGDON: You should--

00:12:34.618 --> 00:12:35.830
MATT SULLIVAN: Search bar.

00:12:35.830 --> 00:12:36.330
OK.

00:12:36.330 --> 00:12:40.210
ANDREW BROGDON: Curious why the
soft keyboard didn't come up.

00:12:40.210 --> 00:12:40.710
All right.

00:12:40.710 --> 00:12:42.550
We'll have to look
into that one.

00:12:42.550 --> 00:12:43.050
All right.

00:12:43.050 --> 00:12:46.390
So we have build results
and build suggestions.

00:12:49.750 --> 00:12:56.970
So how do we get the
current state of the search?

00:12:56.970 --> 00:12:57.940
MATT SULLIVAN: OK.

00:12:57.940 --> 00:12:58.380
Let's take a look--

00:12:58.380 --> 00:12:59.166
ANDREW BROGDON: Let me--

00:12:59.166 --> 00:13:00.240
MATT SULLIVAN: Let's
take a look at--

00:13:00.240 --> 00:13:02.323
ANDREW BROGDON: There's
gotta be a way to do that.

00:13:02.323 --> 00:13:06.142
MATT SULLIVAN: API surface
and see what we're given.

00:13:06.142 --> 00:13:07.590
There is-- there you go.

00:13:07.590 --> 00:13:09.210
There's a property called query.

00:13:09.210 --> 00:13:10.480
ANDREW BROGDON: Here we go.

00:13:10.480 --> 00:13:12.720
OK.

00:13:12.720 --> 00:13:14.545
So we can do--

00:13:14.545 --> 00:13:15.670
MATT SULLIVAN: I guess it--

00:13:15.670 --> 00:13:16.260
ANDREW BROGDON: So
we'll have a query

00:13:16.260 --> 00:13:17.375
which represents whatever--

00:13:17.375 --> 00:13:18.460
MATT SULLIVAN: Now,
the question is--

00:13:18.460 --> 00:13:19.170
ANDREW BROGDON:
--people are typing in,

00:13:19.170 --> 00:13:21.420
so I should be able to
do something like this.

00:13:21.420 --> 00:13:22.170
MATT SULLIVAN: Text query.

00:13:22.170 --> 00:13:22.910
ANDREW BROGDON: Maybe.

00:13:22.910 --> 00:13:23.951
MATT SULLIVAN: And then--

00:13:23.951 --> 00:13:25.666
OK.

00:13:25.666 --> 00:13:29.710
ANDREW BROGDON: So pop
up my search and do--

00:13:29.710 --> 00:13:30.520
there we go.

00:13:30.520 --> 00:13:30.930
MATT SULLIVAN: Magics.

00:13:30.930 --> 00:13:32.388
ANDREW BROGDON: So
we do have data.

00:13:32.388 --> 00:13:35.100
We've got to connect
this to something.

00:13:35.100 --> 00:13:35.799
Oh, wait.

00:13:35.799 --> 00:13:36.840
That's a good point, too.

00:13:36.840 --> 00:13:40.770
So we have this little clear
button not clearing anything.

00:13:40.770 --> 00:13:43.800
Is there a way to clear this?

00:13:43.800 --> 00:13:46.879
I bet there is a
method for that.

00:13:46.879 --> 00:13:48.420
MATT SULLIVAN: And
let's have a look.

00:13:48.420 --> 00:13:50.560
ANDREW BROGDON: Clear.

00:13:50.560 --> 00:13:52.120
Or do we just go--

00:13:52.120 --> 00:13:54.934
can we assign to query, as well?

00:13:54.934 --> 00:13:55.922
Does that work?

00:13:58.890 --> 00:14:00.109
It apparently does.

00:14:00.109 --> 00:14:00.900
MATT SULLIVAN: Wow.

00:14:00.900 --> 00:14:02.983
ANDREW BROGDON: So now
we're working clear button.

00:14:02.983 --> 00:14:03.590
Awesome.

00:14:03.590 --> 00:14:05.340
Thanks to the magic
of string assignments.

00:14:05.340 --> 00:14:08.690
MATT SULLIVAN: Search and
so we're going to have

00:14:08.690 --> 00:14:11.230
to-- so what do we-- we're
going to have a list of articles

00:14:11.230 --> 00:14:12.212
to-- to--

00:14:12.212 --> 00:14:14.420
this is almost like-- more
like filtering the search.

00:14:14.420 --> 00:14:15.670
But I guess same thing.

00:14:15.670 --> 00:14:16.430
ANDREW BROGDON: Yeah,
that's a good point.

00:14:16.430 --> 00:14:18.430
How do we get those
into the search class?

00:14:18.430 --> 00:14:24.526
MATT SULLIVAN: Because
this is a sort of--

00:14:24.526 --> 00:14:26.500
it's navigated to
a separate context.

00:14:26.500 --> 00:14:30.314
So, yeah, how are
we going to do this?

00:14:30.314 --> 00:14:31.480
ANDREW BROGDON: So we have--

00:14:31.480 --> 00:14:32.880
I mean, we have
our block, right?

00:14:32.880 --> 00:14:34.410
That's where we get--

00:14:34.410 --> 00:14:36.720
somewhere down here we're
using a stream builder.

00:14:36.720 --> 00:14:37.470
MATT SULLIVAN: OK.

00:14:37.470 --> 00:14:37.900
So we can use this--

00:14:37.900 --> 00:14:38.550
ANDREW BROGDON: So
we have our block.

00:14:38.550 --> 00:14:40.000
MATT SULLIVAN: --stream builder.

00:14:40.000 --> 00:14:44.280
ANDREW BROGDON: We
could give our--

00:14:44.280 --> 00:14:44.790
all right.

00:14:44.790 --> 00:14:48.679
So this is-- so the
list from-- so the body

00:14:48.679 --> 00:14:50.220
is a stream builder,
which means when

00:14:50.220 --> 00:14:52.890
the block updates
the stream, that's

00:14:52.890 --> 00:14:55.210
going to get rebuilt. Right.

00:14:55.210 --> 00:14:57.466
MATT SULLIVAN: So this is
coming from block dot--

00:14:57.466 --> 00:14:58.590
where is block coming from?

00:14:58.590 --> 00:14:59.490
It's coming from a--

00:14:59.490 --> 00:15:01.700
ANDREW BROGDON: Block is
given to us by the app,

00:15:01.700 --> 00:15:04.890
I believe, right there.

00:15:04.890 --> 00:15:08.275
So the app creates
the block here.

00:15:08.275 --> 00:15:10.410
MATT SULLIVAN: OK, so is it up?

00:15:10.410 --> 00:15:11.610
ANDREW BROGDON: Yeah.

00:15:11.610 --> 00:15:12.400
There we go.

00:15:12.400 --> 00:15:13.500
There is where the
block is created.

00:15:13.500 --> 00:15:14.460
MATT SULLIVAN: So we created--

00:15:14.460 --> 00:15:16.126
ANDREW BROGDON: That's
given to the app.

00:15:16.126 --> 00:15:19.154
The app drills it down
into the home page.

00:15:19.154 --> 00:15:21.570
MATT SULLIVAN: Where do we
insert it into the widget tree?

00:15:21.570 --> 00:15:23.236
ANDREW BROGDON: So
it goes in right here

00:15:23.236 --> 00:15:26.570
as part of this, my home page.

00:15:26.570 --> 00:15:27.340
MATT SULLIVAN: OK.

00:15:27.340 --> 00:15:28.590
So when we call my home page--

00:15:28.590 --> 00:15:30.965
ANDREW BROGDON: That's got a
working block at that point.

00:15:30.965 --> 00:15:33.010
MATT SULLIVAN: The block.

00:15:33.010 --> 00:15:33.510
OK.

00:15:33.510 --> 00:15:35.730
ANDREW BROGDON: And
so the home page

00:15:35.730 --> 00:15:39.450
state, which is the one building
the search, that can do--

00:15:42.442 --> 00:15:44.070
MATT SULLIVAN: So
we don't actually--

00:15:44.070 --> 00:15:45.600
ANDREW BROGDON: That could get--
that could get us the current

00:15:45.600 --> 00:15:46.789
state of--

00:15:46.789 --> 00:15:48.330
see, if we're really
slick, we'd like

00:15:48.330 --> 00:15:50.280
update the search cla--
the search delegate

00:15:50.280 --> 00:15:52.440
class with like the
stream on the fly.

00:15:52.440 --> 00:15:54.541
I don't think we're
quite there yet.

00:15:54.541 --> 00:15:55.290
We could give it--

00:15:55.290 --> 00:15:56.120
MATT SULLIVAN: How many
hours do we have for this--

00:15:56.120 --> 00:15:57.941
ANDREW BROGDON: Yeah.

00:15:57.941 --> 00:16:00.699
This will be our first ever
seven hour Boring Show episode.

00:16:00.699 --> 00:16:01.490
MATT SULLIVAN: Yes.

00:16:01.490 --> 00:16:04.050
ANDREW BROGDON: We could
just give it as a parameter,

00:16:04.050 --> 00:16:06.410
because it can get it an
unmodifiable list view--

00:16:06.410 --> 00:16:07.200
MATT SULLIVAN: So
we're going to pass it.

00:16:07.200 --> 00:16:08.020
ANDREW BROGDON: --of articles.

00:16:08.020 --> 00:16:10.155
So we could just give it
the articles like that.

00:16:10.155 --> 00:16:12.235
MATT SULLIVAN: Oh, when
we instantiate the--

00:16:12.235 --> 00:16:13.185
ANDREW BROGDON: Right.

00:16:13.185 --> 00:16:14.460
MATT SULLIVAN:
Oh, that's clever.

00:16:14.460 --> 00:16:14.850
So we--

00:16:14.850 --> 00:16:15.615
ANDREW BROGDON: So
meet up a final--

00:16:15.615 --> 00:16:18.480
MATT SULLIVAN: Kind of wouldn't
want to do this in reality,

00:16:18.480 --> 00:16:20.170
because that list could be--

00:16:20.170 --> 00:16:22.385
well, I mean, your search
could be coming over HTTP,

00:16:22.385 --> 00:16:25.867
it could be coming from
any sort of data source.

00:16:25.867 --> 00:16:26.700
We can pass this in.

00:16:26.700 --> 00:16:27.020
That's cool.

00:16:27.020 --> 00:16:28.350
ANDREW BROGDON: We need to--

00:16:28.350 --> 00:16:32.100
you know, let's generate
a constructor for me.

00:16:32.100 --> 00:16:32.913
Boom.

00:16:32.913 --> 00:16:35.220
I always forget to use those
and they're right there.

00:16:35.220 --> 00:16:36.420
Command end.

00:16:36.420 --> 00:16:38.790
Visual Studio Code, I
think, has some key command

00:16:38.790 --> 00:16:42.005
you can do to generate
common stuff, too.

00:16:42.005 --> 00:16:43.440
MATT SULLIVAN: I'm sure it does.

00:16:43.440 --> 00:16:45.030
I should stop typing
these things manually

00:16:45.030 --> 00:16:46.110
and work out what
those bindings are.

00:16:46.110 --> 00:16:47.520
ANDREW BROGDON: I'm trying
to force myself to do it

00:16:47.520 --> 00:16:50.370
like I've been needing a bunch
of double equals and hash codes

00:16:50.370 --> 00:16:53.680
recently for some view model
classes, and I've been--

00:16:53.680 --> 00:16:56.286
MATT SULLIVAN: Shouldn't you
just be using built value?

00:16:56.286 --> 00:16:57.660
ANDREW BROGDON:
I should be using

00:16:57.660 --> 00:16:59.670
build value for my view models.

00:16:59.670 --> 00:17:01.860
The problem is I like to
keep them in the class

00:17:01.860 --> 00:17:03.800
with the widget that's
going to consume them.

00:17:03.800 --> 00:17:06.030
And that's tricky because
of the way the build--

00:17:06.030 --> 00:17:07.079
the built value stuff.

00:17:07.079 --> 00:17:09.659
As you've seen in some
of our earlier episodes,

00:17:09.659 --> 00:17:12.284
the build value-- you know, you
put your class in its own file,

00:17:12.284 --> 00:17:14.819
it generates a part file
that sits next to it.

00:17:14.819 --> 00:17:15.670
MATT SULLIVAN: Yeah.

00:17:15.670 --> 00:17:19.140
ANDREW BROGDON: And that
can be a little bit awkward

00:17:19.140 --> 00:17:21.520
if you want to have
anything else in that file.

00:17:21.520 --> 00:17:23.880
Works great, but you
have to structure

00:17:23.880 --> 00:17:26.501
your code a little bit
specifically for that.

00:17:26.501 --> 00:17:27.000
OK.

00:17:27.000 --> 00:17:29.200
So we have this.

00:17:29.200 --> 00:17:32.190
So now we can go back up here
where I now have an error

00:17:32.190 --> 00:17:41.000
and give it
widgets.block.articles,

00:17:41.000 --> 00:17:42.340
which is a stream.

00:17:42.340 --> 00:17:44.340
MATT SULLIVAN: Oh, you're
passing in the stream.

00:17:44.340 --> 00:17:47.422
ANDREW BROGDON: Is
this a value stream

00:17:47.422 --> 00:17:50.792
that I can get a value out of?

00:17:50.792 --> 00:17:53.320
MATT SULLIVAN: Gives a stream
of list of articles right now.

00:17:58.640 --> 00:17:59.976
OK.

00:17:59.976 --> 00:18:01.100
Because we're using stream.

00:18:01.100 --> 00:18:02.330
ANDREW BROGDON: OK.

00:18:02.330 --> 00:18:07.140
So I should be able to do
that instead of future.

00:18:10.599 --> 00:18:11.640
How to do this correctly.

00:18:11.640 --> 00:18:12.431
Because you could--

00:18:12.431 --> 00:18:14.970
MATT SULLIVAN: Because there
will be nothing in this

00:18:14.970 --> 00:18:17.340
until such time the block
resolves the stream.

00:18:17.340 --> 00:18:18.420
ANDREW BROGDON: Right.

00:18:18.420 --> 00:18:20.552
Which isn't that big of a deal.

00:18:20.552 --> 00:18:23.010
We can check and be like, oh,
there's nothing in the stream

00:18:23.010 --> 00:18:24.140
yet so--

00:18:24.140 --> 00:18:26.802
MATT SULLIVAN: Why don't
you use a FutureBuilder?

00:18:26.802 --> 00:18:28.930
ANDREW BROGDON: Would
we want to-- so say

00:18:28.930 --> 00:18:31.400
there's nothing in there yet
and somebody hits the search

00:18:31.400 --> 00:18:35.420
button, do we want to delay and
then pop up the search thing

00:18:35.420 --> 00:18:38.120
after the network
call completes,

00:18:38.120 --> 00:18:40.700
or would we want to just say,
hey, I don't have any articles

00:18:40.700 --> 00:18:42.380
yet so have fun with that.

00:18:42.380 --> 00:18:44.360
MATT SULLIVAN: Well, if
you pass in the stream,

00:18:44.360 --> 00:18:47.150
then you don't necessarily have
to wait because it will still

00:18:47.150 --> 00:18:48.392
resolve here, right?

00:18:48.392 --> 00:18:50.600
Because the stream will
eventually start pumping data

00:18:50.600 --> 00:18:51.990
through at some point.

00:18:51.990 --> 00:18:54.530
Now, you could wait,
or you could just--

00:18:54.530 --> 00:18:56.060
because we're going to have to
read a stream, when you have

00:18:56.060 --> 00:18:57.230
a stream builder
on this side, it's

00:18:57.230 --> 00:18:59.354
only really going to start
to resolve when you have

00:18:59.354 --> 00:19:02.750
data coming through the stream.

00:19:02.750 --> 00:19:04.320
ANDREW BROGDON: And so this is--

00:19:04.320 --> 00:19:08.120
these are behavior
subjects under the hood,

00:19:08.120 --> 00:19:10.727
which means they have a
value to start with, right?

00:19:10.727 --> 00:19:13.060
MATT SULLIVAN: It means it
remembers the last value that

00:19:13.060 --> 00:19:16.145
went in, unless you put
this-- unless you seed it,

00:19:16.145 --> 00:19:17.770
it won't have a value
at the beginning.

00:19:17.770 --> 00:19:22.030
But every time you create
a new stream builder,

00:19:22.030 --> 00:19:26.415
it will immediately pull the
last value from that stream.

00:19:26.415 --> 00:19:27.790
So I don't think
we're seeding it

00:19:27.790 --> 00:19:30.870
because we have nothing to seed
unless we seed an empty list.

00:19:30.870 --> 00:19:32.620
But if we pass in the
stream, we can still

00:19:32.620 --> 00:19:36.044
do the whole stream plumbing.

00:19:36.044 --> 00:19:37.210
ANDREW BROGDON: Interesting.

00:19:37.210 --> 00:19:37.710
OK.

00:19:37.710 --> 00:19:41.510
So we can pass in this,
and I go down here

00:19:41.510 --> 00:19:45.030
and say where I said that
before, actually meant stream.

00:19:48.140 --> 00:19:48.639
Right.

00:19:48.639 --> 00:19:51.080
MATT SULLIVAN: And one of
the ways that I typically

00:19:51.080 --> 00:19:53.200
solve this is I
have an Inherited

00:19:53.200 --> 00:19:54.950
Widget which contains
a stream, and then I

00:19:54.950 --> 00:19:56.162
can access it anywhere.

00:19:56.162 --> 00:19:58.370
We're just passing it through
manually at the moment.

00:19:58.370 --> 00:20:00.475
That's totally fine for
an app of this size.

00:20:00.475 --> 00:20:01.850
But now that we
have the stream--

00:20:01.850 --> 00:20:04.100
ANDREW BROGDON: We could
return a stream builder here.

00:20:06.629 --> 00:20:07.170
Could we not?

00:20:07.170 --> 00:20:08.610
MATT SULLIVAN: We
need to return a--

00:20:08.610 --> 00:20:09.193
yes, we could.

00:20:11.184 --> 00:20:12.600
Because it will
take a new widget.

00:20:14.524 --> 00:20:16.940
ANDREW BROGDON: And so we need
to type our stream builder.

00:20:16.940 --> 00:20:21.740
We should be getting a stream
of unmodifiable list view

00:20:21.740 --> 00:20:24.704
article like that.

00:20:24.704 --> 00:20:26.245
MATT SULLIVAN:
Unmodifiable mouthful.

00:20:26.245 --> 00:20:28.696
ANDREW BROGDON: Yeah.

00:20:28.696 --> 00:20:30.640
And-- oh, actually,
that's results.

00:20:30.640 --> 00:20:32.450
Let's do suggestions first.

00:20:32.450 --> 00:20:34.744
MATT SULLIVAN: Yes.

00:20:34.744 --> 00:20:36.660
ANDREW BROGDON: Because
suggestions come first

00:20:36.660 --> 00:20:37.451
and so I'll return.

00:20:39.959 --> 00:20:42.250
I'm just inventing the new
name-- new names for widgets

00:20:42.250 --> 00:20:42.749
right now.

00:20:42.749 --> 00:20:43.490
That's what I do.

00:20:43.490 --> 00:20:45.290
Alternative widget names.

00:20:45.290 --> 00:20:47.460
So what do we need
for a stream builder.

00:20:47.460 --> 00:20:50.990
And we need a stream
which we can give.

00:20:50.990 --> 00:20:52.940
That's just our articles.

00:20:55.660 --> 00:21:00.265
And we need a builder.

00:21:00.265 --> 00:21:03.070
And so this is one
of the things I like.

00:21:03.070 --> 00:21:05.280
I don't know if the
S code does this.

00:21:05.280 --> 00:21:06.560
You get the nice little hover.

00:21:06.560 --> 00:21:07.520
Because I can
never remember what

00:21:07.520 --> 00:21:09.380
the signature is for
builders and [INAUDIBLE]..

00:21:09.380 --> 00:21:11.540
MATT SULLIVAN: Excuse me, but
the S code has hover, as well.

00:21:11.540 --> 00:21:12.748
ANDREW BROGDON: There you go.

00:21:12.748 --> 00:21:15.960
MATT SULLIVAN:
Your insinuations.

00:21:15.960 --> 00:21:18.970
So we're going to start with
the-- the IDE wars, here.

00:21:18.970 --> 00:21:20.760
ANDREW BROGDON: Yes.

00:21:20.760 --> 00:21:22.890
I do everything in vi
from the command line.

00:21:22.890 --> 00:21:24.890
MATT SULLIVAN: There's a
plugin for dot for vim.

00:21:24.890 --> 00:21:26.102
ANDREW BROGDON: Oh, yeah.

00:21:26.102 --> 00:21:28.870
MATT SULLIVAN: Next
on The Boring Show.

00:21:28.870 --> 00:21:29.420
Flutter for--

00:21:29.420 --> 00:21:31.295
ANDREW BROGDON: Another
episode that involves

00:21:31.295 --> 00:21:33.650
me trying to learn to use vim.

00:21:33.650 --> 00:21:34.150
OK.

00:21:34.150 --> 00:21:36.869
So we're taking this and
it's an async snapshot.

00:21:36.869 --> 00:21:38.660
MATT SULLIVAN: And you
kind of want to type

00:21:38.660 --> 00:21:42.161
this one because it helps the--

00:21:42.161 --> 00:21:43.510
ANDREW BROGDON: Snapshots.

00:21:48.010 --> 00:21:49.271
Still getting yelled at.

00:21:52.879 --> 00:21:54.720
Oh, because it's
an unmodifiable.

00:22:01.510 --> 00:22:02.344
MATT SULLIVAN: Cool.

00:22:02.344 --> 00:22:04.301
ANDREW BROGDON: Here we
go, everything's great.

00:22:04.301 --> 00:22:04.855
All right.

00:22:04.855 --> 00:22:06.230
MATT SULLIVAN: So
the [INAUDIBLE]

00:22:06.230 --> 00:22:08.740
plumbing we're going to need
now is if there's data or not.

00:22:08.740 --> 00:22:09.948
ANDREW BROGDON: That's right.

00:22:09.948 --> 00:22:11.940
So let's say if-- and
I'm just going to do--

00:22:14.646 --> 00:22:16.985
MATT SULLIVAN: You could
do snapshot, that has--

00:22:16.985 --> 00:22:20.200
ANDREW BROGDON: I'm going to
say if it doesn't have data--

00:22:20.200 --> 00:22:21.205
has data--

00:22:21.205 --> 00:22:23.420
MATT SULLIVAN: I use has
data for FutureBuilder.

00:22:23.420 --> 00:22:26.420
And I can't remember if
I use stream builder.

00:22:26.420 --> 00:22:30.034
I usually use the
connection state.

00:22:30.034 --> 00:22:31.450
ANDREW BROGDON:
For right now, I'm

00:22:31.450 --> 00:22:36.392
just going to return a
child that says, no data.

00:22:36.392 --> 00:22:38.230
Like that.

00:22:38.230 --> 00:22:39.555
Semicolon.

00:22:39.555 --> 00:22:43.230
And, otherwise, we can return
something that means something.

00:22:43.230 --> 00:22:45.850
So we could do-- we're going
to need a column of rows,

00:22:45.850 --> 00:22:46.350
I imagine.

00:22:46.350 --> 00:22:47.391
MATT SULLIVAN: List view.

00:22:47.391 --> 00:22:48.690
ANDREW BROGDON: Oh, list view.

00:22:48.690 --> 00:22:49.470
MATT SULLIVAN:
Because we're going

00:22:49.470 --> 00:22:50.630
to have an unmodifiable list.

00:22:50.630 --> 00:22:52.171
The easiest way to
do this, probably,

00:22:52.171 --> 00:22:53.695
at least to see if
it's working, is

00:22:53.695 --> 00:22:55.195
to have a list view
of the articles.

00:22:55.195 --> 00:22:56.100
ANDREW BROGDON: OK.

00:22:56.100 --> 00:22:57.180
Yeah.

00:22:57.180 --> 00:23:02.890
That's a list view, children.

00:23:02.890 --> 00:23:06.622
So we're going to map our
articles to something.

00:23:06.622 --> 00:23:08.080
MATT SULLIVAN: We
can map them just

00:23:08.080 --> 00:23:11.524
to the title for the moment.

00:23:11.524 --> 00:23:14.506
ANDREW BROGDON: Map to widget.

00:23:14.506 --> 00:23:15.880
So we're going to
take an article

00:23:15.880 --> 00:23:21.496
and we're going to convert it
to a text with a dot title.

00:23:21.496 --> 00:23:23.500
MATT SULLIVAN: Do you
want me to text Will

00:23:23.500 --> 00:23:26.319
and find out what font he
wants us to use for this?

00:23:26.319 --> 00:23:28.360
ANDREW BROGDON: I feel
bad because he didn't have

00:23:28.360 --> 00:23:30.050
enough time to finish his work.

00:23:30.050 --> 00:23:32.140
And like he showed a bunch
of really useful stuff

00:23:32.140 --> 00:23:33.640
about the API, and
things like that.

00:23:33.640 --> 00:23:35.190
But like, you know,
his personality,

00:23:35.190 --> 00:23:37.150
he wanted everything
to be like proper

00:23:37.150 --> 00:23:39.050
and finished when
he was done with it.

00:23:39.050 --> 00:23:40.000
And they just didn't have time.

00:23:40.000 --> 00:23:42.041
MATT SULLIVAN: I can't
wait to see what he thinks

00:23:42.041 --> 00:23:44.739
of our search implementation.

00:23:44.739 --> 00:23:45.530
ANDREW BROGDON: OK.

00:23:45.530 --> 00:23:47.570
So let's save that.

00:23:47.570 --> 00:23:48.310
No data.

00:23:48.310 --> 00:23:49.850
MATT SULLIVAN: Yeah.

00:23:49.850 --> 00:23:51.570
That-- well, result-ish.

00:23:51.570 --> 00:23:52.660
ANDREW BROGDON: Yeah.

00:23:52.660 --> 00:23:53.490
That's interesting.

00:23:53.490 --> 00:23:53.990
OK.

00:23:53.990 --> 00:23:54.670
So let's--

00:23:54.670 --> 00:23:57.050
MATT SULLIVAN: Oh,
maybe because the--

00:24:00.714 --> 00:24:03.400
maybe we'll need to
re-- no, that should--

00:24:03.400 --> 00:24:05.948
ANDREW BROGDON: Let's just
start this up [INAUDIBLE]..

00:24:10.710 --> 00:24:11.210
There we go.

00:24:11.210 --> 00:24:12.877
So we had--

00:24:12.877 --> 00:24:14.960
MATT SULLIVAN: So we do
have data now, it's just--

00:24:14.960 --> 00:24:15.620
ANDREW BROGDON: We do have data.

00:24:15.620 --> 00:24:17.786
We just have me forgetting
to put to list on the end

00:24:17.786 --> 00:24:19.240
of my maps, as I always do.

00:24:19.240 --> 00:24:20.892
MATT SULLIVAN: Yeah,
I do that, too.

00:24:20.892 --> 00:24:22.440
ANDREW BROGDON: There we go.

00:24:22.440 --> 00:24:24.300
So we've got some data.

00:24:24.300 --> 00:24:29.330
And then we didn't actually--oh,
I am not in the search bar.

00:24:29.330 --> 00:24:29.960
So there we go.

00:24:29.960 --> 00:24:32.420
So we're not actually using
a query, which we need to do.

00:24:32.420 --> 00:24:33.620
MATT SULLIVAN: So--

00:24:33.620 --> 00:24:34.120
OK.

00:24:34.120 --> 00:24:35.630
Do you want to-- should
we start the list,

00:24:35.630 --> 00:24:37.540
or should we get-- we get the
[INAUDIBLE] working first.

00:24:37.540 --> 00:24:37.750
ANDREW BROGDON: Yeah.

00:24:37.750 --> 00:24:39.184
MATT SULLIVAN: It
should be easy.

00:24:39.184 --> 00:24:40.600
Because all you
want to do, right,

00:24:40.600 --> 00:24:43.150
is you would just want to
search for a substring.

00:24:45.874 --> 00:24:47.420
ANDREW BROGDON:
Going to do aware

00:24:47.420 --> 00:24:49.030
and just do-- yeah,
a straight up.

00:24:49.030 --> 00:24:50.113
We get for--

00:24:50.113 --> 00:24:53.070
MATT SULLIVAN: So what we
do in the list view section,

00:24:53.070 --> 00:24:59.780
we can filter the
list by using--

00:24:59.780 --> 00:25:03.596
I'm presuming Dart
has a substring?

00:25:03.596 --> 00:25:04.520
ANDREW BROGDON: Yes.

00:25:04.520 --> 00:25:05.030
MATT SULLIVAN:
We'll work it out.

00:25:05.030 --> 00:25:05.905
ANDREW BROGDON: Yeah.

00:25:05.905 --> 00:25:06.600
There's a--

00:25:06.600 --> 00:25:07.275
MATT SULLIVAN: Contains.

00:25:07.275 --> 00:25:08.775
ANDREW BROGDON:
--include container.

00:25:08.775 --> 00:25:09.804
So I'm sure there's--

00:25:09.804 --> 00:25:11.720
the Dart string library's
probably been around

00:25:11.720 --> 00:25:12.860
for a decade at this point.

00:25:12.860 --> 00:25:15.920
So it's got to be
in there somewhere.

00:25:15.920 --> 00:25:16.490
Articles.

00:25:16.490 --> 00:25:16.865
Where?

00:25:16.865 --> 00:25:18.790
And then I probably have
to give this a slam dunk.

00:25:18.790 --> 00:25:19.705
MATT SULLIVAN: I can see
the Dart team talking

00:25:19.705 --> 00:25:22.170
to us after is going, really,
you don't know the string API.

00:25:22.170 --> 00:25:24.100
ANDREW BROGDON: After you
talking [INAUDIBLE] material,

00:25:24.100 --> 00:25:26.433
we'll get a-- we'll get a
target date for the Dart team.

00:25:29.660 --> 00:25:31.670
So dot title dot--

00:25:34.465 --> 00:25:35.447
wait a second.

00:25:41.339 --> 00:25:43.490
MATT SULLIVAN: Stream
class [INAUDIBLE] library.

00:25:46.704 --> 00:25:47.495
We have a contains.

00:25:51.938 --> 00:25:53.220
ANDREW BROGDON: Wait a second.

00:25:53.220 --> 00:25:54.960
Oh.

00:25:54.960 --> 00:25:56.380
This is not even
remotely correct.

00:25:56.380 --> 00:25:57.546
I'm operating on the stream.

00:25:57.546 --> 00:26:00.540
Snapshot.data.

00:26:00.540 --> 00:26:04.160
Just like my IQ was not--

00:26:04.160 --> 00:26:04.690
title.

00:26:04.690 --> 00:26:05.570
There we go.

00:26:05.570 --> 00:26:07.290
Contains, yes.

00:26:07.290 --> 00:26:08.870
Can we do it to lower here?

00:26:08.870 --> 00:26:10.036
MATT SULLIVAN: I think you--

00:26:10.036 --> 00:26:12.040
ANDREW BROGDON: There we go.

00:26:12.040 --> 00:26:12.932
Contains.

00:26:12.932 --> 00:26:14.800
MATT SULLIVAN: Well, contains
actually takes a pattern,

00:26:14.800 --> 00:26:16.240
so you could do some
pattern on that--

00:26:16.240 --> 00:26:16.920
ANDREW BROGDON: Oh, my, here--

00:26:16.920 --> 00:26:17.350
MATT SULLIVAN: But I think--

00:26:17.350 --> 00:26:18.475
ANDREW BROGDON: Pattern is.

00:26:18.475 --> 00:26:20.844
MATT SULLIVAN: --we can use
a straight string for this.

00:26:20.844 --> 00:26:22.260
ANDREW BROGDON:
Can I format that?

00:26:22.260 --> 00:26:22.750
There we go.

00:26:22.750 --> 00:26:23.708
That's a little better.

00:26:23.708 --> 00:26:25.498
MATT SULLIVAN:
Contains query maybe.

00:26:28.786 --> 00:26:30.150
ANDREW BROGDON: I can't--

00:26:30.150 --> 00:26:33.410
that would be-- all right.

00:26:33.410 --> 00:26:34.710
Hold on.

00:26:34.710 --> 00:26:35.550
Open source check.

00:26:35.550 --> 00:26:36.510
Let's drill down.

00:26:36.510 --> 00:26:39.150
Returns true.

00:26:39.150 --> 00:26:41.195
If the string contains
a magic other.

00:26:41.195 --> 00:26:43.990
Other is a pattern.

00:26:43.990 --> 00:26:45.585
Pattern is an abstract class.

00:26:53.656 --> 00:26:55.820
MATT SULLIVAN: This
will [INAUDIBLE] a regex

00:26:55.820 --> 00:26:57.830
or a string, or maybe both.

00:27:01.398 --> 00:27:07.010
But isn't a string like a--
just an exact match for a regex?

00:27:07.010 --> 00:27:10.370
Oh, it's been so long since
I've done regular expressions.

00:27:10.370 --> 00:27:12.420
Welcome to the regular
expression show

00:27:12.420 --> 00:27:13.540
where we will spend
the next half an hour

00:27:13.540 --> 00:27:15.340
trying to work out how to
do basic substring magic.

00:27:15.340 --> 00:27:16.465
ANDREW BROGDON: No kidding.

00:27:16.465 --> 00:27:18.235
MATT SULLIVAN: Have
we tried to run this?

00:27:18.235 --> 00:27:20.026
ANDREW BROGDON: Let's
just try it with this

00:27:20.026 --> 00:27:21.544
and see what happens.

00:27:21.544 --> 00:27:22.960
MATT SULLIVAN: You
might want to--

00:27:22.960 --> 00:27:25.885
I think, navigating back
and forth might reset the--

00:27:25.885 --> 00:27:28.260
reset your-- it'll-- cause
it'll kill the stream builder.

00:27:28.260 --> 00:27:30.940
ANDREW BROGDON: That needs
to be results anyway.

00:27:36.132 --> 00:27:37.850
Let's just try
hard restart here.

00:27:47.310 --> 00:27:48.299
So I can do carbon.

00:27:48.299 --> 00:27:49.840
Yeah, you can, just
give it a string.

00:27:49.840 --> 00:27:51.820
MATT SULLIVAN: So that works
except for when there's nothing

00:27:51.820 --> 00:27:51.930
there.

00:27:51.930 --> 00:27:52.805
ANDREW BROGDON: Yeah.

00:27:52.805 --> 00:27:55.081
Thanks, dark courting.

00:27:55.081 --> 00:27:57.690
MATT SULLIVAN: We'll reach
your APIs better the next time.

00:27:57.690 --> 00:28:00.520
ANDREW BROGDON: We promise.

00:28:00.520 --> 00:28:03.320
So that gives us some results.

00:28:03.320 --> 00:28:08.280
We still need to do something
better than this ugliness.

00:28:08.280 --> 00:28:12.572
So let's do something nice,
or we could make a little--

00:28:12.572 --> 00:28:14.280
MATT SULLIVAN: We
could make a list tile.

00:28:14.280 --> 00:28:14.780
ANDREW BROGDON: Let's
make a little-- yeah,

00:28:14.780 --> 00:28:16.030
let's make a little stateless.

00:28:16.030 --> 00:28:19.680
MATT SULLIVAN: I always
end up making less tiles.

00:28:19.680 --> 00:28:21.390
Because, apparently, you know--

00:28:21.390 --> 00:28:23.205
ANDREW BROGDON: Here is one.

00:28:23.205 --> 00:28:24.580
You're right, we
got a list view.

00:28:24.580 --> 00:28:26.080
We could make list tiles.

00:28:26.080 --> 00:28:27.730
That was a good point.

00:28:27.730 --> 00:28:30.830
So we're going to map
to list tile like that.

00:28:38.314 --> 00:28:39.230
What do I put in here?

00:28:39.230 --> 00:28:40.566
MATT SULLIVAN: Title.

00:28:40.566 --> 00:28:41.560
ANDREW BROGDON: Title.

00:28:41.560 --> 00:28:44.330
Well, that's easy, title.

00:28:44.330 --> 00:28:45.680
Oh, no, messed it up.

00:28:45.680 --> 00:28:47.330
Need my a dot-- here we go.

00:28:47.330 --> 00:28:52.030
MATT SULLIVAN: What else do
we have in the article class?

00:28:52.030 --> 00:28:53.863
ANDREW BROGDON: Oh, it
needs to be a widget.

00:28:53.863 --> 00:28:56.700
Text.

00:28:56.700 --> 00:28:58.790
Easy peasy.

00:28:58.790 --> 00:29:00.650
We could put a
leading icon on it.

00:29:05.274 --> 00:29:05.940
Like an article.

00:29:08.880 --> 00:29:11.330
MATT SULLIVAN: Book.

00:29:11.330 --> 00:29:11.860
Bookmark.

00:29:11.860 --> 00:29:13.940
ANDREW BROGDON: Book.

00:29:13.940 --> 00:29:14.770
Bookmark border.

00:29:19.109 --> 00:29:21.150
MATT SULLIVAN: You know
what else you can do you?

00:29:21.150 --> 00:29:24.770
You can put the substring as
the URL if you're feeling--

00:29:24.770 --> 00:29:26.220
ANDREW BROGDON: Oh, subtitle.

00:29:26.220 --> 00:29:28.830
Here we go, yeah.

00:29:28.830 --> 00:29:30.550
Text, I'm guessing.

00:29:30.550 --> 00:29:31.050
a.url.

00:29:37.867 --> 00:29:39.839
Whoa.

00:29:39.839 --> 00:29:43.100
MATT SULLIVAN: Why is it
not showing the title?

00:29:43.100 --> 00:29:44.255
ANDREW BROGDON: This is a--

00:29:44.255 --> 00:29:45.750
I think it's because we've--

00:29:45.750 --> 00:29:52.680
there's been some heavy
modification of the--

00:29:52.680 --> 00:29:54.350
I'm guessing this
title is just an--

00:29:54.350 --> 00:29:56.504
this URL is utterly
enormous, and maybe we

00:29:56.504 --> 00:29:57.420
don't want to show it.

00:29:57.420 --> 00:29:58.730
So let me do this first.

00:29:58.730 --> 00:30:00.646
MATT SULLIVAN: Yeah,
let's take out subtitles,

00:30:00.646 --> 00:30:01.690
see what happens.

00:30:01.690 --> 00:30:04.410
ANDREW BROGDON: So that
gets us-- that's better.

00:30:04.410 --> 00:30:05.610
But those are still--

00:30:05.610 --> 00:30:07.017
you want to give them--

00:30:07.017 --> 00:30:08.850
well, if that's the
body text, then I really

00:30:08.850 --> 00:30:10.275
just need to do this.

00:30:10.275 --> 00:30:13.830
MATT SULLIVAN: But that's odd
because like title should--

00:30:13.830 --> 00:30:17.840
it auto styles it
for list title.

00:30:17.840 --> 00:30:20.140
ANDREW BROGDON: Open source.

00:30:20.140 --> 00:30:22.390
So let's see, we got a build
method in here somewhere,

00:30:22.390 --> 00:30:23.250
right?

00:30:23.250 --> 00:30:24.307
Divide tiles.

00:30:26.930 --> 00:30:29.080
Oh, my goodness.

00:30:29.080 --> 00:30:32.045
List tile's doing
a lot of stuff.

00:30:32.045 --> 00:30:33.746
Title text is title style.

00:30:33.746 --> 00:30:35.870
MATT SULLIVAN: Yeah, so
that should be much bigger.

00:30:35.870 --> 00:30:37.203
I'm surprised how small that is.

00:30:40.408 --> 00:30:43.970
ANDREW BROGDON: Which is using--

00:30:43.970 --> 00:30:46.890
oh, it depends on
your list tile.

00:30:46.890 --> 00:30:48.170
Style.

00:30:48.170 --> 00:30:50.270
So if this is body two,
that would look a lot

00:30:50.270 --> 00:30:52.106
like a body text font.

00:30:52.106 --> 00:30:53.100
MATT SULLIVAN: OK.

00:30:53.100 --> 00:30:54.917
So it's pulling from this style.

00:30:54.917 --> 00:30:56.000
ANDREW BROGDON: All right.

00:30:56.000 --> 00:30:56.708
So let's go back.

00:30:56.708 --> 00:30:58.304
MATT SULLIVAN: We
could retheme it.

00:30:58.304 --> 00:31:02.280
ANDREW BROGDON: And
let me take that off.

00:31:09.250 --> 00:31:16.350
Say isn't-- I know for a fact
you should be able to jam this

00:31:16.350 --> 00:31:19.120
in here.

00:31:19.120 --> 00:31:19.620
Right.

00:31:19.620 --> 00:31:22.110
That should work.

00:31:22.110 --> 00:31:24.025
And be huge and not--

00:31:24.025 --> 00:31:25.000
it's done incorrectly.

00:31:25.000 --> 00:31:25.500
OK.

00:31:28.410 --> 00:31:29.380
Interesting.

00:31:36.655 --> 00:31:41.040
MATT SULLIVAN: We could
just give it a font size.

00:31:41.040 --> 00:31:43.485
Might be--

00:31:43.485 --> 00:31:46.380
ANDREW BROGDON: Style.

00:31:46.380 --> 00:31:49.750
Good old copy width.

00:31:49.750 --> 00:31:52.680
Font size.

00:31:52.680 --> 00:31:54.490
10.0.

00:31:54.490 --> 00:31:55.430
How does that work?

00:31:58.970 --> 00:32:01.092
16.0.

00:32:01.092 --> 00:32:01.840
There we go.

00:32:01.840 --> 00:32:03.331
MATT SULLIVAN: OK.

00:32:03.331 --> 00:32:05.120
ANDREW BROGDON: Again,
apologies to Will.

00:32:05.120 --> 00:32:07.295
I'm sure there's a
better way to do this.

00:32:10.400 --> 00:32:13.050
Format on my code.

00:32:13.050 --> 00:32:14.175
Take out our subtitle here.

00:32:14.175 --> 00:32:15.716
MATT SULLIVAN:
Because you could do--

00:32:15.716 --> 00:32:18.270
with subtitle you can just
say text one line and end with

00:32:18.270 --> 00:32:19.910
an ellipsis, that
way then it doesn't--

00:32:22.520 --> 00:32:24.170
it doesn't overflow everywhere.

00:32:24.170 --> 00:32:27.110
But it's good enough.

00:32:27.110 --> 00:32:28.470
ANDREW BROGDON: OK.

00:32:28.470 --> 00:32:33.550
So now part of the issue
here is that these are--

00:32:33.550 --> 00:32:35.280
these are suggestions.

00:32:35.280 --> 00:32:40.010
These aren't even the actual
results, which is interesting.

00:32:40.010 --> 00:32:44.000
So what's the difference
between suggestions and results?

00:32:46.868 --> 00:32:48.850
MATT SULLIVAN: Transition
from showing results

00:32:48.850 --> 00:32:52.718
by build results to suggestions
from build [INAUDIBLE]..

00:32:56.029 --> 00:32:58.070
ANDREW BROGDON: After the
user submits a search--

00:32:58.070 --> 00:33:02.934
so is this going to be
the same thing almost?

00:33:02.934 --> 00:33:05.430
MATT SULLIVAN: Well,
notice that as you type,

00:33:05.430 --> 00:33:06.779
it's showing the suggestions.

00:33:06.779 --> 00:33:08.070
What happens if you hit Return?

00:33:08.070 --> 00:33:11.874
Does it then show a
different set of results?

00:33:11.874 --> 00:33:14.290
Because suggestions don't have
to be a filter of the list,

00:33:14.290 --> 00:33:15.195
they could be anything.

00:33:15.195 --> 00:33:15.960
ANDREW BROGDON: That's true.

00:33:15.960 --> 00:33:16.470
MATT SULLIVAN: So if we--

00:33:16.470 --> 00:33:18.470
ANDREW BROGDON: Yeah,
because technically you're

00:33:18.470 --> 00:33:21.649
suggesting things that
could go into the query.

00:33:21.649 --> 00:33:23.940
MATT SULLIVAN: So it doesn't
have to be built off that.

00:33:23.940 --> 00:33:30.780
If we hit-- because, usually,
when the keyboard pops up,

00:33:30.780 --> 00:33:34.879
there'll be a search key.

00:33:34.879 --> 00:33:36.670
ANDREW BROGDON:
Suggestions should be based

00:33:36.670 --> 00:33:38.134
on the current query string.

00:33:38.134 --> 00:33:39.550
If the query string
is empty, it's

00:33:39.550 --> 00:33:42.670
good practice to show suggested
queries based on past queries,

00:33:42.670 --> 00:33:45.550
or the current context.

00:33:45.550 --> 00:33:46.090
Query.

00:33:46.090 --> 00:33:46.780
OK.

00:33:46.780 --> 00:33:49.240
So when list tile
on tap is called,

00:33:49.240 --> 00:33:52.600
query should be updated with
the corresponding suggestion.

00:33:52.600 --> 00:33:56.590
And the results page should be
shown by calling show results.

00:33:56.590 --> 00:33:58.090
So what we're
supposed to be doing--

00:33:58.090 --> 00:34:00.006
MATT SULLIVAN: Oh, but
that shows the results.

00:34:00.006 --> 00:34:02.401
That's different
to build results.

00:34:02.401 --> 00:34:04.952
ANDREW BROGDON: So we
should be putting a--

00:34:04.952 --> 00:34:07.035
MATT SULLIVAN: How could
we trigger build results?

00:34:10.954 --> 00:34:12.110
ANDREW BROGDON: On tap.

00:34:14.949 --> 00:34:18.280
Should be query equals--

00:34:18.280 --> 00:34:19.659
this is here.

00:34:19.659 --> 00:34:21.538
We could do it like that.

00:34:21.538 --> 00:34:24.931
Why are you yelling at me?

00:34:24.931 --> 00:34:25.889
What did I just forget?

00:34:25.889 --> 00:34:30.171
MATT SULLIVAN: You're
missing the brackets on tap.

00:34:30.171 --> 00:34:31.170
Open and close brackets.

00:34:37.356 --> 00:34:38.342
You forgot those.

00:34:44.751 --> 00:34:46.800
ANDREW BROGDON: We
could do it like that.

00:34:50.146 --> 00:34:51.519
Let's save that up.

00:34:54.453 --> 00:34:57.110
That worked.

00:34:57.110 --> 00:35:00.789
Interesting that it just
eliminated our preview.

00:35:00.789 --> 00:35:01.580
That's interesting.

00:35:01.580 --> 00:35:01.800
OK.

00:35:01.800 --> 00:35:03.290
MATT SULLIVAN: Well,
that's going to re--

00:35:03.290 --> 00:35:05.160
that's going to rewrite
the query, which is then

00:35:05.160 --> 00:35:06.451
going to filter everything out.

00:35:09.240 --> 00:35:11.694
So the question is how do we
get build results to trigger?

00:35:11.694 --> 00:35:13.360
If you type something
in and hit Return?

00:35:18.799 --> 00:35:19.340
There you go.

00:35:19.340 --> 00:35:20.631
So that's building the results.

00:35:20.631 --> 00:35:22.960
So that's the equivalent
of hitting the Search icon

00:35:22.960 --> 00:35:24.530
on the keyboard.

00:35:24.530 --> 00:35:26.377
ANDREW BROGDON: So
let's take out--

00:35:26.377 --> 00:35:28.210
MATT SULLIVAN: Because
what you want to do--

00:35:28.210 --> 00:35:30.960
ANDREW BROGDON: Let's take
out the icon on this one.

00:35:30.960 --> 00:35:33.800
And do it like that.

00:35:33.800 --> 00:35:36.547
So these actually look
like suggestions now.

00:35:36.547 --> 00:35:39.130
I'm a little weird-- weirded out
by the fact that should leave

00:35:39.130 --> 00:35:44.105
us with one thing in here.

00:35:44.105 --> 00:35:44.980
If we just put this--

00:35:44.980 --> 00:35:48.740
MATT SULLIVAN: But, no, because
that's now running your--

00:35:48.740 --> 00:35:50.200
that's now building
your container,

00:35:50.200 --> 00:35:53.060
because you've-- there's
no longer a suggestion.

00:35:53.060 --> 00:35:56.110
It should be
showing the results.

00:35:56.110 --> 00:35:56.977
See what I mean?

00:35:56.977 --> 00:35:58.060
ANDREW BROGDON: All right.

00:35:58.060 --> 00:35:59.440
Let's build some results then.

00:35:59.440 --> 00:36:03.340
So we would do the
same basic thing here.

00:36:03.340 --> 00:36:09.130
We'd still have a
stream builder, I guess.

00:36:09.130 --> 00:36:12.480
So we do a live update of
your search query for you.

00:36:15.780 --> 00:36:16.280
And--

00:36:16.280 --> 00:36:17.070
MATT SULLIVAN: So I guess--

00:36:17.070 --> 00:36:18.820
ANDREW BROGDON: --we're
bloating the code.

00:36:18.820 --> 00:36:21.380
We can clean this
up if we have time.

00:36:21.380 --> 00:36:25.245
And here we could
put the icon back in.

00:36:25.245 --> 00:36:27.630
And you know what, I'm
going to give these a color.

00:36:31.950 --> 00:36:33.870
Blue.

00:36:33.870 --> 00:36:35.360
Just so we can tell them apart.

00:36:39.600 --> 00:36:40.700
Do that up.

00:36:40.700 --> 00:36:43.610
We'll go back up here
and say, OK, that's it.

00:36:43.610 --> 00:36:45.020
Now, I can put our icon back.

00:36:50.615 --> 00:36:52.940
So we'll be able to
tell these apart.

00:36:52.940 --> 00:36:56.850
And then this will have
it on tap that actually

00:36:56.850 --> 00:37:04.070
closes with the article.

00:37:04.070 --> 00:37:06.380
Because if you had a
result, then you're done,

00:37:06.380 --> 00:37:08.140
you want to close
the search down.

00:37:08.140 --> 00:37:09.130
Or we could do--

00:37:09.130 --> 00:37:11.500
MATT SULLIVAN: Or we could
navigate to the article

00:37:11.500 --> 00:37:12.040
directly.

00:37:12.040 --> 00:37:13.915
ANDREW BROGDON: Would
we want to do that back

00:37:13.915 --> 00:37:15.455
on the original screen?

00:37:15.455 --> 00:37:17.830
Because we have to close the
search at some point, right?

00:37:17.830 --> 00:37:19.746
MATT SULLIVAN: Well, we
can do the URL launch,

00:37:19.746 --> 00:37:25.390
and then we can still call
the navigate.offpop after it,

00:37:25.390 --> 00:37:26.609
potentially.

00:37:26.609 --> 00:37:28.150
I'm not sure how
that would interact,

00:37:28.150 --> 00:37:31.196
because the URL
launcher is no wait.

00:37:31.196 --> 00:37:32.570
We can play around
with it, see--

00:37:32.570 --> 00:37:33.361
ANDREW BROGDON: OK.

00:37:33.361 --> 00:37:34.870
Yeah.

00:37:34.870 --> 00:37:37.540
And, actually, we've been
going for a little while now.

00:37:37.540 --> 00:37:39.220
Do you want to--

00:37:39.220 --> 00:37:44.504
we got some questions we're
going to answer, and give you

00:37:44.504 --> 00:37:45.670
a chance to do some coding--

00:37:45.670 --> 00:37:45.880
MATT SULLIVAN: Well, let's--

00:37:45.880 --> 00:37:46.730
ANDREW BROGDON:
--and finish this up.

00:37:46.730 --> 00:37:47.590
You just want to see if we--

00:37:47.590 --> 00:37:49.210
MATT SULLIVAN: Let's see--
let's see where we got to,

00:37:49.210 --> 00:37:51.704
because you've got like Blue
code and icons and all sorts

00:37:51.704 --> 00:37:52.370
of other things.

00:37:52.370 --> 00:37:53.995
ANDREW BROGDON: You
don't want to-- you

00:37:53.995 --> 00:37:56.380
don't want to take over a
project in a really weird state

00:37:56.380 --> 00:37:57.700
in like a few minutes?

00:38:02.730 --> 00:38:03.860
That's weirding me out.

00:38:03.860 --> 00:38:06.430
So I can type in that.

00:38:06.430 --> 00:38:06.930
OK.

00:38:14.430 --> 00:38:16.145
That gets me a results.

00:38:16.145 --> 00:38:20.494
And that closes OK.

00:38:20.494 --> 00:38:23.240
MATT SULLIVAN: I think it's
because your har-- you're

00:38:23.240 --> 00:38:24.220
overwriting the URL.

00:38:24.220 --> 00:38:26.150
It's getting very
weirded out, as

00:38:26.150 --> 00:38:28.706
opposed to just saying search.

00:38:28.706 --> 00:38:30.220
Because if you tap
in it, it's not

00:38:30.220 --> 00:38:31.210
supposed to take
you to the results

00:38:31.210 --> 00:38:32.050
because you're selecting it.

00:38:32.050 --> 00:38:34.062
And that should, actually,
launch the article,

00:38:34.062 --> 00:38:35.020
if you see what I mean.

00:38:35.020 --> 00:38:36.090
ANDREW BROGDON: OK.

00:38:36.090 --> 00:38:38.990
We can-- I mean, we
could close doing--

00:38:38.990 --> 00:38:40.240
how do I close here, as well?

00:38:40.240 --> 00:38:41.865
MATT SULLIVAN: Yeah,
because the on tap

00:38:41.865 --> 00:38:45.880
there is going to say I'm
choosing this result as opposed

00:38:45.880 --> 00:38:48.310
to show it me again
in the search result.

00:38:48.310 --> 00:38:51.420
ANDREW BROGDON: I can
certainly do that.

00:38:51.420 --> 00:38:53.430
MATT SULLIVAN: So
you can choose one.

00:38:53.430 --> 00:38:54.750
It goes back.

00:38:54.750 --> 00:38:58.859
Or you can search and click
it and it also goes back.

00:38:58.859 --> 00:39:00.400
Of course, we're
going to-- yeah, OK.

00:39:00.400 --> 00:39:01.050
ANDREW BROGDON: All right.

00:39:01.050 --> 00:39:02.800
So let's-- why don't
we do some questions.

00:39:02.800 --> 00:39:03.390
Yes.

00:39:03.390 --> 00:39:03.980
Questions.

00:39:03.980 --> 00:39:06.270
And just a reminder,
if you're watching,

00:39:06.270 --> 00:39:08.267
you can post questions
for us and, you know,

00:39:08.267 --> 00:39:10.350
we'll try to answer as
many as we can on the show.

00:39:10.350 --> 00:39:13.870
You can post YouTube
comments right on this video.

00:39:13.870 --> 00:39:17.430
You can, also, as you can
see from our whiteboard,

00:39:17.430 --> 00:39:21.295
you can use the hashtag
Boring Show, Twitter hashtag

00:39:21.295 --> 00:39:22.170
and tweet them at us.

00:39:22.170 --> 00:39:25.640
We check those out
whenever we can.

00:39:25.640 --> 00:39:29.420
And I have two for today.

00:39:29.420 --> 00:39:33.050
So one of them comes
from Connor Aldridge.

00:39:33.050 --> 00:39:35.550
This is about a week
ago-- week or two ago.

00:39:35.550 --> 00:39:38.850
And, it says, "I'm
really curious about how

00:39:38.850 --> 00:39:40.770
you could remove
the top gray status

00:39:40.770 --> 00:39:43.470
bar with the white background,
because that both looks better

00:39:43.470 --> 00:39:44.915
and is what Google does."

00:39:44.915 --> 00:39:46.850
This is in one of
our other videos

00:39:46.850 --> 00:39:48.470
they were asking about the--

00:39:48.470 --> 00:39:50.850
Connor was asking about
the notification status bar

00:39:50.850 --> 00:39:53.910
at the top of one of the apps,
which a lot of apps get rid of.

00:39:53.910 --> 00:39:56.145
They sort of hide it away.

00:39:56.145 --> 00:39:58.540
And so Flutter does have a
mechanism for doing that.

00:39:58.540 --> 00:40:01.300
You can customize it and
do some other things.

00:40:01.300 --> 00:40:02.820
Let me pull up--

00:40:02.820 --> 00:40:04.020
I have done it.

00:40:04.020 --> 00:40:05.790
When I was teaching
myself Flutter,

00:40:05.790 --> 00:40:08.880
I made a little reverse game.

00:40:08.880 --> 00:40:16.530
And it has a game
UI so I didn't want

00:40:16.530 --> 00:40:20.100
to have the status bar,
or the navigation bar,

00:40:20.100 --> 00:40:21.060
at the top or bottom.

00:40:21.060 --> 00:40:22.950
And I also wanted to
make sure that people

00:40:22.950 --> 00:40:24.870
didn't flip the device.

00:40:24.870 --> 00:40:26.606
So it was just a
simple example, and I

00:40:26.606 --> 00:40:28.230
didn't want to have
to deal with having

00:40:28.230 --> 00:40:30.300
two different layouts for it.

00:40:30.300 --> 00:40:33.700
Because I was but a
wee newb at the time.

00:40:33.700 --> 00:40:37.230
And so there is a way
to interact with what

00:40:37.230 --> 00:40:38.410
they call system Chrome.

00:40:38.410 --> 00:40:41.700
There's a library for
it in Flutter/services,

00:40:41.700 --> 00:40:44.550
and it offers things like
setting your preferred

00:40:44.550 --> 00:40:45.310
orientation.

00:40:45.310 --> 00:40:47.580
So if you want to lock
your screen in portrait,

00:40:47.580 --> 00:40:52.560
or landscape, if you
want to definitely enable

00:40:52.560 --> 00:40:55.530
the navigation-- or the
navigation or notification

00:40:55.530 --> 00:40:57.690
areas, or definitely
disable them and hide them

00:40:57.690 --> 00:41:01.660
away until the user taps
manually to bring them down,

00:41:01.660 --> 00:41:02.680
you can do that.

00:41:02.680 --> 00:41:07.366
And you just make simple
calls into various methods.

00:41:07.366 --> 00:41:08.490
So the system Chrome class.

00:41:08.490 --> 00:41:09.850
Here we go.

00:41:09.850 --> 00:41:11.302
It's got a bunch
of stuff in here.

00:41:11.302 --> 00:41:13.260
Preferred orientations,
you just give it a list

00:41:13.260 --> 00:41:14.800
of the orientations you want.

00:41:14.800 --> 00:41:16.950
And enabled system
UI overlays, you

00:41:16.950 --> 00:41:19.080
give it a list of the
overlays you want,

00:41:19.080 --> 00:41:21.516
or an empty list
to hide everything.

00:41:21.516 --> 00:41:23.640
MATT SULLIVAN: So then you
just give it a scaffold.

00:41:23.640 --> 00:41:26.880
You don't give it an app bar and
that gives you your full page

00:41:26.880 --> 00:41:28.312
for handling material--

00:41:28.312 --> 00:41:29.520
ANDREW BROGDON: I can still--

00:41:29.520 --> 00:41:31.194
I can still have
the app bar, it's

00:41:31.194 --> 00:41:32.610
that very top layer
where you have

00:41:32.610 --> 00:41:34.926
like your battery and your--

00:41:34.926 --> 00:41:36.130
you know, your Snapchat--

00:41:36.130 --> 00:41:36.530
MATT SULLIVAN: Oh,
so that [INAUDIBLE]

00:41:36.530 --> 00:41:36.950
all of those as well?

00:41:36.950 --> 00:41:38.460
ANDREW BROGDON: --and
those little icons.

00:41:38.460 --> 00:41:39.930
That hides those
away and gives you

00:41:39.930 --> 00:41:42.870
that nice, clean full screen
interface that a lot of apps

00:41:42.870 --> 00:41:43.470
really like.

00:41:43.470 --> 00:41:46.880
MATT SULLIVAN: You still
need to take into account--

00:41:46.880 --> 00:41:49.065
you still need your safe
area for notch devices.

00:41:49.065 --> 00:41:50.231
ANDREW BROGDON: That's true.

00:41:50.231 --> 00:41:51.030
MATT SULLIVAN: OK.

00:41:51.030 --> 00:41:53.610
Safe area is great if
you do go full screen

00:41:53.610 --> 00:41:57.870
for pixel 3s and the iPhone
Xs of this world, that

00:41:57.870 --> 00:42:03.937
will make sure you don't have
to manually pad for those areas.

00:42:03.937 --> 00:42:05.520
ANDREW BROGDON: It'll
do a media query

00:42:05.520 --> 00:42:08.730
on your behalf, helps
with rounded corners,

00:42:08.730 --> 00:42:11.730
notches, stuff
like that, which is

00:42:11.730 --> 00:42:14.400
why we made it the very
first ever widget of the week

00:42:14.400 --> 00:42:17.174
way back when.

00:42:17.174 --> 00:42:18.449
So that was one question.

00:42:18.449 --> 00:42:20.740
I thought it was really-- a
really good thing to cover.

00:42:20.740 --> 00:42:23.929
Another one was from
someone named Jim Morrison.

00:42:23.929 --> 00:42:25.470
MATT SULLIVAN: The
Lizard King asks--

00:42:25.470 --> 00:42:26.720
ANDREW BROGDON: Yes, I don't--

00:42:26.720 --> 00:42:27.700
I don't know.

00:42:27.700 --> 00:42:28.350
Fun fact.

00:42:28.350 --> 00:42:30.580
He and I actually went
to the same university.

00:42:30.580 --> 00:42:32.704
MATT SULLIVAN: This
one or the other one?

00:42:32.704 --> 00:42:34.620
ANDREW BROGDON: The
Lizard King, Jim Morrison.

00:42:34.620 --> 00:42:34.860
MATT SULLIVAN: OK.

00:42:34.860 --> 00:42:35.307
Right.

00:42:35.307 --> 00:42:35.754
Sorry about that.

00:42:35.754 --> 00:42:36.650
ANDREW BROGDON: Yeah.

00:42:36.650 --> 00:42:39.089
And, he said-- this
is actually a concern.

00:42:39.089 --> 00:42:41.130
He says, "One thing that
bothers me about Flutter

00:42:41.130 --> 00:42:44.340
is that it seems to allow coders
to easily slip into writing

00:42:44.340 --> 00:42:47.370
massively indented code."

00:42:47.370 --> 00:42:52.696
And Flutter is a fairly
unopinionated SDK.

00:42:52.696 --> 00:42:54.570
You can sort of write
it the way you want to.

00:42:54.570 --> 00:42:56.781
And so this is actually
a very good thing

00:42:56.781 --> 00:42:58.530
to be thinking about,
especially if you're

00:42:58.530 --> 00:43:00.863
going to be a team lead or
something like that where you

00:43:00.863 --> 00:43:03.540
really need to set policies
for other coders to follow,

00:43:03.540 --> 00:43:06.330
maybe beginners who don't
have as much experience.

00:43:06.330 --> 00:43:09.820
And so I wanted to real
quick highlight yet--

00:43:09.820 --> 00:43:12.990
yet again Brian Egan's
wonderful architectural samples,

00:43:12.990 --> 00:43:14.980
where I think he does a
very good job of this.

00:43:14.980 --> 00:43:17.021
I think the best way to
combat this sort of thing

00:43:17.021 --> 00:43:21.266
is to lead by example.

00:43:21.266 --> 00:43:23.490
And so if you're a
team lead and you

00:43:23.490 --> 00:43:26.580
can show your people exactly
how to separate things,

00:43:26.580 --> 00:43:29.570
like business logic
from UI logic,

00:43:29.570 --> 00:43:32.790
you can go a long way to
dealing with that concern.

00:43:32.790 --> 00:43:34.740
And I think Brian
Egan here, he has--

00:43:34.740 --> 00:43:36.750
if you look at his
project structure,

00:43:36.750 --> 00:43:39.510
he has a presentation folder
with all of his presentation

00:43:39.510 --> 00:43:40.320
level--

00:43:40.320 --> 00:43:42.900
presentation level
widgets, which

00:43:42.900 --> 00:43:45.282
are just delightfully simple.

00:43:45.282 --> 00:43:46.740
They're very
simple-minded widgets.

00:43:46.740 --> 00:43:49.890
They just take basic
properties and convert those

00:43:49.890 --> 00:43:52.100
into onscreen presentation.

00:43:52.100 --> 00:43:55.946
And if you go into
his containers folder,

00:43:55.946 --> 00:43:57.320
now, you start to
see things that

00:43:57.320 --> 00:44:00.470
are using business logic to
create those presentation level

00:44:00.470 --> 00:44:02.960
widgets.

00:44:02.960 --> 00:44:04.402
And so as I've--

00:44:04.402 --> 00:44:06.110
and, again, I've
pointed a zillion people

00:44:06.110 --> 00:44:07.940
to these examples.

00:44:07.940 --> 00:44:10.850
If you would like to see some
very well architected Flutter

00:44:10.850 --> 00:44:13.680
code that shows how to deal
with those sorts of concerns,

00:44:13.680 --> 00:44:14.740
I highly recommend these.

00:44:14.740 --> 00:44:18.140
You can find them in our samples
index at Flutter/samples.

00:44:18.140 --> 00:44:19.970
We have a curated
index of samples.

00:44:19.970 --> 00:44:22.250
And you can also just, you
know, throw it into search

00:44:22.250 --> 00:44:24.020
and do Flutter
architectural samples.

00:44:24.020 --> 00:44:25.835
You will-- you'll
find these suckers.

00:44:25.835 --> 00:44:27.260
MATT SULLIVAN: And
a rule of thumb

00:44:27.260 --> 00:44:32.390
is if your own widget
implementations start

00:44:32.390 --> 00:44:34.940
to massively indent or
grow by number of pages,

00:44:34.940 --> 00:44:37.280
decompose them into
individual widgets.

00:44:37.280 --> 00:44:39.080
In the long run, it
will help reusability

00:44:39.080 --> 00:44:42.200
but, more importantly,
it will help readability.

00:44:42.200 --> 00:44:47.480
And the age old use async and
await in futures versus dot

00:44:47.480 --> 00:44:51.346
then, and that will
also help with when

00:44:51.346 --> 00:44:53.720
you start to play around with
a lot of asynchronous code,

00:44:53.720 --> 00:44:56.072
ending up in that pyramid of--

00:44:56.072 --> 00:44:58.280
ANDREW BROGDON: The right
word drift as it is called.

00:44:58.280 --> 00:44:59.750
MATT SULLIVAN: Oh,
back we go again.

00:44:59.750 --> 00:45:00.470
ANDREW BROGDON: Which
has been mentioned

00:45:00.470 --> 00:45:02.844
in some of my own pull requests,
to be completely honest.

00:45:02.844 --> 00:45:06.030
I think Jonah
pointed it out once.

00:45:06.030 --> 00:45:06.675
Yeah.

00:45:06.675 --> 00:45:07.520
All right.

00:45:07.520 --> 00:45:09.710
You want to switch and
we can finish this up?

00:45:09.710 --> 00:45:10.250
MATT SULLIVAN: All right.

00:45:10.250 --> 00:45:12.430
Let's quickly see if we
can get some URLs logic.

00:45:12.430 --> 00:45:14.471
ANDREW BROGDON: Yeah,
let's do that last little--

00:45:14.471 --> 00:45:16.320
put a bow on it
and call it a day.

00:45:19.320 --> 00:45:19.820
All right.

00:45:19.820 --> 00:45:23.490
I'll just log in and check your
email here while I'm at it.

00:45:23.490 --> 00:45:25.178
MATT SULLIVAN:
Which idea is this?

00:45:25.178 --> 00:45:26.890
OK.

00:45:26.890 --> 00:45:28.320
Right.

00:45:28.320 --> 00:45:28.820
OK.

00:45:28.820 --> 00:45:29.736
What have you left me?

00:45:29.736 --> 00:45:32.220
ANDREW BROGDON: I think we just
need that last little piece

00:45:32.220 --> 00:45:33.890
of whether--

00:45:33.890 --> 00:45:35.860
where we're going
to watch the URL,

00:45:35.860 --> 00:45:38.810
and where we're
going to launch it.

00:45:38.810 --> 00:45:41.100
MATT SULLIVAN: So this
is working well so--

00:45:41.100 --> 00:45:44.790
I mean, people, you know,
there is a lot of overlap here

00:45:44.790 --> 00:45:47.400
between the suggestion
and the actual result.

00:45:47.400 --> 00:45:50.820
But in many search cases, you're
not doing direct text search,

00:45:50.820 --> 00:45:53.980
you're doing much more
contextual based search.

00:45:53.980 --> 00:45:56.350
So-- whereas, we do
have overlap here.

00:45:56.350 --> 00:46:00.630
Now, what we could
do is we could--

00:46:00.630 --> 00:46:03.140
let's take a look at--

00:46:03.140 --> 00:46:05.340
now, I have to get
used to your PC.

00:46:05.340 --> 00:46:07.120
Where is-- OK.

00:46:07.120 --> 00:46:07.910
Here we go.

00:46:07.910 --> 00:46:08.710
Show search.

00:46:08.710 --> 00:46:09.270
Back again.

00:46:09.270 --> 00:46:10.240
No, no.

00:46:10.240 --> 00:46:11.650
Yes.

00:46:11.650 --> 00:46:12.640
Here we go.

00:46:12.640 --> 00:46:13.940
So we have build suggestions.

00:46:13.940 --> 00:46:16.635
And we have the
search delegate class.

00:46:16.635 --> 00:46:20.220
Now, what does it say
about returning results?

00:46:20.220 --> 00:46:23.085
ANDREW BROGDON: So that's
what close does, right?

00:46:23.085 --> 00:46:27.500
MATT SULLIVAN: So
close returns a result.

00:46:27.500 --> 00:46:30.120
And if we look at
the implementation,

00:46:30.120 --> 00:46:32.170
that's hopping the results.

00:46:32.170 --> 00:46:33.982
ANDREW BROGDON: That's
using the navigator

00:46:33.982 --> 00:46:35.940
and it's popping with
the result, which is then

00:46:35.940 --> 00:46:38.160
caught by show search, right?

00:46:38.160 --> 00:46:39.030
MATT SULLIVAN: Yes.

00:46:39.030 --> 00:46:44.280
So, basically, that
means that show search

00:46:44.280 --> 00:46:49.860
is returning a future
of type article, which

00:46:49.860 --> 00:46:52.690
means we go back to--

00:46:52.690 --> 00:46:55.510
it's not [INAUDIBLE].

00:46:55.510 --> 00:46:56.960
I was confused even by that.

00:46:56.960 --> 00:46:58.562
Now, why is that red?

00:46:58.562 --> 00:47:00.270
ANDREW BROGDON: Oh,
it's in navigate repo

00:47:00.270 --> 00:47:02.785
so we can push this
when we're done.

00:47:02.785 --> 00:47:04.410
MATT SULLIVAN: So
what we need to do is

00:47:04.410 --> 00:47:06.482
we need to go back to--

00:47:06.482 --> 00:47:07.748
no.

00:47:07.748 --> 00:47:08.850
Oh, main dot Dart.

00:47:08.850 --> 00:47:09.350
Hang on.

00:47:09.350 --> 00:47:10.830
Overall the same one.

00:47:10.830 --> 00:47:12.570
I would definitely break this
into multiple [INAUDIBLE]..

00:47:12.570 --> 00:47:14.280
ANDREW BROGDON: It's still
a very small app considering

00:47:14.280 --> 00:47:17.205
how much hacking we've done on
it, which I find fascinating.

00:47:17.205 --> 00:47:18.720
MATT SULLIVAN: That's very true.

00:47:18.720 --> 00:47:22.440
On the next episode, Will
will style our search page.

00:47:22.440 --> 00:47:24.180
Because as soon as
he watches this--

00:47:27.270 --> 00:47:30.360
so where is our search.

00:47:30.360 --> 00:47:33.170
Show search is here.

00:47:33.170 --> 00:47:36.250
So what we're going to do is--

00:47:36.250 --> 00:47:37.680
how are we going to do this?

00:47:37.680 --> 00:47:40.200
So this is going to
return to future.

00:47:40.200 --> 00:47:45.838
So we could do on
pressed, we would have--

00:47:45.838 --> 00:47:47.809
remember when I said
don't use dot then?

00:47:47.809 --> 00:47:49.100
ANDREW BROGDON: Well, you can--

00:47:49.100 --> 00:47:50.957
I mean, on press can be async.

00:47:50.957 --> 00:47:53.040
You can throw an-- you can
throw an async on there

00:47:53.040 --> 00:47:53.940
if you'd prefer to do that.

00:47:53.940 --> 00:47:55.660
MATT SULLIVAN: So I
could do that, right?

00:47:55.660 --> 00:47:58.520
And then I can do this, right?

00:47:58.520 --> 00:48:05.360
And then I can do
final result is this,

00:48:05.360 --> 00:48:07.150
and this is going to be--

00:48:07.150 --> 00:48:09.200
well, I could
technically do file--

00:48:11.857 --> 00:48:13.440
ANDREW BROGDON: Yeah,
it's interesting

00:48:13.440 --> 00:48:16.450
because show search does
not have a type on it.

00:48:16.450 --> 00:48:19.280
MATT SULLIVAN: But we have
typed it from the delegate.

00:48:19.280 --> 00:48:21.581
ANDREW BROGDON: So does it
inherits the delegate there.

00:48:21.581 --> 00:48:22.080
OK.

00:48:22.080 --> 00:48:22.579
Interesting.

00:48:22.579 --> 00:48:24.600
MATT SULLIVAN: So it's
inheriting it from this.

00:48:24.600 --> 00:48:27.020
ANDREW BROGDON: So even if
you didn't put article result.

00:48:27.020 --> 00:48:28.440
MATT SULLIVAN: Yeah, because--

00:48:28.440 --> 00:48:30.110
I think we can--

00:48:30.110 --> 00:48:32.440
OK.

00:48:32.440 --> 00:48:36.225
I think Dart's smart
enough to work that out.

00:48:36.225 --> 00:48:38.100
And I'm not just trying
to make friends again

00:48:38.100 --> 00:48:40.050
with the Dart team
after our miserable

00:48:40.050 --> 00:48:43.027
attempt at looking up string.

00:48:43.027 --> 00:48:44.610
ANDREW BROGDON:
Sometimes you just try

00:48:44.610 --> 00:48:46.800
whatever would make sense,
and it probably works.

00:48:46.800 --> 00:48:49.170
MATT SULLIVAN: We
could just do print.

00:48:49.170 --> 00:48:50.540
Where are we?

00:48:50.540 --> 00:48:51.540
Oh, it was going to be--

00:48:51.540 --> 00:48:51.960
I was going to--

00:48:51.960 --> 00:48:54.043
I was going to do snack
bar, but we're in scaffold

00:48:54.043 --> 00:48:54.675
and, you know--

00:48:54.675 --> 00:48:55.230
ANDREW BROGDON: Yeah.

00:48:55.230 --> 00:48:57.146
Well, you could just
throw a builder in there.

00:48:57.146 --> 00:48:57.990
MATT SULLIVAN: Fine.

00:48:57.990 --> 00:49:00.060
I'll do it properly.

00:49:00.060 --> 00:49:00.600
Fine.

00:49:00.600 --> 00:49:01.170
I'll do it properly.

00:49:01.170 --> 00:49:03.211
ANDREW BROGDON: We're
going to launch URL anyway.

00:49:03.211 --> 00:49:05.784
MATT SULLIVAN: So the
reason why I can't do that--

00:49:05.784 --> 00:49:07.200
I'll do what I
thought I was going

00:49:07.200 --> 00:49:13.440
to do just so we can see why
[INAUDIBLE] dot show snack bar.

00:49:13.440 --> 00:49:15.220
Snack bar.

00:49:15.220 --> 00:49:17.160
And if Emily Fortuna
is here, we'd

00:49:17.160 --> 00:49:19.600
call this admiral
snack bar because--

00:49:19.600 --> 00:49:21.600
ANDREW BROGDON: Because
she's funnier than us.

00:49:21.600 --> 00:49:22.425
MATT SULLIVAN: Yes.

00:49:22.425 --> 00:49:25.500
And it's funnier
when she says it.

00:49:25.500 --> 00:49:27.590
Snack bar takes content.

00:49:27.590 --> 00:49:32.142
Spot the person who's written
a shitload of snack bars.

00:49:32.142 --> 00:49:32.850
Why are you not--

00:49:32.850 --> 00:49:36.160
ANDREW BROGDON: I think
it's snack capital B bar.

00:49:36.160 --> 00:49:43.080
MATT SULLIVAN: And then we would
do text and do results.title.

00:49:43.080 --> 00:49:45.382
Why not?

00:49:45.382 --> 00:49:47.540
Does that look right?

00:49:47.540 --> 00:49:50.895
Let's put some commas in.

00:49:50.895 --> 00:49:56.265
ANDREW BROGDON: So it's
alt command L to format.

00:49:56.265 --> 00:49:57.147
MATT SULLIVAN: Alt.

00:49:57.147 --> 00:50:01.404
ANDREW BROGDON: Or option
and command L to use.

00:50:01.404 --> 00:50:01.959
There you go.

00:50:01.959 --> 00:50:03.000
MATT SULLIVAN: Thank you.

00:50:03.000 --> 00:50:04.932
You learn something
new every single day.

00:50:04.932 --> 00:50:06.140
So this is not going to work.

00:50:06.140 --> 00:50:07.020
And the reason this
isn't going to work

00:50:07.020 --> 00:50:09.010
is because we're trying
to get the context--

00:50:09.010 --> 00:50:11.010
we're trying to get
scaffold out of the context,

00:50:11.010 --> 00:50:14.097
but it hasn't been built yet.

00:50:14.097 --> 00:50:16.680
And this used to mess me up all
the time, and I'd pull it out.

00:50:16.680 --> 00:50:18.630
And the easiest
way to get around

00:50:18.630 --> 00:50:21.240
this, as Andrew
pointed out, would

00:50:21.240 --> 00:50:23.541
be-- how do I wrap with widget?

00:50:23.541 --> 00:50:26.960
ANDREW BROGDON: Option enter.

00:50:26.960 --> 00:50:30.510
MATT SULLIVAN: This is what
happens when you let me drive.

00:50:30.510 --> 00:50:33.346
You can put a builder in.

00:50:33.346 --> 00:50:36.970
And our builder is
going to have a builder.

00:50:36.970 --> 00:50:39.300
And then we're going
to put in a context.

00:50:39.300 --> 00:50:42.890
And then we're going to
put in a double arrow.

00:50:42.890 --> 00:50:43.390
OK.

00:50:43.390 --> 00:50:45.710
So what does this look like?

00:50:45.710 --> 00:50:51.310
So if we go back and we do
search and click on this.

00:50:54.320 --> 00:50:56.009
Now, I'm not
surprised that work.

00:50:56.009 --> 00:50:57.550
It's always going
to work first time.

00:50:57.550 --> 00:50:58.540
ANDREW BROGDON: So
real-- real quick, just

00:50:58.540 --> 00:51:00.670
to make sure that we're
being clear about what--

00:51:00.670 --> 00:51:02.110
why we put this builder in here.

00:51:02.110 --> 00:51:02.901
MATT SULLIVAN: Yes.

00:51:02.901 --> 00:51:05.149
ANDREW BROGDON: So when
you tell it scaffold of,

00:51:05.149 --> 00:51:06.940
and you give it a
context, it goes, OK, I'm

00:51:06.940 --> 00:51:09.610
going to go from
here up, and I'm

00:51:09.610 --> 00:51:10.900
going to look for a scaffold.

00:51:10.900 --> 00:51:15.850
MATT SULLIVAN: It's going to
look up the widget hierarchy

00:51:15.850 --> 00:51:19.120
tree, but the problem here
is when we called this,

00:51:19.120 --> 00:51:21.640
we haven't actually
built scaffold yet,

00:51:21.640 --> 00:51:23.150
or it's not
necessarily in context.

00:51:23.150 --> 00:51:27.416
So if I remove this option--

00:51:27.416 --> 00:51:28.290
what is that, return?

00:51:28.290 --> 00:51:30.460
ANDREW BROGDON: Alt
option enter, yeah.

00:51:30.460 --> 00:51:31.720
MATT SULLIVAN: Option enter.

00:51:31.720 --> 00:51:36.512
So if I remove widget,
where should we move widget?

00:51:36.512 --> 00:51:37.720
ANDREW BROGDON: I don't know.

00:51:37.720 --> 00:51:41.100
MATT SULLIVAN: [INAUDIBLE].

00:51:41.100 --> 00:51:43.320
If you were to remove
this, this would actually

00:51:43.320 --> 00:51:44.322
throw a runtime error.

00:51:44.322 --> 00:51:45.780
ANDREW BROGDON:
Because it wouldn't

00:51:45.780 --> 00:51:46.595
be able to find the scaffold.

00:51:46.595 --> 00:51:47.200
MATT SULLIVAN: Exactly.

00:51:47.200 --> 00:51:48.116
ANDREW BROGDON: Right.

00:51:48.116 --> 00:51:49.920
MATT SULLIVAN: So the
thing is that if you

00:51:49.920 --> 00:51:53.370
use scaffold it of in
the same build function

00:51:53.370 --> 00:51:54.990
that you're defining
the scaffold,

00:51:54.990 --> 00:51:56.260
you will hit problems.

00:51:56.260 --> 00:52:00.360
And it's the same with
whenever you use dot off.

00:52:00.360 --> 00:52:02.972
So the easiest way instead
of having to break things up

00:52:02.972 --> 00:52:04.680
to multiple build
functions is to wrap it

00:52:04.680 --> 00:52:07.860
in a builder, which gives
you a separate build context

00:52:07.860 --> 00:52:08.457
to measure.

00:52:08.457 --> 00:52:09.540
I've explained that badly.

00:52:12.690 --> 00:52:14.590
So let's see if this also works.

00:52:14.590 --> 00:52:15.280
If I search--

00:52:15.280 --> 00:52:17.750
ANDREW BROGDON: I
think you're still--

00:52:17.750 --> 00:52:19.680
I've done that a
time or two, as well.

00:52:19.680 --> 00:52:22.480
MATT SULLIVAN: If I search
for Neil Armstrong--

00:52:22.480 --> 00:52:23.440
oh, dear, I've--

00:52:23.440 --> 00:52:25.190
ANDREW BROGDON: Did
we-- oh, you're broke.

00:52:25.190 --> 00:52:26.065
You're at breakpoint.

00:52:26.065 --> 00:52:27.130
MATT SULLIVAN: I broked.

00:52:27.130 --> 00:52:29.391
ANDREW BROGDON: Exception.

00:52:29.391 --> 00:52:29.890
OK.

00:52:29.890 --> 00:52:30.870
What is going on?

00:52:30.870 --> 00:52:33.570
MATT SULLIVAN: I don't know,
let's just continue there.

00:52:33.570 --> 00:52:34.270
OK.

00:52:34.270 --> 00:52:37.300
So let's search for Neil.

00:52:37.300 --> 00:52:38.845
Neil's gone.

00:52:38.845 --> 00:52:41.450
Neil is there.

00:52:41.450 --> 00:52:42.909
Oh, because you're
lower casing it.

00:52:42.909 --> 00:52:44.991
ANDREW BROGDON: And I
didn't lower case the query.

00:52:44.991 --> 00:52:46.550
MATT SULLIVAN: Lower
case the query.

00:52:46.550 --> 00:52:47.830
ANDREW BROGDON: Where's my--

00:52:47.830 --> 00:52:49.060
where's my cone of shame?

00:52:49.060 --> 00:52:51.060
MATT SULLIVAN: Well, we'll
fix that in a minute.

00:52:51.060 --> 00:52:54.790
So if we hit Return, we get
the thing, we click the thing,

00:52:54.790 --> 00:52:55.690
we get the snack bar.

00:52:55.690 --> 00:52:56.210
ANDREW BROGDON: Right.

00:52:56.210 --> 00:52:57.700
MATT SULLIVAN: So
let's take this

00:52:57.700 --> 00:53:00.430
to its foregone conclusion.

00:53:00.430 --> 00:53:02.920
That sounds very ominous.

00:53:02.920 --> 00:53:04.710
We leave that there
for the time being.

00:53:04.710 --> 00:53:06.647
But do we have your
launcher in here already?

00:53:06.647 --> 00:53:07.480
ANDREW BROGDON: Yes.

00:53:07.480 --> 00:53:09.765
Because that's what
that icon is doing.

00:53:09.765 --> 00:53:10.765
And so we can probably--

00:53:10.765 --> 00:53:13.390
MATT SULLIVAN: Wrapper
function for that.

00:53:13.390 --> 00:53:15.262
URL.

00:53:15.262 --> 00:53:16.500
ANDREW BROGDON: There it is.

00:53:16.500 --> 00:53:18.570
Yeah, if await,
can launch article.

00:53:18.570 --> 00:53:19.615
Launch article.

00:53:19.615 --> 00:53:22.250
So you could probably
take that exact thing out.

00:53:22.250 --> 00:53:23.302
Yeah.

00:53:23.302 --> 00:53:25.130
MATT SULLIVAN: And
we'll go back up.

00:53:25.130 --> 00:53:27.010
Probably wouldn't
ordinarily break this

00:53:27.010 --> 00:53:28.195
into a separate function.

00:53:31.408 --> 00:53:33.270
If await can launch,
and this is going

00:53:33.270 --> 00:53:38.617
to be result. [INAUDIBLE]
article, result. Snack bar's

00:53:38.617 --> 00:53:39.950
kind of redundant at this point.

00:53:39.950 --> 00:53:41.283
But let's just see what happens.

00:53:41.283 --> 00:53:43.366
ANDREW BROGDON: Everybody
likes a nice snack bar.

00:53:43.366 --> 00:53:45.044
MATT SULLIVAN: You
can choose this.

00:53:49.220 --> 00:53:54.940
ANDREW BROGDON: You might
have already built this.

00:53:54.940 --> 00:53:57.087
You've already built
this section of it,

00:53:57.087 --> 00:53:58.670
so you might need
to do a hot reload--

00:53:58.670 --> 00:53:59.660
or a hot restart.

00:53:59.660 --> 00:54:00.270
I don't know.

00:54:00.270 --> 00:54:01.090
MATT SULLIVAN: OK.

00:54:01.090 --> 00:54:05.200
Where is my hot
restart button here?

00:54:05.200 --> 00:54:06.450
Oh, wait, this seems to have--

00:54:06.450 --> 00:54:06.700
OK.

00:54:06.700 --> 00:54:08.094
I'm going to restart the app.

00:54:16.219 --> 00:54:17.510
I have no idea what those mean.

00:54:17.510 --> 00:54:18.440
ANDREW BROGDON:
Those are the things

00:54:18.440 --> 00:54:20.244
that teach me the key commands.

00:54:20.244 --> 00:54:22.179
MATT SULLIVAN: And I'm
going to comma this out

00:54:22.179 --> 00:54:26.869
because redundant.

00:54:26.869 --> 00:54:28.620
And we did the [INAUDIBLE].

00:54:28.620 --> 00:54:31.440
So there should be no reason
why I can't launch this here.

00:54:36.240 --> 00:54:38.610
So let's see where
we get to here.

00:54:38.610 --> 00:54:42.630
So we get here and
we type carbon.

00:54:42.630 --> 00:54:43.660
And then we click.

00:54:43.660 --> 00:54:45.300
ANDREW BROGDON:
And there it goes.

00:54:45.300 --> 00:54:46.925
MATT SULLIVAN: So it
was a little janky

00:54:46.925 --> 00:54:49.689
'cause we're also pushing
back, and whatnot,

00:54:49.689 --> 00:54:51.480
I mean, there are
several ways around that.

00:54:51.480 --> 00:54:54.900
We could-- so we
go back and then

00:54:54.900 --> 00:55:00.760
we show-- what we could do
is we could launch from here.

00:55:00.760 --> 00:55:03.000
So what we could do, for
example, is we could--

00:55:03.000 --> 00:55:05.380
and let's see if I could
do this real quick.

00:55:05.380 --> 00:55:08.296
And I'm going to take
this before you tell

00:55:08.296 --> 00:55:09.420
me this is a terrible idea.

00:55:09.420 --> 00:55:10.260
ANDREW BROGDON: No, I'm
going to tell you we've

00:55:10.260 --> 00:55:11.755
been going for almost an hour.

00:55:11.755 --> 00:55:12.780
MATT SULLIVAN: OK.

00:55:12.780 --> 00:55:15.400
Let's see if we can
quickly get this done.

00:55:15.400 --> 00:55:17.020
As people frantically
waive at me--

00:55:17.020 --> 00:55:17.715
waive at me.

00:55:20.439 --> 00:55:22.230
ANDREW BROGDON: I don't
think URL launch is

00:55:22.230 --> 00:55:24.026
important to this.

00:55:24.026 --> 00:55:25.400
No, we're still
in the same file.

00:55:25.400 --> 00:55:26.380
That should be fine.

00:55:26.380 --> 00:55:27.784
Result doesn't exist.

00:55:30.736 --> 00:55:32.212
There we go.

00:55:38.116 --> 00:55:42.240
MATT SULLIVAN: And then we go
back and we choose another one.

00:55:44.910 --> 00:55:47.425
Oh, this is coming from results.

00:55:47.425 --> 00:55:48.830
So I'm going to go here.

00:55:48.830 --> 00:55:52.154
Isn't this riveting
watching you work up.

00:55:52.154 --> 00:55:54.420
ANDREW BROGDON: There you go.

00:55:54.420 --> 00:55:55.170
MATT SULLIVAN: OK.

00:55:55.170 --> 00:55:57.670
Little bit of work there just
in terms of what happens when.

00:55:57.670 --> 00:55:59.682
But we've gone from having--

00:55:59.682 --> 00:56:01.390
ANDREW BROGDON: No
search whatsoever to--

00:56:01.390 --> 00:56:03.135
MATT SULLIVAN: To
having kind of cool--

00:56:05.639 --> 00:56:06.680
I think it's pretty neat.

00:56:06.680 --> 00:56:08.960
ANDREW BROGDON: Yeah.

00:56:08.960 --> 00:56:10.160
All right.

00:56:10.160 --> 00:56:13.050
MATT SULLIVAN: And you
can type up your code

00:56:13.050 --> 00:56:14.350
now that I've got it out for--

00:56:14.350 --> 00:56:14.930
ANDREW BROGDON: Before
I push it up to you.

00:56:14.930 --> 00:56:15.400
MATT SULLIVAN: --over it.

00:56:15.400 --> 00:56:16.250
Yeah.

00:56:16.250 --> 00:56:17.333
ANDREW BROGDON: All right.

00:56:17.333 --> 00:56:19.140
So I guess that is today.

00:56:19.140 --> 00:56:21.150
Hopefully, you've enjoyed
watching us knock out

00:56:21.150 --> 00:56:22.620
some search for this.

00:56:22.620 --> 00:56:25.770
It's a fairly simple API,
you know, you just get--

00:56:25.770 --> 00:56:27.780
one call to launch it
and there are four calls

00:56:27.780 --> 00:56:31.350
to return the widgets
that you need to present

00:56:31.350 --> 00:56:33.860
the UI for searching.

00:56:33.860 --> 00:56:34.380
So, yeah.

00:56:34.380 --> 00:56:36.360
Again, please send
us some questions

00:56:36.360 --> 00:56:38.932
on the comments for this
video, or you can tweet us

00:56:38.932 --> 00:56:40.140
with the hashtag Boring Show.

00:56:40.140 --> 00:56:41.560
We always check those out.

00:56:41.560 --> 00:56:44.010
And we try to respond to your
questions both, you know,

00:56:44.010 --> 00:56:46.730
in the comments and
here on the show.

00:56:46.730 --> 00:56:48.800
But, yeah, we'll
see you next time.

00:56:48.800 --> 00:56:51.150
MATT SULLIVAN:
Thank you very much.

