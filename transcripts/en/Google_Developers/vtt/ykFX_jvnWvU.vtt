WEBVTT
Kind: captions
Language: en

00:00:00.000 --> 00:00:05.324
[MUSIC PLAYING]

00:00:14.530 --> 00:00:14.880
PAUL: Hi, everybody.

00:00:14.880 --> 00:00:15.930
My name is Paul Saxman.

00:00:15.930 --> 00:00:18.810
And welcome to this week's
Google Maps Developers Live.

00:00:18.810 --> 00:00:23.920
With me today is visualization
expert Brendan--

00:00:23.920 --> 00:00:27.350
Google Maps visualization
expert Brendan Kenny.

00:00:27.350 --> 00:00:29.780
And today we're going to
go over a series of

00:00:29.780 --> 00:00:32.830
visualizations we did just last
week, actually, with the

00:00:32.830 --> 00:00:34.490
Google Maps API.

00:00:34.490 --> 00:00:38.690
Show you how the process works,
show you a little bit

00:00:38.690 --> 00:00:43.160
of the code, about how we built
these visualizations and

00:00:43.160 --> 00:00:44.170
just go from there.

00:00:44.170 --> 00:00:46.920
So that the visualizations
include things like heat maps,

00:00:46.920 --> 00:00:50.110
symbols, and then we're going to
talk again about Brendan's

00:00:50.110 --> 00:00:53.240
CanvasLayer API, which is
kind of the ultimate

00:00:53.240 --> 00:00:55.140
visualization API.

00:00:55.140 --> 00:00:56.980
Before we dive into that,
though, a couple of quick

00:00:56.980 --> 00:00:58.260
announcements.

00:00:58.260 --> 00:01:01.880
If I go over to the Google
Developers blog here.

00:01:01.880 --> 00:01:03.440
Two things that we announced
this week.

00:01:03.440 --> 00:01:06.150
One is that the Google Places
API Developer challenge.

00:01:06.150 --> 00:01:08.360
We've extended the deadline
for submissions.

00:01:08.360 --> 00:01:10.140
A lot of developers were asking
for a little bit more

00:01:10.140 --> 00:01:12.460
time, so we were happy
to oblige.

00:01:15.370 --> 00:01:17.440
Submissions aren't due until
the end of November.

00:01:17.440 --> 00:01:17.690
So.

00:01:17.690 --> 00:01:18.700
November--

00:01:18.700 --> 00:01:20.080
I believe it's November--

00:01:20.080 --> 00:01:21.190
How many days in November?

00:01:21.190 --> 00:01:24.140
30, 31st.

00:01:24.140 --> 00:01:25.470
BRENDAN: 30?

00:01:25.470 --> 00:01:26.970
PAUL: Something like that.

00:01:26.970 --> 00:01:30.980
The other thing that we
announced recently is two new

00:01:30.980 --> 00:01:34.290
APIs for Enterprise users.

00:01:34.290 --> 00:01:37.950
One is the Google Maps
geolocation API, which

00:01:37.950 --> 00:01:42.270
Enterprise users can use to get
geolocation without using

00:01:42.270 --> 00:01:43.240
GPS coordinates.

00:01:43.240 --> 00:01:46.140
So it's based on Wi-Fi
and cellular towers.

00:01:46.140 --> 00:01:48.550
And the other one is the
Google Maps Tracks API.

00:01:48.550 --> 00:01:52.650
It allows Enterprise developers
to actually store

00:01:52.650 --> 00:01:55.020
geolocation information.

00:01:55.020 --> 00:01:57.970
Store and actually display
geolocation information.

00:01:57.970 --> 00:02:01.240
And analyze that
data on a map.

00:02:01.240 --> 00:02:04.260
So it includes a nice feature,
a geofencing feature, which a

00:02:04.260 --> 00:02:06.530
lot of Enterprise customers
really want.

00:02:06.530 --> 00:02:09.139
So with that, I'm going to
hand it off to Brendan.

00:02:09.139 --> 00:02:12.510
Brendan is going to talk about
this wonderful data set that

00:02:12.510 --> 00:02:16.270
we worked with and kick off
some visualizations.

00:02:16.270 --> 00:02:16.530
check.

00:02:16.530 --> 00:02:16.790
BRENDAN: Sure.

00:02:16.790 --> 00:02:20.760
So we're looking for an example
that we could just

00:02:20.760 --> 00:02:23.770
have a bunch of different ways
that we could look at.

00:02:23.770 --> 00:02:27.605
A particular data set, a single
data set, and just some

00:02:27.605 --> 00:02:29.890
of the different ways that
we can use the Maps API

00:02:29.890 --> 00:02:32.140
specifically, and some of the
new visualization features

00:02:32.140 --> 00:02:35.560
that we introduced over the
summer to explore all the

00:02:35.560 --> 00:02:36.720
different facets of this data.

00:02:36.720 --> 00:02:39.810
And we happened to come across
this really great data set.

00:02:39.810 --> 00:02:44.920
We can take a look at the
website here for the

00:02:44.920 --> 00:02:47.080
Climatological Database for
the World's Oceans.

00:02:47.080 --> 00:02:49.880
And I think it has a French
name that is abbreviated

00:02:49.880 --> 00:02:51.360
there, that I actually don't
know what it is.

00:02:51.360 --> 00:02:55.360
And as you can see it's
an awesome website.

00:02:55.360 --> 00:03:00.380
And an EU grant paid for this
group of universities, and I

00:03:00.380 --> 00:03:02.860
think a few other institutions
to actually go back and look

00:03:02.860 --> 00:03:07.770
at ship logs from 1750
to 1854, and

00:03:07.770 --> 00:03:09.310
actually digitize them.

00:03:09.310 --> 00:03:12.410
So that you get things like
latitude and longitude for

00:03:12.410 --> 00:03:13.640
particular dates.

00:03:13.640 --> 00:03:15.290
And then they actually
included weather

00:03:15.290 --> 00:03:16.770
information as well.

00:03:16.770 --> 00:03:17.800
For the beginning they included

00:03:17.800 --> 00:03:19.710
wind speed and direction.

00:03:19.710 --> 00:03:22.200
And then they also as time
went on and technology

00:03:22.200 --> 00:03:24.840
improved, for instance, getting
reliable thermometers,

00:03:24.840 --> 00:03:27.130
they actually started including
temperature

00:03:27.130 --> 00:03:27.770
information.

00:03:27.770 --> 00:03:29.280
And the reason they were doing
this is so that they could

00:03:29.280 --> 00:03:32.450
push back data for their climate
models or for climate

00:03:32.450 --> 00:03:36.440
models back centuries, because,
while there was

00:03:36.440 --> 00:03:38.880
land-based readings at that
time that we still have

00:03:38.880 --> 00:03:42.070
records for, there was no
actually digitized records for

00:03:42.070 --> 00:03:46.430
the oceans, which is obviously
a huge feedback

00:03:46.430 --> 00:03:47.920
loop for the climate.

00:03:47.920 --> 00:03:49.800
And so they actually went
in and they did

00:03:49.800 --> 00:03:50.770
a really good job.

00:03:50.770 --> 00:03:53.140
And it's actually quite
impressive how

00:03:53.140 --> 00:03:53.770
much work they did.

00:03:53.770 --> 00:03:56.100
You can see some examples
here of the kind of

00:03:56.100 --> 00:03:56.910
beautiful logs here.

00:03:56.910 --> 00:04:01.910
But you can imagine that OCR
is not going to work for

00:04:01.910 --> 00:04:02.940
digitizing these things.

00:04:02.940 --> 00:04:04.870
And so they actually had people
go back and digitize

00:04:04.870 --> 00:04:07.260
all these things, and make
sure that the values were

00:04:07.260 --> 00:04:09.860
reasonable, and they converted
all the different windscales

00:04:09.860 --> 00:04:11.030
that were used by several
different

00:04:11.030 --> 00:04:12.460
countries at the time.

00:04:12.460 --> 00:04:14.470
And they ended up converting--

00:04:14.470 --> 00:04:16.990
they got about 250,000--

00:04:16.990 --> 00:04:22.140
245,000 data points for latitude
and longitude, the

00:04:22.140 --> 00:04:24.770
date, and the wind speed
and direction at least.

00:04:24.770 --> 00:04:26.880
And a couple of extra
data points.

00:04:26.880 --> 00:04:28.780
PAUL: And also some narrative
information as well.

00:04:28.780 --> 00:04:29.230
BRENDAN: Beyond it, yeah.

00:04:29.230 --> 00:04:31.510
So they got some great narrative
information about

00:04:31.510 --> 00:04:34.140
things like a pleasant
breeze this evening.

00:04:34.140 --> 00:04:35.380
Things like that.

00:04:35.380 --> 00:04:36.560
PAUL: Which we haven't started
analyzing yet.

00:04:36.560 --> 00:04:37.300
BRENDAN: Yeah, we have--

00:04:37.300 --> 00:04:38.580
PAUL: It's on our to-do list.

00:04:38.580 --> 00:04:39.790
BRENDAN: We were talking
about a--

00:04:39.790 --> 00:04:40.940
What's it called?

00:04:40.940 --> 00:04:41.996
The--

00:04:41.996 --> 00:04:42.950
PAUL: Oh, sentiment analysis?

00:04:42.950 --> 00:04:43.220
BRENDAN: There you go.

00:04:43.220 --> 00:04:44.190
Yeah.

00:04:44.190 --> 00:04:45.860
PAUL: Oh, we'll go and
[INAUDIBLE] about the data.

00:04:45.860 --> 00:04:49.590
So you said there's 250,000
data points?

00:04:49.590 --> 00:04:51.090
And how many countries?

00:04:51.090 --> 00:04:53.230
BRENDAN: So there's eight
different countries.

00:04:53.230 --> 00:04:54.720
And it's not all
evenly spread.

00:04:54.720 --> 00:05:00.590
So they digitized a huge number
of Spanish log books,

00:05:00.590 --> 00:05:04.440
and log books from the UK.

00:05:04.440 --> 00:05:06.265
Was it the UK already by 1750?

00:05:06.265 --> 00:05:07.040
I don't know.

00:05:07.040 --> 00:05:07.195
Anyway--

00:05:07.195 --> 00:05:07.660
PAUL: That's a good question.

00:05:07.660 --> 00:05:12.000
BRENDAN: So and then there's,
on the other side of the

00:05:12.000 --> 00:05:15.670
scale, there's 51 data
points for the US.

00:05:15.670 --> 00:05:18.740
There's like one voyage where
they came to Europe, I think,

00:05:18.740 --> 00:05:20.750
and then came back.

00:05:20.750 --> 00:05:23.730
And so it's unevenly spread,
and then over time it's

00:05:23.730 --> 00:05:24.760
unevenly spread as well.

00:05:24.760 --> 00:05:27.150
So some years will have a few
hundred and some years will

00:05:27.150 --> 00:05:30.060
have up to about 8,000
data points.

00:05:30.060 --> 00:05:31.910
So that actually makes for a
good challenge in terms of

00:05:31.910 --> 00:05:35.530
trying to find good ways of
visualizing across that larger

00:05:35.530 --> 00:05:37.750
range of interesting
data points.

00:05:37.750 --> 00:05:40.585
Do we actually have the
data somewhere?

00:05:40.585 --> 00:05:43.710
PAUL: Ah, open up Data
and then Sample Data.

00:05:43.710 --> 00:05:44.670
Oh, actually no.

00:05:44.670 --> 00:05:45.350
The entire data set
[INAUDIBLE]

00:05:45.350 --> 00:05:45.686
BRENDAN: OK.

00:05:45.686 --> 00:05:46.022
Yeah.

00:05:46.022 --> 00:05:46.950
BRENDAN: [INAUDIBLE] today.

00:05:46.950 --> 00:05:48.610
BRENDAN: So, it's
kind of this--

00:05:48.610 --> 00:05:51.840
it's almost this comma separated
value, CSV, file

00:05:51.840 --> 00:05:52.860
format but not quite.

00:05:52.860 --> 00:05:55.440
And so it's kind of a pain to
get into a certain format, but

00:05:55.440 --> 00:05:57.090
it ends up not being
that hard.

00:05:57.090 --> 00:05:59.470
You take column A, column
B and add them together.

00:05:59.470 --> 00:06:00.130
And you get the date.

00:06:00.130 --> 00:06:00.880
And that sort of thing.

00:06:00.880 --> 00:06:05.840
You have to normalize across
some of the ways they store

00:06:05.840 --> 00:06:08.070
like tenths of a degree
and things like that.

00:06:08.070 --> 00:06:14.030
But in the end, we actually
started with a data format

00:06:14.030 --> 00:06:18.900
just that would be extremely
easy to put on screen and be

00:06:18.900 --> 00:06:21.520
able to see if we've done
something very wrong, or if

00:06:21.520 --> 00:06:23.000
their data seems reasonable.

00:06:23.000 --> 00:06:26.040
And our goal at first was just
to see what we have.

00:06:26.040 --> 00:06:27.730
And so we wanted to put
something on screen as quickly

00:06:27.730 --> 00:06:28.740
as possible.

00:06:28.740 --> 00:06:30.890
And so we made this first format
you can see up here at

00:06:30.890 --> 00:06:35.060
the top, which was just
we sorted by year.

00:06:35.060 --> 00:06:36.360
And then we took a
list of all the

00:06:36.360 --> 00:06:38.480
coordinates of all the ships.

00:06:38.480 --> 00:06:40.830
We weren't doing any kind of
individual ship tracking at

00:06:40.830 --> 00:06:41.580
this point.

00:06:41.580 --> 00:06:44.540
And just put latitude and
longitude in these giant

00:06:44.540 --> 00:06:48.650
arrays of points associated
with the year.

00:06:48.650 --> 00:06:50.830
And with that we then went over,
and we actually used the

00:06:50.830 --> 00:06:53.780
new heat map library, which is
part of the visualization

00:06:53.780 --> 00:06:56.280
library of the Maps API.

00:06:56.280 --> 00:06:58.630
And just so we could put on
screen and see as quickly as

00:06:58.630 --> 00:07:01.410
possible-- oh yeah,
it's right here--

00:07:01.410 --> 00:07:02.690
what it looks like.

00:07:02.690 --> 00:07:04.860
And so this is what we
ended up getting.

00:07:04.860 --> 00:07:08.060
We have here the world,
obviously.

00:07:08.060 --> 00:07:12.320
And spread out over the world
you can see all the different

00:07:12.320 --> 00:07:17.200
data points just drawn extremely
quickly to see where

00:07:17.200 --> 00:07:17.700
things are.

00:07:17.700 --> 00:07:19.320
And you can actually
get a nice sense--

00:07:19.320 --> 00:07:21.180
well we can zoom out a step here
--and you can get a sense

00:07:21.180 --> 00:07:22.750
of density.

00:07:22.750 --> 00:07:24.960
So you can see, where you
especially have traffic.

00:07:24.960 --> 00:07:28.030
And, obviously, you can see
already that people stay

00:07:28.030 --> 00:07:32.720
really close to the Cape of Good
Hope because of the winds

00:07:32.720 --> 00:07:34.420
and currents down there.

00:07:34.420 --> 00:07:36.370
Whereas they are much more
spread out over the North

00:07:36.370 --> 00:07:40.370
Atlantic due to the different
countries that leave the

00:07:40.370 --> 00:07:41.300
Atlantic here.

00:07:41.300 --> 00:07:44.400
PAUL: And you see a couple of
interesting things too.

00:07:44.400 --> 00:07:47.210
You can assume that the origin
or the destination of most of

00:07:47.210 --> 00:07:51.740
these voyages was Europe because
of where the data

00:07:51.740 --> 00:07:52.280
centered around.

00:07:52.280 --> 00:07:55.180
But then also you can
see the major

00:07:55.180 --> 00:07:56.270
trading hubs in the East.

00:07:56.270 --> 00:07:56.350
BRENDAN: Right.

00:07:56.350 --> 00:07:59.460
PAUL: You have, I think,
Singapore is in there.

00:07:59.460 --> 00:08:00.470
You got to go over there.

00:08:00.470 --> 00:08:04.720
Maybe Indonesia, Singapore.

00:08:04.720 --> 00:08:05.970
BRENDAN: Up into India.

00:08:05.970 --> 00:08:06.820
PAUL: Yeah, India as well.

00:08:06.820 --> 00:08:07.630
So you see--

00:08:07.630 --> 00:08:09.210
BRENDAN: There's no
Suez Canal yet.

00:08:09.210 --> 00:08:10.060
PAUL: Yeah.

00:08:10.060 --> 00:08:12.410
BRENDAN: And then so there's
actually a text box down here,

00:08:12.410 --> 00:08:15.180
where we can actually
change the year.

00:08:15.180 --> 00:08:21.560
So if we want to see 1756, 1757,
and you can definitely

00:08:21.560 --> 00:08:22.550
see traffic increase.

00:08:22.550 --> 00:08:26.170
And you can see that all of a
sudden now we have quite a few

00:08:26.170 --> 00:08:28.730
more destinations in
South America.

00:08:28.730 --> 00:08:30.770
And you actually see
it increase.

00:08:30.770 --> 00:08:38.500
If we picked 1780s we can
see a bigger spread.

00:08:38.500 --> 00:08:40.370
We even have something off here
off the west coast of the

00:08:40.370 --> 00:08:42.640
United States.

00:08:42.640 --> 00:08:44.770
And, then down here,
all the way down to

00:08:44.770 --> 00:08:46.495
Chile, or, well, almost.

00:08:49.240 --> 00:08:51.340
So that gave us a good start.

00:08:51.340 --> 00:08:53.450
And the heat maps are great.

00:08:53.450 --> 00:08:55.280
This is something that's
literally-- we actually can

00:08:55.280 --> 00:08:56.530
take a look here.

00:08:59.250 --> 00:09:01.870
So first, to load
the heat maps.

00:09:01.870 --> 00:09:04.980
So, we don't want to bloat the
main maps API library.

00:09:04.980 --> 00:09:08.290
A lot of people don't make a map
and put a heat map on it.

00:09:08.290 --> 00:09:10.140
So we wanted to make it
an optional download.

00:09:10.140 --> 00:09:14.060
So you can see here on the URL
you actually add an additional

00:09:14.060 --> 00:09:16.480
parameter, libraries equals
visualization.

00:09:16.480 --> 00:09:18.850
And this tells the maps API to
also load the code for the

00:09:18.850 --> 00:09:20.420
visualization library.

00:09:20.420 --> 00:09:23.390
And at that point you get
some additional classes

00:09:23.390 --> 00:09:24.540
available to you.

00:09:24.540 --> 00:09:27.380
And in this case, we're going
to use a new heat map.

00:09:27.380 --> 00:09:30.800
And so here is actually
the constructor call

00:09:30.800 --> 00:09:31.820
for the heat map.

00:09:31.820 --> 00:09:33.310
You just say new heat
map layer and

00:09:33.310 --> 00:09:35.380
pass it data parameter.

00:09:35.380 --> 00:09:38.790
And in that you pass it
an array of lat longs.

00:09:38.790 --> 00:09:41.330
And so in this case, we actually
have just this heat

00:09:41.330 --> 00:09:44.020
map, and we select on 1750.

00:09:44.020 --> 00:09:47.900
The only slight tricky thing
here is we had to convert to

00:09:47.900 --> 00:09:52.220
actually explicitly the
lat long objects.

00:09:52.220 --> 00:09:55.510
But other than that it's
really dead simple.

00:09:55.510 --> 00:09:56.850
This is the entirety
of the code.

00:09:56.850 --> 00:10:00.070
Half of this code is just
the year selection

00:10:00.070 --> 00:10:02.410
text box at the bottom.

00:10:02.410 --> 00:10:03.890
So that's the great thing about
the heat map libraries.

00:10:03.890 --> 00:10:06.320
You just drop it in and
instantly get a picture, and

00:10:06.320 --> 00:10:09.410
get a great sense of where your
data is, what it's doing.

00:10:09.410 --> 00:10:10.320
But there are issues.

00:10:10.320 --> 00:10:14.600
So first of all, you can see the
colors blend in with the

00:10:14.600 --> 00:10:17.600
blue, because we're in the
oceans as opposed to the land.

00:10:17.600 --> 00:10:19.970
They're very typical heat map
colors, so you can actually

00:10:19.970 --> 00:10:23.990
get a sense of pulling it
up to the red intensity.

00:10:23.990 --> 00:10:25.920
But it doesn't necessarily
stand out.

00:10:25.920 --> 00:10:28.160
And the other thing is
this the idea of

00:10:28.160 --> 00:10:29.360
dissipation of points.

00:10:29.360 --> 00:10:32.240
So here, at this zoom level, you
can still get a sense of

00:10:32.240 --> 00:10:36.170
continuity between points
in the logbook.

00:10:36.170 --> 00:10:39.160
So usually they are
about a day apart.

00:10:39.160 --> 00:10:41.200
But when ships are really going
quickly, you can see

00:10:41.200 --> 00:10:43.820
that they start to spread out.

00:10:43.820 --> 00:10:46.190
Now, this becomes a bigger
problem as you zoom in,

00:10:46.190 --> 00:10:48.480
because heat maps are a
measure of density.

00:10:48.480 --> 00:10:52.300
As you zoom in, you have more
space and fewer points per

00:10:52.300 --> 00:10:53.350
unit of space.

00:10:53.350 --> 00:10:56.710
And so you actually have the
points spread out more and

00:10:56.710 --> 00:10:58.880
more until you get to the point
you can no longer tell

00:10:58.880 --> 00:11:01.400
continuity between points.

00:11:01.400 --> 00:11:03.300
This is expected, because
heat maps, I said,

00:11:03.300 --> 00:11:04.185
are measures of density.

00:11:04.185 --> 00:11:05.010
This is expected.

00:11:05.010 --> 00:11:09.070
But it's not necessarily the
optimal way of displaying the

00:11:09.070 --> 00:11:11.110
data that you necessarily
want.

00:11:11.110 --> 00:11:13.750
And so there's a bunch of things
that we can actually

00:11:13.750 --> 00:11:14.180
tweak here.

00:11:14.180 --> 00:11:17.520
There's a bunch of knobs and
levers that we can use to make

00:11:17.520 --> 00:11:20.150
a heat map our own, and make it
very specific to our data.

00:11:20.150 --> 00:11:22.600
And Paul is going to walk
us through that.

00:11:22.600 --> 00:11:22.920
PAUL: OK.

00:11:22.920 --> 00:11:24.300
Absolutely.

00:11:24.300 --> 00:11:28.270
Yeah, so from here, we recognize
these, may not

00:11:28.270 --> 00:11:30.460
necessarily issues of the
visualization, but ways that

00:11:30.460 --> 00:11:33.820
we want to go and tweak it.

00:11:33.820 --> 00:11:35.930
Make it more informative
to the user.

00:11:35.930 --> 00:11:39.100
So, first thing we did--

00:11:39.100 --> 00:11:45.680
so going back to our heat maps
--is, so we actually

00:11:45.680 --> 00:11:48.080
simplified the map itself.

00:11:48.080 --> 00:11:50.360
So a few things we did
here is we went into

00:11:50.360 --> 00:11:52.280
terrain mode, for example.

00:11:52.280 --> 00:11:55.680
So we felt that the actual, the
roadmap wasn't the most

00:11:55.680 --> 00:11:59.830
valuable way to see the map just
because at that time most

00:11:59.830 --> 00:12:02.850
of these roads didn't exist.

00:12:02.850 --> 00:12:05.810
And we were more, primarily,
focused on the countries,

00:12:05.810 --> 00:12:08.490
which is the information
that we wanted to see.

00:12:08.490 --> 00:12:10.730
So the other thing is actually,
if you notice, for

00:12:10.730 --> 00:12:13.210
example, on the left-hand side
here we, actually, remove most

00:12:13.210 --> 00:12:13.830
of the controls.

00:12:13.830 --> 00:12:16.840
So the only real control we
wanted was a zoom control, and

00:12:16.840 --> 00:12:18.830
then this control down
at the bottom.

00:12:18.830 --> 00:12:19.950
And this one's a
little bit new.

00:12:19.950 --> 00:12:21.860
I'll explain in a second.

00:12:21.860 --> 00:12:24.370
The control on the bottom is
actually a slider that we put

00:12:24.370 --> 00:12:28.100
in, or a range input box.

00:12:28.100 --> 00:12:30.520
So the couple other things that
we did too to this, so we

00:12:30.520 --> 00:12:32.590
simplified the map, we
simplified the controls, and

00:12:32.590 --> 00:12:36.050
we actually tweaked the
heat map a little bit.

00:12:36.050 --> 00:12:39.050
So you can see here is one thing
is that we turned off

00:12:39.050 --> 00:12:39.820
dissipation.

00:12:39.820 --> 00:12:46.680
So as we zoom in, the heat map
no longer dissipates, as the

00:12:46.680 --> 00:12:49.280
points get more spread out.

00:12:49.280 --> 00:12:51.270
And it's a nice feature here,
because what we really wanted

00:12:51.270 --> 00:12:54.340
to see is these tracks,
these voyages.

00:12:54.340 --> 00:12:56.080
And this allows us
to retain that

00:12:56.080 --> 00:12:57.940
information at any zoom level.

00:12:57.940 --> 00:12:58.960
BRENDAN: It's a tradeoff,
right?

00:12:58.960 --> 00:13:04.570
So as you zoom in, the heat map
spread gets quite large

00:13:04.570 --> 00:13:06.390
relative to what you
see on the screen.

00:13:06.390 --> 00:13:09.590
So that doesn't necessarily
represent the ship.

00:13:09.590 --> 00:13:11.520
But on the other hand, you
actually get continuity

00:13:11.520 --> 00:13:13.050
between zoom levels.

00:13:13.050 --> 00:13:15.500
And so it really depends on
the data that you have.

00:13:15.500 --> 00:13:17.860
If you know very precisely
every single point.

00:13:17.860 --> 00:13:20.940
If you're interested in points
as opposed to tracks, then you

00:13:20.940 --> 00:13:22.430
might not want to
use dissipation.

00:13:22.430 --> 00:13:23.290
PAUL: Yeah, exactly.

00:13:23.290 --> 00:13:26.740
So, for example, to emphasize
this point.

00:13:26.740 --> 00:13:31.580
I can't necessarily say exactly
what port or what city

00:13:31.580 --> 00:13:33.680
this boat was in when they were
actually taking examples.

00:13:33.680 --> 00:13:38.440
I can assume there were in
Dakar, but not necessarily.

00:13:38.440 --> 00:13:41.600
But if we had dissipation on,
things would actually align

00:13:41.600 --> 00:13:43.610
better with the map.

00:13:43.610 --> 00:13:46.600
Maybe a nice feature to have
a toggle for that.

00:13:46.600 --> 00:13:49.030
So in terms of the control, we
notice that a lot of these

00:13:49.030 --> 00:13:51.210
voyages actually spent multiple
years, because they

00:13:51.210 --> 00:13:54.400
were sailing or steam ships.

00:13:54.400 --> 00:13:57.850
So we wanted to give these a way
to actually visualize the

00:13:57.850 --> 00:13:58.770
data over time.

00:13:58.770 --> 00:14:01.240
So this is something we did with
this custom control on

00:14:01.240 --> 00:14:01.960
the bottom.

00:14:01.960 --> 00:14:04.230
So it's just an input
range box.

00:14:04.230 --> 00:14:07.260
What we do is every time as it
slides to the right or to the

00:14:07.260 --> 00:14:09.640
left, we actually pick a
different date range and

00:14:09.640 --> 00:14:10.370
display it on the map.

00:14:10.370 --> 00:14:12.880
And this shows how quickly
these heat maps can be

00:14:12.880 --> 00:14:14.400
rendered, because each of
these is being rendered

00:14:14.400 --> 00:14:18.480
dynamically as the slider
is being moved.

00:14:18.480 --> 00:14:19.780
It's not exactly real time.

00:14:19.780 --> 00:14:22.070
If I grab it and try to slide
it all the way to the right,

00:14:22.070 --> 00:14:23.550
there's a little bit
of lag, but it is

00:14:23.550 --> 00:14:24.970
actually pretty good.

00:14:24.970 --> 00:14:27.830
And this is on a relatively
new hardware.

00:14:27.830 --> 00:14:31.780
So, also keep that in mind if
you're building one of these.

00:14:31.780 --> 00:14:33.840
You should make sure it works
with older hardware.

00:14:33.840 --> 00:14:35.170
So if we go to the code.

00:14:35.170 --> 00:14:36.420
So this is heat map one.

00:14:41.720 --> 00:14:45.200
So, here we see a couple of
things that we pointed out.

00:14:45.200 --> 00:14:48.580
So, again, the code
is fairly simple.

00:14:48.580 --> 00:14:51.170
Disable all the default
UI controls,

00:14:51.170 --> 00:14:53.080
add in the zoom control.

00:14:53.080 --> 00:14:54.980
I'm a bit of a minimalist,
I like to actually remove

00:14:54.980 --> 00:14:56.350
everything, and then
add back only what

00:14:56.350 --> 00:14:58.430
I need to my interface.

00:14:58.430 --> 00:15:01.760
And down here you can see with
the heat map I actually set

00:15:01.760 --> 00:15:02.790
the dissipation off.

00:15:02.790 --> 00:15:05.490
And this is something that-- we
didn't mention our radius.

00:15:05.490 --> 00:15:10.170
So radius you can actually
control how far each point

00:15:10.170 --> 00:15:12.830
actually spreads out on the map
at default zoom levels.

00:15:12.830 --> 00:15:16.000
So here we're saying a
radius of two pixels.

00:15:16.000 --> 00:15:16.910
Everything else--

00:15:16.910 --> 00:15:17.630
one other thing.

00:15:17.630 --> 00:15:20.350
This is actually in
the previous one.

00:15:20.350 --> 00:15:23.220
Instead of actually having these
map controls actually

00:15:23.220 --> 00:15:26.410
outside of the map in HTML
down structure, we can

00:15:26.410 --> 00:15:30.500
actually use the Maps
API to actually put

00:15:30.500 --> 00:15:32.070
it in the map itself.

00:15:32.070 --> 00:15:36.800
So you can see here this DIV
with the sliders actually down

00:15:36.800 --> 00:15:37.845
here in the DOM tree.

00:15:37.845 --> 00:15:42.140
It is actually below the
map in the DOM tree.

00:15:42.140 --> 00:15:45.300
But here by calling Map and then
adding the controls, we

00:15:45.300 --> 00:15:49.370
can actually push it into
the map itself.

00:15:49.370 --> 00:15:52.120
So from there, we thought
this is a pretty nice

00:15:52.120 --> 00:15:52.860
visualization.

00:15:52.860 --> 00:15:55.320
I think we were seeing
a lot more.

00:15:55.320 --> 00:15:59.080
So the next step that we took
though is to tweak the

00:15:59.080 --> 00:16:01.080
visualization a little
bit more.

00:16:01.080 --> 00:16:04.710
So, again, I mentioned
we can see these

00:16:04.710 --> 00:16:06.840
actually multi-year voyages.

00:16:06.840 --> 00:16:11.960
So we wanted to emphasize or
give the user the ability to

00:16:11.960 --> 00:16:13.520
see these a little bit better.

00:16:13.520 --> 00:16:18.120
So here I allow the user to
actually set a year range.

00:16:18.120 --> 00:16:20.410
So there's a maximum
of 10 years.

00:16:20.410 --> 00:16:22.910
Here you can see that the
visualization actually updates

00:16:22.910 --> 00:16:25.270
a little bit more slowly as
I scroll to the right.

00:16:25.270 --> 00:16:27.120
And that's because we're dealing
with a pretty massive

00:16:27.120 --> 00:16:29.060
number of data points.

00:16:29.060 --> 00:16:33.290
I think at this point we're
probably rendering somewhere--

00:16:33.290 --> 00:16:35.500
so it's 10 years, there's
a hundred years total.

00:16:35.500 --> 00:16:38.810
20,000 plus or minus
data points.

00:16:38.810 --> 00:16:42.300
But since we can expand this
out over 10 years, we can

00:16:42.300 --> 00:16:44.920
actually see these multi-year
voyages forming up in the

00:16:44.920 --> 00:16:46.450
Pacific for example.

00:16:46.450 --> 00:16:50.110
And actually we see a lot more
and get a stronger sense of

00:16:50.110 --> 00:16:52.720
density in the Atlantic
in terms of where

00:16:52.720 --> 00:16:53.600
the ships were going.

00:16:53.600 --> 00:16:55.110
And this is a really interesting
area here.

00:16:55.110 --> 00:16:57.960
BRENDAN: And you get much
prettier little gradients,

00:16:57.960 --> 00:17:00.690
like around Northern
Africa there.

00:17:00.690 --> 00:17:01.300
PAUL: Yeah.

00:17:01.300 --> 00:17:02.990
The data really pops out more.

00:17:02.990 --> 00:17:06.800
And I think this is really
interesting 1776-1786, you can

00:17:06.800 --> 00:17:11.109
see a lot more activity down
in Brazil and Argentina.

00:17:11.109 --> 00:17:18.900
So, and again, I think this data
was hosted by a research

00:17:18.900 --> 00:17:19.410
group in Spain.

00:17:19.410 --> 00:17:23.880
And so I don't know if that
necessarily affected where

00:17:23.880 --> 00:17:27.300
they were actually
sampling from.

00:17:27.300 --> 00:17:31.660
So, we really like that, but one
thing that Brendan pointed

00:17:31.660 --> 00:17:35.660
out earlier is that the this
blue one, or the green to red

00:17:35.660 --> 00:17:38.770
heat map, which is a really
default, pretty much standard

00:17:38.770 --> 00:17:40.970
style for heat maps, I
didn't really show

00:17:40.970 --> 00:17:43.430
very well on water.

00:17:43.430 --> 00:17:47.980
So if we had like really sparse
samples, and those

00:17:47.980 --> 00:17:48.910
didn't stick out as much.

00:17:48.910 --> 00:17:56.550
So the idea was to tweak the
heat map to make it more

00:17:56.550 --> 00:17:58.000
prominent on the map.

00:17:58.000 --> 00:18:00.590
And we did that by actually
specifying a custom gradient

00:18:00.590 --> 00:18:02.170
for the heat map.

00:18:02.170 --> 00:18:05.270
So here you can see, if we
scroll forward a few years.

00:18:05.270 --> 00:18:11.260
I think it was in the
mid to late 1700s.

00:18:11.260 --> 00:18:14.440
Now we can see these voyages
that as actually probably a

00:18:14.440 --> 00:18:17.090
single ship in kind of the
Pacific, this data actually

00:18:17.090 --> 00:18:20.560
sticks out relatively well
on the blue background.

00:18:20.560 --> 00:18:21.810
We take a peek at the code.

00:18:24.300 --> 00:18:27.500
So that's the slider.

00:18:27.500 --> 00:18:30.450
So setting up a gradient is
really as simple as specifying

00:18:30.450 --> 00:18:31.780
RGB values.

00:18:31.780 --> 00:18:35.590
So you specify any number of
these as far as I can tell.

00:18:35.590 --> 00:18:39.380
And one trick with this is make
sure that the first one

00:18:39.380 --> 00:18:42.030
actually has alpha value of
zero, so it's completely

00:18:42.030 --> 00:18:43.660
transparent.

00:18:43.660 --> 00:18:47.680
Otherwise, that's actually the
default color that's overlaid

00:18:47.680 --> 00:18:48.740
on top of the map.

00:18:48.740 --> 00:18:52.550
And then from there, I think,
I did yellow, orange, red.

00:18:52.550 --> 00:18:53.720
Oh no, it was actually
the other way around.

00:18:53.720 --> 00:18:58.310
It was red, orange,
white gradient.

00:18:58.310 --> 00:19:00.530
So kind of fiery looking.

00:19:00.530 --> 00:19:02.300
A couple of other things I
did to the heat map here.

00:19:02.300 --> 00:19:04.790
So in addition to specifying
the gradient, I

00:19:04.790 --> 00:19:06.340
specified an opacity.

00:19:06.340 --> 00:19:09.390
I think default opacity
is about 0.6.

00:19:09.390 --> 00:19:12.940
I actually made it more opaque
to actually make the data look

00:19:12.940 --> 00:19:13.940
more prominent.

00:19:13.940 --> 00:19:17.053
And I set this max intensity.

00:19:17.053 --> 00:19:19.850
I don't understand, so how does
max intensity work with

00:19:19.850 --> 00:19:20.870
the heat maps?

00:19:20.870 --> 00:19:22.810
BRENDAN: So, that's the ceiling
value that everything

00:19:22.810 --> 00:19:23.760
gets normalized to.

00:19:23.760 --> 00:19:27.010
So, normally, it would
[INAUDIBLE]

00:19:27.010 --> 00:19:30.930
if you got 18 points on top of
each other, that would be

00:19:30.930 --> 00:19:34.520
assigned to the max value of the
heat map, and everything

00:19:34.520 --> 00:19:36.800
else would get normalized
and brought down.

00:19:36.800 --> 00:19:40.590
So like nine points on top of
each other somewhere else

00:19:40.590 --> 00:19:43.200
would only have half
of the intensity.

00:19:43.200 --> 00:19:44.310
So max intensity sets a limit.

00:19:44.310 --> 00:19:49.340
So 18 gets floored, or
clamped down to 10.

00:19:49.340 --> 00:19:52.980
And that nine is now 9/10 of
intensity instead of half.

00:19:52.980 --> 00:19:53.660
PAUL: Interesting.

00:19:53.660 --> 00:19:57.140
BRENDAN: So it's a way of making
sure that we have a

00:19:57.140 --> 00:20:00.260
couple points when the ships
are in ports, and they have

00:20:00.260 --> 00:20:02.500
many times more points there
than they do other places,

00:20:02.500 --> 00:20:04.920
because they're there
for a couple weeks.

00:20:04.920 --> 00:20:06.480
And those can drown out
all the other data.

00:20:06.480 --> 00:20:09.930
The other data turns to the
lowest level, and you

00:20:09.930 --> 00:20:10.640
lose all that data.

00:20:10.640 --> 00:20:14.140
So, we're less interested in the
ports for visualization.

00:20:14.140 --> 00:20:15.350
We want to see all the points.

00:20:15.350 --> 00:20:17.340
So you've set that
max intensity.

00:20:17.340 --> 00:20:20.430
PAUL: So, essentially, a high
pass filter, so we're

00:20:20.430 --> 00:20:22.550
filtering out the high
sample rate.

00:20:22.550 --> 00:20:24.650
BRENDAN: Yeah, I guess
you can say that.

00:20:24.650 --> 00:20:26.120
PAUL: Cool.

00:20:26.120 --> 00:20:29.110
So, another, again, it's just a
matter of a few tweaks that

00:20:29.110 --> 00:20:31.420
we put in the code.

00:20:31.420 --> 00:20:33.820
So opacity, gradient,
and max intensity.

00:20:33.820 --> 00:20:37.160
And we can get a really nice
effect on our map.

00:20:37.160 --> 00:20:41.560
So we're going to go to
one more heat map.

00:20:41.560 --> 00:20:45.120
And then, actually, we might
call it a day with

00:20:45.120 --> 00:20:46.100
one more heat map.

00:20:46.100 --> 00:20:47.110
Actually, two more heat maps.

00:20:47.110 --> 00:20:48.470
Oh, I didn't want to
do this one yet.

00:20:48.470 --> 00:20:49.390
This one's a lot of fun.

00:20:49.390 --> 00:20:51.850
Two more heat maps.

00:20:51.850 --> 00:20:56.030
So, in addition to adjusting the
heat map itself, you have

00:20:56.030 --> 00:20:58.610
the ability to actually
style the map as well.

00:20:58.610 --> 00:21:01.810
Well beyond what I showed before
with just changing the

00:21:01.810 --> 00:21:03.920
controls, and changing
the terrain mode.

00:21:03.920 --> 00:21:07.280
Again, like I said earlier, we
really wanted to focus on the

00:21:07.280 --> 00:21:10.100
countries, and the data.

00:21:10.100 --> 00:21:13.180
So, what I did here is
using the styled map.

00:21:13.180 --> 00:21:16.820
The styled map, a feature
of the Google Maps API.

00:21:16.820 --> 00:21:19.710
I took everything, basically
toned the map down to just

00:21:19.710 --> 00:21:22.000
show the land masses
and the countries.

00:21:22.000 --> 00:21:24.790
And, then, on top of that
I put the really

00:21:24.790 --> 00:21:27.180
intense heat map.

00:21:27.180 --> 00:21:32.820
And this allows us, looking at
this data here, this allows us

00:21:32.820 --> 00:21:37.250
to pretty much see everything
that's going on.

00:21:37.250 --> 00:21:40.630
Even though it's like a single
voyage in the Pacific, we can

00:21:40.630 --> 00:21:44.000
see that actually that data
pops or sticks out really

00:21:44.000 --> 00:21:47.020
nicely on this map.

00:21:47.020 --> 00:21:49.405
So the styled map API.

00:21:49.405 --> 00:21:52.950
If we go check, take a look
at that real quick.

00:21:52.950 --> 00:21:54.770
So, here I'm actually
specifying the

00:21:54.770 --> 00:21:57.420
style for the map.

00:21:57.420 --> 00:22:00.700
And again, the way I personally
like to build

00:22:00.700 --> 00:22:02.930
visualizations, I like turn
everything off, and then only

00:22:02.930 --> 00:22:04.670
add in the stuff that
I really want.

00:22:04.670 --> 00:22:08.040
So, here you see I've actually
set that everything on the map

00:22:08.040 --> 00:22:09.440
is made invisible.

00:22:09.440 --> 00:22:12.020
And I sequentially add back the
information that I want.

00:22:12.020 --> 00:22:16.000
So here I've specified that
I want to show the water,

00:22:16.000 --> 00:22:18.150
basically color zero.

00:22:18.150 --> 00:22:20.510
I want to show the
water labels.

00:22:20.510 --> 00:22:22.720
And here I actually have to
set the stroke and fill.

00:22:22.720 --> 00:22:27.480
So that's the color of the
text and what actually

00:22:27.480 --> 00:22:28.290
surrounds the text.

00:22:28.290 --> 00:22:34.810
So the idea is that if you have
white text and a black

00:22:34.810 --> 00:22:37.870
background, you probably want
to do some kind of a stroke

00:22:37.870 --> 00:22:39.350
around it to make it
blend in with the

00:22:39.350 --> 00:22:41.100
background a little bit.

00:22:41.100 --> 00:22:42.340
Kind of a minor tweak.

00:22:42.340 --> 00:22:44.370
If you play around with this,
you can see what it looks like

00:22:44.370 --> 00:22:45.390
without that.

00:22:45.390 --> 00:22:49.030
And, again, I turned
the landscape on.

00:22:49.030 --> 00:22:50.680
And I turned the countries on.

00:22:50.680 --> 00:22:55.340
So in here I didn't have to do
stroke and fill on the labels,

00:22:55.340 --> 00:23:00.000
because it's, I think, white
text on a gray background.

00:23:00.000 --> 00:23:01.930
Oh and inverted lightedness.

00:23:01.930 --> 00:23:03.050
Actually that's the
trick here.

00:23:03.050 --> 00:23:06.190
Is that if I inverted
lightedness on the water

00:23:06.190 --> 00:23:09.060
labels, I got a blue text
on a white background.

00:23:09.060 --> 00:23:10.480
Or blue text with
a white stroke.

00:23:10.480 --> 00:23:13.920
And here, by default,
the country labels

00:23:13.920 --> 00:23:14.860
are white on black.

00:23:14.860 --> 00:23:17.400
So I just inverted
that around.

00:23:17.400 --> 00:23:19.710
So that's actually specifying
the style.

00:23:19.710 --> 00:23:22.040
And you actually just set
that on your map with a

00:23:22.040 --> 00:23:24.380
single line of code.

00:23:24.380 --> 00:23:26.080
So this may look a
little daunting,

00:23:26.080 --> 00:23:27.720
setting up these styles.

00:23:27.720 --> 00:23:32.230
But what we did when we actually
launched the Styled

00:23:32.230 --> 00:23:35.890
Maps, is we created this thing
called Styled Maps Wizard.

00:23:35.890 --> 00:23:39.270
Basically, this tool allows you
to tweak all the different

00:23:39.270 --> 00:23:42.430
settings that I showed
a moment ago

00:23:42.430 --> 00:23:44.050
in a graphical interface.

00:23:44.050 --> 00:23:45.940
And, once you've actually
tweaked it, you can get

00:23:45.940 --> 00:23:48.170
actually the JSON,
or the JavaScript

00:23:48.170 --> 00:23:49.810
object information out.

00:23:49.810 --> 00:23:51.700
So that you can drop
that into your map.

00:23:51.700 --> 00:23:54.210
So, for example, let's
reset this.

00:23:54.210 --> 00:23:55.320
I can say all.

00:23:55.320 --> 00:23:57.900
I turn the visibility to off.

00:23:57.900 --> 00:24:00.340
And I get a blank map.

00:24:00.340 --> 00:24:03.250
And now I want to say, for
example, I could turn the

00:24:03.250 --> 00:24:06.870
water, turn the visibility back
on, and now I get the

00:24:06.870 --> 00:24:07.470
water on my map.

00:24:07.470 --> 00:24:11.500
I can specify and do
a custom color.

00:24:11.500 --> 00:24:14.900
Really quickly you can create
a nice visualization using

00:24:14.900 --> 00:24:17.630
this tool, or a nice
Styled Map.

00:24:17.630 --> 00:24:19.500
And then, when you're done,
you just hit the Show JSON

00:24:19.500 --> 00:24:26.580
button here, and you get all
the code you need for your

00:24:26.580 --> 00:24:28.120
Styled Map.

00:24:28.120 --> 00:24:29.550
With that, I'm going
to pass it.

00:24:29.550 --> 00:24:31.310
We were going to give
a demo of symbols.

00:24:31.310 --> 00:24:34.610
We're running a little over on
time, but definitely want to

00:24:34.610 --> 00:24:40.260
show what Brendan did with the
CanvasLayer, because the

00:24:40.260 --> 00:24:42.740
CanvasLayer is really the
ultimate tool for building

00:24:42.740 --> 00:24:44.240
these visualizations.

00:24:44.240 --> 00:24:48.150
Heat maps and symbols are great
for getting your data on

00:24:48.150 --> 00:24:50.040
the map relatively quickly.

00:24:50.040 --> 00:24:56.420
CanvasLayer, since it uses HTML5
and WebGL the world's

00:24:56.420 --> 00:24:58.030
your oyster at that point.

00:24:58.030 --> 00:24:58.790
BRENDAN: Right.

00:24:58.790 --> 00:25:02.570
Well, it's a tradeoff because,
suddenly, instead of having a

00:25:02.570 --> 00:25:05.720
bunch of helpful libraries
that help you do what you

00:25:05.720 --> 00:25:08.135
want, and have a bunch of
options to tweak, you

00:25:08.135 --> 00:25:10.400
basically have to do everything
yourself.

00:25:10.400 --> 00:25:12.720
So, you have a ton of
flexibility and a ton of

00:25:12.720 --> 00:25:16.010
performance available, but you
now have to every single pixel

00:25:16.010 --> 00:25:17.180
that you want on the screen,
you're going to have to make

00:25:17.180 --> 00:25:18.620
sure it is drawn yourself.

00:25:18.620 --> 00:25:22.210
There's no real infrastructure
yet.

00:25:22.210 --> 00:25:23.950
We're slowly building that up.

00:25:23.950 --> 00:25:26.070
Then there's a bunch of other
libraries that you can bring

00:25:26.070 --> 00:25:27.722
in to do this, but--

00:25:27.722 --> 00:25:29.050
PAUL: Oh, a quick one
with that too.

00:25:29.050 --> 00:25:29.370
BRENDAN: You do have
to do it yourself.

00:25:29.370 --> 00:25:30.560
PAUL: Browser compatibility.

00:25:30.560 --> 00:25:33.110
BRENDAN: Yes, so browser
compatibility is something

00:25:33.110 --> 00:25:35.470
that you need to worry about.

00:25:35.470 --> 00:25:39.470
It's not everywhere yet, but it
is supported in Firefox and

00:25:39.470 --> 00:25:40.550
Chrome for a while now.

00:25:40.550 --> 00:25:43.020
It's supported in Opera
on Windows.

00:25:43.020 --> 00:25:46.690
But I don't think Opera
on the Mac has it yet.

00:25:46.690 --> 00:25:49.840
And then it's in Safari, but
your user actually has to go

00:25:49.840 --> 00:25:52.920
to the develop menu and turn
on WebGL themselves.

00:25:52.920 --> 00:25:54.170
It's not on by default.

00:25:57.030 --> 00:26:01.220
You have to look at your
analytics for your website.

00:26:01.220 --> 00:26:04.756
You have to think about your
users and the kind of audience

00:26:04.756 --> 00:26:05.650
you want to attract.

00:26:05.650 --> 00:26:08.480
And say, is this something
that I want to support?

00:26:08.480 --> 00:26:10.390
It brings me awesome things, but
it might cut out some of

00:26:10.390 --> 00:26:12.740
my audience, is my audience is
the kind of audience that you

00:26:12.740 --> 00:26:15.170
can say, well, would you mind
if you're using Internet

00:26:15.170 --> 00:26:17.610
Explorer switch just
to use this.

00:26:17.610 --> 00:26:18.690
Or you're going to lose them.

00:26:18.690 --> 00:26:20.040
So it's not worth it.

00:26:20.040 --> 00:26:23.320
The other option is you can use
some cool WebGL thing and

00:26:23.320 --> 00:26:25.900
then just have a fall back
for Internet Explorer.

00:26:25.900 --> 00:26:29.180
It's a really easy check
to see if WebGL is

00:26:29.180 --> 00:26:30.280
supported on a browser.

00:26:30.280 --> 00:26:32.660
And if it's not, then you could
do something that, like

00:26:32.660 --> 00:26:36.270
these heat maps, or some
other kind of generate

00:26:36.270 --> 00:26:38.280
tiles sort of thing.

00:26:38.280 --> 00:26:39.060
As a fall back.

00:26:39.060 --> 00:26:41.550
So at least they can get a sense
of the data that you're

00:26:41.550 --> 00:26:42.850
visualizing.

00:26:42.850 --> 00:26:45.930
If not the full kind of
WebGL experience.

00:26:45.930 --> 00:26:49.240
So for CanvasLayer, for this
example, we just wanted to

00:26:49.240 --> 00:26:52.460
throw together something really
quickly to see as kind

00:26:52.460 --> 00:26:55.870
of an experiment how quickly we
could get something up and

00:26:55.870 --> 00:26:57.570
running, and actually usable.

00:26:57.570 --> 00:27:00.370
So what we decided to do was
look at actually the wind data

00:27:00.370 --> 00:27:03.000
that was associated
with these ships.

00:27:03.000 --> 00:27:05.990
So at each data point the ships
actually recorded wind

00:27:05.990 --> 00:27:10.340
direction and the speed
of that wind there.

00:27:10.340 --> 00:27:12.460
And so what we wanted
to see was first

00:27:12.460 --> 00:27:15.400
just how that looked.

00:27:15.400 --> 00:27:17.905
So we have here-- and it should
load in a second.

00:27:22.540 --> 00:27:24.470
There it is.

00:27:24.470 --> 00:27:27.500
Kind of hard to see,
but it's there.

00:27:27.500 --> 00:27:31.210
So what we have here
is our ship tracks.

00:27:31.210 --> 00:27:35.980
And what we're doing actually
is we have a ship position,

00:27:35.980 --> 00:27:38.360
and we're actually looking three
days into the future,

00:27:38.360 --> 00:27:39.310
and three days behind.

00:27:39.310 --> 00:27:44.100
This window in time to see what
was wind like around this

00:27:44.100 --> 00:27:47.020
point in space and time.

00:27:47.020 --> 00:27:49.460
And so with the idea that over
a few days the wind is

00:27:49.460 --> 00:27:51.640
probably at least somewhat
consistent, especially ocean,

00:27:51.640 --> 00:27:54.480
when you're much more dominated
by the trade winds

00:27:54.480 --> 00:27:56.960
than the local weather.

00:27:56.960 --> 00:27:58.770
And so, it turns out,
it actually is.

00:27:58.770 --> 00:28:02.290
You get some really nice
coherency with the wind

00:28:02.290 --> 00:28:02.870
information.

00:28:02.870 --> 00:28:03.830
You can see actually here.

00:28:03.830 --> 00:28:08.070
So here's a ship traveling
south west.

00:28:08.070 --> 00:28:09.850
Southwest, there you go.

00:28:09.850 --> 00:28:15.920
And you can see the actual wind
direction that actually

00:28:15.920 --> 00:28:17.730
looks like it's propelling
them really well.

00:28:17.730 --> 00:28:20.070
And you can see the same
thing over here.

00:28:20.070 --> 00:28:24.160
And so now we can actually
scroll through time, and see

00:28:24.160 --> 00:28:26.800
as these ships travel.

00:28:26.800 --> 00:28:28.380
The problem is we have
100 years that

00:28:28.380 --> 00:28:29.920
scrolls quite quickly.

00:28:29.920 --> 00:28:35.070
But you can see, as these ships
travel, the wind vectors

00:28:35.070 --> 00:28:36.550
fade in and fade back out.

00:28:36.550 --> 00:28:40.420
And the nice thing about
WebGL here is that

00:28:40.420 --> 00:28:41.360
it can handle all--

00:28:41.360 --> 00:28:44.760
I've actually loaded all 250,000
data points at once,

00:28:44.760 --> 00:28:48.320
and just said, give me
this window of time.

00:28:48.320 --> 00:28:52.017
And so here you can see actually
a whole fleet of

00:28:52.017 --> 00:28:58.620
ships leaving, and just get a
sense of the wind that they're

00:28:58.620 --> 00:28:59.380
encountering.

00:28:59.380 --> 00:29:00.840
And here you can
see that things

00:29:00.840 --> 00:29:01.700
are a lot more confused.

00:29:01.700 --> 00:29:03.950
And actually, we're not sure
yet exactly what's that's

00:29:03.950 --> 00:29:07.330
caused by, ocean currents, or
being so close to land, or

00:29:07.330 --> 00:29:11.870
maybe it's just some captains
are better at actually

00:29:11.870 --> 00:29:14.040
measuring wind speed
than others.

00:29:14.040 --> 00:29:14.700
That sort of thing.

00:29:14.700 --> 00:29:16.770
So we're still looking
at that data.

00:29:16.770 --> 00:29:17.920
So that's pretty interesting.

00:29:17.920 --> 00:29:21.900
And it's definitely cool to
see these ship patterns as

00:29:21.900 --> 00:29:23.780
they travel through time.

00:29:23.780 --> 00:29:26.760
But it didn't really
show off WebGL.

00:29:26.760 --> 00:29:29.190
Well, you can tell it's
extremely smooth.

00:29:29.190 --> 00:29:31.900
And it's actually much smoother
than you get, because

00:29:31.900 --> 00:29:35.510
we were actually animating up to
a few thousands data points

00:29:35.510 --> 00:29:37.510
on screen at once, and
it has no problem

00:29:37.510 --> 00:29:38.350
shifting through there.

00:29:38.350 --> 00:29:41.980
It doesn't visually give us the
sense that we really have

00:29:41.980 --> 00:29:43.860
a lot of power at
our fingertips.

00:29:43.860 --> 00:29:46.080
You also don't get a sense
of what's going on the

00:29:46.080 --> 00:29:48.340
ocean at that spot.

00:29:48.340 --> 00:29:53.030
You have a sense of maybe what
are the wind, the shipping

00:29:53.030 --> 00:29:56.000
[INAUDIBLE] that day, which is
literally what the date is.

00:29:56.000 --> 00:29:57.430
But you don't get a sense
of what's going on.

00:29:57.430 --> 00:29:59.960
So, actually, if you go back
to the original data, the

00:29:59.960 --> 00:30:02.180
report they did when
they finished.

00:30:02.180 --> 00:30:04.770
They actually were using
it for climate models.

00:30:04.770 --> 00:30:07.100
And what they did was they said,
so if we assume that

00:30:07.100 --> 00:30:12.180
wind patterns, typically
have seasonal pattern.

00:30:12.180 --> 00:30:14.980
So in the winter winds typically
do this, in the

00:30:14.980 --> 00:30:16.625
summer winds typically
do this.

00:30:16.625 --> 00:30:18.990
What if we actually looked
at all the data for

00:30:18.990 --> 00:30:19.760
the winter at once?

00:30:19.760 --> 00:30:20.850
All the data for the
summer at once?

00:30:20.850 --> 00:30:21.550
So we did that.

00:30:21.550 --> 00:30:23.940
Except we looked at a
much finer scale.

00:30:23.940 --> 00:30:26.660
We said, so what if we looked
at all the first weeks of

00:30:26.660 --> 00:30:27.900
January at once?

00:30:27.900 --> 00:30:35.060
So all 104 years of data brought
in into the same

00:30:35.060 --> 00:30:36.510
screen at once.

00:30:36.510 --> 00:30:39.600
And then you can scroll through
a whole year in the

00:30:39.600 --> 00:30:42.640
same way, but actually
have all 104 years on

00:30:42.640 --> 00:30:43.330
the screen at once.

00:30:43.330 --> 00:30:45.990
And so that's what this
visualization is.

00:30:45.990 --> 00:30:50.200
So we actually can see now,
this is all years,

00:30:50.200 --> 00:30:51.640
overlayed at once.

00:30:51.640 --> 00:30:52.520
And we're scrolling through.

00:30:52.520 --> 00:30:57.370
So we're here, now we're in
February, and then into March,

00:30:57.370 --> 00:30:59.090
and April, and May.

00:30:59.090 --> 00:31:00.650
And finally into the summer.

00:31:00.650 --> 00:31:05.600
So you can see, at this level
it's much more noisy.

00:31:05.600 --> 00:31:08.160
But you can already start
to see certain patterns.

00:31:08.160 --> 00:31:13.260
So let's see if we can
find a good spot.

00:31:13.260 --> 00:31:17.880
So, already you can see the
typical treatments you

00:31:17.880 --> 00:31:20.160
actually take straight
to the Americas.

00:31:20.160 --> 00:31:23.370
And these are the ones
that Columbus rode.

00:31:23.370 --> 00:31:26.310
Actually you can see, right
down here you can see this

00:31:26.310 --> 00:31:27.640
giant swoop here.

00:31:27.640 --> 00:31:30.700
And you can see really great
patterns here, where it seems

00:31:30.700 --> 00:31:33.930
like all these ships were
actually in quite good

00:31:33.930 --> 00:31:36.120
agreement about what
was going on in the

00:31:36.120 --> 00:31:37.290
middle of the Atlantic.

00:31:37.290 --> 00:31:37.910
PAUL: Agreement.

00:31:37.910 --> 00:31:39.370
Over a hundred-year period.

00:31:39.370 --> 00:31:40.170
BRENDAN: Yeah, yeah.

00:31:40.170 --> 00:31:40.630
PAUL: It's pretty amazing.

00:31:40.630 --> 00:31:41.520
BRENDAN: That's actually
pretty good.

00:31:41.520 --> 00:31:43.690
And that's exactly what that
research paper found, was that

00:31:43.690 --> 00:31:46.500
actually in many places there
was really good coherence.

00:31:46.500 --> 00:31:49.640
And in some places you just had
a ton of noise and it's

00:31:49.640 --> 00:31:52.770
hard to know without
actually--

00:31:52.770 --> 00:31:55.030
obviously, none of the ship
captains are still around.

00:31:55.030 --> 00:31:58.330
It's hard to know exactly
what was going on.

00:31:58.330 --> 00:32:00.480
It'd be interesting to look
and see if they ended up

00:32:00.480 --> 00:32:01.940
waiting some more than others.

00:32:01.940 --> 00:32:04.700
But you can see, like here off
the coast of South America,

00:32:04.700 --> 00:32:07.160
you can see actually the
prevailing winds, say,

00:32:07.160 --> 00:32:11.840
extremely consistent even across
the summer months and

00:32:11.840 --> 00:32:12.430
into the winter.

00:32:12.430 --> 00:32:12.840
You can see.

00:32:12.840 --> 00:32:15.881
They all kind of point
towards land.

00:32:15.881 --> 00:32:19.390
PAUL: Can you actually
see, for example,

00:32:19.390 --> 00:32:21.170
how the routes changed?

00:32:21.170 --> 00:32:23.380
For different years, so for
example as it got colder in

00:32:23.380 --> 00:32:25.670
the South, was there more
activity in the North?

00:32:25.670 --> 00:32:26.370
BRENDAN: Oh, that's actually
an interesting question.

00:32:26.370 --> 00:32:29.290
I actually don't know.

00:32:29.290 --> 00:32:33.230
Well, it'd be interesting how
much were they able to care

00:32:33.230 --> 00:32:36.540
about that and how much were
they required to--

00:32:36.540 --> 00:32:37.930
PAUL: Just bear with it.

00:32:37.930 --> 00:32:39.030
BRENDAN: Sail anyway.

00:32:39.030 --> 00:32:41.110
Because it was like 1750.

00:32:41.110 --> 00:32:43.850
PAUL: We did see some kind of
Arctic and Antarctic voyages.

00:32:43.850 --> 00:32:46.060
BRENDAN: Yeah, at certain
times of year.

00:32:46.060 --> 00:32:49.920
They went down there, and then
it would also be interesting.

00:32:49.920 --> 00:32:53.870
I haven't really looked yet
at summer versus winter.

00:32:53.870 --> 00:32:57.120
Because I'm not a climatologist
nor an

00:32:57.120 --> 00:32:57.430
oceanographer.

00:32:57.430 --> 00:32:59.990
So, I'm still learning about
climate patterns as well.

00:32:59.990 --> 00:33:01.590
But you can see up here
in Europe things are

00:33:01.590 --> 00:33:04.580
still rather confused.

00:33:04.580 --> 00:33:06.410
And I'll be very interested.

00:33:06.410 --> 00:33:07.420
There's a couple
of techniques.

00:33:07.420 --> 00:33:12.440
In that paper, where they talk
about ways of interpolating

00:33:12.440 --> 00:33:15.650
between these points to
find not an average.

00:33:15.650 --> 00:33:17.430
Because if you average out this
noise, you're just going

00:33:17.430 --> 00:33:19.650
to get gray.

00:33:19.650 --> 00:33:21.260
That's pretty much
the equivalent--

00:33:21.260 --> 00:33:22.870
I don't know what you--

00:33:22.870 --> 00:33:23.820
PAUL: Averages to zero.

00:33:23.820 --> 00:33:24.840
BRENDAN: Yeah, pretty much.

00:33:24.840 --> 00:33:25.120
Yeah.

00:33:25.120 --> 00:33:26.400
And so that's not an
interesting number.

00:33:26.400 --> 00:33:28.850
So you want to see actually
what other prevailing wind

00:33:28.850 --> 00:33:31.400
patterns and things like that.

00:33:31.400 --> 00:33:36.460
So, yes, this is just a start,
but this took us maybe half a

00:33:36.460 --> 00:33:38.700
day to throw it together.

00:33:38.700 --> 00:33:41.520
And so, this is using
CanvasLayer, which we talked

00:33:41.520 --> 00:33:42.090
about before.

00:33:42.090 --> 00:33:45.340
And it's up on the Maps
API Utility Library.

00:33:45.340 --> 00:33:46.120
if you Google for that.

00:33:46.120 --> 00:33:46.950
If you know where that is.

00:33:46.950 --> 00:33:49.160
And it's available today.

00:33:49.160 --> 00:33:51.465
Not this example, but that's
available today.

00:33:51.465 --> 00:33:53.740
And there's a couple examples
included with

00:33:53.740 --> 00:33:56.530
it to get you started.

00:33:56.530 --> 00:34:00.910
And you can start
to take a look.

00:34:00.910 --> 00:34:04.120
PAUL: Yeah, so we definitely
intend to share these

00:34:04.120 --> 00:34:06.510
visualizations at some point.

00:34:06.510 --> 00:34:09.210
We, like we mentioned, we put
them together in about a

00:34:09.210 --> 00:34:11.580
week's time, so it's not always
the prettiest code.

00:34:11.580 --> 00:34:17.290
But once we clean them up and
make sure that everything's in

00:34:17.290 --> 00:34:19.409
a reasonable shape, we
definitely plan to

00:34:19.409 --> 00:34:20.570
put these out there.

00:34:20.570 --> 00:34:22.620
If you have any questions about
it, about what we showed

00:34:22.620 --> 00:34:26.530
you today, definitely comments
in the YouTube stream, and

00:34:26.530 --> 00:34:28.310
we'll get back to you there.

00:34:28.310 --> 00:34:32.120
And one other point is we only
got to about half of the

00:34:32.120 --> 00:34:36.040
visualizations we wanted to
today, so we might do another

00:34:36.040 --> 00:34:38.150
follow-up in another
week or two.

00:34:38.150 --> 00:34:39.969
Maybe once we've added some
more visualizations.

00:34:39.969 --> 00:34:42.500
So if you're curious about that,
if you think it's a good

00:34:42.500 --> 00:34:44.880
idea, let us know
in the comments.

00:34:44.880 --> 00:34:47.690
If you don't think it's a good
idea, also let us know,

00:34:47.690 --> 00:34:52.150
because we can focus our
time on other things.

00:34:52.150 --> 00:34:54.600
Oh, Brendan is showing one
more visualization.

00:34:54.600 --> 00:34:57.590
BRENDAN: I'm teasing
a poly line.

00:34:57.590 --> 00:35:00.240
So poly lines are just as easy
as the other things to do.

00:35:00.240 --> 00:35:04.440
And you're left with just some
really beautiful results with

00:35:04.440 --> 00:35:07.650
these tendrils appearing
across the world.

00:35:07.650 --> 00:35:10.580
And you can see where
traffic was.

00:35:10.580 --> 00:35:13.100
These are actually colored by
country of origin, so you can

00:35:13.100 --> 00:35:16.710
see the of diversity of
different points in some

00:35:16.710 --> 00:35:19.160
places are very much
not diverse.

00:35:19.160 --> 00:35:23.520
They're very much frequented
by a single country.

00:35:23.520 --> 00:35:25.330
PAUL: Yeah, pretty easy to do.

00:35:25.330 --> 00:35:25.990
Surprisingly.

00:35:25.990 --> 00:35:28.190
I mean you can see how it uses
the same style as some of the

00:35:28.190 --> 00:35:29.010
other maps.

00:35:29.010 --> 00:35:31.380
The only trick was actually
getting these poly lines.

00:35:31.380 --> 00:35:35.270
Brendan organized the data in
terms of voyages, and then

00:35:35.270 --> 00:35:37.770
just converting a voyage
into a poly line.

00:35:37.770 --> 00:35:41.020
Drawing it on the map is pretty
straightforward stuff.

00:35:41.020 --> 00:35:44.240
I mean we're talking like five
to 10 lines of code at most.

00:35:44.240 --> 00:35:46.760
So, yeah.

00:35:46.760 --> 00:35:48.950
Stay tuned, we have a lot
more coming on these

00:35:48.950 --> 00:35:49.690
visualizations.

00:35:49.690 --> 00:35:52.700
And we hope to share more
in a week or two.

00:35:52.700 --> 00:35:55.210
You're not going to share?

00:35:55.210 --> 00:35:56.850
We're done with that.

00:35:56.850 --> 00:35:57.560
So, tune in later.

00:35:57.560 --> 00:35:59.060
And will follow up with more.

00:35:59.060 --> 00:36:00.610
Any questions, let us know.

00:36:00.610 --> 00:36:01.450
And we're happy to follow.

00:36:01.450 --> 00:36:04.825
So, thanks for joining and catch
you in another week.

00:36:13.444 --> 00:36:46.233
[MUSIC PLAYING]

