WEBVTT
Kind: captions
Language: en

00:00:00.000 --> 00:00:02.922
[MUSIC PLAYING]

00:00:06.830 --> 00:00:08.430
MARK SPATES: Hello
and good morning.

00:00:08.430 --> 00:00:10.370
Thank you for
joining our session

00:00:10.370 --> 00:00:12.830
to talk about integrating
your Smart Home devices

00:00:12.830 --> 00:00:14.320
with the Google Assistant.

00:00:14.320 --> 00:00:15.740
I'm Mark Spates.

00:00:15.740 --> 00:00:17.990
And I brought a few of
my colleagues with me.

00:00:17.990 --> 00:00:19.448
MICHELE TURNER:
I'm Michele Turner.

00:00:19.448 --> 00:00:21.325
I'm the director of the
Smart Home Ecosystem.

00:00:21.325 --> 00:00:22.950
DAVID SCHAIRER: And
I'm David Schairer.

00:00:22.950 --> 00:00:25.310
I lead engineering for Smart
Home [INAUDIBLE] assistant.

00:00:25.310 --> 00:00:26.480
MARK SPATES: Awesome.

00:00:26.480 --> 00:00:30.380
So when we started this
project a couple of years ago,

00:00:30.380 --> 00:00:31.900
we had a vision.

00:00:31.900 --> 00:00:34.640
And our vision was to have
the Google Assistant be

00:00:34.640 --> 00:00:39.410
the center of intelligent
interactions with IoT devices.

00:00:39.410 --> 00:00:43.910
We selected the word intelligent
for a very specific reason.

00:00:43.910 --> 00:00:46.880
We believed that
users would demand

00:00:46.880 --> 00:00:49.190
that their Assistant
in their home

00:00:49.190 --> 00:00:53.360
understand the environmental
context as well as the device

00:00:53.360 --> 00:00:58.120
capabilities when they started
to control these devices.

00:00:58.120 --> 00:01:02.410
To achieve this goal, last
year, we launched the ability

00:01:02.410 --> 00:01:05.110
for developers like
yourself to integrate

00:01:05.110 --> 00:01:09.730
Smart Home devices using the
Actions on Google Platform.

00:01:09.730 --> 00:01:12.000
Just a quick reminder,
Actions on Google

00:01:12.000 --> 00:01:15.190
is our platform for developers
to create experiences

00:01:15.190 --> 00:01:18.460
around education,
games, and many others

00:01:18.460 --> 00:01:20.910
through the Google Assistant.

00:01:20.910 --> 00:01:23.940
When it came to Smart Home,
one thing that we focused on

00:01:23.940 --> 00:01:27.480
was having a seamless, easy
experience for developers

00:01:27.480 --> 00:01:30.550
to connect these devices
to this Assistant.

00:01:30.550 --> 00:01:33.510
We also understood
that we had to allow

00:01:33.510 --> 00:01:35.910
this connectual understanding
that we were gaining

00:01:35.910 --> 00:01:38.160
from the home and
devices also to be

00:01:38.160 --> 00:01:40.500
accessible to our developers.

00:01:40.500 --> 00:01:43.860
With that we also
created the Home Graph.

00:01:43.860 --> 00:01:46.860
This is a very simple
visual representation

00:01:46.860 --> 00:01:48.750
of the Home Graph.

00:01:48.750 --> 00:01:51.990
The Home Graph is the key to
these intelligent interactions

00:01:51.990 --> 00:01:53.500
that we have with users.

00:01:53.500 --> 00:01:55.480
I'll just walk
through it quickly.

00:01:55.480 --> 00:01:58.480
If you look at it, it's broken
down into three main parts.

00:01:58.480 --> 00:02:00.360
The first part is the structure.

00:02:00.360 --> 00:02:03.270
Understanding the structure,
the name of the structure,

00:02:03.270 --> 00:02:04.830
the address of the structure.

00:02:04.830 --> 00:02:05.790
Who's in the structure?

00:02:05.790 --> 00:02:07.410
What rooms are in
this structure?

00:02:07.410 --> 00:02:09.270
What devices are
in this structure?

00:02:09.270 --> 00:02:10.229
Is there anyone home?

00:02:10.229 --> 00:02:12.720
What's the presence
of this structure?

00:02:12.720 --> 00:02:15.030
Then the next thing that
we look at are rooms.

00:02:15.030 --> 00:02:17.340
Rooms are extremely
important signals

00:02:17.340 --> 00:02:19.710
when you think about
interacting with an Assistant

00:02:19.710 --> 00:02:21.870
when it comes to
contextual relevance.

00:02:21.870 --> 00:02:24.960
A command in a living
room versus the kitchen

00:02:24.960 --> 00:02:27.280
can mean very different things.

00:02:27.280 --> 00:02:28.800
So when you look
at the room level,

00:02:28.800 --> 00:02:30.549
we're saying what is
the name of this room

00:02:30.549 --> 00:02:32.940
and what devices
are in this room?

00:02:32.940 --> 00:02:35.700
The third and probably one of
the most important components

00:02:35.700 --> 00:02:37.380
are devices.

00:02:37.380 --> 00:02:38.910
When we look at the
metadata that we

00:02:38.910 --> 00:02:43.800
want to get from devices, it's
things like names, type, trait,

00:02:43.800 --> 00:02:45.810
attributes, and state.

00:02:45.810 --> 00:02:47.550
If you combine these
three elements,

00:02:47.550 --> 00:02:49.758
you start to see how we're
building our understanding

00:02:49.758 --> 00:02:51.750
and our contextual
relevance to help

00:02:51.750 --> 00:02:54.150
users get to the exact
control that they want.

00:02:57.240 --> 00:03:00.620
So we launched this last
year, how we've been doing.

00:03:00.620 --> 00:03:04.670
We have over 400 partners
who have used the Smart Home

00:03:04.670 --> 00:03:06.210
API on Access on Google.

00:03:06.210 --> 00:03:08.210
We hope that number goes
up and some of you guys

00:03:08.210 --> 00:03:10.430
leave and start to
also create some

00:03:10.430 --> 00:03:12.770
of these integrations for us.

00:03:12.770 --> 00:03:17.660
The other cool part is we
control over 5,000 Smart Home

00:03:17.660 --> 00:03:19.860
products on the market today.

00:03:19.860 --> 00:03:22.400
So if you walk into any of
your favorite electronic stores

00:03:22.400 --> 00:03:25.647
or any of your favorite sites
and look at the Smart Home

00:03:25.647 --> 00:03:27.980
devices, there's a good chance
that the Google Assistant

00:03:27.980 --> 00:03:28.979
actually can control it.

00:03:32.170 --> 00:03:34.070
But we're seeing an evolution.

00:03:34.070 --> 00:03:36.920
When we first started this,
I remember talking to David.

00:03:36.920 --> 00:03:39.830
And we were all excited that
we can say, turn the light on,

00:03:39.830 --> 00:03:41.317
turn the light off.

00:03:41.317 --> 00:03:42.650
We were like, oh man, we did it.

00:03:42.650 --> 00:03:44.060
We just changed the world.

00:03:44.060 --> 00:03:45.860
This is our Edison moment.

00:03:45.860 --> 00:03:47.510
But what we realized
very quickly

00:03:47.510 --> 00:03:50.450
that on and off wasn't enough.

00:03:50.450 --> 00:03:53.420
We wanted to be able
to have the user speak

00:03:53.420 --> 00:03:55.460
to the Assistant in
the way that they speak

00:03:55.460 --> 00:03:57.530
to their partner, their
spouse, or their children

00:03:57.530 --> 00:03:59.190
or their family.

00:03:59.190 --> 00:04:01.420
And this evolution is
a very simple thing

00:04:01.420 --> 00:04:05.810
from saying turn the temperature
to 72 degrees versus make

00:04:05.810 --> 00:04:07.580
it cooler, make it warmer.

00:04:07.580 --> 00:04:10.340
And how do we achieve that?

00:04:10.340 --> 00:04:12.050
The first step
that we took was we

00:04:12.050 --> 00:04:16.130
decided to make sure that every
single device, we actually

00:04:16.130 --> 00:04:20.560
support it directly so that we
had a deep understanding of how

00:04:20.560 --> 00:04:23.960
that device works and what are
the actual traits that we need

00:04:23.960 --> 00:04:26.330
to create so we can match
those to the grammars

00:04:26.330 --> 00:04:28.380
that the user will
actually want.

00:04:28.380 --> 00:04:31.670
So 2016, we had a
very small start.

00:04:31.670 --> 00:04:32.870
We had four devices.

00:04:32.870 --> 00:04:36.800
But you can see in 2017, we
brought so many new devices

00:04:36.800 --> 00:04:38.450
to the market that
we support directly

00:04:38.450 --> 00:04:40.400
and we understand
with deep knowledge

00:04:40.400 --> 00:04:44.990
from cameras, doorbells,
washers and dryers, sensors,

00:04:44.990 --> 00:04:46.520
air purifiers, refrigerators.

00:04:46.520 --> 00:04:47.960
There's tons.

00:04:47.960 --> 00:04:48.780
But we're not done.

00:04:48.780 --> 00:04:50.404
There's a bunch more
in 2018 that we're

00:04:50.404 --> 00:04:52.992
bringing, all the way
down to tubs and toilets.

00:04:52.992 --> 00:04:54.950
There will be a day where
you talk to your tub,

00:04:54.950 --> 00:04:55.722
believe it or not.

00:04:55.722 --> 00:04:56.930
And there's a trait for that.

00:04:56.930 --> 00:05:00.075
And David will
tell you about it.

00:05:00.075 --> 00:05:02.570
But let me just walk you through
really quickly, how are we

00:05:02.570 --> 00:05:03.890
using all this data?

00:05:03.890 --> 00:05:04.910
How are we using AI?

00:05:04.910 --> 00:05:07.310
How are we using machine
learning to actually create

00:05:07.310 --> 00:05:09.300
a better user experience?

00:05:09.300 --> 00:05:11.100
So this is a very simple graph.

00:05:11.100 --> 00:05:13.820
But if you think about
this light, to the user,

00:05:13.820 --> 00:05:16.550
to a five-year-old, they
point at it and say, mommy,

00:05:16.550 --> 00:05:18.300
daddy, that's a light.

00:05:18.300 --> 00:05:20.450
What we want to understand
about that light

00:05:20.450 --> 00:05:21.744
is a little bit different.

00:05:21.744 --> 00:05:23.660
We want to know what's
the name of that light?

00:05:23.660 --> 00:05:24.580
What traits does it have?

00:05:24.580 --> 00:05:25.600
Does it support on, off?

00:05:25.600 --> 00:05:27.650
Does it support color,
brightness, state?

00:05:27.650 --> 00:05:29.570
And where is its location?

00:05:29.570 --> 00:05:32.540
Because that allows us to
take the right action when

00:05:32.540 --> 00:05:35.814
a user says, make the
lights in the living room--

00:05:35.814 --> 00:05:37.730
dim the lights in the
living room a little bit

00:05:37.730 --> 00:05:39.740
or make the lights in
the living room brighter,

00:05:39.740 --> 00:05:41.115
because what we're
doing is we're

00:05:41.115 --> 00:05:42.402
going back to that Home Graph.

00:05:42.402 --> 00:05:44.360
And we're saying what's
the name of that light?

00:05:44.360 --> 00:05:45.290
Where is it located?

00:05:45.290 --> 00:05:46.370
What's its current state?

00:05:46.370 --> 00:05:47.750
What's its current brightness?

00:05:47.750 --> 00:05:49.340
Oh, it's current
brightness is x.

00:05:49.340 --> 00:05:51.050
We'll raise it by y.

00:05:51.050 --> 00:05:53.240
This is how we are
starting to really take

00:05:53.240 --> 00:05:55.490
this data that we're having
about the home and devices

00:05:55.490 --> 00:05:58.250
and it's contextual awareness
and make it a better user

00:05:58.250 --> 00:05:59.019
experience.

00:05:59.019 --> 00:06:00.560
But it just doesn't
stop with lights.

00:06:00.560 --> 00:06:02.030
Lights is easy.

00:06:02.030 --> 00:06:04.340
Think about all the other
devices in your home.

00:06:04.340 --> 00:06:06.062
So you'll be able
to say, hey Google,

00:06:06.062 --> 00:06:07.520
raise the temperature
a little bit.

00:06:07.520 --> 00:06:09.500
Hey Google, is the
front door locked?

00:06:09.500 --> 00:06:11.420
Hey Google, do the laundry.

00:06:11.420 --> 00:06:13.010
Hey Google, dry my clothes.

00:06:13.010 --> 00:06:14.750
Or hey Google, start vacuuming.

00:06:14.750 --> 00:06:17.810
Those last remind me a of
me being my mom's assistant.

00:06:17.810 --> 00:06:20.240
It's like, hey, clean the house.

00:06:20.240 --> 00:06:22.830
But these are the type
of things that we believe

00:06:22.830 --> 00:06:24.830
you will start to see
from the Google Assistant,

00:06:24.830 --> 00:06:27.110
because we've built
this really cool backend

00:06:27.110 --> 00:06:29.150
with contextual understanding
about the location

00:06:29.150 --> 00:06:31.700
and environment and deep
understanding devices.

00:06:31.700 --> 00:06:33.950
To give you a little bit
more about how as a developer

00:06:33.950 --> 00:06:35.650
you can take advantage
of this, David

00:06:35.650 --> 00:06:38.605
will walk you through
Actions on Google.

00:06:38.605 --> 00:06:39.480
DAVID SCHAIRER: Cool.

00:06:39.480 --> 00:06:40.530
Thanks, Mark.

00:06:40.530 --> 00:06:42.869
As Mark just noted,
we've spent the last year

00:06:42.869 --> 00:06:44.160
really expanding this platform.

00:06:44.160 --> 00:06:46.740
We launched it a
year ago at I/O.

00:06:46.740 --> 00:06:50.880
We had at the time maybe
a dozen, 20 partners.

00:06:50.880 --> 00:06:57.120
And now we're, as Mark
said, 400 partners,

00:06:57.120 --> 00:06:59.820
5,000 device products.

00:06:59.820 --> 00:07:02.809
We've also got tens of thousands
of developers playing with us.

00:07:02.809 --> 00:07:04.350
And a little later,
I'm going to talk

00:07:04.350 --> 00:07:06.721
about how we actually do that.

00:07:06.721 --> 00:07:08.970
But first, I'm just going
to walk through a little bit

00:07:08.970 --> 00:07:11.100
about how this works.

00:07:11.100 --> 00:07:13.410
We do a cloud-to-cloud
integration.

00:07:13.410 --> 00:07:16.274
So for most of our
partners in the IoT space,

00:07:16.274 --> 00:07:17.440
they've already got a cloud.

00:07:17.440 --> 00:07:19.000
They've got app control.

00:07:19.000 --> 00:07:21.170
They've got devices that
are wired to their cloud.

00:07:21.170 --> 00:07:25.380
And so it's very, very easy
to take that cloud integration

00:07:25.380 --> 00:07:27.300
and plug it into
our lightweight API.

00:07:27.300 --> 00:07:28.940
Most of our partners
here, we say,

00:07:28.940 --> 00:07:30.490
integrate within six weeks.

00:07:30.490 --> 00:07:33.240
That's end-to-end
from start of project

00:07:33.240 --> 00:07:35.847
to launching the partners
and includes testing,

00:07:35.847 --> 00:07:36.680
includes evaluation.

00:07:36.680 --> 00:07:39.179
It includes whatever we need
to do to make sure everything's

00:07:39.179 --> 00:07:40.060
good to go.

00:07:40.060 --> 00:07:42.270
We have partners that
actually do the work

00:07:42.270 --> 00:07:47.974
in under a day, because in many
cases, it's just that easy.

00:07:47.974 --> 00:07:50.140
And as Mark said, I'll go
into a little more detail.

00:07:50.140 --> 00:07:53.020
We use these concepts
called types and traits.

00:07:53.020 --> 00:07:55.880
The reason we do
this-- we don't say,

00:07:55.880 --> 00:07:59.110
this is the platonic
washing machine.

00:07:59.110 --> 00:08:02.260
All washing machines aspire
to this ideal device.

00:08:02.260 --> 00:08:04.990
Instead we say, there's
a type of device

00:08:04.990 --> 00:08:06.600
called a washing machine.

00:08:06.600 --> 00:08:08.380
[INAUDIBLE] it's a
washing machine type

00:08:08.380 --> 00:08:10.100
tells us a little bit about it.

00:08:10.100 --> 00:08:13.144
It lets us learn that we can
call it a washing machine.

00:08:13.144 --> 00:08:14.935
We can make it look
like a washing machine.

00:08:17.500 --> 00:08:19.540
A washing machine is like
a duck in that regard.

00:08:19.540 --> 00:08:22.540
But that doesn't tell us what
that washing machine does,

00:08:22.540 --> 00:08:25.190
because each washing
machine has its own state,

00:08:25.190 --> 00:08:26.750
its own settings.

00:08:26.750 --> 00:08:30.340
One of them has a permanent
press mode and one of them

00:08:30.340 --> 00:08:30.840
doesn't.

00:08:30.840 --> 00:08:33.190
One of them has steam, one
of them doesn't and so forth.

00:08:33.190 --> 00:08:35.289
All of that is where
we go to traits.

00:08:35.289 --> 00:08:38.440
And we use traits as
the building blocks

00:08:38.440 --> 00:08:39.700
of the Smart Home.

00:08:39.700 --> 00:08:44.680
And this lets partners
innovate in their own way,

00:08:44.680 --> 00:08:47.500
in new ways, which is
what we did at our demo.

00:08:47.500 --> 00:08:50.170
If you go to our sandbox, they
have a mailbox over there.

00:08:50.170 --> 00:08:52.584
We have a somewhat dumber
mailbox here on stage.

00:08:52.584 --> 00:08:54.500
I'm going to show you
how we built this later.

00:08:54.500 --> 00:08:58.210
But this mailbox in the
sandbox, no one of our partners

00:08:58.210 --> 00:09:00.010
has built a smart
mailbox before.

00:09:00.010 --> 00:09:04.150
But we did this for the
demo, because all the traits

00:09:04.150 --> 00:09:04.750
were there--

00:09:04.750 --> 00:09:09.940
camera, light, on/off for the
light, the toggle for the flag,

00:09:09.940 --> 00:09:11.770
object detection for mail.

00:09:11.770 --> 00:09:14.560
Completely innovate new
device based on the existing

00:09:14.560 --> 00:09:15.836
functionality we have.

00:09:15.836 --> 00:09:17.710
And because we all put
this in the Home Graph

00:09:17.710 --> 00:09:21.040
and the Home Graph understands
context, understands state,

00:09:21.040 --> 00:09:23.380
understands change,
and as you can well

00:09:23.380 --> 00:09:26.890
imagine a lot of the Google
secret sauce and machine

00:09:26.890 --> 00:09:29.830
learning and intelligence
starts to operate

00:09:29.830 --> 00:09:32.310
on the things we learned
from the Home Graph,

00:09:32.310 --> 00:09:35.140
we start to be able to
take all of these devices

00:09:35.140 --> 00:09:38.100
and actually truly make
the Smart Home smart.

00:09:40.880 --> 00:09:43.762
All of this today you can
integrate with one API.

00:09:43.762 --> 00:09:44.470
It's very simple.

00:09:44.470 --> 00:09:46.002
And I'll show it to you later.

00:09:46.002 --> 00:09:47.210
You integrate with the cloud.

00:09:47.210 --> 00:09:48.668
You integrate a
couple of commands.

00:09:48.668 --> 00:09:49.910
You let us query devices.

00:09:49.910 --> 00:09:51.500
You let us execute devices.

00:09:51.500 --> 00:09:53.000
You tell us the
devices are there.

00:09:53.000 --> 00:09:56.230
You can call us back at any
time due to notifications,

00:09:56.230 --> 00:09:59.100
to push estate changes,
to change the devices.

00:09:59.100 --> 00:10:00.890
So that's all you do.

00:10:00.890 --> 00:10:04.010
One little RESTful
[INAUDIBLE] API.

00:10:04.010 --> 00:10:06.290
We have reference
limitations we'll show you

00:10:06.290 --> 00:10:09.190
and lots of
documentation, a full team

00:10:09.190 --> 00:10:13.160
of developer relations and
support engineers to help you.

00:10:13.160 --> 00:10:15.080
And you don't need
to do grammar.

00:10:15.080 --> 00:10:17.480
You don't need to do
internationalization.

00:10:17.480 --> 00:10:18.682
You don't need to do UI.

00:10:18.682 --> 00:10:20.390
Everything like that
is provided for you.

00:10:20.390 --> 00:10:22.790
And as you can imagine,
with all the other devices

00:10:22.790 --> 00:10:26.030
we're going to be rolling
out, that the same we do it

00:10:26.030 --> 00:10:30.210
all for you happens on smart
displays and so forth as well.

00:10:30.210 --> 00:10:32.560
So this is sort of the
status quo we're in today.

00:10:32.560 --> 00:10:34.059
I'm going to turn
it back to Michele

00:10:34.059 --> 00:10:35.764
to talk about the fun
stuff coming next.

00:10:35.764 --> 00:10:36.680
MICHELE TURNER: Great.

00:10:36.680 --> 00:10:38.450
Thanks, David.

00:10:38.450 --> 00:10:41.330
So as Mark mentioned
and David mentioned,

00:10:41.330 --> 00:10:44.150
we've spent the last couple
years building this platform

00:10:44.150 --> 00:10:44.840
out.

00:10:44.840 --> 00:10:46.340
And now we're in a
state where we're

00:10:46.340 --> 00:10:48.050
able to add a lot
of new features

00:10:48.050 --> 00:10:50.450
to really build on
the intelligence

00:10:50.450 --> 00:10:52.880
and help you guys
create better and more

00:10:52.880 --> 00:10:55.280
integrated and
interactive experiences.

00:10:55.280 --> 00:10:57.620
At the end of the day,
what we all want to do

00:10:57.620 --> 00:11:01.130
is create solutions to
problems that people

00:11:01.130 --> 00:11:04.500
have in their homes, things that
they're going to use every day.

00:11:04.500 --> 00:11:06.890
And so the fundamental
features that we're

00:11:06.890 --> 00:11:09.410
adding over the
course of this year

00:11:09.410 --> 00:11:11.900
are going to help you do that.

00:11:11.900 --> 00:11:14.140
There are four main
features that we're adding

00:11:14.140 --> 00:11:15.760
for the rest of this year--

00:11:15.760 --> 00:11:19.360
something called Request
Sync, Report State,

00:11:19.360 --> 00:11:22.150
New Object Detection Trait that
David is going to show you,

00:11:22.150 --> 00:11:26.350
and some new things for
entertainment devices.

00:11:26.350 --> 00:11:27.830
So let's start
with Request Sync.

00:11:27.830 --> 00:11:31.260
Request Sync is
really very simple.

00:11:31.260 --> 00:11:34.800
Right now, if I go
to the store and I

00:11:34.800 --> 00:11:39.840
go buy another half dozen
smart lights to go put my home,

00:11:39.840 --> 00:11:41.460
I have to add those devices.

00:11:41.460 --> 00:11:43.352
And they don't
necessarily-- the fact

00:11:43.352 --> 00:11:45.310
that I've added those
devices don't necessarily

00:11:45.310 --> 00:11:48.880
get synced up onto the
partner app very quickly.

00:11:48.880 --> 00:11:52.830
And so what we're doing with
Request Sync is you push

00:11:52.830 --> 00:11:55.974
the state to the Google
Cloud to let us know--

00:11:55.974 --> 00:11:57.390
actually it goes
into Home Graph--

00:11:57.390 --> 00:11:59.848
to let us know that these new
devices have been on-boarded.

00:11:59.848 --> 00:12:01.260
So I go out to the store.

00:12:01.260 --> 00:12:04.320
I get my new devices
and screw them in.

00:12:04.320 --> 00:12:07.920
I pair them up, get them
going, and they automatically

00:12:07.920 --> 00:12:09.030
just work.

00:12:09.030 --> 00:12:12.600
Today if I did that, I would
have to unlink and relink.

00:12:12.600 --> 00:12:15.030
And that's a real
hassle for most users.

00:12:15.030 --> 00:12:17.790
And so we've taken that
uncomfortable step out

00:12:17.790 --> 00:12:19.680
for users, made
it easier for you,

00:12:19.680 --> 00:12:21.682
and made it a lot easier
for your customers.

00:12:21.682 --> 00:12:23.640
I think one of the most
painful points of Smart

00:12:23.640 --> 00:12:27.000
Home for a lot of new users
is just getting started even

00:12:27.000 --> 00:12:28.380
with things like lights.

00:12:28.380 --> 00:12:31.440
So making that on-boarding
process simpler and easier

00:12:31.440 --> 00:12:32.400
is really important.

00:12:32.400 --> 00:12:36.100
And that's part of
what Request Sync does.

00:12:36.100 --> 00:12:39.670
We've also added a new
API for Report State.

00:12:39.670 --> 00:12:42.255
Report State is
really important.

00:12:42.255 --> 00:12:44.630
And I'll tell you why it's
even more important than ever.

00:12:44.630 --> 00:12:47.410
I've spent a lot of time
talking to a number of you

00:12:47.410 --> 00:12:49.810
in the sandbox the
last couple of days

00:12:49.810 --> 00:12:52.270
about why we need Report State.

00:12:52.270 --> 00:12:55.000
So imagine a situation
where you go up

00:12:55.000 --> 00:12:56.800
and you change your
thermostat on the wall.

00:12:56.800 --> 00:13:00.292
Go up and shift
it from 65 to 72.

00:13:00.292 --> 00:13:01.750
What we normally
do on the back end

00:13:01.750 --> 00:13:03.640
is we pull you to
figure out when

00:13:03.640 --> 00:13:06.220
that device has been updated.

00:13:06.220 --> 00:13:09.340
But you guys all saw the new
displays and the new user

00:13:09.340 --> 00:13:12.910
interfaces for the
phone in the keynote.

00:13:12.910 --> 00:13:15.190
Well, now we have
new user interfaces

00:13:15.190 --> 00:13:17.560
on these smart
displays and iPhones

00:13:17.560 --> 00:13:19.360
that will show the devices.

00:13:19.360 --> 00:13:23.800
And with Report State,
when you push Report State

00:13:23.800 --> 00:13:25.960
to us and into
the Home Graph, we

00:13:25.960 --> 00:13:28.300
can get that state
information instantly.

00:13:28.300 --> 00:13:30.070
So there's no
cognitive dissonance

00:13:30.070 --> 00:13:33.430
between I just went over
and changed my thermostat,

00:13:33.430 --> 00:13:36.010
and my smart display is
still holding an old state

00:13:36.010 --> 00:13:39.190
of temperature information.

00:13:39.190 --> 00:13:40.859
So report state
is very important.

00:13:40.859 --> 00:13:42.400
It's one of the
things we're starting

00:13:42.400 --> 00:13:44.680
to require our
developers to give us

00:13:44.680 --> 00:13:46.300
so that we make
sure that that user

00:13:46.300 --> 00:13:50.090
experience for our
consumers is spot on.

00:13:50.090 --> 00:13:52.600
The other reason you
want to use Report State

00:13:52.600 --> 00:13:55.459
is so that we're not
polling you all the time,

00:13:55.459 --> 00:13:58.000
which can get annoying and puts
a lot of load on your server,

00:13:58.000 --> 00:14:01.090
especially if you have
very active devices.

00:14:01.090 --> 00:14:03.490
In the future,
Report State is going

00:14:03.490 --> 00:14:06.720
to allow us to unlock
a lot of intelligence.

00:14:06.720 --> 00:14:08.950
The state information
that we can get,

00:14:08.950 --> 00:14:11.050
we can work with you
together to start

00:14:11.050 --> 00:14:13.210
creating more
intelligent experiences,

00:14:13.210 --> 00:14:16.000
like understanding
that in the kid's room,

00:14:16.000 --> 00:14:18.760
the light is turned out
every night at 7:30.

00:14:18.760 --> 00:14:21.130
So maybe we should
just do that for you.

00:14:21.130 --> 00:14:22.990
So Report State's
really important

00:14:22.990 --> 00:14:26.380
now to make sure we have great
experiences for our consumers.

00:14:26.380 --> 00:14:28.540
And it's going to be really
important in the future

00:14:28.540 --> 00:14:31.163
as we start building more
and more intelligence.

00:14:34.392 --> 00:14:36.350
So the next feature I
want to talk to you about

00:14:36.350 --> 00:14:37.530
is Ob Detection.

00:14:37.530 --> 00:14:38.870
And this is one of my favorites.

00:14:38.870 --> 00:14:40.670
This is actually a trait.

00:14:40.670 --> 00:14:45.110
We originally built this trait
actually a few months ago.

00:14:45.110 --> 00:14:47.870
If you're familiar with the
Nest Hello video doorbell,

00:14:47.870 --> 00:14:49.590
you may know this feature.

00:14:49.590 --> 00:14:52.710
And it will actually let you
know someone's at the door.

00:14:52.710 --> 00:14:55.800
And we did that integration
using the new object detection

00:14:55.800 --> 00:14:56.300
trait.

00:14:56.300 --> 00:14:58.830
Let's take a look.

00:14:58.830 --> 00:14:59.885
See if I can--

00:14:59.885 --> 00:15:00.480
there we go.

00:15:07.284 --> 00:15:09.240
[NOTIFICATION TONE]

00:15:09.240 --> 00:15:11.741
DEVICE VOICE: Someone's
at the front door.

00:15:11.741 --> 00:15:13.740
MICHELE TURNER: So you
haven't seen that before.

00:15:13.740 --> 00:15:15.180
Simple push of the button.

00:15:15.180 --> 00:15:18.580
And it notifies out on
the Google Home Mini

00:15:18.580 --> 00:15:20.250
through the Assistant.

00:15:20.250 --> 00:15:23.040
What's really cool
about this trait

00:15:23.040 --> 00:15:25.117
is that it actually
changes the model.

00:15:25.117 --> 00:15:26.700
And this is one of
the things I really

00:15:26.700 --> 00:15:28.116
want to stress
with you that we're

00:15:28.116 --> 00:15:31.920
trying to do at Google is give
you guys the ability to create

00:15:31.920 --> 00:15:34.110
more interesting integrations.

00:15:34.110 --> 00:15:36.570
So with the Object
Detection trait,

00:15:36.570 --> 00:15:38.940
normally the Assistant
controls the device.

00:15:38.940 --> 00:15:41.460
You say, OK Google, turn
on the lights, right?

00:15:41.460 --> 00:15:44.700
With this, you take
an action on a device,

00:15:44.700 --> 00:15:48.209
and it tells the Assistant
to give a notification.

00:15:48.209 --> 00:15:49.750
Oops, I just fired
the Assistant off.

00:15:49.750 --> 00:15:50.830
Sorry.

00:15:50.830 --> 00:15:53.500
So Dave is going to come
up right now and show you

00:15:53.500 --> 00:15:57.340
a little bit more of what you
can do with object detection.

00:15:57.340 --> 00:15:59.930
DAVID SCHAIRER: Cool, thanks.

00:15:59.930 --> 00:16:04.030
So I'm going to do a demo here
of how notifications work.

00:16:04.030 --> 00:16:07.370
Object detection is
actually a specific case

00:16:07.370 --> 00:16:11.090
of a general facility we're
adding to the Smart Home

00:16:11.090 --> 00:16:15.550
where partners can send
notifications on objects.

00:16:15.550 --> 00:16:19.130
And notifications become another
aspect of objects and devices

00:16:19.130 --> 00:16:20.660
that you push into
the Home Graph,

00:16:20.660 --> 00:16:24.890
just like traits and attributes
and states and commands

00:16:24.890 --> 00:16:29.030
and so forth are
aspects of devices.

00:16:29.030 --> 00:16:31.760
In this case, notifications
attach to traits.

00:16:31.760 --> 00:16:35.159
So just like in Java
where you have an object

00:16:35.159 --> 00:16:36.700
and the object might
receive messages

00:16:36.700 --> 00:16:38.990
and might declare
the errors it throws,

00:16:38.990 --> 00:16:40.970
when you declare
a trait, you also

00:16:40.970 --> 00:16:46.010
are saying, hey, for
example, this washing machine

00:16:46.010 --> 00:16:47.430
supports a run cycle.

00:16:47.430 --> 00:16:50.180
Therefore, it can now
send slash receive,

00:16:50.180 --> 00:16:54.770
depending on your perspective,
notifications of cycle errors.

00:16:54.770 --> 00:16:57.920
The washing machine has
failed during the rinse cycle.

00:16:57.920 --> 00:16:59.570
We've built this--
object detection

00:16:59.570 --> 00:17:01.350
is our first case of this.

00:17:01.350 --> 00:17:05.990
And like the video
showed, we built it--

00:17:05.990 --> 00:17:08.470
first use case is doorbells,
but we build these things

00:17:08.470 --> 00:17:09.710
as general cases.

00:17:09.710 --> 00:17:14.510
The example in the sandbox
is for mail detection.

00:17:14.510 --> 00:17:16.430
And here we're going
to build something

00:17:16.430 --> 00:17:17.910
a little more interesting.

00:17:17.910 --> 00:17:19.430
But we're going to show you--

00:17:19.430 --> 00:17:21.540
I'm going to go back,
recapitulate a little bit,

00:17:21.540 --> 00:17:24.650
register a Smart Home project,
show how linking works,

00:17:24.650 --> 00:17:26.630
show how you can deploy
your cloud service here

00:17:26.630 --> 00:17:30.980
or elsewhere, how the
notifications are sent through

00:17:30.980 --> 00:17:33.950
in this case Node.js and
Firebase from the device

00:17:33.950 --> 00:17:36.730
itself, and finally
show you some code,

00:17:36.730 --> 00:17:39.380
show you some debugging tools.

00:17:39.380 --> 00:17:42.380
This is basically the
flow of this demo.

00:17:42.380 --> 00:17:44.630
So this is a smart mailbox.

00:17:44.630 --> 00:17:46.190
It's really a
pretty dumb mailbox.

00:17:46.190 --> 00:17:48.080
But it has a very
smart Raspberry Pi

00:17:48.080 --> 00:17:52.580
down there that has some
sensors wired into the box.

00:17:52.580 --> 00:17:55.700
And again, not a
shipping product,

00:17:55.700 --> 00:17:57.420
but easy demo that
is a make or you

00:17:57.420 --> 00:17:58.670
can build something like this.

00:17:58.670 --> 00:18:02.840
The mailbox has a cloud service
that we have on Firebase.

00:18:02.840 --> 00:18:06.462
It sends a notification
in whatever protocol.

00:18:06.462 --> 00:18:08.420
In this case, it's a GET
request to the payload

00:18:08.420 --> 00:18:11.030
that this sends to
our Cloud Service.

00:18:11.030 --> 00:18:13.430
Cloud Service is
where the smarts are.

00:18:13.430 --> 00:18:16.100
Cloud Service is
also part of our API.

00:18:16.100 --> 00:18:18.350
It calls the Assistant
with a One Platform API

00:18:18.350 --> 00:18:20.000
call, sends notification.

00:18:20.000 --> 00:18:23.540
The notification
then goes directly

00:18:23.540 --> 00:18:25.250
to the Google Home
I have up here.

00:18:25.250 --> 00:18:26.390
And we'll see that demo.

00:18:26.390 --> 00:18:28.940
And of course, all of this
is driven by the fact that

00:18:28.940 --> 00:18:31.070
initially-- and I'll show
you the code for this--

00:18:31.070 --> 00:18:33.350
initially the mailbox
and other devices

00:18:33.350 --> 00:18:36.950
were synced from
the partner service

00:18:36.950 --> 00:18:39.200
to the Assistant
for my demo user.

00:18:39.200 --> 00:18:41.030
And therefore, in
the home graph,

00:18:41.030 --> 00:18:44.240
we know that this
device supports--

00:18:44.240 --> 00:18:46.550
actually technically
it supports everything

00:18:46.550 --> 00:18:48.860
that the one in the
sandbox does-- the flag,

00:18:48.860 --> 00:18:51.397
the lights, the
camera and so forth.

00:18:51.397 --> 00:18:53.480
There's actually no camera
in here, unfortunately.

00:18:53.480 --> 00:18:55.400
But all the traits are there.

00:18:55.400 --> 00:18:57.320
So I am going to
hop on-- whoops--

00:18:57.320 --> 00:19:03.200
I'm going to hop on over
to the laptop screen

00:19:03.200 --> 00:19:10.070
here, which of course
locked on me, and great.

00:19:10.070 --> 00:19:13.160
So some of you saw
this last year.

00:19:13.160 --> 00:19:14.660
We have rebuilt
this quite a bit.

00:19:14.660 --> 00:19:17.060
Last year we were doing
a demo that was largely

00:19:17.060 --> 00:19:18.570
at the command line.

00:19:18.570 --> 00:19:21.980
You need no command line
functionality for this now.

00:19:21.980 --> 00:19:24.170
Those of us like me that
missed the command line

00:19:24.170 --> 00:19:25.220
are a little sad.

00:19:25.220 --> 00:19:26.897
But for the vast
majority of people,

00:19:26.897 --> 00:19:29.230
we are now entirely using the
Actions on Google Console.

00:19:29.230 --> 00:19:32.060
So no more G actions,
writing action packages.

00:19:32.060 --> 00:19:33.860
This is much more native for us.

00:19:33.860 --> 00:19:37.070
So I'm just going to walk
through a very simple example.

00:19:37.070 --> 00:19:38.240
And we're short on time.

00:19:38.240 --> 00:19:41.420
So I'm going to do this very
quickly, of how you build

00:19:41.420 --> 00:19:43.460
a Smart Home project today.

00:19:43.460 --> 00:19:45.230
So I'm going to add a project.

00:19:45.230 --> 00:19:48.160
Now if you're doing this,
you pick a project name.

00:19:48.160 --> 00:19:51.170
Recommendation, pro tip from
what we've done with partners,

00:19:51.170 --> 00:19:52.520
pick a name that makes sense.

00:19:52.520 --> 00:19:54.710
We're no longer
auto-picking names for you,

00:19:54.710 --> 00:19:56.960
so you don't get something
like Purple Chaos Giraffes.

00:19:56.960 --> 00:19:59.376
Pick a name, because you're
going to be using this with us

00:19:59.376 --> 00:20:01.460
later if you deploy
this to production.

00:20:01.460 --> 00:20:05.590
So that said, let's call
this Purple Chaos Giraffes,

00:20:05.590 --> 00:20:06.870
because why not?

00:20:06.870 --> 00:20:12.050
And that creates--
spin, spin, spin,

00:20:12.050 --> 00:20:13.430
very slow because I'm on stage.

00:20:13.430 --> 00:20:16.230
And it knows I'm on stage,
so it's going to slow down.

00:20:16.230 --> 00:20:19.370
This is creating a project in
the Actions on Google console

00:20:19.370 --> 00:20:22.720
with my Google account up here.

00:20:22.720 --> 00:20:25.560
And-- wow, it really is slow.

00:20:25.560 --> 00:20:27.900
And now I have all these things.

00:20:27.900 --> 00:20:29.720
This is the full Actions
on Google panoply.

00:20:29.720 --> 00:20:32.690
So I can build a shopping app,
or I can build a chat app,

00:20:32.690 --> 00:20:36.090
or I can build a
quote of the day app.

00:20:36.090 --> 00:20:38.180
All of those are using
conversational actions.

00:20:38.180 --> 00:20:39.830
But for Smart
Home, we are really

00:20:39.830 --> 00:20:41.622
recommending and very
strongly recommending

00:20:41.622 --> 00:20:43.371
that you're using these
APIs, because this

00:20:43.371 --> 00:20:45.380
is what gives you Home
Graph and notifications

00:20:45.380 --> 00:20:46.550
and full understanding.

00:20:46.550 --> 00:20:50.380
And so today the setup
is in fact very quick.

00:20:50.380 --> 00:20:52.130
To get up and
running, this is going

00:20:52.130 --> 00:20:53.380
to take only a couple minutes.

00:20:53.380 --> 00:20:58.530
So I'm going to name
this something random.

00:20:58.530 --> 00:21:00.760
And I will then--

00:21:06.910 --> 00:21:10.330
and forgive me, my network
is especially slow today--

00:21:10.330 --> 00:21:11.890
account linking.

00:21:11.890 --> 00:21:13.440
Many of you have
done this already.

00:21:13.440 --> 00:21:16.000
OAuth is the mechanism
for account linking

00:21:16.000 --> 00:21:18.160
to existing service clouds.

00:21:18.160 --> 00:21:21.370
This is pretty standard OAuth.

00:21:21.370 --> 00:21:23.040
Nothing out of
the ordinary here.

00:21:23.040 --> 00:21:24.940
I'm going to make some
keyboard mash keys.

00:21:24.940 --> 00:21:26.410
Do not use these keys at home.

00:21:31.532 --> 00:21:32.490
And of course I don't--

00:21:32.490 --> 00:21:34.110
that is protected by RFC.

00:21:34.110 --> 00:21:36.090
Did you know there's an
actual RFC protecting

00:21:36.090 --> 00:21:38.070
example.com in perpetuity?

00:21:38.070 --> 00:21:41.130
No one ever knows
that, but it is real.

00:21:41.130 --> 00:21:44.340
And Testing is Awesome.

00:21:48.060 --> 00:21:50.970
And at this point, we
are pretty much set up.

00:21:50.970 --> 00:21:52.790
We're going to go
ahead, create an action.

00:21:56.930 --> 00:21:58.110
I am going to give it--

00:21:58.110 --> 00:22:00.410
I need exactly one thing.

00:22:00.410 --> 00:22:02.750
I need the end point
for the action.

00:22:02.750 --> 00:22:03.876
And again, this is a demo.

00:22:03.876 --> 00:22:05.250
I'm not going to
set this one up.

00:22:05.250 --> 00:22:07.680
I'm going to switch to
the one I have set up.

00:22:07.680 --> 00:22:10.724
And at this point, I
have now deployed this.

00:22:10.724 --> 00:22:12.140
And this will show
up on my phone.

00:22:12.140 --> 00:22:13.400
Actually, I'm not--

00:22:13.400 --> 00:22:14.750
I have now deployed this.

00:22:14.750 --> 00:22:18.240
And it will show up on my phone.

00:22:18.240 --> 00:22:20.220
And it will complain,
because I don't

00:22:20.220 --> 00:22:22.230
have a URL set up for OAuth.

00:22:22.230 --> 00:22:23.932
But this is now
set up on my phone

00:22:23.932 --> 00:22:25.890
and will be available in
a second to show that.

00:22:25.890 --> 00:22:29.430
But instead I'm going
to switch back over here

00:22:29.430 --> 00:22:31.500
to my staged demo project.

00:22:31.500 --> 00:22:34.510
This is the one
we're actually using.

00:22:34.510 --> 00:22:37.440
And here I've got
the action set up.

00:22:37.440 --> 00:22:41.610
It's pointed at a Firebase app.

00:22:41.610 --> 00:22:44.595
And the Firebase app here is--

00:22:44.595 --> 00:22:49.050
I'm going to show
you the Firebase app.

00:22:49.050 --> 00:22:51.571
You can deploy-- we get
asked this question a lot.

00:22:51.571 --> 00:22:52.820
Do I need to use Google Cloud?

00:22:52.820 --> 00:22:54.153
Do I need to use Android Things?

00:22:54.153 --> 00:22:55.160
Do I need to use Weave?

00:22:55.160 --> 00:22:57.710
Do I need to use Thread?

00:22:57.710 --> 00:23:01.410
Google has, as Google always
does, a number of technologies

00:23:01.410 --> 00:23:03.989
that you can use to be a
completely full-stack Google

00:23:03.989 --> 00:23:05.280
Developer in everything you do.

00:23:05.280 --> 00:23:07.980
And if you want to do
that, that is awesome.

00:23:07.980 --> 00:23:10.410
But it is completely and
totally not required.

00:23:10.410 --> 00:23:13.410
If you have an existing
cloud, you can keep it.

00:23:13.410 --> 00:23:17.010
You can integrate this with any
infrastructure that you want.

00:23:17.010 --> 00:23:21.020
You just need internet,
decent security, OAuth,

00:23:21.020 --> 00:23:23.897
and our lightweight JSON API.

00:23:23.897 --> 00:23:25.980
In this case, we've done
this demo using Firebase.

00:23:25.980 --> 00:23:27.300
It's a Node.js app.

00:23:27.300 --> 00:23:29.970
It's using the Firebase
database, as you can see,

00:23:29.970 --> 00:23:31.530
to actually do all
the triggering.

00:23:31.530 --> 00:23:35.460
You can see our
trigger types here,

00:23:35.460 --> 00:23:39.810
our traits here right
now for object detection

00:23:39.810 --> 00:23:41.225
and so on and so forth.

00:23:44.040 --> 00:23:46.440
That is how we implement
in Firebase database

00:23:46.440 --> 00:23:48.690
the actual representation
of the commands

00:23:48.690 --> 00:23:50.340
that we run this through.

00:23:50.340 --> 00:23:56.820
And so I'm now going to
show you a little code.

00:23:56.820 --> 00:24:00.970
We have this implemented
as a Node.js application.

00:24:00.970 --> 00:24:04.800
This application
is a slight variant

00:24:04.800 --> 00:24:06.260
of the one that's
in the code lab.

00:24:06.260 --> 00:24:08.889
So if you go over to the code
labs by the front of I/O,

00:24:08.889 --> 00:24:10.430
there is a smart
home code lab that's

00:24:10.430 --> 00:24:11.760
building a washing machine.

00:24:11.760 --> 00:24:14.670
It is very much this code.

00:24:14.670 --> 00:24:16.535
This is also on GitHub.

00:24:16.535 --> 00:24:18.660
So you can see that you
can play with this yourself

00:24:18.660 --> 00:24:20.910
and use this if you want as
a reference in limitation.

00:24:20.910 --> 00:24:22.170
This is not a full--

00:24:22.170 --> 00:24:23.670
you would not want
to use this as it

00:24:23.670 --> 00:24:26.490
is for your IoT
product in market,

00:24:26.490 --> 00:24:29.080
because it doesn't have
a persistent database.

00:24:29.080 --> 00:24:31.260
It doesn't have a lot
of the user handling

00:24:31.260 --> 00:24:35.130
that you'll want for
obviously your own product.

00:24:35.130 --> 00:24:37.350
But it does [INAUDIBLE]
and limitation, including

00:24:37.350 --> 00:24:39.687
a lot of these traits here.

00:24:39.687 --> 00:24:42.270
And so just to show you a little
bit, what we're going to demo

00:24:42.270 --> 00:24:48.240
here is primarily object
detection like Michele said.

00:24:48.240 --> 00:24:50.700
But instead of doing mail,
because these things are

00:24:50.700 --> 00:24:52.710
extensible, I'm
going to show you

00:24:52.710 --> 00:24:54.630
how you might build a
product that detects,

00:24:54.630 --> 00:24:59.042
like in my neighborhood,
we have some other needs

00:24:59.042 --> 00:25:00.000
for this sort of thing.

00:25:00.000 --> 00:25:01.375
And I'll show you
how that works.

00:25:01.375 --> 00:25:05.170
But first, let me show
you how you declare this.

00:25:05.170 --> 00:25:06.650
So we have a sync handler.

00:25:06.650 --> 00:25:10.610
The sync handler is basically
just-- this is all Node.js.

00:25:10.610 --> 00:25:12.090
It's simply building
the payload.

00:25:12.090 --> 00:25:14.940
That's actually
remarkably uninteresting.

00:25:14.940 --> 00:25:18.540
The device list here in the
reference is building devices.

00:25:18.540 --> 00:25:19.890
So this is a fixed list.

00:25:19.890 --> 00:25:20.735
You run this.

00:25:20.735 --> 00:25:22.110
And because it's
in the database,

00:25:22.110 --> 00:25:24.920
it defines a number
of objects for you

00:25:24.920 --> 00:25:26.276
that you can use for tests.

00:25:26.276 --> 00:25:27.900
Here's, for example,
a washing machine.

00:25:27.900 --> 00:25:29.730
As I was saying,
this washing machine

00:25:29.730 --> 00:25:34.020
implements on/off and start/stop
and modes and toggles.

00:25:34.020 --> 00:25:37.350
So it's going to have modes
for permanent press, hot/cold.

00:25:37.350 --> 00:25:41.130
It's going to have toggles
probably for quiet mode

00:25:41.130 --> 00:25:43.290
or bleach mode or whatever.

00:25:43.290 --> 00:25:45.660
And it has a sensor built in.

00:25:45.660 --> 00:25:50.130
And then we've built down
here somewhere a mailbox.

00:25:50.130 --> 00:25:51.240
Of course, [INAUDIBLE].

00:25:51.240 --> 00:25:53.640
And here you can see these
are all the traits that we

00:25:53.640 --> 00:25:58.860
have used, including the
outgoing mail toggle here

00:25:58.860 --> 00:25:59.640
is a toggle.

00:25:59.640 --> 00:26:01.098
We just have a
special code for it,

00:26:01.098 --> 00:26:03.480
because you have to do
attributes for toggle.

00:26:03.480 --> 00:26:05.100
This is all the
things that the light

00:26:05.100 --> 00:26:08.040
in the box and the
sensor and the flag

00:26:08.040 --> 00:26:10.230
and the detection in the
camera screen support.

00:26:10.230 --> 00:26:12.630
And to see all of these in
action, go to the sandbox

00:26:12.630 --> 00:26:14.310
where the camera is
working and the flag

00:26:14.310 --> 00:26:15.670
is working and so forth.

00:26:15.670 --> 00:26:23.120
And with that, let me
show you the notification.

00:26:23.120 --> 00:26:25.730
Notification in this case,
again, Node.js, very simple.

00:26:25.730 --> 00:26:28.880
It's taking a pass
through from the payload,

00:26:28.880 --> 00:26:32.030
from HTTP endpoint
to the box calls

00:26:32.030 --> 00:26:35.030
our implementation in Firebase.

00:26:35.030 --> 00:26:36.680
And it simply then has--

00:26:36.680 --> 00:26:37.910
ignore the hack line.

00:26:37.910 --> 00:26:40.490
It simply sends
this notification

00:26:40.490 --> 00:26:47.270
back through the
report [INAUDIBLE]

00:26:47.270 --> 00:26:50.150
reports data notifications
use the same call.

00:26:50.150 --> 00:26:53.235
This uses a Java web token
to call us at any time.

00:26:53.235 --> 00:26:54.110
It's how you do sync.

00:26:54.110 --> 00:26:55.970
It's how you do state reporting.

00:26:55.970 --> 00:26:57.750
And it's how you
do notifications.

00:26:57.750 --> 00:26:59.930
And so this is running.

00:26:59.930 --> 00:27:01.520
It's running in Firebase.

00:27:01.520 --> 00:27:03.380
I am going to show
you-- if you can switch

00:27:03.380 --> 00:27:06.990
to my phone for just a second.

00:27:06.990 --> 00:27:08.220
First I'm going to show you--

00:27:08.220 --> 00:27:09.928
I've already set this
up, so I've already

00:27:09.928 --> 00:27:11.597
connected to this agent.

00:27:11.597 --> 00:27:13.430
You can see I've got
all the virtual devices

00:27:13.430 --> 00:27:16.280
that this one advertises, which
are the devices in the sandbox.

00:27:16.280 --> 00:27:18.640
But I've got the mailbox here.

00:27:18.640 --> 00:27:21.650
[INAUDIBLE] no commands
on the mailbox right now.

00:27:21.650 --> 00:27:25.149
But I want to show
you object detection.

00:27:25.149 --> 00:27:26.690
Object detection in
this case, like I

00:27:26.690 --> 00:27:29.910
said, we implemented--
instead of doing mail,

00:27:29.910 --> 00:27:33.970
we implemented animal detection,
because object detection can

00:27:33.970 --> 00:27:37.090
detect anything, doorbell
face recognition, whatever.

00:27:37.090 --> 00:27:40.410
This was supposed to be
originally a live demo,

00:27:40.410 --> 00:27:41.690
a live animal demo.

00:27:41.690 --> 00:27:45.080
But our lawyers said no,
that was a liability.

00:27:45.080 --> 00:27:47.870
And I was being
grossly irresponsible.

00:27:47.870 --> 00:27:50.570
So I'm afraid this is no
longer a live animal demo.

00:27:50.570 --> 00:27:53.510
But could I get that mic
turned on on the Google Home?

00:27:53.510 --> 00:27:54.110
Thanks.

00:27:54.110 --> 00:27:56.850
So not a live animal demo.

00:27:56.850 --> 00:27:58.080
I apologize.

00:27:58.080 --> 00:27:59.690
But if all works well--

00:28:11.965 --> 00:28:13.460
[NOTIFICATION TONE]

00:28:13.460 --> 00:28:15.418
DEVICE VOICE: There's a
raccoon in the mailbox.

00:28:15.418 --> 00:28:16.210
[LAUGHTER]

00:28:16.210 --> 00:28:18.740
DAVID SCHAIRER: So
kind of a lame--

00:28:18.740 --> 00:28:21.680
[APPLAUSE]

00:28:25.120 --> 00:28:28.060
--kind of a lame demo where
we're using the detection

00:28:28.060 --> 00:28:29.200
logic for mail.

00:28:29.200 --> 00:28:32.080
And it's a little
harder on fuzzy animals,

00:28:32.080 --> 00:28:33.700
because it's not fuzzy logic.

00:28:33.700 --> 00:28:35.210
So it's a little tricky there.

00:28:35.210 --> 00:28:39.220
But you can see, just like with
the Nest facial recognition,

00:28:39.220 --> 00:28:41.710
which to be fair is
many, many, many more

00:28:41.710 --> 00:28:44.770
thousands of engineering hours
of time than that raccoon demo,

00:28:44.770 --> 00:28:47.380
but you can see you
as an IOT partner can

00:28:47.380 --> 00:28:48.680
do what you do best.

00:28:48.680 --> 00:28:50.080
You build a cool device.

00:28:50.080 --> 00:28:52.560
And we'll handle all the
grammar, the understanding,

00:28:52.560 --> 00:28:55.510
the notifications which
go to now you have access

00:28:55.510 --> 00:28:57.010
to the ecosystem in the house.

00:28:57.010 --> 00:28:58.810
You don't just send
messages to the phone.

00:28:58.810 --> 00:29:00.670
You can do notifications
around the house

00:29:00.670 --> 00:29:01.810
of interesting things.

00:29:01.810 --> 00:29:06.790
And we'll see over the
coming weeks and months,

00:29:06.790 --> 00:29:09.340
we'll be adding notifications
of a lot of different types

00:29:09.340 --> 00:29:12.820
to existing traits for
security events, safety

00:29:12.820 --> 00:29:14.800
events, other notifications.

00:29:14.800 --> 00:29:18.479
You can imagine, when the
oven timer is going off,

00:29:18.479 --> 00:29:19.520
you're in the other room.

00:29:19.520 --> 00:29:21.040
You want to know
the roast is done.

00:29:21.040 --> 00:29:22.831
Those sorts of
notifications are available.

00:29:22.831 --> 00:29:25.750
And you can now be [INAUDIBLE]
into the Smart Home ecosystem.

00:29:25.750 --> 00:29:28.300
And these are things that will
be rolling out significantly

00:29:28.300 --> 00:29:29.871
over the coming months.

00:29:29.871 --> 00:29:31.870
Like I said, this reference
example by and large

00:29:31.870 --> 00:29:35.920
and minus the raccoon
is in the sandbox.

00:29:35.920 --> 00:29:39.220
You can do this with
all of our ecosystems.

00:29:39.220 --> 00:29:40.530
You can run it on--

00:29:40.530 --> 00:29:41.420
this is on Firebase.

00:29:41.420 --> 00:29:42.830
Run it on your own cloud.

00:29:42.830 --> 00:29:43.480
Run it on--

00:29:43.480 --> 00:29:45.563
I know some other companies
out there have clouds.

00:29:45.563 --> 00:29:46.460
I forget their names.

00:29:46.460 --> 00:29:50.020
But you can run it wherever
you like on your existing

00:29:50.020 --> 00:29:51.370
infrastructure.

00:29:51.370 --> 00:29:54.067
You can run anything
you want on your client.

00:29:54.067 --> 00:29:55.150
We do have Android Things.

00:29:55.150 --> 00:29:56.899
And you should
absolutely-- in this space,

00:29:56.899 --> 00:29:59.290
you should go and see the
Android Things sandbox.

00:29:59.290 --> 00:30:00.610
There's some very cool stuff.

00:30:00.610 --> 00:30:03.400
We have some cool projects
where you can easily

00:30:03.400 --> 00:30:06.040
integrate Android Things with
the Smart Home ecosystem.

00:30:06.040 --> 00:30:08.110
We'll be doing a
lot more of that.

00:30:08.110 --> 00:30:10.240
Someone just showed
me this walk through.

00:30:10.240 --> 00:30:11.620
This actually last year.

00:30:11.620 --> 00:30:14.040
But this walk
through you can find

00:30:14.040 --> 00:30:17.170
by searching for home
automation and Android Things.

00:30:17.170 --> 00:30:20.350
Somebody did a very easy walk
through demo of Android Things

00:30:20.350 --> 00:30:22.456
running directly with the API.

00:30:22.456 --> 00:30:23.830
And you can do
that walk through.

00:30:27.430 --> 00:30:29.710
We also have several
open source projects

00:30:29.710 --> 00:30:31.480
natively integrated today.

00:30:31.480 --> 00:30:39.670
So over here we have Home
Assistant somewhere--

00:30:39.670 --> 00:30:40.570
where are there?

00:30:40.570 --> 00:30:42.940
Home Assistant right there
in the middle hash.io.

00:30:42.940 --> 00:30:45.376
And we have
[INAUDIBLE] which are

00:30:45.376 --> 00:30:47.500
both right there in the
middle, which are both open

00:30:47.500 --> 00:30:49.664
source platforms that
are already integrated.

00:30:49.664 --> 00:30:51.580
So if you want to play
with smart home devices

00:30:51.580 --> 00:30:54.340
and don't want to
implement this awesome API,

00:30:54.340 --> 00:30:57.170
you can use those for
your project as well.

00:30:57.170 --> 00:30:59.900
And the last thing I wanted
to show in a developer tool,

00:30:59.900 --> 00:31:01.400
because this is
something that we've

00:31:01.400 --> 00:31:04.760
been asked for extensively
in the last few months,

00:31:04.760 --> 00:31:07.480
six months, is we have
done a lot more work

00:31:07.480 --> 00:31:10.630
to integrate developer
tools into the Google

00:31:10.630 --> 00:31:12.400
ecosystem for smart home.

00:31:12.400 --> 00:31:14.130
So this here is the Stackdriver.

00:31:14.130 --> 00:31:15.546
Can you switch
back to the laptop?

00:31:18.668 --> 00:31:19.410
Thank you.

00:31:19.410 --> 00:31:21.140
So this here--
it's hard to read,

00:31:21.140 --> 00:31:25.590
I apologize-- is the
Stackdriver for this account.

00:31:25.590 --> 00:31:26.960
So here's the [INAUDIBLE] demo.

00:31:26.960 --> 00:31:28.580
I've logged into Stackdriver.

00:31:28.580 --> 00:31:32.489
And all of the errors
that we see on our side,

00:31:32.489 --> 00:31:34.280
and I had to generate
some yesterday to get

00:31:34.280 --> 00:31:38.960
this or last week,
all of these errors

00:31:38.960 --> 00:31:41.930
are things that you would
not see because they're

00:31:41.930 --> 00:31:43.910
outside of your ecosystem.

00:31:43.910 --> 00:31:46.490
If we make a call to the
mailbox and hit your server,

00:31:46.490 --> 00:31:48.110
the mailbox fails, you know.

00:31:48.110 --> 00:31:51.866
But if an open auth is
failing, if sync data is wrong,

00:31:51.866 --> 00:31:53.240
if the notification
that you send

00:31:53.240 --> 00:31:55.250
can't be delivered after
you've given it to us,

00:31:55.250 --> 00:31:56.833
all of those things
are errors that we

00:31:56.833 --> 00:31:58.527
don't have real time reporting.

00:31:58.527 --> 00:32:00.110
So they're now going
into Stackdriver.

00:32:00.110 --> 00:32:01.700
You can integrate this
with your service.

00:32:01.700 --> 00:32:03.080
You can use this with debugging.

00:32:03.080 --> 00:32:05.579
You can Pub/Sub from Stackdriver
if you have another logging

00:32:05.579 --> 00:32:06.110
service.

00:32:06.110 --> 00:32:08.030
You can subscribe to
your Stackdriver alerts,

00:32:08.030 --> 00:32:10.220
directly integrate
them with your logging.

00:32:10.220 --> 00:32:13.580
And all of that is now available
and highly recommended,

00:32:13.580 --> 00:32:16.320
makes the development
process much easier.

00:32:16.320 --> 00:32:18.770
That's really
end-to-end on the demo.

00:32:18.770 --> 00:32:25.310
Like I said, please visit
the Smart Home sandbox.

00:32:25.310 --> 00:32:29.030
We have lots more
demos like this there.

00:32:29.030 --> 00:32:31.550
Talk to us.

00:32:31.550 --> 00:32:35.870
We have our development team
ready to support developers.

00:32:35.870 --> 00:32:38.300
We have folks answering
questions online.

00:32:38.300 --> 00:32:40.330
We have other events like this.

00:32:40.330 --> 00:32:42.600
And throw us your questions.

00:32:42.600 --> 00:32:45.780
We have a dedicated team of
folks just building new traits,

00:32:45.780 --> 00:32:47.900
building new device
support every day.

00:32:47.900 --> 00:32:50.780
We have a lot of stuff
that is available,

00:32:50.780 --> 00:32:52.520
but not yet on the
public website.

00:32:52.520 --> 00:32:54.770
So if you see something that
you want, it's not there,

00:32:54.770 --> 00:32:55.370
talk to us.

00:32:55.370 --> 00:32:57.720
It's probably something we've
already built. And if not,

00:32:57.720 --> 00:32:59.053
we'll probably build it for you.

00:32:59.053 --> 00:32:59.930
So talk to us.

00:32:59.930 --> 00:33:02.540
And with that, I
will turn it back

00:33:02.540 --> 00:33:04.069
to Michele for one more thing.

00:33:04.069 --> 00:33:05.360
MICHELE TURNER: One more thing.

00:33:05.360 --> 00:33:05.901
Thanks, Dave.

00:33:05.901 --> 00:33:07.710
That was awesome.

00:33:07.710 --> 00:33:09.244
Does the raccoon have a name?

00:33:09.244 --> 00:33:10.160
DAVID SCHAIRER: Sorry?

00:33:10.160 --> 00:33:11.630
MICHELE TURNER: Does
the raccoon have a name?

00:33:11.630 --> 00:33:13.460
DAVID SCHAIRER: The
raccoon's name is Craig.

00:33:13.460 --> 00:33:14.030
MICHELE TURNER: Craig?

00:33:14.030 --> 00:33:14.863
DAVID SCHAIRER: Yes.

00:33:14.863 --> 00:33:16.967
We spent significant
time on this yesterday.

00:33:16.967 --> 00:33:18.050
MICHELE TURNER: Excellent.

00:33:18.050 --> 00:33:19.880
We'll get the back story later.

00:33:19.880 --> 00:33:21.240
So we do have one more thing.

00:33:21.240 --> 00:33:26.030
So we are announcing
here that we are also

00:33:26.030 --> 00:33:31.760
opening up new APIs for control
of entertainment devices.

00:33:31.760 --> 00:33:33.200
And if you've been
to the sandbox,

00:33:33.200 --> 00:33:34.741
you've probably seen
the demo that we

00:33:34.741 --> 00:33:36.930
have in the booth of
the Dish Hopper box

00:33:36.930 --> 00:33:38.690
that's currently
working in there.

00:33:38.690 --> 00:33:40.140
That's our first implementation.

00:33:40.140 --> 00:33:42.234
It'll be launching
in a few weeks.

00:33:42.234 --> 00:33:44.150
We'll take a quick look
at it for those of you

00:33:44.150 --> 00:33:45.240
who haven't been there yet.

00:33:45.240 --> 00:33:46.239
MARK SPATES: OK, Google.

00:33:46.239 --> 00:33:48.560
Switch to HGTV on the Hopper.

00:33:56.359 --> 00:33:57.650
MICHELE TURNER: So there we go.

00:33:57.650 --> 00:33:58.800
It switched to HGTV.

00:33:58.800 --> 00:34:00.090
MARK SPATES: OK, Google.

00:34:00.090 --> 00:34:02.180
Switch to ESPN on the Hopper.

00:34:13.013 --> 00:34:14.429
MICHELE TURNER:
By the way, that's

00:34:14.429 --> 00:34:18.380
Mark's and my cool little setup
in our office of the mini Smart

00:34:18.380 --> 00:34:19.239
Home.

00:34:19.239 --> 00:34:23.860
So these new media or
entertainment device APIs

00:34:23.860 --> 00:34:27.400
are meant for devices
that aren't Android TV

00:34:27.400 --> 00:34:29.046
and are not cast enabled.

00:34:29.046 --> 00:34:30.670
And there's millions
of them out there,

00:34:30.670 --> 00:34:32.211
like the one in my
living room that's

00:34:32.211 --> 00:34:35.205
a smart TV that has
no voice interface.

00:34:35.205 --> 00:34:35.830
There's no mic.

00:34:35.830 --> 00:34:36.670
There's no speaker.

00:34:36.670 --> 00:34:39.580
And what we want to be able to
do is light up the Assistant

00:34:39.580 --> 00:34:43.550
to make home control easier
for those types of devices.

00:34:43.550 --> 00:34:46.340
So what we've done is we've
announced a set of traits.

00:34:46.340 --> 00:34:48.250
And this is the
list of traits we

00:34:48.250 --> 00:34:50.480
have specific to
entertainment devices.

00:34:50.480 --> 00:34:53.050
So we have transport control
gives you the ability

00:34:53.050 --> 00:34:58.870
to move the media, rewind,
fast forward, et cetera,

00:34:58.870 --> 00:35:02.400
change the volume up and down,
get the state of the media,

00:35:02.400 --> 00:35:05.110
do recording, understand
what channel you're on.

00:35:05.110 --> 00:35:07.570
You just heard Mark
switching to the channels.

00:35:07.570 --> 00:35:09.970
We played a lot
of ESPN yesterday.

00:35:09.970 --> 00:35:14.140
And in some cases, we are
also doing media initiation.

00:35:14.140 --> 00:35:17.020
And this is by early
access partner only.

00:35:17.020 --> 00:35:19.840
So if you happen to
be at a company that's

00:35:19.840 --> 00:35:22.420
doing entertainment devices,
please come talk to us.

00:35:22.420 --> 00:35:24.910
We'll be in the sandbox
and happy to talk

00:35:24.910 --> 00:35:25.910
to you more about this.

00:35:28.750 --> 00:35:32.630
One other thing that I wanted to
mention in addition to our APIs

00:35:32.630 --> 00:35:34.570
and just touch on
lightly, this was slightly

00:35:34.570 --> 00:35:36.400
covered in the
keynote, but we now

00:35:36.400 --> 00:35:40.780
have a number of surfaces in
which your smart devices will

00:35:40.780 --> 00:35:44.320
be shown, so not only
through voice control

00:35:44.320 --> 00:35:48.080
on a variety of speakers,
but now on the phone.

00:35:48.080 --> 00:35:49.510
You'll have the
new Assistant app

00:35:49.510 --> 00:35:52.930
that will show the status of
your smart device on the phone

00:35:52.930 --> 00:35:56.440
and also on all of the
new intelligent displays.

00:35:56.440 --> 00:35:59.830
So multiple surfaces
for your smart device

00:35:59.830 --> 00:36:02.320
to be displayed on
and interacted with.

00:36:05.640 --> 00:36:09.240
So Mark mentioned this earlier
that we're up to 400 partners

00:36:09.240 --> 00:36:11.630
and over 5,000 devices.

00:36:11.630 --> 00:36:14.370
These are just some
of the partners

00:36:14.370 --> 00:36:18.090
that we've launched since
CES, which was in January.

00:36:18.090 --> 00:36:19.620
So we're growing very fast.

00:36:19.620 --> 00:36:24.900
We've added new partners like
LG, Dish, Hisense, Vivint,

00:36:24.900 --> 00:36:27.470
Xiaomi, Panasonic.

00:36:27.470 --> 00:36:29.820
A huge variety of partners
have been coming on

00:36:29.820 --> 00:36:32.110
with really interesting
integrations.

00:36:32.110 --> 00:36:34.590
So if you're thinking about
getting started in Smart Home,

00:36:34.590 --> 00:36:35.970
please come talk to us.

00:36:35.970 --> 00:36:39.730
As David mentioned,
we are in the sandbox.

00:36:39.730 --> 00:36:41.320
We're in the Google
Assistant sandbox,

00:36:41.320 --> 00:36:45.510
which is tent A. We also have a
code lab going where you can go

00:36:45.510 --> 00:36:48.030
try this out for yourself,
do some of the coding

00:36:48.030 --> 00:36:51.430
that David just did, get your
basic project up and going.

00:36:51.430 --> 00:36:54.060
If you are already a developer
with us at the Smart Home

00:36:54.060 --> 00:36:56.700
and want to understand
more about report state,

00:36:56.700 --> 00:36:58.770
we've got a code
lab on that as well.

00:36:58.770 --> 00:37:01.950
And we will be hanging out
in the sandbox after this.

00:37:01.950 --> 00:37:04.300
So please come and talk to us.

00:37:04.300 --> 00:37:05.453
Thanks very much.

00:37:05.453 --> 00:37:06.872
[APPLAUSE]

00:37:06.872 --> 00:37:10.960
[MUSIC PLAYING]

