WEBVTT
Kind: captions
Language: en

00:00:00.667 --> 00:00:01.167
Roomann-Kurrik:
Thanks.

00:00:01.167 --> 00:00:03.634
My name's Arne.
This is Chris.

00:00:03.634 --> 00:00:06.601
And we both work
at Google.

00:00:06.601 --> 00:00:09.701
To talk a little bit more
about who we are,

00:00:09.701 --> 00:00:13.133
Chris is a developer advocate
here.

00:00:13.133 --> 00:00:15.200
And I'm a developer programs
engineer.

00:00:15.200 --> 00:00:17.100
We both worked
on Friend Connect,

00:00:17.100 --> 00:00:20.133
and we both created websites
that have deep integrations

00:00:20.133 --> 00:00:21.601
into the Friend Connect system.

00:00:24.133 --> 00:00:27.901
Let's talk about who we're
expecting you guys are

00:00:27.901 --> 00:00:29.467
in the audience today.

00:00:29.467 --> 00:00:31.534
You're probably Web developers.

00:00:31.534 --> 00:00:33.601
That much should be consistent.

00:00:33.601 --> 00:00:35.634
You probably have
some experience

00:00:35.634 --> 00:00:37.767
working on server-side
languages too.

00:00:37.767 --> 00:00:41.901
So you probably work with Java,
PHP, Ruby, and Python.

00:00:41.901 --> 00:00:45.133
You probably have experience
with SQL

00:00:45.133 --> 00:00:47.434
or some sort
of database systems.

00:00:47.434 --> 00:00:49.434
You probably have
an existing website.

00:00:49.434 --> 00:00:51.501
Users probably go
to your website

00:00:51.501 --> 00:00:52.734
to do some sort of task.

00:00:52.734 --> 00:00:54.067
Maybe they share information.

00:00:54.067 --> 00:00:55.734
Maybe they store information.

00:00:55.734 --> 00:00:57.834
Maybe they interact
with other people.

00:00:57.834 --> 00:01:01.667
And you probably have
an existing database

00:01:01.667 --> 00:01:02.701
of registered accounts,

00:01:02.701 --> 00:01:04.534
so people probably go
to your website,

00:01:04.534 --> 00:01:06.634
fill out a form,
give you some information,

00:01:06.634 --> 00:01:09.200
and then log in using
the credentials

00:01:09.200 --> 00:01:10.767
that they give you.

00:01:10.767 --> 00:01:13.534
And maybe you've heard
about Google Friend Connect,

00:01:13.534 --> 00:01:17.234
and you don't really see how
it integrates into your site,

00:01:17.234 --> 00:01:19.100
and so that's what we're here
to tell you today.

00:01:19.100 --> 00:01:21.701
Maybe you've gotten
a few questions

00:01:21.701 --> 00:01:23.000
about Friend Connect.

00:01:23.000 --> 00:01:25.667
Maybe you want to know
does it let users sign

00:01:25.667 --> 00:01:28.634
into my existing
registration system?

00:01:28.634 --> 00:01:32.400
What users can sign in
if I put Friend Connect

00:01:32.400 --> 00:01:33.567
on my website?

00:01:33.567 --> 00:01:36.734
Can I deliver
a social experience

00:01:36.734 --> 00:01:39.234
for all of my users

00:01:39.234 --> 00:01:40.634
through Friend Connect?

00:01:40.634 --> 00:01:44.434
And does Friend Connect enable
me to send invitations out

00:01:44.434 --> 00:01:45.901
to other social networks

00:01:45.901 --> 00:01:49.968
so I can spread my site
and grow adoption?

00:01:49.968 --> 00:01:52.601
And--sorry.

00:01:52.601 --> 00:01:54.834
Obviously the answer
to this is yes.

00:01:54.834 --> 00:01:56.968
It does all of these things.

00:01:56.968 --> 00:01:59.834
Friend Connect
is what I like to consider

00:01:59.834 --> 00:02:01.300
a meta social network.

00:02:01.300 --> 00:02:04.000
That means it basically takes
a lot of social networks,

00:02:04.000 --> 00:02:06.701
and mostly OpenSocial networks,

00:02:06.701 --> 00:02:09.300
and reads and writes
to them.

00:02:09.300 --> 00:02:11.734
It can also read
from Portable Contacts sites

00:02:11.734 --> 00:02:14.100
and basically aggregates
all this data together

00:02:14.100 --> 00:02:16.300
into its own social network.

00:02:16.300 --> 00:02:17.801
And on this platform,

00:02:17.801 --> 00:02:19.734
it actually exposes
a set of APIs,

00:02:19.734 --> 00:02:21.701
both client-side
and server-side,

00:02:21.701 --> 00:02:24.334
that let you integrate deeply
with your website.

00:02:24.334 --> 00:02:27.000
Um, also Friend Connect
has no icon,

00:02:27.000 --> 00:02:29.400
so that makes it
really difficult

00:02:29.400 --> 00:02:31.534
to have a visual indicator
for it.

00:02:31.534 --> 00:02:33.868
So I just use the blue box
with the GFC.

00:02:33.868 --> 00:02:34.968
Just so you're aware.

00:02:34.968 --> 00:02:38.534
Maybe you haven't actually seen

00:02:38.534 --> 00:02:40.167
Friend Connect in action,
so I'm gonna do

00:02:40.167 --> 00:02:42.567
a really quick cut-and-paste
integration

00:02:42.567 --> 00:02:45.901
with Friend Connect on an
example, hypothetical website,

00:02:45.901 --> 00:02:48.000
just to get it out of the way
so we can move on

00:02:48.000 --> 00:02:50.534
and see what we can do
beyond that.

00:02:50.534 --> 00:02:54.567
The site in question
I like to call "Plane Crazy."

00:02:54.567 --> 00:02:56.000
Maybe it's, you know, a site

00:02:56.000 --> 00:02:59.534
for people who really like
flying small aircraft.

00:02:59.534 --> 00:03:01.534
And so it's kind
of like a database.

00:03:01.534 --> 00:03:03.767
It has a few planes in it,
information, statistics,

00:03:03.767 --> 00:03:06.000
and you can see
it's a fairly simple UI.

00:03:06.000 --> 00:03:07.467
It has the list of planes.

00:03:07.467 --> 00:03:08.634
It has a few links
on the right.

00:03:08.634 --> 00:03:12.167
It has a Google Search box.
Et cetera.

00:03:12.167 --> 00:03:15.033
So now how would we go about
integrating this

00:03:15.033 --> 00:03:16.601
with Google Friend Connect?

00:03:16.601 --> 00:03:20.501
And so, first of all,
you go to the sign-up site,

00:03:20.501 --> 00:03:22.100
and then you click a link

00:03:22.100 --> 00:03:24.234
and you fill out some
information about your website,

00:03:24.234 --> 00:03:26.100
give it the URL
and the name.

00:03:26.100 --> 00:03:27.968
Then you have two files,
and you're gonna download

00:03:27.968 --> 00:03:29.567
those two files
to your server,

00:03:29.567 --> 00:03:33.200
and basically these two files
enable Friend Connect

00:03:33.200 --> 00:03:37.033
to work anywhere
in your site.

00:03:37.033 --> 00:03:40.367
So what I'm doing right now
is just uploading the FTP.

00:03:40.367 --> 00:03:41.934
Now we're gonna install
the Members Gadget.

00:03:41.934 --> 00:03:43.434
The Members Gadget
actually shows a list

00:03:43.434 --> 00:03:45.000
of people who are on your site

00:03:45.000 --> 00:03:47.300
and gives you some Chrome
to log in and out.

00:03:47.300 --> 00:03:50.767
So what I'm doing
is actually downloading

00:03:50.767 --> 00:03:52.133
my CSS file from my site,

00:03:52.133 --> 00:03:53.734
just so I can take a look
at the colors

00:03:53.734 --> 00:03:55.267
that I'm using
in the template.

00:03:55.267 --> 00:03:57.534
And I'm just cutting and pasting
a few of the select colors

00:03:57.534 --> 00:03:59.601
so that I can customize
this Members Gadget

00:03:59.601 --> 00:04:02.767
Schalk: And see--oh, I just got
to say this is the beyond--

00:04:02.767 --> 00:04:05.501
the part, the cut-and-paste, and
so just to kind of set it up,

00:04:05.501 --> 00:04:07.100
and then after we do this,

00:04:07.100 --> 00:04:08.400
we're gonna get
into the beyond section

00:04:08.400 --> 00:04:09.601
where you have to do

00:04:09.601 --> 00:04:10.601
more interesting service-side
integration.

00:04:10.601 --> 00:04:12.767
Roomann-Kurrik: Right.

00:04:12.767 --> 00:04:14.701
So I'm just going through
and customizing some

00:04:14.701 --> 00:04:16.901
of these gadgets just to get
bare social functionality

00:04:16.901 --> 00:04:18.667
into my site.

00:04:18.667 --> 00:04:21.667
You can see here I'm actually
typing in a few divs

00:04:21.667 --> 00:04:23.501
and stuff into my layout.

00:04:23.501 --> 00:04:25.567
I'll actually put in
a little hello box,

00:04:25.567 --> 00:04:27.367
so when I go back to the site
and refresh,

00:04:27.367 --> 00:04:29.334
you can actually see
there's a new little sidebar,

00:04:29.334 --> 00:04:32.100
and that's where I'm gonna put
the Members Gadget.

00:04:32.100 --> 00:04:34.367
I go back in,
I paste in the code

00:04:34.367 --> 00:04:36.701
that Friend Connect gave me,

00:04:36.701 --> 00:04:38.901
I click back to this site,
and I reload.

00:04:38.901 --> 00:04:40.334
And all of a sudden,
now I have a member site.

00:04:40.334 --> 00:04:41.501
Members Gadget.

00:04:41.501 --> 00:04:43.434
People can actually click
into my site,

00:04:43.434 --> 00:04:44.801
and then sign in,
and, look,

00:04:44.801 --> 00:04:46.367
I'm signing in
with my Google credentials,

00:04:46.367 --> 00:04:47.367
so that I didn't have to put any

00:04:47.367 --> 00:04:49.734
of this log-in
registration code.

00:04:49.734 --> 00:04:50.934
And I'm clicking a button.

00:04:50.934 --> 00:04:54.067
And now I'm a member
of this site.

00:04:54.067 --> 00:04:56.300
Fairly straightforward.

00:04:56.300 --> 00:04:58.968
Now it would be nice--
most sites have something

00:04:58.968 --> 00:05:00.334
in the top right-hand corner,

00:05:00.334 --> 00:05:03.534
kind of like a log-in/log-out
set of bar links.

00:05:03.534 --> 00:05:05.100
So I'm gonna go back
to the Friend Connect site,

00:05:05.100 --> 00:05:07.067
and I'm gonna reconfigure
yet another piece

00:05:07.067 --> 00:05:09.033
of cut-and-paste functionality.

00:05:09.033 --> 00:05:10.767
So here I am just changing
the color of the links

00:05:10.767 --> 00:05:11.834
to match my site.

00:05:11.834 --> 00:05:13.601
I'm changing
the background color

00:05:13.601 --> 00:05:16.801
to match the little bar
that I want to put in there,

00:05:16.801 --> 00:05:19.334
and I'm also removing
the border

00:05:19.334 --> 00:05:22.334
so that it blends seamlessly
into my site.

00:05:22.334 --> 00:05:24.334
Again, I get
some code generated.

00:05:26.701 --> 00:05:30.501
And I'm gonna go type it in
to the div on my site.

00:05:30.501 --> 00:05:32.634
Just put in a little bit
of Chrome,

00:05:32.634 --> 00:05:35.567
you know, a shadow,
make it look nice.

00:05:40.067 --> 00:05:42.934
And then, when I reload,
you'll actually see

00:05:42.934 --> 00:05:45.000
a sign-in/sign-out bar,
my icon,

00:05:45.000 --> 00:05:47.067
my name, et cetera,
is in there.

00:05:47.067 --> 00:05:48.501
Looks pretty good.

00:05:48.501 --> 00:05:50.000
One more thing
I'd really like

00:05:50.000 --> 00:05:52.667
to put into this is--
you're looking

00:05:52.667 --> 00:05:53.968
at a detailed page of a plane,

00:05:53.968 --> 00:05:55.968
and I'd like users
to comment.

00:05:55.968 --> 00:05:57.834
You know, kind of say things
about the plane.

00:05:57.834 --> 00:06:00.067
Say why they like it.

00:06:00.067 --> 00:06:02.601
So I'm gonna put in
what's called a Comments Gadget,

00:06:02.601 --> 00:06:05.100
and I'm just configuring it here
again, doing the same thing

00:06:05.100 --> 00:06:07.701
that I've done before
with the colors.

00:06:07.701 --> 00:06:11.767
And you can actually see
the gadget updating

00:06:11.767 --> 00:06:14.334
as it would normally,
just like the other gadgets did.

00:06:14.334 --> 00:06:17.133
And I'm gonna take that
and let people actually come

00:06:17.133 --> 00:06:18.567
to my site,
log in with Friend Connect,

00:06:18.567 --> 00:06:21.133
and then leave a comment
about a certain plane.

00:06:21.133 --> 00:06:22.200
And the great part about this

00:06:22.200 --> 00:06:24.601
is that the integration
is very direct.

00:06:24.601 --> 00:06:26.267
I mean, this movie's
a little bit sped up.

00:06:26.267 --> 00:06:30.100
It's about 50% sped up,
but it's 3:39 long,

00:06:30.100 --> 00:06:32.200
so, theoretically,
you should be able to get

00:06:32.200 --> 00:06:33.834
a Friend Connect site
up and running

00:06:33.834 --> 00:06:36.400
in under eight minutes
if you know what you're doing.

00:06:36.400 --> 00:06:37.501
It might take you
a little bit longer.

00:06:37.501 --> 00:06:38.801
That's fine.

00:06:38.801 --> 00:06:41.801
Finally, you can see,

00:06:41.801 --> 00:06:43.434
the Comments Gadget
is in there.

00:06:43.434 --> 00:06:45.467
I'm just gonna leave a comment
about the plane.

00:06:45.467 --> 00:06:48.634
Say,
"This is a really great plane."

00:06:48.634 --> 00:06:51.767
You can see comment uploads

00:06:51.767 --> 00:06:53.801
and refreshes, et cetera.

00:06:53.801 --> 00:06:57.567
So this is the cut-and-paste.

00:06:57.567 --> 00:07:00.067
We're gonna show you

00:07:00.067 --> 00:07:01.767
how you can actually take
these ideas

00:07:01.767 --> 00:07:04.467
and take these gadgets
and then integrate it

00:07:04.467 --> 00:07:07.667
in a way that's more meaningful
and deeper into your site.

00:07:07.667 --> 00:07:09.534
So you're not using
JavaScript anymore.

00:07:09.534 --> 00:07:11.300
You're actually using
your own scripting languages,

00:07:11.300 --> 00:07:12.534
your own data store,
et cetera,

00:07:12.534 --> 00:07:14.067
to float this social information

00:07:14.067 --> 00:07:17.133
back to the front end
of your site.

00:07:17.133 --> 00:07:18.968
Before we actually get to that,
though,

00:07:18.968 --> 00:07:20.734
let's talk a little
about why you would want

00:07:20.734 --> 00:07:22.467
to use Friend Connect
as opposed to using

00:07:22.467 --> 00:07:24.701
any other system
for doing this.

00:07:24.701 --> 00:07:27.100
First off,
if you're a website owner,

00:07:27.100 --> 00:07:29.667
you're probably
a social developer anyway.

00:07:29.667 --> 00:07:31.300
Websites are social apps

00:07:31.300 --> 00:07:33.000
because people come to them,
they interact,

00:07:33.000 --> 00:07:35.033
the things that they do
on the site

00:07:35.033 --> 00:07:37.200
usually are surfaced
in the UI,

00:07:37.200 --> 00:07:39.868
and then people will actually
see what other users

00:07:39.868 --> 00:07:41.300
of the site have done.

00:07:41.300 --> 00:07:43.467
You can actually pull data
from web services,

00:07:43.467 --> 00:07:44.767
you can mash stuff up.

00:07:44.767 --> 00:07:46.634
It's very much
like a social application

00:07:46.634 --> 00:07:47.801
that you'd run on Facebook

00:07:47.801 --> 00:07:50.934
or an OpenSocial container.

00:07:50.934 --> 00:07:53.167
And vice-versa too.

00:07:53.167 --> 00:07:57.067
Because you're a social,
you know, website,

00:07:57.067 --> 00:07:59.467
you're probably built
on a bunch of platforms.

00:07:59.467 --> 00:08:02.667
Platforms are kind of like
the APIs of the Web.

00:08:02.667 --> 00:08:04.334
There's a lot of them.

00:08:04.334 --> 00:08:06.501
Especially if you're dealing
with OpenSocial containers.

00:08:06.501 --> 00:08:09.434
If you want to let users
from OpenSocial

00:08:09.434 --> 00:08:12.567
come into your site,
you're gonna have to deal

00:08:12.567 --> 00:08:13.934
with several social networks.

00:08:13.934 --> 00:08:16.434
There's how many now?

00:08:16.434 --> 00:08:18.334
[laughter]
Schalk: Quite a number.

00:08:18.334 --> 00:08:20.868
Opensocial.org, you can see all
the OpenSocial ones at least.

00:08:20.868 --> 00:08:23.100
Roomann-Kurrik: Right.

00:08:23.100 --> 00:08:25.367
So the users can come
from any point of integration

00:08:25.367 --> 00:08:28.267
with your APIs, so if you have
an integration with Flickr,

00:08:28.267 --> 00:08:30.367
there's a chance that Flickr
users will come to your site

00:08:30.367 --> 00:08:32.167
just because
of that integration.

00:08:32.167 --> 00:08:34.868
It means that your website
is kind of dependent

00:08:34.868 --> 00:08:36.167
on existing platforms,

00:08:36.167 --> 00:08:38.567
and there's so many of them,

00:08:38.567 --> 00:08:42.334
so you have to be
cross-platform.

00:08:42.334 --> 00:08:43.701
Like OpenSocial.

00:08:43.701 --> 00:08:48.734
Here's actually a list
of some of the partners.

00:08:48.734 --> 00:08:50.334
When OpenSocial was brought out,

00:08:50.334 --> 00:08:53.701
it kind of gave an API
for simplifying

00:08:53.701 --> 00:08:54.934
a social application
development,

00:08:54.934 --> 00:08:56.133
so when you're building
a website

00:08:56.133 --> 00:08:57.868
that needs to interface
with a social network,

00:08:57.868 --> 00:09:00.067
now your choices are very large.

00:09:00.067 --> 00:09:01.868
It can be almost too large

00:09:01.868 --> 00:09:05.367
because there's a fixed cost
for integrating

00:09:05.367 --> 00:09:06.601
with the social network.

00:09:06.601 --> 00:09:08.000
For example, you have
to deploy your app.

00:09:08.000 --> 00:09:10.033
You usually have to sign up
for a key

00:09:10.033 --> 00:09:11.467
or registration.

00:09:11.467 --> 00:09:13.167
You have to do
per-platform support,

00:09:13.167 --> 00:09:16.000
so some platforms actually
make you have a user forum

00:09:16.000 --> 00:09:18.067
just so you can support
your app there, et cetera.

00:09:18.067 --> 00:09:20.100
So when you're thinking

00:09:20.100 --> 00:09:21.834
about a traditional
cross-platform model,

00:09:21.834 --> 00:09:24.033
like you compile
one application,

00:09:24.033 --> 00:09:25.901
and then you install on
a bunch of different platforms,

00:09:25.901 --> 00:09:27.968
it doesn't really work
that way anymore.

00:09:27.968 --> 00:09:30.234
It's not, like, what containers
am I installed on?

00:09:30.234 --> 00:09:31.601
It's more, like,
who do I talk to?

00:09:31.601 --> 00:09:33.601
Where are the network bits
kind of going

00:09:33.601 --> 00:09:35.334
and where are they coming from?

00:09:35.334 --> 00:09:37.234
And then when you're thinking
about it in that model,

00:09:37.234 --> 00:09:38.868
why not think about it
in terms of

00:09:38.868 --> 00:09:40.901
what am I actually doing
with each network?

00:09:40.901 --> 00:09:43.234
So, for example, you might be
sharing activities

00:09:43.234 --> 00:09:45.100
with three different networks,

00:09:45.100 --> 00:09:47.167
and you might be sharing
profile data with two networks,

00:09:47.167 --> 00:09:49.601
and your application might
actually have views

00:09:49.601 --> 00:09:51.300
embedded on other networks.

00:09:51.300 --> 00:09:53.834
So the great thing
about this

00:09:53.834 --> 00:09:56.601
and what Friend Connect offers
you is that it gives you

00:09:56.601 --> 00:09:59.334
one set of common APIs
to kind of do all of this.

00:09:59.334 --> 00:10:00.901
It sits in front of activities,

00:10:00.901 --> 00:10:02.167
so that when you're posting
activities,

00:10:02.167 --> 00:10:03.634
you post it to one place.

00:10:03.634 --> 00:10:06.033
Those activities go out
to all the different sites

00:10:06.033 --> 00:10:07.367
that are configured
with Friend Connect.

00:10:07.367 --> 00:10:09.767
In fact,
it's pretty transparent.

00:10:09.767 --> 00:10:11.267
Or, actually,
it's not transparent.

00:10:11.267 --> 00:10:13.067
It's pretty opaque to you

00:10:13.067 --> 00:10:14.767
because you just make
the one call

00:10:14.767 --> 00:10:16.767
and Friend Connect
does all the heavy lifting

00:10:16.767 --> 00:10:19.701
of figuring out
which networks to post to,

00:10:19.701 --> 00:10:21.234
et cetera.

00:10:21.234 --> 00:10:23.667
Also Friend Connect gives you
other things.

00:10:23.667 --> 00:10:26.067
It gives you
some additional information

00:10:26.067 --> 00:10:28.133
that you can surface
in your website.

00:10:28.133 --> 00:10:30.133
There's some extra tools
and stuff

00:10:30.133 --> 00:10:32.067
to make your site more social.

00:10:32.067 --> 00:10:33.567
We'll definitely cover that.

00:10:33.567 --> 00:10:35.667
And it gives you some views.

00:10:35.667 --> 00:10:37.634
So if you're actually writing
views of your application

00:10:37.634 --> 00:10:39.200
that run inside
of social networks--

00:10:39.200 --> 00:10:40.767
for example, if you have
a website,

00:10:40.767 --> 00:10:42.467
but you also have a gadget
that runs inside of Orkut

00:10:42.467 --> 00:10:45.534
or MySpace, you can actually
surface your gadget

00:10:45.534 --> 00:10:47.567
into Friend Connect itself also.

00:10:47.567 --> 00:10:49.934
We actually had another talk
yesterday about this.

00:10:49.934 --> 00:10:51.601
And you should
definitely check it out

00:10:51.601 --> 00:10:52.934
once the slides
are posted online

00:10:52.934 --> 00:10:55.501
about writing gadgets
for Google Friend Connect.

00:10:55.501 --> 00:10:58.100
Let's talk about why you would
want to put Friend Connect

00:10:58.100 --> 00:11:00.467
on your server, though.

00:11:00.467 --> 00:11:05.634
Well, basically, it gives you
certain, very strong advantages.

00:11:05.634 --> 00:11:07.601
It gives you
Google Friend Connect users

00:11:07.601 --> 00:11:09.000
to log in for the first time

00:11:09.000 --> 00:11:11.334
as if they were already
registered on your website.

00:11:11.334 --> 00:11:14.000
So when a Google Friend Connect
user comes into your site,

00:11:14.000 --> 00:11:15.467
they don't have to fill out
that form,

00:11:15.467 --> 00:11:17.167
they actually have
a user account already

00:11:17.167 --> 00:11:18.467
on your back-end system.

00:11:18.467 --> 00:11:21.601
You have user IDs,
you have information about them.

00:11:21.601 --> 00:11:22.968
It also gives you
social signals.

00:11:22.968 --> 00:11:25.968
So you can highlight appropriate
content based off of what

00:11:25.968 --> 00:11:27.334
a user's been doing
on your site

00:11:27.334 --> 00:11:29.634
and what their friends
have been doing on your site.

00:11:29.634 --> 00:11:31.434
Finally--
or not finally,

00:11:31.434 --> 00:11:33.734
it uses content
to make new social connections

00:11:33.734 --> 00:11:35.067
between the users
of your site.

00:11:35.067 --> 00:11:37.868
So around the context
of the content on your site--

00:11:37.868 --> 00:11:39.968
for example, Plane Crazy,
it's planes.

00:11:39.968 --> 00:11:41.701
You might be able
to meet and interact

00:11:41.701 --> 00:11:43.868
with people
that you wouldn't normally,

00:11:43.868 --> 00:11:46.133
and that actually makes
your website way more valuable

00:11:46.133 --> 00:11:48.200
for the users,
and they'll keep coming back.

00:11:48.200 --> 00:11:51.734
Finally, it allows you
to share their experiences

00:11:51.734 --> 00:11:53.067
with the rest of the Web.

00:11:53.067 --> 00:11:55.734
So the idea behind that
is that if users are going

00:11:55.734 --> 00:11:57.901
to your site and doing something
interesting there,

00:11:57.901 --> 00:12:00.400
that you can actually use
Friend Connect to share

00:12:00.400 --> 00:12:01.701
your site with the rest
of the Web

00:12:01.701 --> 00:12:04.434
in a bunch of different ways.

00:12:04.434 --> 00:12:05.968
So when we look at this,

00:12:05.968 --> 00:12:09.534
and thinking back to the way of
how we're talking to platforms,

00:12:09.534 --> 00:12:11.701
we can break down the
integration with Friend Connect

00:12:11.701 --> 00:12:13.033
into three different ways.

00:12:13.033 --> 00:12:15.133
And that's how I'm going
to be presenting today.

00:12:15.133 --> 00:12:17.634
We let profile
come into the website.

00:12:17.634 --> 00:12:20.868
At the website itself,
we add social functionality.

00:12:20.868 --> 00:12:24.400
And then going out
of your website,

00:12:24.400 --> 00:12:26.501
we have activities
and invites.

00:12:26.501 --> 00:12:28.100
And then to simplify it
one more time,

00:12:28.100 --> 00:12:31.701
it's basically who can access
your site without registering,

00:12:31.701 --> 00:12:33.300
what can a user do
with their friends,

00:12:33.300 --> 00:12:35.467
and where can users share
their actions

00:12:35.467 --> 00:12:37.534
with the rest of the Web?

00:12:37.534 --> 00:12:39.834
Now let's talk
about the INs first.

00:12:39.834 --> 00:12:42.367
The goal here is to allow
a Friend Connect user

00:12:42.367 --> 00:12:44.701
to log into your site as if
they were a registered user.

00:12:44.701 --> 00:12:45.934
There's three things
we're gonna do.

00:12:45.934 --> 00:12:47.367
We're gonna let them sign in,

00:12:47.367 --> 00:12:49.033
we're gonna obtain
their social data,

00:12:49.033 --> 00:12:50.534
and then we're gonna store it.

00:12:50.534 --> 00:12:52.934
First of all,

00:12:52.934 --> 00:12:54.701
you do need a little bit
of cut-and-paste code

00:12:54.701 --> 00:12:55.834
to do a deep integration.

00:12:55.834 --> 00:12:57.200
Basically, you need a button

00:12:57.200 --> 00:12:59.234
to allow the user to click,

00:12:59.234 --> 00:13:01.434
and then that will actually log
them into Friend Connect,

00:13:01.434 --> 00:13:04.601
do all the UI work,
and then you can start pulling

00:13:04.601 --> 00:13:06.200
their data
from your server.

00:13:06.200 --> 00:13:08.367
Thankfully, this is actually
a very short piece of code.

00:13:08.367 --> 00:13:12.267
Here it's listed in three--
I'm sorry, four lines.

00:13:12.267 --> 00:13:14.601
Certainly easy.

00:13:14.601 --> 00:13:17.734
And Chris here is actually
gonna show doing that demo

00:13:17.734 --> 00:13:19.067
with the Plane Crazy site.

00:13:19.067 --> 00:13:20.601
Schalk: Okay.
Thanks, Arne.

00:13:20.601 --> 00:13:23.000
And, so, yes,
what I'm going to do

00:13:23.000 --> 00:13:25.601
is basically show you
an application

00:13:25.601 --> 00:13:28.033
that I'd been working on
just fairly recently

00:13:28.033 --> 00:13:30.200
and that it actually uses
the same--

00:13:30.200 --> 00:13:32.501
the technology
that we're describing.

00:13:32.501 --> 00:13:34.868
So in this sense,
I'm showing you

00:13:34.868 --> 00:13:35.934
the log-in page.

00:13:35.934 --> 00:13:37.000
And then in this case,

00:13:37.000 --> 00:13:39.067
I can click
on the sign-in button,

00:13:39.067 --> 00:13:41.534
and that little bit
of JavaScript pops open,

00:13:41.534 --> 00:13:43.801
and then I can actually log in
to this site

00:13:43.801 --> 00:13:46.133
using my Google Friend Connect
account

00:13:46.133 --> 00:13:48.200
or basically any,
essentially, account

00:13:48.200 --> 00:13:50.067
through Google Friend Connect.
Okay?

00:13:50.067 --> 00:13:53.901
So in that case, it's actually
a fairly simple process.

00:13:53.901 --> 00:13:56.367
I'll go ahead and log in
to the site really quickly.

00:14:06.067 --> 00:14:07.667
And so what it's doing
is, like, essentially,

00:14:07.667 --> 00:14:08.767
if you look into the code,

00:14:08.767 --> 00:14:12.100
a certain token
is passed to your browser

00:14:12.100 --> 00:14:13.467
as a cookie
and then on the server side,

00:14:13.467 --> 00:14:14.934
you can extract that cookie,

00:14:14.934 --> 00:14:16.200
and then from then on,

00:14:16.200 --> 00:14:17.868
you can start making requests

00:14:17.868 --> 00:14:22.100
to the Google Friend Connect
server using standard...

00:14:22.100 --> 00:14:23.300
RESTful protocol.

00:14:23.300 --> 00:14:25.400
And in my case,
this is a Java application

00:14:25.400 --> 00:14:27.467
that I'm running
on Google App Engine for Java.

00:14:27.467 --> 00:14:29.234
And I'm using the Eclipse plugin

00:14:29.234 --> 00:14:30.601
that you may have seen
in the keynote yesterday.

00:14:30.601 --> 00:14:32.868
So once I obtained
the authorization

00:14:32.868 --> 00:14:34.334
to connect to the Google
Friend Connect server,

00:14:34.334 --> 00:14:36.234
I can start querying
social data,

00:14:36.234 --> 00:14:38.100
and I can inject that
into the UI.

00:14:38.100 --> 00:14:39.634
So I'll show you more
about this application

00:14:39.634 --> 00:14:41.067
as we move on,
but just wanted

00:14:41.067 --> 00:14:43.267
to kind of cover that
really quickly.

00:14:43.267 --> 00:14:46.067
Roomann-Kurrik: Thanks.

00:14:46.067 --> 00:14:47.267
So like Chris said,

00:14:47.267 --> 00:14:48.367
we can actually pull data

00:14:48.367 --> 00:14:50.267
from a server-to-server API.

00:14:50.267 --> 00:14:51.300
And the way this is done

00:14:51.300 --> 00:14:53.667
is through the OpenSocial set
of APIs,

00:14:53.667 --> 00:14:56.133
which gives you two ways
of pulling data.

00:14:56.133 --> 00:14:58.834
Basically, a REST request
or an RPC request.

00:14:58.834 --> 00:15:03.367
What a lot of users
don't really realize is--

00:15:03.367 --> 00:15:05.834
or what a lot of developers,
I'm sorry, don't really realize

00:15:05.834 --> 00:15:08.167
is a lot of Friend Connect data
is actually public.

00:15:08.167 --> 00:15:11.634
At least the data
that users sign in with.

00:15:11.634 --> 00:15:16.334
And so it defaults
to public data.

00:15:16.334 --> 00:15:18.868
So if you actually wanted
to check out

00:15:18.868 --> 00:15:20.167
the public data for a site,

00:15:20.167 --> 00:15:21.767
we actually have
a URL down here,

00:15:21.767 --> 00:15:23.767
and if you follow that
with your browser right now,

00:15:23.767 --> 00:15:25.634
you'll see an XML feed
of all the users

00:15:25.634 --> 00:15:28.934
who have joined
The Chow Down sample site.

00:15:28.934 --> 00:15:31.801
And looking at the structure
of this URL,

00:15:31.801 --> 00:15:33.133
it's very straight-forward.

00:15:33.133 --> 00:15:35.234
It's basically--you have
an endpoint for the API,

00:15:35.234 --> 00:15:39.601
you do /people,
and then you do /@owner/@self.

00:15:39.601 --> 00:15:43.667
The /@owner/@self
is a way to fetch

00:15:43.667 --> 00:15:46.434
the site itself, so basically
when a Friend Connect site

00:15:46.434 --> 00:15:49.033
is put into the context
of OpenSocial,

00:15:49.033 --> 00:15:51.200
there's the idea
of the viewer and the owner,

00:15:51.200 --> 00:15:52.767
and the site itself
is the owner,

00:15:52.767 --> 00:15:54.934
so if you want to find out
the members of a site,

00:15:54.934 --> 00:15:56.267
you'll look
for the owner's friends.

00:15:56.267 --> 00:15:57.467
If you want to find out

00:15:57.467 --> 00:15:59.534
who's actually using the site
currently,

00:15:59.534 --> 00:16:02.567
then you'd look
for the viewer.

00:16:02.567 --> 00:16:07.000
This symbol hopefully
is familiar to some of you.

00:16:07.000 --> 00:16:08.501
It's a OAuth,

00:16:08.501 --> 00:16:11.100
so when you're actually
making data requests,

00:16:11.100 --> 00:16:14.367
and you need to establish
some sort of credentials

00:16:14.367 --> 00:16:15.968
in order to fetch private data

00:16:15.968 --> 00:16:17.367
or do activities,

00:16:17.367 --> 00:16:20.067
your site gets issued
a Consumer Key

00:16:20.067 --> 00:16:21.701
and a Consumer Secret.

00:16:21.701 --> 00:16:25.534
You'll see that
in the Friend Connect UI,

00:16:25.534 --> 00:16:26.767
so it's right there.

00:16:26.767 --> 00:16:28.868
And then when you use
an OAuth library,

00:16:28.868 --> 00:16:30.267
you can actually go fetch data

00:16:30.267 --> 00:16:32.868
as if you were the site itself.

00:16:32.868 --> 00:16:34.767
And this is really good
for background processing

00:16:34.767 --> 00:16:36.167
because you can do it
at any time,

00:16:36.167 --> 00:16:38.534
and you can do things
like post activities,

00:16:38.534 --> 00:16:39.868
and you can read
and write app data.

00:16:39.868 --> 00:16:42.033
And both of those
are actually covered

00:16:42.033 --> 00:16:45.000
by the OpenSocial APIs
as well.

00:16:45.000 --> 00:16:46.534
So say you want
to find out

00:16:46.534 --> 00:16:49.667
who the current user
of your website is.

00:16:49.667 --> 00:16:53.334
You actually have to get
user context.

00:16:53.334 --> 00:16:55.467
So when the user logs in
like Chris said,

00:16:55.467 --> 00:16:58.067
they actually have a cookie
that gets sent to your domain.

00:16:58.067 --> 00:17:00.067
And it's called fcauth.

00:17:00.067 --> 00:17:03.267
Fcauth actually just has
a security token inside of it.

00:17:03.267 --> 00:17:05.834
And you can pass that
to an OpenSocial client library

00:17:05.834 --> 00:17:07.334
and make requests for data,

00:17:07.334 --> 00:17:09.267
do everything you would normally
be able to do

00:17:09.267 --> 00:17:10.667
with an OpenSocial site,

00:17:10.667 --> 00:17:14.234
so fetch people,
fetch app data,

00:17:14.234 --> 00:17:15.467
update app data,

00:17:15.467 --> 00:17:17.534
post activities,
et cetera.

00:17:17.534 --> 00:17:19.100
You can see
that the Fcauth token

00:17:19.100 --> 00:17:22.801
is really just a hash
of the user ID and the site ID,

00:17:22.801 --> 00:17:24.367
so it gives you a context
of a user

00:17:24.367 --> 00:17:27.267
on a specific site.

00:17:27.267 --> 00:17:32.067
Now if you take URLs like
/api/people/@me/@self,

00:17:32.067 --> 00:17:34.467
you can actually append
that fcauth token,

00:17:34.467 --> 00:17:37.634
that value to it, and then when
you make that REST request,

00:17:37.634 --> 00:17:40.868
you can actually get data
and perform activities

00:17:40.868 --> 00:17:43.434
as if you were the user
interacting on your site.

00:17:43.434 --> 00:17:45.934
So this is pretty powerful
because it lets you do things

00:17:45.934 --> 00:17:48.701
that you normally
wouldn't be able to do.

00:17:48.701 --> 00:17:49.901
Keep in mind, though,

00:17:49.901 --> 00:17:51.968
the user has full control
over this,

00:17:51.968 --> 00:17:53.467
so they have to join your site,

00:17:53.467 --> 00:17:55.133
they have to actually configure
their site

00:17:55.133 --> 00:17:56.534
to send activities, et cetera.

00:17:56.534 --> 00:17:59.434
So they do have control still.

00:17:59.434 --> 00:18:02.133
And Chris is now going
to show

00:18:02.133 --> 00:18:05.567
getting the fcauth token
and making some requests.

00:18:05.567 --> 00:18:06.667
Schalk: That's right.

00:18:06.667 --> 00:18:08.868
I get to be demo wagon,

00:18:08.868 --> 00:18:11.133
which is good because
we're actually going out

00:18:11.133 --> 00:18:14.367
to a live site, and the network
was actually causing problems.

00:18:14.367 --> 00:18:16.934
But fortunately a little
broadband card came in handy,

00:18:16.934 --> 00:18:18.634
so, anyway...

00:18:18.634 --> 00:18:21.033
so basically you want me
to show the fcauth token,

00:18:21.033 --> 00:18:22.634
and I can quickly sign out

00:18:22.634 --> 00:18:26.534
just to kind of explain
the process.

00:18:26.534 --> 00:18:28.200
But as you log in,

00:18:28.200 --> 00:18:30.000
what I've done
in my implementation,

00:18:30.000 --> 00:18:31.167
I've created a servlet

00:18:31.167 --> 00:18:33.968
that essentially processes
the log-in.

00:18:33.968 --> 00:18:38.701
And as I switch over into
my Eclipse environment here,

00:18:38.701 --> 00:18:40.901
I have essentially
the servlet right here

00:18:40.901 --> 00:18:42.801
process [indistinct] log-in.

00:18:42.801 --> 00:18:44.234
And all that does
is that just goes

00:18:44.234 --> 00:18:46.834
and fetches the cookie off
of the browser,

00:18:46.834 --> 00:18:48.901
and then once
I've obtained that,

00:18:48.901 --> 00:18:51.534
I set that up
as an attribute

00:18:51.534 --> 00:18:53.968
for my OpenSocial
client library.

00:18:53.968 --> 00:18:57.400
And so what that does is that
essentially makes it available,

00:18:57.400 --> 00:18:59.367
so then when I make
any future requests

00:18:59.367 --> 00:19:01.801
to this OpenSocial container,

00:19:01.801 --> 00:19:03.100
which is Google Friend Connect,

00:19:03.100 --> 00:19:05.501
I can very easily fetch
all the data

00:19:05.501 --> 00:19:06.801
that Arne was just referring to.

00:19:06.801 --> 00:19:07.868
So that's all I do.

00:19:07.868 --> 00:19:09.667
Once I obtain the cookie,

00:19:09.667 --> 00:19:12.501
I set some of these attributes
onto the session,

00:19:12.501 --> 00:19:14.300
and then from then on,
I can create pages,

00:19:14.300 --> 00:19:15.567
do whatever I want,

00:19:15.567 --> 00:19:17.400
access social data,
get my friends' data,

00:19:17.400 --> 00:19:19.567
get thumbnail, URL,
all that kind of stuff.

00:19:19.567 --> 00:19:21.701
It's all accessible
in my Java Web application.

00:19:21.701 --> 00:19:23.000
Okay?

00:19:23.000 --> 00:19:24.267
So I don't know
if there's any other things

00:19:24.267 --> 00:19:25.801
I want to show,
but basically I'm just using

00:19:25.801 --> 00:19:27.567
a servlet,
and then once I obtain

00:19:27.567 --> 00:19:29.000
my information,

00:19:29.000 --> 00:19:30.000
I just send it right off

00:19:30.000 --> 00:19:31.634
to the Plane list.

00:19:31.634 --> 00:19:33.934
Now I do have, like,
a little bit of code here.

00:19:33.934 --> 00:19:35.901
Like, for example,
this method,

00:19:35.901 --> 00:19:37.934
I'm just placing that
onto the session,

00:19:37.934 --> 00:19:39.834
so that's
my profile information.

00:19:39.834 --> 00:19:42.200
And then from then on,
I can take care of it.

00:19:42.200 --> 00:19:44.200
Now the other thing
that is very important

00:19:44.200 --> 00:19:46.567
is, like, if I'm a brand-new
user and I've just signed

00:19:46.567 --> 00:19:47.634
into this application,

00:19:47.634 --> 00:19:49.601
I actually go through
and check to see

00:19:49.601 --> 00:19:52.534
if that brand-new Friend Connect
user exists or not.

00:19:52.534 --> 00:19:54.567
And if he doesn't, I go ahead
and create a brand-new one.

00:19:54.567 --> 00:19:56.868
So this actually gets
to the really important point

00:19:56.868 --> 00:19:59.167
that, with Google Friend Connect
server-side integration,

00:19:59.167 --> 00:20:02.033
you can actually have
an existing user registry,

00:20:02.033 --> 00:20:05.067
as well as plug-in
Google Friend Connect,

00:20:05.067 --> 00:20:06.868
and so kind of--you can have
the best of both worlds.

00:20:06.868 --> 00:20:08.834
So if you recall
the sign-in page

00:20:08.834 --> 00:20:10.100
that I had earlier,

00:20:10.100 --> 00:20:12.400
you can have both of them
side by side

00:20:12.400 --> 00:20:14.968
and have 'em work
in a somewhat equal experience.

00:20:14.968 --> 00:20:17.767
But when you log in through
the traditional registry,

00:20:17.767 --> 00:20:20.400
you just won't have access
to the social features.

00:20:20.400 --> 00:20:21.868
But if you come in
through Friend Connect,

00:20:21.868 --> 00:20:24.667
because you have access now
and declared

00:20:24.667 --> 00:20:26.334
that I am a Friend Connect user,

00:20:26.334 --> 00:20:27.434
you are setting that token.

00:20:27.434 --> 00:20:29.234
Then you can actually inject

00:20:29.234 --> 00:20:31.000
a whole bunch
of really cool features

00:20:31.000 --> 00:20:33.100
into your Web application.

00:20:33.100 --> 00:20:35.434
Social features, that is.

00:20:35.434 --> 00:20:37.300
Okay.
Switch back.

00:20:37.300 --> 00:20:40.400
Roomann-Kurrik:
So now that you're getting data,

00:20:40.400 --> 00:20:41.801
how do you store it?

00:20:41.801 --> 00:20:44.767
Basically, what I'll cover
is what kind of data

00:20:44.767 --> 00:20:50.200
you'll be able to obtain
using the Friend Connect APIs.

00:20:50.200 --> 00:20:51.601
And then I'll give you
some advice

00:20:51.601 --> 00:20:54.467
about how you should structure
your data store.

00:20:54.467 --> 00:20:56.300
To do this, we have to talk
about the different types

00:20:56.300 --> 00:20:57.968
of users who might be accessing
your site,

00:20:57.968 --> 00:21:00.968
so, like Chris said, you can
have locally-registered users.

00:21:00.968 --> 00:21:03.200
These are the people that filled
out your registration form

00:21:03.200 --> 00:21:05.400
and have native accounts
on your system.

00:21:05.400 --> 00:21:07.133
They might also have
additional data,

00:21:07.133 --> 00:21:09.067
such as site-specific
profile data.

00:21:09.067 --> 00:21:11.467
For example,
what's my favorite airplane?

00:21:11.467 --> 00:21:13.934
In terms
of the Plane Crazy site.

00:21:13.934 --> 00:21:15.367
They probably don't have
friend data.

00:21:15.367 --> 00:21:18.567
Friend data--friend models
are usually difficult

00:21:18.567 --> 00:21:22.567
to implement, so your site
probably doesn't have one.

00:21:22.567 --> 00:21:24.667
Google Friend Connect users,

00:21:24.667 --> 00:21:26.234
they live in the Cloud.

00:21:26.234 --> 00:21:29.601
Basically, they're
the aggregate set of users

00:21:29.601 --> 00:21:30.868
from all
the different social networks

00:21:30.868 --> 00:21:32.400
that Friend Connect supports.

00:21:32.400 --> 00:21:35.868
And they just basically come
down in a consistent format

00:21:35.868 --> 00:21:37.133
through the API.

00:21:37.133 --> 00:21:39.167
You get a common set
of profile fields,

00:21:39.167 --> 00:21:42.534
so you get a thumbnail URL,
you get a profile URL,

00:21:42.534 --> 00:21:45.000
you get
a little "About Me" snippet,

00:21:45.000 --> 00:21:46.267
just a small piece of text,

00:21:46.267 --> 00:21:47.834
and you get
some custom URLs

00:21:47.834 --> 00:21:48.868
that the user has defined.

00:21:48.868 --> 00:21:52.300
So, for example,
maybe their Blogger URL.

00:21:52.300 --> 00:21:54.033
Another important point
about this

00:21:54.033 --> 00:21:55.834
is that they bring
their friends with them.

00:21:55.834 --> 00:21:58.567
So the idea is, if
our Friend Connect is on a site,

00:21:58.567 --> 00:22:01.868
they have very easy access
to invite their friends.

00:22:01.868 --> 00:22:05.200
And, you know, word of mouth
and everything is good,

00:22:05.200 --> 00:22:07.734
so having Friend Connect users
come into your site

00:22:07.734 --> 00:22:12.901
will actually help, hopefully,
adoption.

00:22:12.901 --> 00:22:15.501
The interesting thing to note
about this, though,

00:22:15.501 --> 00:22:17.267
is that you can't store
this data forever.

00:22:17.267 --> 00:22:19.701
When a user lives in the Cloud,

00:22:19.701 --> 00:22:21.434
they might change
their profile information,

00:22:21.434 --> 00:22:23.100
they might change their URLs,
et cetera,

00:22:23.100 --> 00:22:25.167
when they're not logged
into your website,

00:22:25.167 --> 00:22:27.734
so you're not aware
of these changes.

00:22:27.734 --> 00:22:30.234
Basically, the smallest piece
of information

00:22:30.234 --> 00:22:31.567
that you can consistently store

00:22:31.567 --> 00:22:33.868
about a Friend Connect user
is just their ID number.

00:22:33.868 --> 00:22:35.667
That's not so bad
because you have access

00:22:35.667 --> 00:22:37.267
 to this information
whenever you want,

00:22:37.267 --> 00:22:38.434
so you can keep fetching it

00:22:38.434 --> 00:22:40.534
from the REST APIs.

00:22:40.534 --> 00:22:42.701
And you can obviously do
a little bit of caching

00:22:42.701 --> 00:22:45.167
and everything to speed up
your website,

00:22:45.167 --> 00:22:48.033
but keep in mind
that you only really have

00:22:48.033 --> 00:22:49.634
this one number.

00:22:49.634 --> 00:22:51.434
So when you're talking
or thinking about structuring

00:22:51.434 --> 00:22:54.267
your database, you probably have
a table like this.

00:22:54.267 --> 00:22:57.734
And on it is one set
of constantly incrementing IDs.

00:22:57.734 --> 00:22:59.701
You know,
that's your user ID number.

00:22:59.701 --> 00:23:02.701
After that
is a Google Friend Connect ID.

00:23:02.701 --> 00:23:04.434
So we just added
an extra column

00:23:04.434 --> 00:23:06.467
into this hypothetical example,

00:23:06.467 --> 00:23:09.400
and we're storing that Google
Friend Connect user ID.

00:23:09.400 --> 00:23:12.434
That way, we can look up a user
by either their local ID

00:23:12.434 --> 00:23:14.267
or the Google Friend Connect ID

00:23:14.267 --> 00:23:18.834
and pick the appropriate user
record according to that.

00:23:18.834 --> 00:23:21.267
Finally, we have a little bit
of site-specific data,

00:23:21.267 --> 00:23:22.734
so we have a user name.

00:23:22.734 --> 00:23:24.968
That's the user name
that someone registered with.

00:23:24.968 --> 00:23:26.934
So you can see that
there's actually a null entry

00:23:26.934 --> 00:23:28.834
in the second row.

00:23:28.834 --> 00:23:31.634
I'm sorry that the slide's
not very bolded here.

00:23:31.634 --> 00:23:35.200
But if someone comes
to your site and registers,

00:23:35.200 --> 00:23:36.667
they'll get a user ID.

00:23:36.667 --> 00:23:38.534
But if a Google Friend Connect
user comes in,

00:23:38.534 --> 00:23:40.467
they might not have one
because they never actually went

00:23:40.467 --> 00:23:41.968
through that registration flow.

00:23:41.968 --> 00:23:43.501
And then finally you see
a little bit

00:23:43.501 --> 00:23:45.634
of that site-specific data

00:23:45.634 --> 00:23:46.834
like I mentioned.

00:23:46.834 --> 00:23:50.234
Here is
the person's favorite airplane.

00:23:50.234 --> 00:23:53.667
So to show you
how we kind of build

00:23:53.667 --> 00:23:57.801
a "my favorite airplane"
functionality into Plane Crazy,

00:23:57.801 --> 00:23:59.467
Chris is going to do
another demo.

00:24:01.801 --> 00:24:03.934
Schalk: So as we were discussing

00:24:03.934 --> 00:24:06.868
what would be the best way
to kind of showcase this idea,

00:24:06.868 --> 00:24:08.534
the notion of, okay,
let's go ahead

00:24:08.534 --> 00:24:09.968
and select a favorite item here.

00:24:09.968 --> 00:24:11.167
And so in this case,

00:24:11.167 --> 00:24:12.734
if you notice the image there,

00:24:12.734 --> 00:24:14.133
there's a little check box.

00:24:14.133 --> 00:24:16.567
And what that means is that
this, for this particular user,

00:24:16.567 --> 00:24:20.334
the Cessna 172SP happens
to be my favorite airplane.

00:24:20.334 --> 00:24:21.968
And so I'm gonna go ahead
and change it.

00:24:21.968 --> 00:24:24.367
I'm gonna click on the 152
actually.

00:24:24.367 --> 00:24:26.701
Any pilots out there
in the audience?

00:24:26.701 --> 00:24:28.968
Awesome.
Oh, cool.

00:24:28.968 --> 00:24:30.868
We'll have to chat.

00:24:30.868 --> 00:24:32.834
So anyway what I've done here

00:24:32.834 --> 00:24:36.000
is I've curated essentially--

00:24:36.000 --> 00:24:38.667
it's a facsimile
of what Arne showed earlier

00:24:38.667 --> 00:24:39.801
with the Friend Connect gadget.

00:24:39.801 --> 00:24:41.133
But I've kind
of reprogrammed it,

00:24:41.133 --> 00:24:43.300
and now I have access
to the server-side.

00:24:43.300 --> 00:24:44.734
So in this case,

00:24:44.734 --> 00:24:46.234
when I click on this button,

00:24:46.234 --> 00:24:48.567
select this plane
as your favorite,

00:24:48.567 --> 00:24:50.968
what it's doing--
it's first updating

00:24:50.968 --> 00:24:53.868
a column in my table
for my user

00:24:53.868 --> 00:24:56.133
as I define
what my favorite plane is.

00:24:56.133 --> 00:24:58.634
Plus, I do some UI stuff
just to indicate that

00:24:58.634 --> 00:25:01.234
now the plane is my favorite.

00:25:01.234 --> 00:25:02.634
But on the server side,
I do something else.

00:25:02.634 --> 00:25:05.234
I also post an activity.

00:25:05.234 --> 00:25:07.934
So I have, like,
a special activity log locally

00:25:07.934 --> 00:25:10.934
But then I also go out
and use the Friend Connect API

00:25:10.934 --> 00:25:12.834
to post the activity to,
essentially,

00:25:12.834 --> 00:25:15.334
any connected network
that I specify for my account.

00:25:15.334 --> 00:25:17.734
So that's a really cool concept

00:25:17.734 --> 00:25:19.868
because I can then, you know,
essentially tell the world

00:25:19.868 --> 00:25:21.300
that I've selected
this airplane.

00:25:21.300 --> 00:25:23.567
And because Friend Connect uses
the OpenSocial standards

00:25:23.567 --> 00:25:25.367
for essentially connecting
to other servers,

00:25:25.367 --> 00:25:26.801
I can go
onto these other servers

00:25:26.801 --> 00:25:28.133
and see what's available.

00:25:28.133 --> 00:25:29.734
Let me show you a little bit
of the code,

00:25:29.734 --> 00:25:32.534
just so you get
a basic idea.

00:25:32.534 --> 00:25:34.100
So in this case
I just have, like,

00:25:34.100 --> 00:25:38.234
a simple servlet that processes
the form information.

00:25:38.234 --> 00:25:41.467
And as it goes through,
I have a bit of code

00:25:41.467 --> 00:25:43.434
that sets the favorite item.

00:25:43.434 --> 00:25:46.400
So in this case, I'm just using
the Java App Engine,

00:25:46.400 --> 00:25:49.100
but this could be, you know,
any server-side technology

00:25:49.100 --> 00:25:52.868
to store essentially
what the particular item

00:25:52.868 --> 00:25:54.067
that I selected
as my favorite.

00:25:54.067 --> 00:25:56.334
And that stores it
in my local registry.

00:25:56.334 --> 00:25:59.400
And then I have this little call
here, postGFCActivity,

00:25:59.400 --> 00:26:02.067
and all that does is
that sets up my call

00:26:02.067 --> 00:26:03.400
out to OpenSocial,

00:26:03.400 --> 00:26:07.667
and I call createActivity
off of essentially

00:26:07.667 --> 00:26:09.501
the client object,
which is made available

00:26:09.501 --> 00:26:11.567
through the OpenSocial
Java client library.

00:26:11.567 --> 00:26:13.133
And once I fire that off,

00:26:13.133 --> 00:26:16.100
that actually gets--
what's the word?

00:26:16.100 --> 00:26:17.400
I keep thinking--

00:26:17.400 --> 00:26:19.133
delegated
or essentially propagated out

00:26:19.133 --> 00:26:21.100
to other social networks.

00:26:21.100 --> 00:26:24.734
And I'll see also that, if
I click on my own profile here,

00:26:24.734 --> 00:26:26.934
I can see,
even in my own activities,

00:26:26.934 --> 00:26:29.834
that I've actually launched out

00:26:29.834 --> 00:26:35.067
and declared the Cessna 152
as my favorite activity--

00:26:35.067 --> 00:26:36.767
as my favorite item
in this case.

00:26:36.767 --> 00:26:37.868
So it's a little bit of both.

00:26:37.868 --> 00:26:39.767
I'm doing local activity
generation.

00:26:39.767 --> 00:26:41.100
I'm keeping a log of it.

00:26:41.100 --> 00:26:44.234
I can display
the local log right there.

00:26:44.234 --> 00:26:46.400
But I can also post it
out to the world

00:26:46.400 --> 00:26:47.434
and tell the world how it works.

00:26:47.434 --> 00:26:51.100
That it?

00:26:51.100 --> 00:26:54.534
Roomann-Kurrik:
So now that we have the idea

00:26:54.534 --> 00:26:55.968
of how we're structuring
our data store,

00:26:55.968 --> 00:26:59.067
we have the column
of user IDs,

00:26:59.067 --> 00:27:00.567
we have the column
of Google Friend Connect IDs,

00:27:00.567 --> 00:27:02.200
let's just run
through a little flowchart

00:27:02.200 --> 00:27:04.734
of how do we pick
the correct user?

00:27:04.734 --> 00:27:07.834
And the first thing we do
is, upon a page load

00:27:07.834 --> 00:27:09.501
to our authorization page

00:27:09.501 --> 00:27:11.267
or our log-in page
or whatever,

00:27:11.267 --> 00:27:13.868
we check for the presence
of this fcauth cookie.

00:27:13.868 --> 00:27:15.667
Now if it's not there,

00:27:15.667 --> 00:27:17.334
we basically look and see

00:27:17.334 --> 00:27:18.868
if log-in credentials
are present.

00:27:18.868 --> 00:27:20.601
Did someone access
this page

00:27:20.601 --> 00:27:22.701
with their, you know, user name
and password

00:27:22.701 --> 00:27:24.534
from a foreign post?

00:27:24.534 --> 00:27:28.200
If they did,
then we select from users,

00:27:28.200 --> 00:27:32.033
where the username is whatever,
and match the password.

00:27:32.033 --> 00:27:33.734
If we actually get
a user back from that way,

00:27:33.734 --> 00:27:34.868
then we have a local user.

00:27:34.868 --> 00:27:36.267
We can use this record,

00:27:36.267 --> 00:27:39.434
you know, key data off of it
locally.

00:27:39.434 --> 00:27:41.167
If the user credentials
are not present,

00:27:41.167 --> 00:27:42.400
then the user's not logged in.

00:27:42.400 --> 00:27:44.467
Then we just redirect them
back to the log-in page,

00:27:44.467 --> 00:27:45.868
et cetera.

00:27:45.868 --> 00:27:47.334
Now the interesting thing
happens

00:27:47.334 --> 00:27:49.300
is when we actually do have
an fcauth cookie

00:27:49.300 --> 00:27:51.934
because what we do
is just a REST fetch

00:27:51.934 --> 00:27:57.067
with a cookie
and then find out who @me is.

00:27:57.067 --> 00:27:58.534
Then we sele--

00:27:58.534 --> 00:28:01.467
if a record actually
comes back down the wire,

00:28:01.467 --> 00:28:03.834
basically we look
at the Google Friend Connect ID

00:28:03.834 --> 00:28:06.868
that comes back, and we look
into our users table again

00:28:06.868 --> 00:28:08.567
to see whether there's a user

00:28:08.567 --> 00:28:11.901
with the corresponding
Google Friend Connect ID.

00:28:11.901 --> 00:28:14.467
If there is, then that person's
already visited our site.

00:28:14.467 --> 00:28:16.567
They're probably already
interacted somehow,

00:28:16.567 --> 00:28:17.701
and we have their record.

00:28:17.701 --> 00:28:19.067
We can log 'em in.

00:28:19.067 --> 00:28:20.467
But if they're not,
like Chris said,

00:28:20.467 --> 00:28:22.901
the really interesting thing
is we just create a user,

00:28:22.901 --> 00:28:24.434
we just put in an extra record,

00:28:24.434 --> 00:28:27.167
we attach the Google
Friend Connect ID into that,

00:28:27.167 --> 00:28:29.567
and then it's basically as if
they had already registered,

00:28:29.567 --> 00:28:31.567
so they didn't actually have
to fill out any sort of form.

00:28:31.567 --> 00:28:35.801
The process is the same as--
the log-in process is the same

00:28:35.801 --> 00:28:39.367
the first time
as it is every time.

00:28:39.367 --> 00:28:43.133
So to finish up the IN section,

00:28:43.133 --> 00:28:44.701
the goal was to allow
a Friend Connect user

00:28:44.701 --> 00:28:47.100
to log into the site as if
they were a registered user.

00:28:47.100 --> 00:28:50.234
Hopefully, we showed you
that we let users log in

00:28:50.234 --> 00:28:51.334
with the JavaScript button,

00:28:51.334 --> 00:28:53.234
fetch data via social REST calls

00:28:53.234 --> 00:28:55.934
to the OpenSocial
compatible endpoint.

00:28:55.934 --> 00:28:58.067
We adapted our data store
to store

00:28:58.067 --> 00:29:01.701
some ID information about Google
Friend Connect users,

00:29:01.701 --> 00:29:03.367
and we created
an authorization flow

00:29:03.367 --> 00:29:05.267
that let us pick
the corresponding row

00:29:05.267 --> 00:29:06.567
out of our database.

00:29:06.567 --> 00:29:07.968
Finally, we added--

00:29:07.968 --> 00:29:10.868
you can add a little bit
of caching for performance.

00:29:10.868 --> 00:29:13.067
Now it's the MIDDLE.

00:29:13.067 --> 00:29:15.801
How do we make our site
more social?

00:29:15.801 --> 00:29:17.200
And we have two goals here.

00:29:17.200 --> 00:29:19.701
Let's use social signals
to highlight important content,

00:29:19.701 --> 00:29:21.934
so let users on your site
discover content

00:29:21.934 --> 00:29:24.267
that they wouldn't
normally discover.

00:29:24.267 --> 00:29:26.501
And then we use content
to make new social connections,

00:29:26.501 --> 00:29:28.601
so let people make new friends
on your site

00:29:28.601 --> 00:29:31.100
in the context
of the data.

00:29:31.100 --> 00:29:33.400
We're gonna do two simple steps:

00:29:33.400 --> 00:29:34.667
add social chrome to our site,

00:29:34.667 --> 00:29:36.234
and then we're gonna restructure
our views

00:29:36.234 --> 00:29:37.868
to take advantage of extra data.

00:29:37.868 --> 00:29:40.634
Social Chrome is actually
a very simple integration.

00:29:40.634 --> 00:29:42.968
For example, Friend Connect
has the idea

00:29:42.968 --> 00:29:44.767
that users have
their own profile.

00:29:44.767 --> 00:29:46.934
So by adding
this canvas.html file,

00:29:46.934 --> 00:29:48.067
one of the two files
we downloaded

00:29:48.067 --> 00:29:49.534
when we set up the site,

00:29:49.534 --> 00:29:52.167
you can actually render
a user's profile

00:29:52.167 --> 00:29:55.334
for any Friend Connect user
on your website.

00:29:55.334 --> 00:29:56.868
This is certainly customizable,

00:29:56.868 --> 00:29:59.834
so here's an example
of two profile pages

00:29:59.834 --> 00:30:02.501
for the same user
on two different sites.

00:30:02.501 --> 00:30:05.734
It's customized to the UI
of the site itself.

00:30:05.734 --> 00:30:08.267
What Chris was talking about,

00:30:08.267 --> 00:30:11.434
we having the registration
or log-in page,

00:30:11.434 --> 00:30:14.100
promoting signing in
with Google Friend Connect

00:30:14.100 --> 00:30:15.567
is pretty important.

00:30:15.567 --> 00:30:18.501
Give people the alternative of
filling out a registration form

00:30:18.501 --> 00:30:20.467
by, "Hey, just click
this button."

00:30:20.467 --> 00:30:22.968
So that actually
kind of makes it stand out.

00:30:22.968 --> 00:30:26.701
It's a first-class citizen
on your website.

00:30:26.701 --> 00:30:29.300
We can restructure our UI
a little bit

00:30:29.300 --> 00:30:30.767
to take advantage
of social signals,

00:30:30.767 --> 00:30:33.367
so depending on whether
the user's registered locally,

00:30:33.367 --> 00:30:35.067
we'll just have
a Sign out button,

00:30:35.067 --> 00:30:37.934
as you can see
on the top left corner there.

00:30:37.934 --> 00:30:41.000
Otherwise...

00:30:41.000 --> 00:30:44.434
I'm sorry. In addition to that,
we also show a little bit

00:30:44.434 --> 00:30:46.300
of UI about,
"Hey, we have this thing

00:30:46.300 --> 00:30:47.300
"called Google Friend Connect.

00:30:47.300 --> 00:30:48.534
You can sign in
with your friends."

00:30:48.534 --> 00:30:51.467
I'm sorry that this slide
is pretty small,

00:30:51.467 --> 00:30:54.734
but basically it says we have
this ability for you to log in,

00:30:54.734 --> 00:30:56.300
get your friends attached
to your profile,

00:30:56.300 --> 00:30:58.133
and poke this button
and you can do that.

00:30:58.133 --> 00:31:00.133
So we actually still allow
the option of signing

00:31:00.133 --> 00:31:02.868
with Friend Connect, even though
they're signed in locally.

00:31:02.868 --> 00:31:05.400
Now the next example
to the right of that

00:31:05.400 --> 00:31:08.267
is a registered user with
a Google Friend Connect account.

00:31:08.267 --> 00:31:09.567
Again, they're logged in.

00:31:09.567 --> 00:31:11.934
They have a Google
Friend Connect account.

00:31:11.934 --> 00:31:13.067
But for whatever reason,

00:31:13.067 --> 00:31:14.601
you don't have an fcauth cookie.

00:31:14.601 --> 00:31:16.734
So we're actually showing
an extra log-in link,

00:31:16.734 --> 00:31:19.100
and this one, this time,
it's just another log-in link.

00:31:19.100 --> 00:31:20.234
And they can click that

00:31:20.234 --> 00:31:22.667
and actually just enable
their account.

00:31:22.667 --> 00:31:26.968
And this lets you fetch friends,
do social posts of activity

00:31:26.968 --> 00:31:28.801
and data, et cetera.

00:31:28.801 --> 00:31:31.901
So the prompt here is actually,
"Hey, you're logged

00:31:31.901 --> 00:31:33.501
"out of Friend Connect,
just click this button,

00:31:33.501 --> 00:31:35.200
"and you'll be logged in,
and you'll have access

00:31:35.200 --> 00:31:37.400
to this extra functionality
on our website."

00:31:37.400 --> 00:31:40.367
Finally, at the very bottom,
is a Google Friend Connect user.

00:31:40.367 --> 00:31:41.834
We've just added
a few extra links,

00:31:41.834 --> 00:31:43.467
and these are links
that are provided

00:31:43.467 --> 00:31:45.300
by the Friend Connect APIs.

00:31:45.300 --> 00:31:47.968
But we don't really prompt them
'cause now we have access

00:31:47.968 --> 00:31:52.534
to do anything we want
with this kind of user.

00:31:52.534 --> 00:31:56.367
So talking about structuring
these buttons and log-ins,

00:31:56.367 --> 00:31:58.601
you really want to give
incentives for logging in.

00:31:58.601 --> 00:32:02.567
So you can--next to a piece
of content on your website,

00:32:02.567 --> 00:32:03.934
you should give prompts,

00:32:03.934 --> 00:32:05.334
like, "Share this
with your friends.

00:32:05.334 --> 00:32:06.767
Log in
with Google Friend Connect."

00:32:06.767 --> 00:32:08.868
Or "See what your friends
are doing." Et cetera.

00:32:08.868 --> 00:32:11.968
And what's good
about the sharing

00:32:11.968 --> 00:32:13.801
is when you integrate it
into your back end,

00:32:13.801 --> 00:32:16.634
it's actually visible
to all users on your site too,

00:32:16.634 --> 00:32:19.701
so, when you're actually
floating data on your views,

00:32:19.701 --> 00:32:23.601
it will actually show you
how even users

00:32:23.601 --> 00:32:25.000
who are not
Friend Connect-enabled

00:32:25.000 --> 00:32:26.701
can actually see
that there's interactions

00:32:26.701 --> 00:32:28.033
taking place
on your website,

00:32:28.033 --> 00:32:30.100
and that might incentivize them
to log in.

00:32:30.100 --> 00:32:31.968
And logging in,
like we talked about,

00:32:31.968 --> 00:32:34.067
is pretty good
because it'll help them

00:32:34.067 --> 00:32:36.767
bring their friends
into your site as well.

00:32:36.767 --> 00:32:40.100
So, for example,
here's a simple social view,

00:32:40.100 --> 00:32:44.767
basically showing what users
are on the site.

00:32:44.767 --> 00:32:48.534
It's one of the easiest views
to implement.

00:32:48.534 --> 00:32:51.133
Basically, you scroll
over the recent updates

00:32:51.133 --> 00:32:52.133
on the list.

00:32:52.133 --> 00:32:53.701
For example,
here on Plane Crazy,

00:32:53.701 --> 00:32:55.934
we're showing the recent
favorites of someone

00:32:55.934 --> 00:32:57.601
on the site, so when
someone goes through

00:32:57.601 --> 00:32:58.834
and favorites something
on the site,

00:32:58.834 --> 00:33:01.534
here's a hypothetical view
of, basically,

00:33:01.534 --> 00:33:04.501
you know, here's
the last ten updates.

00:33:04.501 --> 00:33:06.434
It's pretty interesting.

00:33:06.434 --> 00:33:07.534
It's not that interesting.

00:33:07.534 --> 00:33:09.567
But it does benefit social users

00:33:09.567 --> 00:33:10.901
and Friend Connect users--

00:33:10.901 --> 00:33:12.434
I'm sorry, Friend Connect users

00:33:12.434 --> 00:33:15.167
and registered users the same.

00:33:15.167 --> 00:33:18.000
In taking this in the context
of different sites,

00:33:18.000 --> 00:33:21.400
maybe you want to float top
scores, highest-rated players,

00:33:21.400 --> 00:33:24.868
recent updates, et cetera.

00:33:24.868 --> 00:33:28.834
Now another interesting view

00:33:28.834 --> 00:33:31.000
that you can surface
on your website--

00:33:31.000 --> 00:33:33.100
and this is mostly to benefit
Friend Connect users--

00:33:33.100 --> 00:33:36.133
is show them what their friends
have been doing on the website.

00:33:36.133 --> 00:33:37.133
So, for example,

00:33:37.133 --> 00:33:38.567
here's a hypothetical view

00:33:38.567 --> 00:33:40.200
of the Plane Crazy site

00:33:40.200 --> 00:33:42.267
where it shows what your friends
have favorited.

00:33:42.267 --> 00:33:46.567
So here Lane, Steph, and Dan
like the Cirrus SR-22,

00:33:46.567 --> 00:33:49.133
and Ryan and Patrick
like the Piper Warrior.

00:33:49.133 --> 00:33:51.868
So now I can see, oh,
these friends of mine

00:33:51.868 --> 00:33:53.834
have different tastes,
but I kind of get

00:33:53.834 --> 00:33:58.367
some interesting signals
to drive me to these two planes.

00:33:58.367 --> 00:33:59.667
Again, taking this
in the context

00:33:59.667 --> 00:34:01.033
of maybe a different type
of site,

00:34:01.033 --> 00:34:04.000
you can do things like,
"Are my friends playing

00:34:04.000 --> 00:34:05.501
"any sort of game?

00:34:05.501 --> 00:34:06.567
How do I rank
compared to my friends?"

00:34:06.567 --> 00:34:07.634
Et cetera.

00:34:07.634 --> 00:34:08.634
I'm sure your imagination

00:34:08.634 --> 00:34:11.667
can come up
with some alternatives.

00:34:11.667 --> 00:34:16.467
So you want to show "Building
my friends' favorite airplanes"?

00:34:16.467 --> 00:34:19.868
Schalk: So in this case,
implementing, like, you know,

00:34:19.868 --> 00:34:22.901
friend stuff is simply a query
in this case.

00:34:22.901 --> 00:34:24.634
Because I have all the data
stored locally.

00:34:24.634 --> 00:34:25.834
So if I wanted to say,

00:34:25.834 --> 00:34:27.267
"What are
my friends' favorite planes?"

00:34:27.267 --> 00:34:29.400
I'll just show you real quickly.

00:34:29.400 --> 00:34:30.534
I'm just driving a query,

00:34:30.534 --> 00:34:33.167
it pulls it
out of the data store,

00:34:33.167 --> 00:34:36.434
and, essentially, these are
my friends' favorite planes.

00:34:36.434 --> 00:34:40.667
And so, in this case,
Arne's plane is Cessna 172SP.

00:34:40.667 --> 00:34:46.434
How's it work? Let me
just show you very quickly.

00:34:46.434 --> 00:34:50.501
And this is just
a quick JSP example.

00:34:50.501 --> 00:34:53.133
I do probably have a little bit
more logic inside the JSP

00:34:53.133 --> 00:34:54.534
than I'm comfortable with.

00:34:54.534 --> 00:34:56.300
But it's mostly
for demo purposes.

00:34:56.300 --> 00:34:59.133
But in this case all I'm doing
is I'm making a call

00:34:59.133 --> 00:35:01.634
out to the data store--

00:35:01.634 --> 00:35:03.601
in this case, Java App Engine--

00:35:03.601 --> 00:35:05.968
and just pulling back
essentially a list of,

00:35:05.968 --> 00:35:07.334
well, first I fetch my friends.

00:35:07.334 --> 00:35:09.467
So I know what list
of my friends are,

00:35:09.467 --> 00:35:12.334
and then from that friend list,
I then go through

00:35:12.334 --> 00:35:15.000
and compare, you know,
which friends actually have

00:35:15.000 --> 00:35:16.601
the same favorite airplane.

00:35:16.601 --> 00:35:17.667
And that's all they do.

00:35:17.667 --> 00:35:20.200
Then render it out
to the page there.

00:35:20.200 --> 00:35:22.234
I can fire off other queries
as well,

00:35:22.234 --> 00:35:24.133
so, friends, favorite planes
in general.

00:35:24.133 --> 00:35:26.601
So that just goes back
to my user registry,

00:35:26.601 --> 00:35:29.033
my table of different users,

00:35:29.033 --> 00:35:31.400
and just displays
what specifically

00:35:31.400 --> 00:35:33.334
is their favorite airplane.

00:35:33.334 --> 00:35:35.267
Okay?

00:35:35.267 --> 00:35:36.901
I think I clicked on that twice.

00:35:36.901 --> 00:35:38.200
Anyway, basically,
all I'm doing

00:35:38.200 --> 00:35:39.400
is firing off different queries

00:35:39.400 --> 00:35:40.701
and pulling it directly

00:35:40.701 --> 00:35:43.434
from my local data store.

00:35:43.434 --> 00:35:46.434
And I'm comparing that
with the same information

00:35:46.434 --> 00:35:47.534
that I'm getting.

00:35:47.534 --> 00:35:49.234
Oh, in this case,
we probably need

00:35:49.234 --> 00:35:50.300
to put more friends on there,

00:35:50.300 --> 00:35:51.968
but you get the idea.

00:35:57.367 --> 00:35:58.667
Roomann-Kurrik:
Switching back here,

00:35:58.667 --> 00:36:00.067
let's talk
about some more advanced

00:36:00.067 --> 00:36:02.601
or intermediate types of views.

00:36:02.601 --> 00:36:05.367
Keep in mind
that data in the context

00:36:05.367 --> 00:36:07.501
of the site
is actually really valuable,

00:36:07.501 --> 00:36:09.634
so when you're showing
a list of planes,

00:36:09.634 --> 00:36:12.000
showing which friends
like that plane

00:36:12.000 --> 00:36:15.567
next to that is a pretty
nice piece of functionality.

00:36:15.567 --> 00:36:18.100
And it kind of helps users
who are browsing

00:36:18.100 --> 00:36:21.000
around your site to actually see
pieces of content

00:36:21.000 --> 00:36:22.834
that might be more interesting
than other pieces.

00:36:22.834 --> 00:36:25.767
So, for example,
on the Plane Crazy site,

00:36:25.767 --> 00:36:27.234
there's a Cessna 172,

00:36:27.234 --> 00:36:29.934
and it shows, "Hey, three
of my friends like this plane.

00:36:29.934 --> 00:36:31.667
"Well, I'm going to be
more inclined to click in

00:36:31.667 --> 00:36:32.734
"and find out more about it.

00:36:32.734 --> 00:36:34.634
Why do they like it so much?"

00:36:34.634 --> 00:36:36.968
Obviously, you can think
about how this applies

00:36:36.968 --> 00:36:40.200
to other sites too,
so, if you have a guitar site,

00:36:40.200 --> 00:36:42.367
then maybe some of your friends
really like playing

00:36:42.367 --> 00:36:44.267
this guitar or own this guitar.

00:36:44.267 --> 00:36:46.567
If you're doing
a restaurant review site,

00:36:46.567 --> 00:36:49.033
then, "Some of your friends gave
this restaurant a poor review."

00:36:49.033 --> 00:36:52.100
So the signals
actually help users decide

00:36:52.100 --> 00:36:55.834
what content's important,
what content isn't important.

00:36:55.834 --> 00:36:57.634
To take that one step further,

00:36:57.634 --> 00:37:01.434
we can actually make social data
available

00:37:01.434 --> 00:37:03.601
that's not part
of your friends circle.

00:37:03.601 --> 00:37:05.934
So when you're actually looking
at a plane,

00:37:05.934 --> 00:37:08.334
if you were to see, "Hey, look,
there's five people

00:37:08.334 --> 00:37:11.634
that I don't know that actually
really like this plane,"

00:37:11.634 --> 00:37:14.133
and you actually got the context
of a discussion going on

00:37:14.133 --> 00:37:15.634
about why they like this plane,

00:37:15.634 --> 00:37:18.901
all of a sudden your site
becomes way more valuable.

00:37:18.901 --> 00:37:20.801
If you actually know
that you can go to your site

00:37:20.801 --> 00:37:23.334
to talk with people about planes
and find out,

00:37:23.334 --> 00:37:24.367
"Hey, is this a good plane?

00:37:24.367 --> 00:37:25.868
Do I want to try
to fly this?"

00:37:25.868 --> 00:37:31.467
or whatever, then the experience
becomes much more valuable

00:37:31.467 --> 00:37:34.167
in the sense that people
can only do that on your site.

00:37:34.167 --> 00:37:36.767
Your site becomes
the destination for plane data.

00:37:36.767 --> 00:37:38.601
And the good thing
about this is,

00:37:38.601 --> 00:37:40.467
because of Friend Connect's
friending model,

00:37:40.467 --> 00:37:43.400
you can actually find out
people who have similar tastes

00:37:43.400 --> 00:37:45.968
and interests
on your site and befriend them.

00:37:45.968 --> 00:37:49.334
You can actually make
new friends and contacts

00:37:49.334 --> 00:37:51.968
through the website.

00:37:51.968 --> 00:37:53.367
So do you want to show--

00:37:53.367 --> 00:37:55.467
Schalk: I think I already showed
this next thing,

00:37:55.467 --> 00:37:59.434
but if there's anything else
you want to cover on that.

00:37:59.434 --> 00:38:01.901
Basically, I think I already
showed the advanced social views

00:38:01.901 --> 00:38:04.834
where users who have already
favored this plane.

00:38:04.834 --> 00:38:07.400
But, basically, clicking--

00:38:07.400 --> 00:38:10.067
and like I said, the
implementation was quite easy

00:38:10.067 --> 00:38:11.501
once I have
the data stored locally.

00:38:11.501 --> 00:38:12.901
It was just a matter
of fetching my friends.

00:38:12.901 --> 00:38:16.901
Oh, I need to actually have
some more data in there,

00:38:16.901 --> 00:38:18.267
but, basically,
you get the idea.

00:38:18.267 --> 00:38:20.701
I'm just fetching
from a local table

00:38:20.701 --> 00:38:22.901
and pulling out
and rendering the data.

00:38:22.901 --> 00:38:23.968
Roomann-Kurrik:
So it's simple, right?

00:38:23.968 --> 00:38:27.133
Schalk: Mm-hmm.

00:38:27.133 --> 00:38:28.501
Roomann-Kurrik:
So to summarize,

00:38:28.501 --> 00:38:30.934
basically what we did
was we used social signals

00:38:30.934 --> 00:38:32.667
to direct users
to appropriate content.

00:38:32.667 --> 00:38:36.267
Again, we showed, you know,
socially what content

00:38:36.267 --> 00:38:38.267
might be interesting,
and then finally,

00:38:38.267 --> 00:38:41.467
we allow content to dictate
relationships on our site.

00:38:41.467 --> 00:38:44.133
Something that Friend Connect's
really great at.

00:38:44.133 --> 00:38:47.000
To do this, we made social users
first-class citizens.

00:38:47.000 --> 00:38:48.300
We gave them their own UI.

00:38:48.300 --> 00:38:49.767
We gave them log-in buttons

00:38:49.767 --> 00:38:53.000
that were on the same level
as normal log-in buttons.

00:38:53.000 --> 00:38:54.834
And we also changed
their data views,

00:38:54.834 --> 00:38:56.334
so we actually showed data

00:38:56.334 --> 00:39:00.467
that displayed activities
of people working on your site,

00:39:00.467 --> 00:39:02.968
that we put friend data
into content,

00:39:02.968 --> 00:39:04.734
and then we allowed a discussion
to happen

00:39:04.734 --> 00:39:07.300
around the content
to allow users to interact

00:39:07.300 --> 00:39:10.067
with each other.

00:39:10.067 --> 00:39:11.400
The final part
of the presentation

00:39:11.400 --> 00:39:12.434
is the OUTs, right?

00:39:12.434 --> 00:39:14.801
How do we get data
out of our site?

00:39:14.801 --> 00:39:17.400
And the goal here
is to let users share

00:39:17.400 --> 00:39:19.033
their experiences
on your site

00:39:19.033 --> 00:39:20.567
with the rest of the Web.

00:39:20.567 --> 00:39:23.367
There's two major areas here

00:39:23.367 --> 00:39:25.033
where we can actually improve
the site.

00:39:25.033 --> 00:39:27.868
One is invites.
Another is activity streams.

00:39:27.868 --> 00:39:31.067
So invites is actually part
of the Friend Connect UI

00:39:31.067 --> 00:39:32.100
that's built in.

00:39:32.100 --> 00:39:33.334
It's very easy to do.

00:39:33.334 --> 00:39:35.334
You basically just render
one single link,

00:39:35.334 --> 00:39:36.868
and a pop-up will come in

00:39:36.868 --> 00:39:41.200
and let a currently logged-in
user invite their friends

00:39:41.200 --> 00:39:42.767
to come join the site.

00:39:42.767 --> 00:39:44.767
You can actually see
that they have

00:39:44.767 --> 00:39:46.300
a kind of sharing tab,

00:39:46.300 --> 00:39:48.300
which lets you share
the site data

00:39:48.300 --> 00:39:51.033
with some of the most popular
social websites.

00:39:51.033 --> 00:39:56.033
Listed up here is MySpace,
twitter, Delicious, Digg.

00:39:56.033 --> 00:39:58.367
Basically, if people have
an interesting time

00:39:58.367 --> 00:40:00.400
on your site, they're gonna want
to talk about it.

00:40:00.400 --> 00:40:02.701
And Friend Connect gives you
a really simple way

00:40:02.701 --> 00:40:06.067
to actually post data
back out to all of these sites.

00:40:06.067 --> 00:40:08.367
In fact, it's one line of code.

00:40:08.367 --> 00:40:09.767
The deeper integration, though,

00:40:09.767 --> 00:40:11.200
is activity streams,

00:40:11.200 --> 00:40:13.901
so, basically, most social
networks have the idea

00:40:13.901 --> 00:40:15.434
of a stream of updates

00:40:15.434 --> 00:40:18.634
that its users have been doing,

00:40:18.634 --> 00:40:21.767
and when the user logs in,
they get an updated view

00:40:21.767 --> 00:40:23.234
of what their friends
have been doing.

00:40:23.234 --> 00:40:25.167
Friend Connect actually
gives you access to write

00:40:25.167 --> 00:40:26.634
to some of these streams.

00:40:26.634 --> 00:40:29.567
So what it does is sit
between you having to make

00:40:29.567 --> 00:40:32.133
a call to each social network
that your users are on,

00:40:32.133 --> 00:40:34.767
and you basically send
an activity to one endpoint,

00:40:34.767 --> 00:40:36.801
and depending
on the users' configuration,

00:40:36.801 --> 00:40:38.067
they can actually
post activities

00:40:38.067 --> 00:40:40.734
out to several different sites.

00:40:40.734 --> 00:40:43.367
Naturally, this depends
on user permissions, though,

00:40:43.367 --> 00:40:46.200
because they don't want
activities going out,

00:40:46.200 --> 00:40:47.634
they can turn that off.

00:40:47.634 --> 00:40:49.367
Now the great thing
about this

00:40:49.367 --> 00:40:51.868
is that social networks
are, like,

00:40:51.868 --> 00:40:54.701
even if you're writing
to only a few outputs,

00:40:54.701 --> 00:40:58.234
the way the social web
is kind of shaping up

00:40:58.234 --> 00:41:01.767
is that this activity stream
kind of gets forwarded

00:41:01.767 --> 00:41:03.334
and redistributed
around the Web.

00:41:03.334 --> 00:41:05.801
One interesting thing
is I kind of have

00:41:05.801 --> 00:41:09.467
my own social network profile
set up in a way that--

00:41:09.467 --> 00:41:11.434
I use a service
called FriendFeed,

00:41:11.434 --> 00:41:15.434
and when I do an update,
it actually aggregates

00:41:15.434 --> 00:41:16.567
all of these updates.

00:41:16.567 --> 00:41:19.067
And then I have
certain social network profiles.

00:41:19.067 --> 00:41:21.968
Like, my Facebook profile
gets updated

00:41:21.968 --> 00:41:24.834
every time
my FriendFeed account updates.

00:41:24.834 --> 00:41:27.400
So, even though I might share
something on one site,

00:41:27.400 --> 00:41:29.467
FriendFeed picks it up,
then Facebook picks it up,

00:41:29.467 --> 00:41:31.234
and it's kind of like
this circular dependency

00:41:31.234 --> 00:41:33.734
of activities that kind
of just keeps multiplying,

00:41:33.734 --> 00:41:34.734
multiplying.

00:41:34.734 --> 00:41:37.300
So kind of feeding data
into that system

00:41:37.300 --> 00:41:38.968
is really useful
because it means

00:41:38.968 --> 00:41:40.934
there's a lot of eyeballs
on the content

00:41:40.934 --> 00:41:42.367
that you're posting out there.

00:41:42.367 --> 00:41:44.167
And if people--
if anyone kind of--

00:41:44.167 --> 00:41:45.634
if that content
resonates with anyone

00:41:45.634 --> 00:41:47.000
and someone finds it
interesting,

00:41:47.000 --> 00:41:49.067
they're gonna follow that link
back to your site.

00:41:49.067 --> 00:41:50.334
And then they're gonna interact,

00:41:50.334 --> 00:41:51.567
and they're gonna bring
their friends,

00:41:51.567 --> 00:41:53.901
and it's kind of like
a virtuous cycle

00:41:53.901 --> 00:41:57.133
where the OUTs actually feed
data back into the INs

00:41:57.133 --> 00:41:58.601
of your website.

00:41:58.601 --> 00:42:01.367
And it's a great way
to drive adoption, I'd say.

00:42:01.367 --> 00:42:03.334
All right, to show you
how easy it is

00:42:03.334 --> 00:42:06.901
to post an activity,
here's a simple REST call.

00:42:06.901 --> 00:42:09.167
I had to use curl
because we have to do a post,

00:42:09.167 --> 00:42:12.067
so you can't really just access
it directly in your browser.

00:42:12.067 --> 00:42:13.167
But you can actually see,

00:42:13.167 --> 00:42:15.367
following
the OpenSocial API model,

00:42:15.367 --> 00:42:18.067
it's /activities/@me/@self.

00:42:18.067 --> 00:42:19.667
You put in the fcauth token.

00:42:19.667 --> 00:42:25.601
And then you just post a JSON
object into the activity API.

00:42:25.601 --> 00:42:27.133
You can see it here.

00:42:27.133 --> 00:42:30.200
It's encoded so I can
just use it from a text input.

00:42:30.200 --> 00:42:33.601
But I gave it a title,
I gave it a body

00:42:33.601 --> 00:42:35.934
and then ran the curl command.

00:42:35.934 --> 00:42:37.601
Curl posted it,
and then, that's it.

00:42:37.601 --> 00:42:39.934
That's all I have
to worry about.

00:42:39.934 --> 00:42:43.067
Now you can see that these kinds
of activities show up

00:42:43.067 --> 00:42:45.601
in Friend Connect-enabled
websites as well,

00:42:45.601 --> 00:42:48.434
so this is a view
in the context of a site itself.

00:42:48.434 --> 00:42:51.834
It shows what all the users
on that site have been doing.

00:42:51.834 --> 00:42:53.400
So this is one of those gadgets

00:42:53.400 --> 00:42:56.000
that you can install quickly
onto your website.

00:42:56.000 --> 00:42:58.868
You can also provide
a deeply integrated view,

00:42:58.868 --> 00:43:01.334
you know, by making a REST call
to fetch the activities

00:43:01.334 --> 00:43:02.701
for your site.

00:43:02.701 --> 00:43:05.367
One great thing about it
is if you have kind of like

00:43:05.367 --> 00:43:07.434
some of the easier
Friend Connect pieces,

00:43:07.434 --> 00:43:09.234
a lot of these activities
surface automatically.

00:43:09.234 --> 00:43:14.601
For example, they're visible
in the Members Gadget.

00:43:14.601 --> 00:43:17.267
The even more interesting thing
about this

00:43:17.267 --> 00:43:18.834
is that activity updates
are viewable

00:43:18.834 --> 00:43:21.434
across every single Google
Friend Connect site.

00:43:21.434 --> 00:43:24.267
So basically when you post
an activity,

00:43:24.267 --> 00:43:27.501
someone on a completely
different site might see it.

00:43:27.501 --> 00:43:29.334
So considering
that there are millions

00:43:29.334 --> 00:43:30.801
of Google Friend Connect sites,

00:43:30.801 --> 00:43:34.067
that gives you a lot of exposure
through this method as well.

00:43:34.067 --> 00:43:35.734
You want to show activities?

00:43:35.734 --> 00:43:37.601
Schalk: Sure. Sure.
Roomann-Kurrik: Cool.

00:43:37.601 --> 00:43:39.300
Schalk: So one of the things
that I did do,

00:43:39.300 --> 00:43:41.133
I went back,
and then I did a quick browse

00:43:41.133 --> 00:43:42.534
of the airplanes.

00:43:42.534 --> 00:43:44.501
And then I noticed that,

00:43:44.501 --> 00:43:46.567
by looking at all my friends'
favorite planes,

00:43:46.567 --> 00:43:49.901
I was then able
to select the Cessna 172

00:43:49.901 --> 00:43:51.200
as my favorite plane
right there.

00:43:51.200 --> 00:43:53.601
So that when I do, essentially,
a query

00:43:53.601 --> 00:43:55.000
on the Friends with same
Favorite Plane as Me,

00:43:55.000 --> 00:43:57.167
I'll see that there are
at least three of my friends

00:43:57.167 --> 00:43:59.567
that also have
the same favorite friend.

00:43:59.567 --> 00:44:01.167
So just to kind of finish
that one off,

00:44:01.167 --> 00:44:04.968
or at least you
and a cute teddy bear seemed

00:44:04.968 --> 00:44:07.534
to like my same plane selection.

00:44:07.534 --> 00:44:09.901
Now getting back
to the activities.

00:44:09.901 --> 00:44:14.133
So if I go back--as I kind
of did a quick demo earlier,

00:44:14.133 --> 00:44:16.834
but I can drill down
a little bit more.

00:44:16.834 --> 00:44:22.701
So say if I want to go back
to the Cessna 152...

00:44:22.701 --> 00:44:24.567
As I showed you this before,

00:44:24.567 --> 00:44:28.501
basically, I implemented this
so it does two things.

00:44:28.501 --> 00:44:31.467
It actually stores, like,
a local copy

00:44:31.467 --> 00:44:33.834
of this, you know, plane
as my favorite,

00:44:33.834 --> 00:44:36.567
and I have essentially
a column in my table

00:44:36.567 --> 00:44:38.434
that says
it's my favorite plane.

00:44:38.434 --> 00:44:41.200
And I'm also keeping that handy

00:44:41.200 --> 00:44:44.367
so then I can render it
down here.

00:44:44.367 --> 00:44:45.834
So now we have a log of, like,
different people

00:44:45.834 --> 00:44:47.801
that are favoriting
this particular airplane.

00:44:47.801 --> 00:44:50.000
And so this log is based
on each different plane.

00:44:50.000 --> 00:44:52.567
And so the cool thing
about the activities,

00:44:52.567 --> 00:44:54.934
and I'll just show you the code
once I fire it off,

00:44:54.934 --> 00:44:57.868
is it's actually quite simple.

00:44:57.868 --> 00:45:01.901
I think it's--
I covered it mostly,

00:45:01.901 --> 00:45:04.467
but basically, it's just
a matter of--

00:45:04.467 --> 00:45:05.901
in my case,
since I'm using Java--

00:45:05.901 --> 00:45:08.167
I'm just using the OpenSocial
Java Client Library.

00:45:08.167 --> 00:45:10.167
And I set up my call,

00:45:10.167 --> 00:45:12.467
and it's called
client.createActivity.

00:45:12.467 --> 00:45:14.634
And that's all I really need
to do at that point.

00:45:14.634 --> 00:45:17.634
The activity itself
gets sent off,

00:45:17.634 --> 00:45:19.734
and I have a little bit
of logic here that,

00:45:19.734 --> 00:45:21.400
you know, if you didn't enter
a comment,

00:45:21.400 --> 00:45:25.033
it would just have
a customized comment for you.

00:45:25.033 --> 00:45:26.434
Or you can actually type it
into the field,

00:45:26.434 --> 00:45:28.067
and it will send it there.

00:45:28.067 --> 00:45:29.901
But other than that, it's
actually very straightforward.

00:45:29.901 --> 00:45:32.367
And the cool thing is that,
now--

00:45:32.367 --> 00:45:34.767
well, my particular user ID,
I've maxed out my quota

00:45:34.767 --> 00:45:37.601
for sending out activities,
but if you do the same thing,

00:45:37.601 --> 00:45:40.000
you can actually go out
to Plaxo or Netlog

00:45:40.000 --> 00:45:44.000
and find this same application
instance activity

00:45:44.000 --> 00:45:46.501
is also being sent out

00:45:46.501 --> 00:45:49.000
to these other
partner websites as well.

00:45:49.000 --> 00:45:51.868
That's a really--I love
that feature of Friend Connect.

00:45:51.868 --> 00:45:54.534
It's a great way
to have viral spread

00:45:54.534 --> 00:45:56.400
of your application, and
your application doesn't have

00:45:56.400 --> 00:45:58.667
to be, like, in a typical
OpenSocial container.

00:45:58.667 --> 00:46:00.901
In this case,
it's an actual website, so...

00:46:00.901 --> 00:46:04.167
Anyway...
Roomann-Kurrik: Great.

00:46:04.167 --> 00:46:07.801
So to recap, we wanted to let
users share their experiences

00:46:07.801 --> 00:46:09.334
on this site
with the rest of the Web.

00:46:09.334 --> 00:46:10.567
And we did that two ways.

00:46:10.567 --> 00:46:12.334
We gave them
invite functionality

00:46:12.334 --> 00:46:13.868
through the Friend Connect
pop-up,

00:46:13.868 --> 00:46:15.801
where they could just post
information

00:46:15.801 --> 00:46:17.300
back to other websites,

00:46:17.300 --> 00:46:20.033
and then we used activity
streams to kind of drive data

00:46:20.033 --> 00:46:22.868
deeply into
other social networks.

00:46:22.868 --> 00:46:25.300
So, in conclusion,

00:46:25.300 --> 00:46:26.601
we had a few goals,

00:46:26.601 --> 00:46:29.834
which we accomplished
by integrating deeply

00:46:29.834 --> 00:46:30.834
with Friend Connect.

00:46:30.834 --> 00:46:32.968
It wasn't very difficult.

00:46:32.968 --> 00:46:35.534
Basically we want to allow
Friend Connect users' log-in.

00:46:35.534 --> 00:46:38.868
We did that
through a JavaScript button,

00:46:38.868 --> 00:46:42.234
which gave the UI flow
for a user logging in,

00:46:42.234 --> 00:46:43.767
established a cookie
on our site

00:46:43.767 --> 00:46:45.934
where we were able to pull
social data,

00:46:45.934 --> 00:46:48.200
and then establish
a data store model

00:46:48.200 --> 00:46:50.501
around that social data.

00:46:50.501 --> 00:46:52.167
We use social signals
to highlight content.

00:46:52.167 --> 00:46:57.534
So we put in social Chrome,
kind of floated friend data

00:46:57.534 --> 00:47:00.968
into the UI of our site,
and we also put in data

00:47:00.968 --> 00:47:04.200
about social users around the
content of the site as well.

00:47:04.200 --> 00:47:06.567
And finally we used invites
and activities

