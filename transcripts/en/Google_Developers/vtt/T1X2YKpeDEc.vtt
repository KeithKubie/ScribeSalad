WEBVTT
Kind: captions
Language: en

00:00:07.712 --> 00:00:09.466
CHRIS BROADFOOT: I
think we're live.

00:00:09.466 --> 00:00:11.140
LUKE MAHE: Welcome.

00:00:11.140 --> 00:00:14.790
Hello, and welcome to another
Maps API Hangout.

00:00:14.790 --> 00:00:15.490
CHRIS BROADFOOT: Yep.

00:00:15.490 --> 00:00:19.490
So today, we'll be doing some
interview with Jason Sanford,

00:00:19.490 --> 00:00:23.540
who you can see down in the
bottom, down there.

00:00:28.040 --> 00:00:29.700
So a quick introduction.

00:00:29.700 --> 00:00:30.290
I'm Chris.

00:00:30.290 --> 00:00:35.030
I work on the Google Maps API
Developer Relations Team.

00:00:35.030 --> 00:00:35.890
LUKE MAHE: And I'm Luke.

00:00:35.890 --> 00:00:38.920
I also work on the Maps API
team down here in Sydney.

00:00:38.920 --> 00:00:40.116
CHRIS BROADFOOT: And
Jason, do you want

00:00:40.116 --> 00:00:41.300
to introduce yourself?

00:00:41.300 --> 00:00:42.200
JASON SANFORD: Yeah, sure.

00:00:42.200 --> 00:00:44.770
I'm a web developer
at MapMyFitness.

00:00:44.770 --> 00:00:48.290
So we've been using the Google
Maps API for quite a few years

00:00:48.290 --> 00:00:51.370
now, so a pretty big
customer, I think.

00:00:51.370 --> 00:00:54.760
So been doing lots of fun stuff
lately, converting some

00:00:54.760 --> 00:00:56.710
apps over from v2 to v3.

00:00:56.710 --> 00:00:58.951
So we'll chat about
that a bit today.

00:00:58.951 --> 00:00:59.790
LUKE MAHE: Cool.

00:00:59.790 --> 00:01:01.360
CHRIS BROADFOOT: Cool.

00:01:01.360 --> 00:01:06.370
So Jason, let's just get a bit
of background on what you've

00:01:06.370 --> 00:01:08.490
been working on.

00:01:08.490 --> 00:01:10.410
So could you give us a little
bit of history, what you're

00:01:10.410 --> 00:01:13.050
interested in, sort of
your background?

00:01:13.050 --> 00:01:16.126
Do you have a GIS background?

00:01:16.126 --> 00:01:16.590
JASON SANFORD: Right.

00:01:16.590 --> 00:01:19.780
So I've been in the geo business
for maybe six, seven,

00:01:19.780 --> 00:01:21.080
eight years now.

00:01:21.080 --> 00:01:24.210
Worked in local government
for a while.

00:01:24.210 --> 00:01:28.470
Then went over to work in the
private sector at Ubisense,

00:01:28.470 --> 00:01:32.440
doing some real-time location
work as well as building web

00:01:32.440 --> 00:01:36.480
mapping applications for a lot
of electric utilities using

00:01:36.480 --> 00:01:41.070
Google Maps API, as well as
lots of other crazy tools.

00:01:41.070 --> 00:01:42.610
So that was a lot of fun.

00:01:42.610 --> 00:01:47.102
And just a few months ago, I
joined the MapMyFitness team.

00:01:47.102 --> 00:01:50.090
I've been helping out with our
new route engine, which uses

00:01:50.090 --> 00:01:53.065
the Google Maps API
extensively.

00:01:53.065 --> 00:01:56.340
So that's been a fun project.

00:01:56.340 --> 00:01:59.330
But to be completely honest,
I've only done a very small

00:01:59.330 --> 00:02:02.180
percentage of the work with
this route engine.

00:02:02.180 --> 00:02:05.370
I've jumped in a few places
where I was needed, but I've

00:02:05.370 --> 00:02:07.630
got a co-worker that's done
a lot more of the work.

00:02:07.630 --> 00:02:10.139
But I know a lot of
what's happening.

00:02:10.139 --> 00:02:13.760
Not much of the credit
goes to me for this.

00:02:13.760 --> 00:02:14.820
CHRIS BROADFOOT: Cool.

00:02:14.820 --> 00:02:16.030
So can you--

00:02:16.030 --> 00:02:18.230
I mean, you've only been
there for a few months.

00:02:18.230 --> 00:02:22.930
But can you maybe give some
insight on why they chose to

00:02:22.930 --> 00:02:26.210
use the Google Maps API?

00:02:26.210 --> 00:02:30.630
JASON SANFORD: So the Maps API
for us is pretty important.

00:02:30.630 --> 00:02:34.260
So a lot of the reason we
use it is because of the

00:02:34.260 --> 00:02:35.400
directions.

00:02:35.400 --> 00:02:39.520
So it's much easier to map a
route from here to 10 miles

00:02:39.520 --> 00:02:43.220
away if you can just click two
points instead of clicking 20,

00:02:43.220 --> 00:02:45.530
30 points along the way.

00:02:45.530 --> 00:02:48.800
So you can click a point at your
start, click a point at

00:02:48.800 --> 00:02:51.630
your destination, and then
manipulate the route along the

00:02:51.630 --> 00:02:54.120
way as you see fit.

00:02:54.120 --> 00:02:56.760
But usually with the directions
service, you

00:02:56.760 --> 00:02:58.260
generally get the route
you want on the first

00:02:58.260 --> 00:03:00.070
try, which is huge.

00:03:00.070 --> 00:03:03.500
It's a big time-saver
for our users.

00:03:03.500 --> 00:03:09.240
Street View is also a pretty
big enhancement, mostly for

00:03:09.240 --> 00:03:13.420
the directions and the pretty
good quality maps.

00:03:13.420 --> 00:03:13.720
CHRIS BROADFOOT: Cool.

00:03:13.720 --> 00:03:16.720
Yeah, I was checking out
your new routing stuff.

00:03:16.720 --> 00:03:22.170
It's pretty slick, nicely
customized as well.

00:03:22.170 --> 00:03:23.870
Although I didn't see
where you guys are

00:03:23.870 --> 00:03:24.650
using Street View.

00:03:24.650 --> 00:03:27.452
Can you talk about that?

00:03:27.452 --> 00:03:31.200
JASON SANFORD: You know, we
haven't used it much.

00:03:31.200 --> 00:03:35.080
I guess we're essentially just
using the standard Street View

00:03:35.080 --> 00:03:39.940
control that comes with the Maps
API, so the peg man drag

00:03:39.940 --> 00:03:41.420
and drop on the map.

00:03:41.420 --> 00:03:45.020
Just the standard use there.

00:03:45.020 --> 00:03:47.390
So coming from v2, I'm
not sure if we have

00:03:47.390 --> 00:03:48.925
that ability or not.

00:03:48.925 --> 00:03:50.170
LUKE MAHE: Yeah, [INAUDIBLE].

00:03:50.170 --> 00:03:52.470
And so you talked a bit about
going from v2 to v3.

00:03:52.470 --> 00:03:55.250
Do you want to just tell us
about that experience?

00:03:55.250 --> 00:03:58.040
Was that an enjoyable one?

00:03:58.040 --> 00:03:59.310
JASON SANFORD: Yes.

00:03:59.310 --> 00:04:00.680
Yes and no.

00:04:00.680 --> 00:04:02.130
So it is great.

00:04:02.130 --> 00:04:04.630
The API is much better.

00:04:04.630 --> 00:04:06.710
It's very well-organized.

00:04:06.710 --> 00:04:10.800
But our tools are pretty--

00:04:10.800 --> 00:04:13.620
I want to say complex,
but they're not.

00:04:13.620 --> 00:04:16.250
Just these one-off things we're
doing, they're fairly

00:04:16.250 --> 00:04:17.410
complex things on
the back end.

00:04:17.410 --> 00:04:22.110
So my co-worker Matt, who is
responsible for building most

00:04:22.110 --> 00:04:26.560
of this, he spent a good
while working on it.

00:04:26.560 --> 00:04:28.440
And it was kind of a necessary
thing to do,

00:04:28.440 --> 00:04:29.760
since v2 is out soon.

00:04:29.760 --> 00:04:33.650
I'm not sure how soon, but the
clock was ticking, so it was

00:04:33.650 --> 00:04:36.100
time to make the leap.

00:04:36.100 --> 00:04:37.310
CHRIS BROADFOOT: Yeah, so I
think [INTERPOSING VOICES].

00:04:37.310 --> 00:04:40.980
Yeah, I think-- so there's a
three-year deprecation policy.

00:04:40.980 --> 00:04:46.090
And I think that three years
is up in May next year.

00:04:46.090 --> 00:04:46.500
JASON SANFORD: Right.

00:04:46.500 --> 00:04:48.590
LUKE MAHE: So if you haven't
started moving across, you

00:04:48.590 --> 00:04:50.560
really ought to now.

00:04:50.560 --> 00:04:51.550
JASON SANFORD: Right.

00:04:51.550 --> 00:04:55.550
So that was a pretty big
project, but it's been good.

00:04:55.550 --> 00:04:56.930
It's been well worth it.

00:04:56.930 --> 00:05:01.600
So we released our site today,
with some pretty

00:05:01.600 --> 00:05:02.640
good reviews so far.

00:05:02.640 --> 00:05:04.140
So people are excited.

00:05:04.140 --> 00:05:04.290
LUKE MAHE: Awesome.

00:05:04.290 --> 00:05:05.280
CHRIS BROADFOOT: Yeah,
I saw there was a bit

00:05:05.280 --> 00:05:07.220
of buzz going around.

00:05:07.220 --> 00:05:07.570
That's great.

00:05:07.570 --> 00:05:08.860
JASON SANFORD: Yeah,
a little bit.

00:05:08.860 --> 00:05:12.365
Enough buzz to make us sweat
for a few hours.

00:05:12.365 --> 00:05:13.660
But it was good.

00:05:13.660 --> 00:05:15.416
CHRIS BROADFOOT: That's a
great problem to have.

00:05:15.416 --> 00:05:15.872
JASON SANFORD: Right.

00:05:15.872 --> 00:05:17.866
LUKE MAHE: Until your server
catches on fire.

00:05:17.866 --> 00:05:18.270
CHRIS BROADFOOT: Yeah.

00:05:18.270 --> 00:05:19.520
JASON SANFORD: Right.

00:05:21.990 --> 00:05:23.840
CHRIS BROADFOOT: Cool.

00:05:23.840 --> 00:05:27.420
So do you want to give a
bit of a demo of the--

00:05:27.420 --> 00:05:31.520
so you ported the existing map
from v2 to v3, but you've also

00:05:31.520 --> 00:05:35.100
released this new routing
engine that

00:05:35.100 --> 00:05:36.230
has additional features.

00:05:36.230 --> 00:05:37.790
Is that right?

00:05:37.790 --> 00:05:39.040
JASON SANFORD: That's
right, yeah.

00:05:39.040 --> 00:05:41.880
So we're using lots of cool new
things, like the bicycle

00:05:41.880 --> 00:05:47.750
layer and using cycling
directions, and adding a few

00:05:47.750 --> 00:05:50.115
other custom layers that you
guys have released recently.

00:05:50.115 --> 00:05:52.420
So, yeah, I can give a demo.

00:05:52.420 --> 00:05:53.080
That works.

00:05:53.080 --> 00:05:53.500
CHRIS BROADFOOT: Cool.

00:05:53.500 --> 00:05:55.690
JASON SANFORD: It's my first
Hangout here, so I'm not sure

00:05:55.690 --> 00:05:57.950
exactly how to switch screens.

00:05:57.950 --> 00:06:00.550
CHRIS BROADFOOT: So I think
if you go in the top left,

00:06:00.550 --> 00:06:02.186
there's a Screen Share button.

00:06:02.186 --> 00:06:05.060
JASON SANFORD: Gotcha, OK.

00:06:05.060 --> 00:06:10.110
And I pick Desktop or
Google Hangouts.

00:06:10.110 --> 00:06:11.365
Let's choose this.

00:06:15.570 --> 00:06:16.240
So how's that?

00:06:16.240 --> 00:06:17.250
Do you see yourself?

00:06:17.250 --> 00:06:17.520
LUKE MAHE: Inception.

00:06:17.520 --> 00:06:19.580
CHRIS BROADFOOT: Yeah,
very Inception-like.

00:06:19.580 --> 00:06:20.780
JASON SANFORD: All right.

00:06:20.780 --> 00:06:23.480
And so now you see our
homepage up there?

00:06:23.480 --> 00:06:24.930
CHRIS BROADFOOT: Yeah.

00:06:24.930 --> 00:06:25.280
JASON SANFORD: OK.

00:06:25.280 --> 00:06:28.560
So this is kind of the whole
redesign of the site.

00:06:28.560 --> 00:06:30.680
Not really here to talk
about that, but we've

00:06:30.680 --> 00:06:32.790
changed lots of things.

00:06:32.790 --> 00:06:35.260
And while we switched this, we
figured it was time to release

00:06:35.260 --> 00:06:40.770
our new route engine, which
we've got here.

00:06:40.770 --> 00:06:44.010
So the first thing you see is
that we customized the map

00:06:44.010 --> 00:06:46.110
based on what site you're at.

00:06:46.110 --> 00:06:49.580
So MapMyFitness has a
number of websites.

00:06:49.580 --> 00:06:50.300
MapMyRide.

00:06:50.300 --> 00:06:52.750
As you can see, I'm out here.

00:06:52.750 --> 00:06:55.940
So on this site, we turn the
bicycle layers on by default.

00:06:55.940 --> 00:06:58.150
You can turn those
off if you want.

00:06:58.150 --> 00:07:01.440
And if you visit any of the
other sites, like MapMyWalk,

00:07:01.440 --> 00:07:06.720
or MapMyHike, MapMyTri, all of
our other websites, those are

00:07:06.720 --> 00:07:08.470
turned off, because a lot
of people just aren't

00:07:08.470 --> 00:07:11.030
interested in those.

00:07:11.030 --> 00:07:14.300
So we'll turn them
back on here.

00:07:14.300 --> 00:07:18.320
So you can see it defaulted to
my location, where I'm at now.

00:07:18.320 --> 00:07:19.990
So if I wanted to start mapping
a route, I could just

00:07:19.990 --> 00:07:21.620
click right there.

00:07:21.620 --> 00:07:25.950
And I could just start clicking
my way around to

00:07:25.950 --> 00:07:29.640
figure out where I wanted to
go, or where I did go.

00:07:29.640 --> 00:07:32.600
But I'll undo those changes.

00:07:32.600 --> 00:07:36.505
Because one of the great things
we can do is just have

00:07:36.505 --> 00:07:40.280
your start location, and then
come up here to the Search

00:07:40.280 --> 00:07:43.330
bar, and just type
in any address.

00:07:43.330 --> 00:07:48.760
So this was a park I went
to the other day.

00:07:48.760 --> 00:07:51.250
CHRIS BROADFOOT: So is that the
Elevation API down there?

00:07:51.250 --> 00:07:53.680
JASON SANFORD: Yeah, so that's
the Elevation API as well.

00:07:53.680 --> 00:07:55.411
CHRIS BROADFOOT: Cool.

00:07:55.411 --> 00:07:56.920
JASON SANFORD: I'll show you
that in just a second.

00:07:56.920 --> 00:08:01.460
So my second point is that part
that I just clicked on.

00:08:01.460 --> 00:08:03.490
So now we can just kind
of see our whole

00:08:03.490 --> 00:08:05.320
route that we generated.

00:08:05.320 --> 00:08:09.450
As you can see here, it jumped
quite a ways over to this nice

00:08:09.450 --> 00:08:12.670
bike path, which is
pretty handy.

00:08:12.670 --> 00:08:16.070
You wouldn't want to go up any
of these other semi-major

00:08:16.070 --> 00:08:19.990
roads if you've got these nice
bike paths over here.

00:08:19.990 --> 00:08:22.800
But what you might want to do
also is just take this route

00:08:22.800 --> 00:08:27.990
and drag it over to a slightly
different bike path.

00:08:27.990 --> 00:08:32.750
So we're using Google's
draggable directions for that.

00:08:32.750 --> 00:08:35.900
We can add any points along
here, and drag them wherever

00:08:35.900 --> 00:08:38.494
we see fit.

00:08:38.494 --> 00:08:41.840
If you notice at the bottom,
the elevation should be

00:08:41.840 --> 00:08:44.049
updating as the route
is updating.

00:08:46.820 --> 00:08:50.890
And as you mouse over the
elevation, you'll see that

00:08:50.890 --> 00:08:55.550
location on the route, and get
a very specific elevation in

00:08:55.550 --> 00:08:57.390
the chart down there.

00:08:57.390 --> 00:08:58.170
LUKE MAHE: That's nice.

00:08:58.170 --> 00:08:59.032
CHRIS BROADFOOT: Cool.

00:08:59.032 --> 00:08:59.463
What do you--

00:08:59.463 --> 00:09:00.760
JASON SANFORD: So we can--

00:09:00.760 --> 00:09:01.655
CHRIS BROADFOOT: Oh
sorry, go on.

00:09:01.655 --> 00:09:03.320
JASON SANFORD: No, go ahead.

00:09:03.320 --> 00:09:03.700
CHRIS BROADFOOT: Oh.

00:09:03.700 --> 00:09:06.950
So what are you guys using
for the chart down below?

00:09:06.950 --> 00:09:10.870
JASON SANFORD: Highcharts,
which is a paid but very

00:09:10.870 --> 00:09:15.560
affordable JavaScript
charting API.

00:09:15.560 --> 00:09:19.420
So it uses SVG, unless you're
in IE, and then it does that

00:09:19.420 --> 00:09:20.900
crazy VML stuff.

00:09:23.720 --> 00:09:25.730
But yeah, it's worked
really well.

00:09:25.730 --> 00:09:27.590
I see it a lot around
the internet.

00:09:27.590 --> 00:09:30.235
As I've implemented this, I've
looked around, and lots of

00:09:30.235 --> 00:09:34.000
people were using that, so
it's pretty powerful.

00:09:34.000 --> 00:09:37.590
So maybe you've mapped that
route, and you want to come

00:09:37.590 --> 00:09:38.560
back to where you started.

00:09:38.560 --> 00:09:42.750
We've got this handy Double
Back button that will just

00:09:42.750 --> 00:09:45.570
kind of take you out to
where you are, and

00:09:45.570 --> 00:09:46.260
then all the way back.

00:09:46.260 --> 00:09:50.260
And then you get your total
mileage set to 13.74 miles,

00:09:50.260 --> 00:09:53.150
and you're back at
your start here.

00:09:53.150 --> 00:09:54.970
And then from there, you
could save your route.

00:09:54.970 --> 00:09:59.690
It also saves these directions
that you can change.

00:09:59.690 --> 00:10:03.440
You can just say whatever, and
that'll change that cue note.

00:10:03.440 --> 00:10:06.570
So if you wanted to print these
directions, your custom

00:10:06.570 --> 00:10:08.772
notes here would print
out as well.

00:10:08.772 --> 00:10:09.810
CHRIS BROADFOOT: That's cool.

00:10:09.810 --> 00:10:10.210
JASON SANFORD: Yeah.

00:10:10.210 --> 00:10:11.395
CHRIS BROADFOOT: A nice
little touch.

00:10:11.395 --> 00:10:15.700
LUKE MAHE: Could I go and send
these directions off to my

00:10:15.700 --> 00:10:20.030
Garmin device, or something
like that?

00:10:20.030 --> 00:10:23.170
JASON SANFORD: So we do
allow export of GPX.

00:10:23.170 --> 00:10:24.420
I don't think those--

00:10:24.420 --> 00:10:26.430
I'm almost positive those
directions are

00:10:26.430 --> 00:10:28.870
not included in that.

00:10:28.870 --> 00:10:32.110
So something sort of like that
that we do is, if you say you

00:10:32.110 --> 00:10:35.150
are going to do this workout,
you can check Send to Phone

00:10:35.150 --> 00:10:39.330
here, and if you're logged in,
and you have our app on your

00:10:39.330 --> 00:10:41.936
phone, it will send that route
to your phone, and draw it on

00:10:41.936 --> 00:10:44.520
the map, so you can follow it as
you're riding, or running,

00:10:44.520 --> 00:10:45.545
or whatever.

00:10:45.545 --> 00:10:48.830
LUKE MAHE: Can you also share
the route with friends?

00:10:48.830 --> 00:10:49.240
JASON SANFORD: Right.

00:10:49.240 --> 00:10:53.960
Yeah, so you can make this route
public, and so anybody

00:10:53.960 --> 00:10:54.880
with a link can see it.

00:10:54.880 --> 00:10:58.780
Or you can have your MapMyRide
or MapMyRun friends see it.

00:10:58.780 --> 00:11:01.840
But what most people typically
do is make it completely

00:11:01.840 --> 00:11:05.010
public, and then post it to
Facebook, or Twitter, or

00:11:05.010 --> 00:11:07.015
whatever social network
they're into.

00:11:07.015 --> 00:11:07.510
CHRIS BROADFOOT: Cool.

00:11:07.510 --> 00:11:08.870
JASON SANFORD: But yeah,
you can definitely

00:11:08.870 --> 00:11:10.120
send this to whoever.

00:11:13.250 --> 00:11:15.170
LUKE MAHE: So what were some of
the biggest challenges you

00:11:15.170 --> 00:11:16.680
think you ran into when you
were building this?

00:11:19.230 --> 00:11:21.980
JASON SANFORD: One of the bigger
challenges was today.

00:11:21.980 --> 00:11:26.590
So we released this, and we love
these bicycle directions.

00:11:26.590 --> 00:11:29.290
What we didn't realize until we
released it today is that

00:11:29.290 --> 00:11:32.230
the bicycle directions
may not be available

00:11:32.230 --> 00:11:33.830
outside of the US.

00:11:33.830 --> 00:11:36.330
So that was a lot
of our fault.

00:11:36.330 --> 00:11:38.080
We didn't do, apparently,
enough

00:11:38.080 --> 00:11:40.420
debugging in other areas.

00:11:40.420 --> 00:11:43.470
So that's something we can work
around for, for sure.

00:11:46.200 --> 00:11:50.120
Most of the difficulties were
not really Maps API-related,

00:11:50.120 --> 00:11:54.360
but your typical web development
problems, working

00:11:54.360 --> 00:11:58.040
around different browser
bugs and whatnot.

00:11:58.040 --> 00:11:59.123
So yeah.

00:11:59.123 --> 00:12:01.070
LUKE MAHE: The joys of being
a web developer.

00:12:01.070 --> 00:12:01.580
JASON SANFORD: Right

00:12:01.580 --> 00:12:04.340
CHRIS BROADFOOT: Well, we do a
lot of work to ensure that the

00:12:04.340 --> 00:12:07.490
Maps API works on many
different browsers.

00:12:07.490 --> 00:12:10.960
We've got a lot of automated
testing, so we have all of our

00:12:10.960 --> 00:12:14.070
tests running continuously
on the many,

00:12:14.070 --> 00:12:15.170
many different browsers.

00:12:15.170 --> 00:12:15.840
LUKE MAHE: And devices.

00:12:15.840 --> 00:12:18.480
CHRIS BROADFOOT: Many mobile
browsers, yeah.

00:12:18.480 --> 00:12:18.790
JASON SANFORD: Cool.

00:12:18.790 --> 00:12:19.460
LUKE MAHE: It's very impressive
to see, a wall of

00:12:19.460 --> 00:12:21.185
phones all running tests.

00:12:21.185 --> 00:12:22.370
CHRIS BROADFOOT: Yeah.

00:12:22.370 --> 00:12:23.620
JASON SANFORD: Yeah,
that would be cool.

00:12:26.990 --> 00:12:31.390
So yeah, that's pretty much my
demo that I was able to pull

00:12:31.390 --> 00:12:33.590
together in two or
three minutes.

00:12:33.590 --> 00:12:38.100
There's lots of other cool
things you can do.

00:12:38.100 --> 00:12:40.850
We show these distance
markers here.

00:12:40.850 --> 00:12:43.675
You can enable and disable
those, and change the interval

00:12:43.675 --> 00:12:45.655
you show those on.

00:12:45.655 --> 00:12:48.320
Turn the bicycle paths off.

00:12:48.320 --> 00:12:50.610
We've implemented the
weather layer.

00:12:50.610 --> 00:12:52.680
So if you want to see how the
weather is going to be if

00:12:52.680 --> 00:12:54.570
you're about to run out the door
and go for a ride or a

00:12:54.570 --> 00:12:58.030
run, you can see that maybe
there's this storm coming, you

00:12:58.030 --> 00:13:00.630
shouldn't go right now.

00:13:00.630 --> 00:13:02.780
So yeah, having lots of
fun with the Maps API.

00:13:02.780 --> 00:13:03.115
[INTERPOSING VOICES]

00:13:03.115 --> 00:13:04.280
CHRIS BROADFOOT: Yeah,
especially because you can put

00:13:04.280 --> 00:13:05.930
cloud cover on those
maps [INAUDIBLE].

00:13:05.930 --> 00:13:07.431
LUKE MAHE: Yeah.

00:13:07.431 --> 00:13:08.910
JASON SANFORD: I thought
we had traffic here.

00:13:08.910 --> 00:13:10.730
Maybe I just don't see it.

00:13:10.730 --> 00:13:13.080
But anyway--

00:13:13.080 --> 00:13:15.100
CHRIS BROADFOOT: What
else can you do?

00:13:15.100 --> 00:13:18.580
Do you guys use Styled
Maps at all?

00:13:18.580 --> 00:13:20.350
JASON SANFORD: You
know, we don't.

00:13:20.350 --> 00:13:25.150
We've thought about that,
just to maybe cater them

00:13:25.150 --> 00:13:25.860
to each of our sites.

00:13:25.860 --> 00:13:29.580
So each of our sites has a sort
of specific style, mostly

00:13:29.580 --> 00:13:32.370
just color-based.

00:13:32.370 --> 00:13:33.710
A lot of our runners--

00:13:33.710 --> 00:13:36.330
LUKE MAHE: Yeah, you could do it
so if it's running, pop up

00:13:36.330 --> 00:13:39.000
some other paths, and get
rid of roads that are

00:13:39.000 --> 00:13:39.860
not going to be used.

00:13:39.860 --> 00:13:41.120
CHRIS BROADFOOT: Or in
bicycling, you're done with

00:13:41.120 --> 00:13:42.810
the bicycling layer.

00:13:42.810 --> 00:13:47.785
But maybe if you're walking,
you can expose some of the

00:13:47.785 --> 00:13:49.740
paths through parks, or
something like that.

00:13:49.740 --> 00:13:51.230
JASON SANFORD: Yeah, exactly.

00:13:51.230 --> 00:13:51.970
That's a good idea.

00:13:51.970 --> 00:13:54.064
We hadn't thought about that.

00:13:54.064 --> 00:13:56.100
So yeah, lots to do there.

00:13:56.100 --> 00:13:59.072
So this is really just
our first iteration.

00:13:59.072 --> 00:14:01.440
It's gotten lots of
good feedback.

00:14:01.440 --> 00:14:03.860
Lots of things to change,
maybe, but it's

00:14:03.860 --> 00:14:06.198
been a lot of fun.

00:14:06.198 --> 00:14:07.506
LUKE MAHE: Kind of what
we like to hear.

00:14:07.506 --> 00:14:10.422
CHRIS BROADFOOT: Yeah.

00:14:10.422 --> 00:14:11.530
LUKE MAHE: Well, thanks
for that.

00:14:11.530 --> 00:14:12.780
JASON SANFORD: Yeah,
no worries.

00:14:15.080 --> 00:14:15.390
CHRIS BROADFOOT: Cool.

00:14:15.390 --> 00:14:24.280
So outside of MapMyFitness,
have you got anything else

00:14:24.280 --> 00:14:25.480
you've been working on?

00:14:25.480 --> 00:14:30.635
I saw you had a-- was it a
vector layer for the Maps API

00:14:30.635 --> 00:14:32.080
a while ago?

00:14:32.080 --> 00:14:33.650
JASON SANFORD: Yeah, that
was a lot of fun.

00:14:33.650 --> 00:14:38.580
So I'm not sure if I'm still
screen sharing or not, but--

00:14:38.580 --> 00:14:39.040
LUKE MAHE: You are.

00:14:39.040 --> 00:14:40.730
CHRIS BROADFOOT:
Yeah, you are.

00:14:40.730 --> 00:14:48.900
JASON SANFORD: So this is
essentially just a library

00:14:48.900 --> 00:14:55.080
that lets you add lots of other
vendor-based web GIS

00:14:55.080 --> 00:14:57.420
stuff on top of Google Maps.

00:14:57.420 --> 00:15:00.700
So if you're an ArcGIS Server
user, or a CartoDB user,

00:15:00.700 --> 00:15:02.830
Arcturus, lots of other
providers, we've got a few

00:15:02.830 --> 00:15:04.260
others planned as well.

00:15:04.260 --> 00:15:09.660
So it just lets you easily add
in these layers on the ArcGIS

00:15:09.660 --> 00:15:13.010
Server, just throw them right
on top of Google Maps with

00:15:13.010 --> 00:15:18.016
some semi-customizable
infowindows.

00:15:18.016 --> 00:15:20.586
I guess this one down
here uses--

00:15:20.586 --> 00:15:23.810
well, that's not
what I wanted.

00:15:23.810 --> 00:15:30.610
This one here uses Google Chart
APIs, and lets you just

00:15:30.610 --> 00:15:34.140
do lot of crazy symbology
and whatnot.

00:15:34.140 --> 00:15:35.920
So it's been a few months
since I worked on this

00:15:35.920 --> 00:15:39.200
project, so I don't remember
too, too much about some

00:15:39.200 --> 00:15:39.860
specifics here.

00:15:39.860 --> 00:15:42.880
But it was a lot of fun.

00:15:42.880 --> 00:15:46.730
CHRIS BROADFOOT: So on the
ArcGIS side, was there much

00:15:46.730 --> 00:15:49.500
work there?

00:15:49.500 --> 00:15:52.160
Because I think there's an
existing utility library.

00:15:52.160 --> 00:15:55.310
Do you use any of that?

00:15:55.310 --> 00:15:56.420
JASON SANFORD: No.

00:15:56.420 --> 00:15:58.335
This was built basically--

00:15:58.335 --> 00:16:02.580
at my previous job, we had the
need to just pull in data from

00:16:02.580 --> 00:16:03.800
all these different services.

00:16:03.800 --> 00:16:06.500
Some of it may be live, and some
of it may be just like,

00:16:06.500 --> 00:16:10.620
give me all the data in this
one service or layer.

00:16:10.620 --> 00:16:14.650
So this is built on the notion
that you can load live data or

00:16:14.650 --> 00:16:18.340
just some static data, just
give it to me and show it.

00:16:18.340 --> 00:16:22.860
A few of these are semi-live,
so as you pan the map here,

00:16:22.860 --> 00:16:24.100
you'll get more features.

00:16:24.100 --> 00:16:25.970
Obviously, you don't want to
load every county in the

00:16:25.970 --> 00:16:31.260
United States in one load, so
these only load the individual

00:16:31.260 --> 00:16:33.440
bounding dots.

00:16:33.440 --> 00:16:35.190
So as you pan the map, you
get more features.

00:16:37.870 --> 00:16:41.620
So yeah, lots of different
options.

00:16:41.620 --> 00:16:45.120
Lots of decent documentation, I
think, of things you can do,

00:16:45.120 --> 00:16:48.670
like styling infowindows, or
styling actual features,

00:16:48.670 --> 00:16:50.363
controlling the scale
range, and whatnot.

00:16:54.307 --> 00:16:55.050
CHRIS BROADFOOT: Yeah, that

00:16:55.050 --> 00:16:56.185
documentation looks good, actually.

00:16:56.185 --> 00:16:57.810
I want to steal that template.

00:16:57.810 --> 00:16:59.181
[INTERPOSING VOICES].

00:16:59.181 --> 00:17:00.830
CHRIS BROADFOOT: That's
Twitter Bootstrap.

00:17:00.830 --> 00:17:02.260
JASON SANFORD: It is, yeah.

00:17:02.260 --> 00:17:03.590
[INTERPOSING VOICES]

00:17:03.590 --> 00:17:05.839
CHRIS BROADFOOT: Is that
a JSDoc output?

00:17:05.839 --> 00:17:07.986
JASON SANFORD: No, I
don't like that.

00:17:10.619 --> 00:17:13.369
I like code and documentation
separate, but that's just a

00:17:13.369 --> 00:17:14.698
personal thing.

00:17:14.698 --> 00:17:17.040
CHRIS BROADFOOT: Yeah.

00:17:17.040 --> 00:17:19.720
JASON SANFORD: But yeah,
this is the deal.

00:17:19.720 --> 00:17:22.099
Not so recent version of
Twitter Bootstrap.

00:17:22.099 --> 00:17:26.480
It's really good for people like
me that aren't super good

00:17:26.480 --> 00:17:27.566
with design.

00:17:27.566 --> 00:17:27.982
LUKE MAHE: Yeah.

00:17:27.982 --> 00:17:29.350
CHRIS BROADFOOT: Oh, it makes
everything look beautiful.

00:17:29.350 --> 00:17:29.600
LUKE MAHE: It does.

00:17:29.600 --> 00:17:30.080
It's nice.

00:17:30.080 --> 00:17:32.260
They've got a lot of the
basics done right.

00:17:32.260 --> 00:17:34.530
You can just use them all.

00:17:34.530 --> 00:17:36.190
CHRIS BROADFOOT: I hope it
doesn't get too over-used.

00:17:36.190 --> 00:17:37.280
I quite like it.

00:17:37.280 --> 00:17:38.530
LUKE MAHE: Yeah.

00:17:40.160 --> 00:17:41.103
CHRIS BROADFOOT: Cool.

00:17:41.103 --> 00:17:43.420
LUKE MAHE: Cool.

00:17:43.420 --> 00:17:47.660
CHRIS BROADFOOT: So we might go
through some news, look at

00:17:47.660 --> 00:17:52.780
some cool maps that
have come out.

00:17:52.780 --> 00:17:57.940
Have a look at Airbnb and the
Made in New York map that came

00:17:57.940 --> 00:17:58.700
out recently.

00:17:58.700 --> 00:18:02.450
And then just go through some
stack overflow questions.

00:18:02.450 --> 00:18:05.070
So let's go through it.

00:18:05.070 --> 00:18:07.080
I'll just start presenting
here.

00:18:12.280 --> 00:18:22.210
So first bit of news,
we have renamed--

00:18:22.210 --> 00:18:22.480
LUKE MAHE: Google--

00:18:22.480 --> 00:18:23.420
CHRIS BROADFOOT: Oh yeah,
so-- you go ahead.

00:18:23.420 --> 00:18:25.180
LUKE MAHE: Yeah, we've renamed
Google Earth Builder.

00:18:25.180 --> 00:18:27.645
Now it's called Google
Maps Engine.

00:18:27.645 --> 00:18:29.700
CHRIS BROADFOOT: Yeah,
I'll just pull up the

00:18:29.700 --> 00:18:30.950
blog post for that.

00:18:36.110 --> 00:18:37.350
LUKE MAHE: You should have
started where it was a window.

00:18:37.350 --> 00:18:39.828
CHRIS BROADFOOT: Yeah.

00:18:39.828 --> 00:18:41.420
I should have organized this.

00:18:41.420 --> 00:18:44.380
LUKE MAHE: I spent a while
playing with that today.

00:18:44.380 --> 00:18:45.630
CHRIS BROADFOOT: OK.

00:18:52.766 --> 00:18:55.770
Yep, so it's just a rename.

00:19:00.380 --> 00:19:03.130
Oh yeah, and there's also the
launch of the Google Maps

00:19:03.130 --> 00:19:04.850
Engine grants program.

00:19:04.850 --> 00:19:07.870
So if you're a nonprofit, and
you want to use what was

00:19:07.870 --> 00:19:11.750
previously Google Earth Builder,
you can now apply for

00:19:11.750 --> 00:19:16.000
a grant to get access
to this new product.

00:19:16.000 --> 00:19:18.300
LUKE MAHE: Yeah.

00:19:18.300 --> 00:19:19.550
CHRIS BROADFOOT: Very cool.

00:19:25.860 --> 00:19:26.660
So what else?

00:19:26.660 --> 00:19:35.390
Oh yeah, so came across this
great library last week called

00:19:35.390 --> 00:19:37.880
Overlapping Marker Spiderfier.

00:19:37.880 --> 00:19:39.030
LUKE MAHE: Oh yeah,
I saw that.

00:19:39.030 --> 00:19:40.250
That's pretty cool.

00:19:40.250 --> 00:19:43.590
CHRIS BROADFOOT: Sort of a new
way to solve the too many

00:19:43.590 --> 00:19:44.450
markers problem.

00:19:44.450 --> 00:19:45.770
LUKE MAHE: Yeah, it was an
interesting approach to

00:19:45.770 --> 00:19:46.380
clustering.

00:19:46.380 --> 00:19:46.650
CHRIS BROADFOOT: Yeah.

00:19:46.650 --> 00:19:49.360
LUKE MAHE: We've tried
this many a time.

00:19:49.360 --> 00:19:50.950
CHRIS BROADFOOT: So we mentioned
it, I think, three

00:19:50.950 --> 00:19:55.360
times at our last Hangout that
Luke and I wrote an article on

00:19:55.360 --> 00:19:57.080
too many markers, so what
happens when you

00:19:57.080 --> 00:19:58.230
have too many markers.

00:19:58.230 --> 00:20:00.330
How do you solve it?

00:20:00.330 --> 00:20:03.640
And these guys have
re-implemented the sort of

00:20:03.640 --> 00:20:08.030
spiderfication that you
find in Google Earth.

00:20:08.030 --> 00:20:09.750
So let's just have a quick
look at their demo.

00:20:33.784 --> 00:20:40.620
OK, so when you click on a group
of markers, they sort of

00:20:40.620 --> 00:20:45.750
expand and fan out so you can
see each individual one.

00:20:45.750 --> 00:20:48.590
And it's kind of cool.

00:20:48.590 --> 00:20:52.685
A little white line shows you
where the marker was precisely

00:20:52.685 --> 00:20:56.730
on the map, and you can click
each individual marker.

00:20:59.320 --> 00:21:02.845
LUKE MAHE: So this is an
interesting approach where the

00:21:02.845 --> 00:21:05.840
user doesn't really care about
how many markers are there,

00:21:05.840 --> 00:21:07.475
just that there's a bunch
there for some reason.

00:21:07.475 --> 00:21:08.655
So when you click on them,
you can show them

00:21:08.655 --> 00:21:10.035
all at the same time.

00:21:10.035 --> 00:21:13.480
So it's pretty cool.

00:21:13.480 --> 00:21:15.060
CHRIS BROADFOOT: Yeah.

00:21:15.060 --> 00:21:20.260
So that's over on GitHub,
Overlapping Marker Spiderfier.

00:21:24.780 --> 00:21:28.440
LUKE MAHE: He would have tried
that so many times.

00:21:28.440 --> 00:21:29.250
CHRIS BROADFOOT: OK.

00:21:29.250 --> 00:21:30.905
So what else?

00:21:30.905 --> 00:21:33.100
You got any show
and tell, Luke?

00:21:33.100 --> 00:21:34.548
LUKE MAHE: Not really today.

00:21:34.548 --> 00:21:35.436
CHRIS BROADFOOT: OK.

00:21:35.436 --> 00:21:38.230
LUKE MAHE: I've shown
everything.

00:21:38.230 --> 00:21:40.270
Do you want to show a couple
map of the weeks?

00:21:40.270 --> 00:21:41.000
CHRIS BROADFOOT: Yeah.

00:21:41.000 --> 00:21:47.300
So this week's map is Airbnb.

00:21:47.300 --> 00:21:51.390
So if you're not following our
developer blog, go over and

00:21:51.390 --> 00:21:56.540
subscribe in your favorite
RSS reader.

00:21:56.540 --> 00:21:57.790
It's googlegeodevelop
ers.blogspot.com.

00:22:00.990 --> 00:22:04.600
So this week's map of
the week is Airbnb.

00:22:04.600 --> 00:22:08.385
And these guys just really kick
ass at user interface.

00:22:08.385 --> 00:22:10.500
LUKE MAHE: Yeah, it's really
nice where it isn't just

00:22:10.500 --> 00:22:14.100
showing what's in data, and
just works really cool.

00:22:14.100 --> 00:22:16.160
CHRIS BROADFOOT: So let's
go and have a look.

00:22:16.160 --> 00:22:17.370
So I think you can now--

00:22:17.370 --> 00:22:19.250
LUKE MAHE: Actually, I was on
this site the other day

00:22:19.250 --> 00:22:19.400
looking for--

00:22:19.400 --> 00:22:20.073
CHRIS BROADFOOT: Let's
pretend like we're

00:22:20.073 --> 00:22:21.190
going on holiday together.

00:22:21.190 --> 00:22:21.430
LUKE MAHE: Yeah, let's.

00:22:21.430 --> 00:22:22.932
Where do you want to go?

00:22:22.932 --> 00:22:24.320
CHRIS BROADFOOT: Let's
go to New York.

00:22:24.320 --> 00:22:25.570
LUKE MAHE: OK.

00:22:29.190 --> 00:22:29.820
CHRIS BROADFOOT: Oh, wow.

00:22:29.820 --> 00:22:32.637
My internet's really slow.

00:22:32.637 --> 00:22:34.633
OK, where am I going?

00:22:34.633 --> 00:22:35.883
New York.

00:22:41.120 --> 00:22:45.370
Cool, nice autocomplete there.

00:22:45.370 --> 00:22:45.840
What else?

00:22:45.840 --> 00:22:46.670
When do we want to go?

00:22:46.670 --> 00:22:47.125
Let's go tomorrow.

00:22:47.125 --> 00:22:49.156
LUKE MAHE: All right.

00:22:49.156 --> 00:22:51.130
I'm sure our boss will
let us have time off.

00:22:51.130 --> 00:22:52.380
CHRIS BROADFOOT: Yeah.

00:22:55.400 --> 00:23:01.920
So once we do our search,
we can go over here.

00:23:01.920 --> 00:23:03.910
We can get the list view.

00:23:03.910 --> 00:23:07.856
Wow, that's pretty cheap,
$81 a night.

00:23:07.856 --> 00:23:10.310
JASON SANFORD: You'd better
grab that fast.

00:23:10.310 --> 00:23:11.560
CHRIS BROADFOOT: Yeah.

00:23:13.710 --> 00:23:18.460
We can go over and look
at the map instead.

00:23:18.460 --> 00:23:20.000
So I was actually looking
for a place to stay

00:23:20.000 --> 00:23:22.390
in New York, and--

00:23:22.390 --> 00:23:23.295
LUKE MAHE: Not with me?

00:23:23.295 --> 00:23:24.000
CHRIS BROADFOOT: Not with you.

00:23:24.000 --> 00:23:24.540
I'm sorry, Luke.

00:23:24.540 --> 00:23:26.080
LUKE MAHE: Aw.

00:23:26.080 --> 00:23:28.250
CHRIS BROADFOOT: Yeah, and a map
would have been great to--

00:23:31.790 --> 00:23:33.500
because apparently I don't
want to stay in some

00:23:33.500 --> 00:23:34.440
parts of New York.

00:23:34.440 --> 00:23:35.225
LUKE MAHE: I've heard that.

00:23:35.225 --> 00:23:35.710
CHRIS BROADFOOT: Apparently.

00:23:35.710 --> 00:23:38.460
Apparently.

00:23:38.460 --> 00:23:39.950
Oh, so these guys have
solved the too many

00:23:39.950 --> 00:23:41.230
markers problem as well.

00:23:41.230 --> 00:23:43.680
LUKE MAHE: Yeah, so this is
similar to the marker cluster

00:23:43.680 --> 00:23:46.470
where they're just putting a
marker with a number that says

00:23:46.470 --> 00:23:47.290
how many are there.

00:23:47.290 --> 00:23:49.180
And then as you zoom in,
they're basically just

00:23:49.180 --> 00:23:52.400
re-querying and splitting
up that number.

00:23:52.400 --> 00:23:52.910
CHRIS BROADFOOT: So
what happens?

00:23:52.910 --> 00:23:54.630
So where do I want to stay?

00:23:54.630 --> 00:23:57.190
I think we want to
stay way up here.

00:23:57.190 --> 00:23:59.473
LUKE MAHE: Yeah, let's stay
in that Meatpacker area.

00:23:59.473 --> 00:24:00.340
CHRIS BROADFOOT: Meatpacker,
all right.

00:24:00.340 --> 00:24:01.495
Let's--

00:24:01.495 --> 00:24:03.870
LUKE MAHE: And the office is
over there to the left.

00:24:03.870 --> 00:24:06.632
CHRIS BROADFOOT: Putting--

00:24:06.632 --> 00:24:07.670
oh, OK.

00:24:07.670 --> 00:24:08.390
Well, that's interesting.

00:24:08.390 --> 00:24:11.135
I was expecting to click on that
marker, and it shows me--

00:24:11.135 --> 00:24:14.230
it would be cool if it did that
spiderfication, or zoomed

00:24:14.230 --> 00:24:16.560
in or something,
but it didn't.

00:24:16.560 --> 00:24:17.460
$230.

00:24:17.460 --> 00:24:19.605
OK, that seems expensive.

00:24:19.605 --> 00:24:21.420
LUKE MAHE: That's in
Australian dollars.

00:24:21.420 --> 00:24:22.400
CHRIS BROADFOOT: Yeah.

00:24:22.400 --> 00:24:23.830
But yeah, this is pretty cool.

00:24:23.830 --> 00:24:26.740
So we've got some sidebar
here on the right, so I

00:24:26.740 --> 00:24:28.150
can filter by price.

00:24:28.150 --> 00:24:31.360
Maybe I just want to
say I won't spend

00:24:31.360 --> 00:24:37.200
any more than $100.

00:24:37.200 --> 00:24:39.590
Wow, lots of results.

00:24:39.590 --> 00:24:40.480
And where do I want to stay?

00:24:40.480 --> 00:24:41.730
I want to stay in Harlem.

00:24:44.364 --> 00:24:46.205
This is what my friend
told me.

00:24:46.205 --> 00:24:47.455
LUKE MAHE: All right.

00:24:50.030 --> 00:24:50.350
CHRIS BROADFOOT: Cool.

00:24:50.350 --> 00:24:50.920
Great.

00:24:50.920 --> 00:24:52.470
LUKE MAHE: It would be
a bit of a commute.

00:24:56.334 --> 00:24:59.550
CHRIS BROADFOOT: And yeah,
what do I want?

00:24:59.550 --> 00:25:02.174
I want a kitchen.

00:25:02.174 --> 00:25:02.620
Cool.

00:25:02.620 --> 00:25:03.840
So what happens now?

00:25:03.840 --> 00:25:04.935
Do I go over--

00:25:04.935 --> 00:25:06.370
LUKE MAHE: It would be cool if
they hooked this up with the

00:25:06.370 --> 00:25:09.920
Places API, so you could see
kind of what's around.

00:25:09.920 --> 00:25:11.630
CHRIS BROADFOOT: Yeah, like a
Walk Score kind of thing.

00:25:11.630 --> 00:25:12.090
LUKE MAHE: Yeah.

00:25:12.090 --> 00:25:14.176
CHRIS BROADFOOT: Yeah,
that would be cool.

00:25:14.176 --> 00:25:17.865
So we've got this little map
up here in the right.

00:25:17.865 --> 00:25:19.115
It's pretty cool.

00:25:22.420 --> 00:25:22.840
Nice.

00:25:22.840 --> 00:25:23.760
OK, great.

00:25:23.760 --> 00:25:25.571
So that's--

00:25:25.571 --> 00:25:26.280
LUKE MAHE: And do you
want to show the

00:25:26.280 --> 00:25:27.395
other map of the week?

00:25:27.395 --> 00:25:30.090
CHRIS BROADFOOT: Oh,
do you have any

00:25:30.090 --> 00:25:31.560
comments on their site--

00:25:31.560 --> 00:25:32.040
LUKE MAHE: I do not.

00:25:32.040 --> 00:25:32.895
CHRIS BROADFOOT:
For the review?

00:25:32.895 --> 00:25:33.750
It's pretty good.

00:25:33.750 --> 00:25:35.420
LUKE MAHE: It is pretty good.

00:25:35.420 --> 00:25:37.320
CHRIS BROADFOOT: It's going--

00:25:37.320 --> 00:25:38.300
I wonder if they have
Street View--

00:25:38.300 --> 00:25:40.090
LUKE MAHE: My only comments
are the buttons on the top

00:25:40.090 --> 00:25:42.720
right don't match the buttons
on the front page.

00:25:42.720 --> 00:25:43.640
CHRIS BROADFOOT: Ah.

00:25:43.640 --> 00:25:45.940
LUKE MAHE: But that's OK.

00:25:45.940 --> 00:25:47.000
CHRIS BROADFOOT: Oh, yeah,
so they've got some

00:25:47.000 --> 00:25:48.390
Street View up here.

00:25:48.390 --> 00:25:51.510
That's a great idea.

00:25:51.510 --> 00:25:52.980
So we can sort of explore
the area.

00:25:52.980 --> 00:25:54.230
LUKE MAHE: Yeah.

00:25:58.150 --> 00:25:59.400
CHRIS BROADFOOT: Marilyn's
famous.

00:26:02.710 --> 00:26:03.960
Cool.

00:26:09.250 --> 00:26:12.535
Well, these guys are using an
old version of the API.

00:26:12.535 --> 00:26:13.865
LUKE MAHE: It doesn't
have the pancake.

00:26:13.865 --> 00:26:15.170
CHRIS BROADFOOT: Yeah, no--

00:26:15.170 --> 00:26:20.530
so in the Maps API 3.8,
we added Click to

00:26:20.530 --> 00:26:23.490
Go, which means that--

00:26:23.490 --> 00:26:24.730
say I'm on maps.google.com.

00:26:24.730 --> 00:26:29.480
If you click anywhere inside the
panorama, you'll be zoomed

00:26:29.480 --> 00:26:31.400
off to that different
panorama.

00:26:31.400 --> 00:26:32.990
LUKE MAHE: And if you click
on the wall, it'll zoom

00:26:32.990 --> 00:26:34.200
and face the wall.

00:26:34.200 --> 00:26:35.110
CHRIS BROADFOOT: Yep.

00:26:35.110 --> 00:26:37.520
So it looks like these guys are
also animating through the

00:26:37.520 --> 00:26:43.230
panorama to just sort of
give you a look around.

00:26:43.230 --> 00:26:44.700
One suggestion here.

00:26:44.700 --> 00:26:47.080
It would be really cool to just
put a marker on where the

00:26:47.080 --> 00:26:48.820
place actually is.

00:26:48.820 --> 00:26:52.360
So if you put a marker in Street
View, it'll sort of sit

00:26:52.360 --> 00:26:58.350
in its place and move around as
the panorama moves around.

00:26:58.350 --> 00:27:00.190
Yeah, that's my only
suggestion here.

00:27:03.220 --> 00:27:04.590
Yeah, that's quite nice.

00:27:10.070 --> 00:27:10.520
Oh, cool.

00:27:10.520 --> 00:27:13.640
So they might be using the
Places API here to just sort

00:27:13.640 --> 00:27:14.590
of show you what's around.

00:27:14.590 --> 00:27:15.140
LUKE MAHE: That's cool.

00:27:15.140 --> 00:27:16.852
I like that.

00:27:16.852 --> 00:27:18.102
CHRIS BROADFOOT: Yeah,
that's nice.

00:27:21.867 --> 00:27:23.830
LUKE MAHE: And I'd say oh,
they're giving you a rough

00:27:23.830 --> 00:27:25.510
idea of where it is, because
they don't want to show you--

00:27:25.510 --> 00:27:27.090
that's why they're not putting
a marker in Street View.

00:27:27.090 --> 00:27:27.310
CHRIS BROADFOOT: Oh, right.

00:27:27.310 --> 00:27:27.900
They don't give you
the address.

00:27:27.900 --> 00:27:28.780
LUKE MAHE: For privacy
reasons.

00:27:28.780 --> 00:27:29.670
CHRIS BROADFOOT: Ah.

00:27:29.670 --> 00:27:30.663
LUKE MAHE: Smart of them.

00:27:30.663 --> 00:27:31.450
CHRIS BROADFOOT: OK.

00:27:31.450 --> 00:27:33.170
So I understand.

00:27:33.170 --> 00:27:35.120
Well, maybe Street View doesn't
make so much sense,

00:27:35.120 --> 00:27:37.430
because you don't actually
know where it is.

00:27:37.430 --> 00:27:41.200
Somewhere around here.

00:27:41.200 --> 00:27:41.680
Cool.

00:27:41.680 --> 00:27:42.420
Nice.

00:27:42.420 --> 00:27:44.610
OK, what's next?

00:27:44.610 --> 00:27:46.321
So--

00:27:46.321 --> 00:27:47.565
LUKE MAHE: The other
map of the week.

00:27:47.565 --> 00:27:50.030
CHRIS BROADFOOT: The other
map of the week was--

00:27:50.030 --> 00:27:53.540
LUKE MAHE: The Made
in New York.

00:27:53.540 --> 00:27:55.900
Which was using the
marker cluster.

00:27:55.900 --> 00:27:57.660
CHRIS BROADFOOT: Yeah, so let's
take a look at that.

00:28:04.510 --> 00:28:08.820
So I heard on extremely poor
authority that Mayor Bloomberg

00:28:08.820 --> 00:28:10.244
actually coded this himself.

00:28:13.452 --> 00:28:14.890
LUKE MAHE: Well, given
how easy the

00:28:14.890 --> 00:28:17.940
marker cluster is, sure.

00:28:21.250 --> 00:28:22.220
I quite like the UI.

00:28:22.220 --> 00:28:25.010
It works quite well with kind
of the [INAUDIBLE].

00:28:25.010 --> 00:28:26.530
So I feel it's pretty nice.

00:28:26.530 --> 00:28:27.780
CHRIS BROADFOOT: Let's start.

00:28:30.935 --> 00:28:32.090
LUKE MAHE: There's lots of tech

00:28:32.090 --> 00:28:34.050
companies in New York hiring.

00:28:34.050 --> 00:28:35.820
CHRIS BROADFOOT: Yeah.

00:28:35.820 --> 00:28:36.160
Cool.

00:28:36.160 --> 00:28:41.790
So this is using the marker
cluster, which Luke designed.

00:28:41.790 --> 00:28:44.380
Actually, the thing I like about
this site is that they

00:28:44.380 --> 00:28:46.500
didn't space the clusters
too far apart.

00:28:46.500 --> 00:28:49.110
They've sort of brought them
in together so they sort of

00:28:49.110 --> 00:28:50.260
sit next to each other.

00:28:50.260 --> 00:28:53.580
LUKE MAHE: It sort of gives a
heat mappish sort of feel.

00:28:53.580 --> 00:28:54.200
CHRIS BROADFOOT: Yeah.

00:28:54.200 --> 00:29:00.240
It's sort of a bit more
interesting, sort of makes it

00:29:00.240 --> 00:29:01.560
look a bit more dynamic.

00:29:01.560 --> 00:29:04.315
And they're actually using a
really nice star map here.

00:29:04.315 --> 00:29:07.030
So we'll have a look
at that in a sec.

00:29:07.030 --> 00:29:11.480
But it looks like they've
simplified the roads, made

00:29:11.480 --> 00:29:11.940
them white.

00:29:11.940 --> 00:29:15.550
It just looks really nice.

00:29:15.550 --> 00:29:19.030
So as we click here,
we zoom in, and we

00:29:19.030 --> 00:29:21.370
can see all of these--

00:29:21.370 --> 00:29:22.350
what are they?

00:29:22.350 --> 00:29:24.410
Oh, they're hiring companies.

00:29:24.410 --> 00:29:25.840
LUKE MAHE: Yeah, and so you
can filter on the right.

00:29:25.840 --> 00:29:33.220
CHRIS BROADFOOT: So I can filter
digital companies, and

00:29:33.220 --> 00:29:36.980
then select individual
ones with this nice--

00:29:36.980 --> 00:29:39.800
LUKE MAHE: Game Changer.

00:29:39.800 --> 00:29:40.620
CHRIS BROADFOOT: Yeah,
it's really nice.

00:29:40.620 --> 00:29:40.965
LUKE MAHE: Yeah.

00:29:40.965 --> 00:29:43.020
CHRIS BROADFOOT: So it looks
like they're using--

00:29:43.020 --> 00:29:43.730
what is it?

00:29:43.730 --> 00:29:45.080
LUKE MAHE: Fonts API?

00:29:45.080 --> 00:29:48.410
CHRIS BROADFOOT: Yeah, Fonts
API or CSS3 fonts.

00:29:48.410 --> 00:29:51.625
It looks nice.

00:29:51.625 --> 00:29:54.020
LUKE MAHE: Yeah, well done.

00:29:54.020 --> 00:29:54.260
CHRIS BROADFOOT: It's great.

00:29:54.260 --> 00:29:55.883
LUKE MAHE: It solves
a problem.

00:29:55.883 --> 00:29:57.120
It's nicely done.

00:29:57.120 --> 00:29:59.320
It works well.

00:29:59.320 --> 00:29:59.710
CHRIS BROADFOOT: Yeah.

00:29:59.710 --> 00:30:05.670
So let's have a little bit
of a look at the code.

00:30:08.250 --> 00:30:09.090
LUKE MAHE: Because that's
what you want.

00:30:09.090 --> 00:30:11.000
You want everyone looking
at your code live.

00:30:11.000 --> 00:30:12.730
CHRIS BROADFOOT: Yeah.

00:30:12.730 --> 00:30:15.426
So we'll just pull
up the HTML.

00:30:15.426 --> 00:30:18.750
We can sort of see how they've
structured this.

00:30:18.750 --> 00:30:23.150
Let's see some things that
they've done well, maybe give

00:30:23.150 --> 00:30:25.591
some recommendations.

00:30:25.591 --> 00:30:26.841
Oh, come on.

00:30:31.362 --> 00:30:34.094
OK, we can look through the--

00:30:34.094 --> 00:30:35.540
LUKE MAHE: Look through
the JavaScript?

00:30:35.540 --> 00:30:36.790
CHRIS BROADFOOT: Oh, god.

00:30:41.806 --> 00:30:45.094
OK, my laptop's a bit--

00:30:45.094 --> 00:30:45.970
LUKE MAHE: There we go.

00:30:45.970 --> 00:30:47.230
CHRIS BROADFOOT: Oh, I'm
not even up there.

00:30:47.230 --> 00:30:48.070
LUKE MAHE: Oh, you're
projecting--

00:30:48.070 --> 00:30:48.620
CHRIS BROADFOOT: Oh
yeah, there we go.

00:30:48.620 --> 00:30:49.560
LUKE MAHE: There we go.

00:30:49.560 --> 00:30:50.240
CHRIS BROADFOOT: Cool.

00:30:50.240 --> 00:30:55.380
So the first thing I see is they
haven't compiled their

00:30:55.380 --> 00:30:57.480
JavaScript or [? identified ?]
it.

00:30:57.480 --> 00:31:01.350
So immediate speedup there.

00:31:01.350 --> 00:31:03.390
LUKE MAHE: Just on download
time and caching--

00:31:03.390 --> 00:31:04.491
CHRIS BROADFOOT: Yeah, but it's
great, because we can

00:31:04.491 --> 00:31:05.260
just have a look through.

00:31:05.260 --> 00:31:07.720
LUKE MAHE: Yeah, because if
this was all As and Bs, it

00:31:07.720 --> 00:31:09.300
would be quite difficult
to read.

00:31:09.300 --> 00:31:10.720
But you can see the
first bit there.

00:31:10.720 --> 00:31:12.530
They've got their style map.

00:31:12.530 --> 00:31:12.830
CHRIS BROADFOOT: Yeah.

00:31:12.830 --> 00:31:17.670
So the great thing about
JavaScript and just the web is

00:31:17.670 --> 00:31:21.590
you can just look through
people's code.

00:31:21.590 --> 00:31:24.710
So I really like this map style,
so I can go through

00:31:24.710 --> 00:31:27.540
their code, have a look
at what they've done.

00:31:27.540 --> 00:31:28.960
So you can see they've made
all the roads white.

00:31:32.970 --> 00:31:33.930
What have they done here?

00:31:33.930 --> 00:31:38.690
They've sort of lightened the
road labels, re-colored the

00:31:38.690 --> 00:31:42.040
water, and turned off
transit lines.

00:31:42.040 --> 00:31:45.520
LUKE MAHE: So if you like this
style, you can borrow it?

00:31:45.520 --> 00:31:46.190
CHRIS BROADFOOT: Yeah, so--

00:31:46.190 --> 00:31:46.995
LUKE MAHE: And change it?

00:31:46.995 --> 00:31:49.055
CHRIS BROADFOOT: Yeah, so
they didn't actually use

00:31:49.055 --> 00:31:50.055
simplified.

00:31:50.055 --> 00:31:51.830
They just made it all white.

00:31:51.830 --> 00:31:54.270
LUKE MAHE: Looks good.

00:31:54.270 --> 00:31:55.660
And they used jQuery.

00:31:58.710 --> 00:31:59.990
CHRIS BROADFOOT: So
that doesn't look

00:31:59.990 --> 00:32:02.030
like map-related stuff.

00:32:02.030 --> 00:32:04.500
So we've got a fair bit of
customization on the map here.

00:32:07.676 --> 00:32:10.440
That looks great.

00:32:10.440 --> 00:32:12.880
So the other thing we can see
here is they're using one

00:32:12.880 --> 00:32:14.520
infowindow for the whole page.

00:32:14.520 --> 00:32:15.340
LUKE MAHE: Which is brilliant.

00:32:15.340 --> 00:32:15.690
CHRIS BROADFOOT: Yep.

00:32:15.690 --> 00:32:18.330
So as I click on multiple--

00:32:18.330 --> 00:32:20.970
as I click on them and then go
over here and click on another

00:32:20.970 --> 00:32:24.030
one, we're not opening up
multiple infowindows.

00:32:24.030 --> 00:32:25.640
We're just re-using the
one infowindow.

00:32:29.156 --> 00:32:30.406
Yeah, what else?

00:32:32.790 --> 00:32:34.320
All right, so yeah, you
can see how they're

00:32:34.320 --> 00:32:36.640
using marker clusterer.

00:32:36.640 --> 00:32:38.490
So they've got a bit of
customization here on the

00:32:38.490 --> 00:32:39.040
click event.

00:32:39.040 --> 00:32:39.430
LUKE MAHE: Yep.

00:32:39.430 --> 00:32:42.110
So basically when you're
clicking on the marker

00:32:42.110 --> 00:32:44.630
cluster, they are hiding the

00:32:44.630 --> 00:32:46.910
infowindow, hiding the details.

00:32:46.910 --> 00:32:51.764
And if they're zoomed out too
far, they're going to--

00:32:51.764 --> 00:32:54.445
I can't read the bottom
part of that.

00:32:54.445 --> 00:32:55.410
CHRIS BROADFOOT: If
it's zoomed too

00:32:55.410 --> 00:32:56.640
far out, then they--

00:32:56.640 --> 00:32:57.050
LUKE MAHE: And they're
populating

00:32:57.050 --> 00:32:58.160
the list on the right.

00:32:58.160 --> 00:32:58.860
CHRIS BROADFOOT: Oh, right.

00:32:58.860 --> 00:32:59.590
Oh, so this is cool.

00:32:59.590 --> 00:33:05.040
So say we're zoomed-- there's
two companies that are really,

00:33:05.040 --> 00:33:07.560
really close to each other,
maybe in the same building,

00:33:07.560 --> 00:33:08.530
and I click on them.

00:33:08.530 --> 00:33:10.790
It just tells me there's
two companies here.

00:33:10.790 --> 00:33:16.880
So this is another great
solution to too many markers.

00:33:16.880 --> 00:33:20.460
If they're in the exact same
position, you could do the

00:33:20.460 --> 00:33:24.480
spiderfication, or you could
just open the infowindow and

00:33:24.480 --> 00:33:25.100
say what's underneath.

00:33:25.100 --> 00:33:26.040
LUKE MAHE: Yeah.

00:33:26.040 --> 00:33:27.720
Because the marker cluster has
a nice thing where you can

00:33:27.720 --> 00:33:28.590
[? listen to ?] click events.

00:33:28.590 --> 00:33:30.680
So when you click on a cluster,
they'll tell you how

00:33:30.680 --> 00:33:33.230
many markers are actually in
that cluster, and all the

00:33:33.230 --> 00:33:34.422
markers that are in the--

00:33:34.422 --> 00:33:37.070
CHRIS BROADFOOT: Yeah.

00:33:37.070 --> 00:33:37.650
Cool.

00:33:37.650 --> 00:33:39.020
So a whole bunch
of other stuff.

00:33:39.020 --> 00:33:42.350
Have a look through if you're
interested in it.

00:33:42.350 --> 00:33:45.590
So let's just take a quick
look at their HTML.

00:33:45.590 --> 00:33:47.030
Looks like they're using--

00:33:47.030 --> 00:33:49.000
LUKE MAHE: Some nice ASCII
art at the start.

00:33:49.000 --> 00:33:50.250
CHRIS BROADFOOT: Yeah,
that's great.

00:33:53.210 --> 00:33:56.080
Yes, so they've done a great
optimization, which is just

00:33:56.080 --> 00:33:58.950
putting all the JavaScript
at the end of the page.

00:33:58.950 --> 00:34:03.600
Which means it loads after the
rest of the contents there.

00:34:03.600 --> 00:34:06.830
Oh, and they're using a Maps
API key, so they can track

00:34:06.830 --> 00:34:08.790
their usage.

00:34:08.790 --> 00:34:12.310
Definitely recommend that if
you're using the Maps API.

00:34:16.130 --> 00:34:21.560
So they're loading jQuery from
the Google AJAX libraries.

00:34:21.560 --> 00:34:23.750
LUKE MAHE: And nicely you can
see here is when they're

00:34:23.750 --> 00:34:25.745
loading up the source tag,
they're just doing slash

00:34:25.745 --> 00:34:29.440
slash, which means if they're on
HTTP or HTTPS, it will just

00:34:29.440 --> 00:34:30.964
use the correct protocol,
and you won't get

00:34:30.964 --> 00:34:32.120
mixed content warnings.

00:34:32.120 --> 00:34:33.790
CHRIS BROADFOOT: Yeah, it's
good practice to be in.

00:34:33.790 --> 00:34:35.570
LUKE MAHE: One caveat is, if
you're loading something just

00:34:35.570 --> 00:34:39.780
off file, file colon slash
slash, it won't work.

00:34:39.780 --> 00:34:42.179
CHRIS BROADFOOT: Yeah.

00:34:42.179 --> 00:34:47.850
So loading off the AJAX
libraries that use Google's

00:34:47.850 --> 00:34:51.729
content delivery network, so
you'll probably get a speed

00:34:51.729 --> 00:34:54.469
up, and chances are
your users will

00:34:54.469 --> 00:34:57.710
already have jQuery cached.

00:34:57.710 --> 00:34:59.680
So that's great.

00:34:59.680 --> 00:35:02.160
LUKE MAHE: OK, those were
maps of the week.

00:35:02.160 --> 00:35:04.980
CHRIS BROADFOOT: Cool, yeah.

00:35:04.980 --> 00:35:05.820
So--

00:35:05.820 --> 00:35:06.730
LUKE MAHE: Go to
some questions?

00:35:06.730 --> 00:35:09.260
CHRIS BROADFOOT: Yeah, let's
go to some questions.

00:35:09.260 --> 00:35:12.990
So we didn't really have any
on our Google Moderator.

00:35:12.990 --> 00:35:14.240
I'm a bit sad about that.

00:35:18.380 --> 00:35:21.310
Yeah, so we didn't really have
any on our Google Moderator.

00:35:21.310 --> 00:35:23.100
So we're just going to go
through some stack overflow

00:35:23.100 --> 00:35:26.660
questions that we thought were
interesting, or weren't

00:35:26.660 --> 00:35:28.762
already answered.

00:35:28.762 --> 00:35:31.630
LUKE MAHE: And then those
playing at home can go and

00:35:31.630 --> 00:35:33.540
answer the questions before
we get a chance

00:35:33.540 --> 00:35:34.450
to, and get the points.

00:35:34.450 --> 00:35:35.810
CHRIS BROADFOOT:
Yeah, exactly.

00:35:35.810 --> 00:35:39.676
Yeah, I'm not going to go in
and put the answer in.

00:35:39.676 --> 00:35:40.460
LUKE MAHE: You have
to [INAUDIBLE] to

00:35:40.460 --> 00:35:41.774
go watch our Hangout.

00:35:41.774 --> 00:35:43.390
CHRIS BROADFOOT: Yeah.

00:35:43.390 --> 00:35:47.480
Just post a link to the video.

00:35:47.480 --> 00:35:52.680
So this first one is how to
tell KmlLayer about your

00:35:52.680 --> 00:35:56.090
custom map projection.

00:35:56.090 --> 00:36:02.030
So this is an interesting one.

00:36:02.030 --> 00:36:05.560
So it looks like he's got a
custom map projection for some

00:36:05.560 --> 00:36:10.670
[? Russian ?] tiles, and he
also uses the default

00:36:10.670 --> 00:36:11.840
projection.

00:36:11.840 --> 00:36:17.250
But when he uses KmlLayer, it
doesn't work, obviously, with

00:36:17.250 --> 00:36:20.440
the custom projection.

00:36:20.440 --> 00:36:26.240
So, unfortunately, KmlLayer
renders the tile server-side.

00:36:26.240 --> 00:36:30.420
So if you're using some funky
projection, there's not really

00:36:30.420 --> 00:36:33.920
any way that we can get that
over to our server to move the

00:36:33.920 --> 00:36:35.255
markers around.

00:36:35.255 --> 00:36:37.970
LUKE MAHE: Going to have to
convert your stuff to Mercator

00:36:37.970 --> 00:36:38.730
projection.

00:36:38.730 --> 00:36:39.260
CHRIS BROADFOOT: Yeah.

00:36:39.260 --> 00:36:44.300
So either go and try to get
tiles that are in Mercator

00:36:44.300 --> 00:36:51.210
projection, or I think the
easiest thing in this case

00:36:51.210 --> 00:36:58.280
would be to use geoxml3, which
will bring down your KML file,

00:36:58.280 --> 00:37:01.690
parse it, and go and
add markers to the

00:37:01.690 --> 00:37:03.250
map as regular markers.

00:37:03.250 --> 00:37:04.300
LUKE MAHE: Which is fine
as long as your KML

00:37:04.300 --> 00:37:05.668
file is not too big.

00:37:05.668 --> 00:37:06.918
CHRIS BROADFOOT: Yeah.

00:37:09.450 --> 00:37:14.530
Yeah, either that, or you
could probably fake it.

00:37:14.530 --> 00:37:17.490
If you're only showing a KML
layer, you could sort of

00:37:17.490 --> 00:37:19.730
pretend that--

00:37:19.730 --> 00:37:23.606
do some funky projection.

00:37:23.606 --> 00:37:24.860
I don't know.

00:37:24.860 --> 00:37:32.110
It's probably possible, but
geoxml3 is the easy way.

00:37:32.110 --> 00:37:32.620
Cool.

00:37:32.620 --> 00:37:39.400
So next one is how to bind
an infowindow as a

00:37:39.400 --> 00:37:42.600
property of a marker.

00:37:42.600 --> 00:37:46.100
So we don't really do
this very much.

00:37:46.100 --> 00:37:48.450
LUKE MAHE: And binding is kind
of an overloaded word here,

00:37:48.450 --> 00:37:50.870
because we've got the concept
of [? MDC ?] where you

00:37:50.870 --> 00:37:52.210
actually do bind.

00:37:52.210 --> 00:37:55.340
So are they kind of thinking
like, I've got a marker, and I

00:37:55.340 --> 00:37:58.090
want to set a property which
is a reference to my

00:37:58.090 --> 00:37:58.870
infowindow?

00:37:58.870 --> 00:38:00.670
CHRIS BROADFOOT: Yeah,
I'm not sure.

00:38:00.670 --> 00:38:02.310
LUKE MAHE: Technically you can
do that in JavaScript, because

00:38:02.310 --> 00:38:04.830
you can add properties
to any object.

00:38:04.830 --> 00:38:07.300
You want to be careful that
you're not using a property

00:38:07.300 --> 00:38:09.780
that already exists, or that
we may use one day.

00:38:09.780 --> 00:38:12.650
So naming the property something
like underscore

00:38:12.650 --> 00:38:19.240
underscore, some prefix,
underscore infowindows 38

00:38:19.240 --> 00:38:22.300
equals my infowindow.

00:38:22.300 --> 00:38:24.430
And then when you have a click
event on the marker, you can

00:38:24.430 --> 00:38:27.986
just go to this dot underscore
underscore infowindow 38.

00:38:27.986 --> 00:38:28.390
CHRIS BROADFOOT: Yeah.

00:38:28.390 --> 00:38:30.780
LUKE MAHE: And there's
your reference.

00:38:30.780 --> 00:38:31.170
CHRIS BROADFOOT: Yeah.

00:38:31.170 --> 00:38:34.600
So if you actually want to bind
them together, you can

00:38:34.600 --> 00:38:38.870
bind the map property.

00:38:38.870 --> 00:38:41.020
But you've got to be careful
to unbind that if you ever

00:38:41.020 --> 00:38:43.320
want to open that infowindow
on a different marker.

00:38:43.320 --> 00:38:44.570
LUKE MAHE: Yeah.

00:38:46.700 --> 00:38:46.930
CHRIS BROADFOOT: Yeah.

00:38:46.930 --> 00:38:49.000
Otherwise, they'll all be bound
together, basically.

00:38:49.000 --> 00:38:50.820
LUKE MAHE: Or you can bind their
position together as

00:38:50.820 --> 00:38:53.320
well, if you just want them
moving positions.

00:38:53.320 --> 00:38:57.130
So if you've got a marker and
you're dragging it, you want

00:38:57.130 --> 00:38:58.270
the infowindow to follow.

00:38:58.270 --> 00:38:59.870
CHRIS BROADFOOT: Yeah.

00:38:59.870 --> 00:39:05.790
But I see here there's also a
similar question, how do I

00:39:05.790 --> 00:39:07.430
clean up an infowindow when the

00:39:07.430 --> 00:39:10.080
associated marker is hidden?

00:39:10.080 --> 00:39:11.650
I think there's a great
answer down here.

00:39:14.730 --> 00:39:17.950
Or maybe not.

00:39:17.950 --> 00:39:21.780
I mean, this looks
pretty similar.

00:39:21.780 --> 00:39:25.070
So basically, you want to listen
to the map changed

00:39:25.070 --> 00:39:28.690
event on the marker, and then
do something based on that.

00:39:28.690 --> 00:39:30.150
LUKE MAHE: Yeah, visible
change is probably

00:39:30.150 --> 00:39:31.230
not the right one.

00:39:31.230 --> 00:39:32.640
Map change is a better option.

00:39:32.640 --> 00:39:33.130
CHRIS BROADFOOT: Yeah.

00:39:33.130 --> 00:39:34.490
LUKE MAHE: Because when you
remove a marker, you set map

00:39:34.490 --> 00:39:35.486
change to be null.

00:39:35.486 --> 00:39:38.700
And so you could do--

00:39:38.700 --> 00:39:41.030
it really depends on your use
case, but you may do something

00:39:41.030 --> 00:39:43.030
where do I have a variable
that says the

00:39:43.030 --> 00:39:43.740
infowindow is open?

00:39:43.740 --> 00:39:45.090
And if it is, then hide it.

00:39:45.090 --> 00:39:46.954
CHRIS BROADFOOT: Yeah.

00:39:46.954 --> 00:39:48.940
LUKE MAHE: And this may trick
you when you've got multiple

00:39:48.940 --> 00:39:51.280
markers, and one hides, and
you're not really sure.

00:39:51.280 --> 00:39:53.630
So it really depends on your
setup, and what you're

00:39:53.630 --> 00:39:54.360
actually trying to achieve.

00:39:54.360 --> 00:39:56.960
CHRIS BROADFOOT: Yeah.

00:39:56.960 --> 00:40:02.930
Yeah, perhaps if you're using
one infowindow, you could set

00:40:02.930 --> 00:40:05.620
a property on the infowindow
that points to a marker that

00:40:05.620 --> 00:40:07.660
was last opened.

00:40:07.660 --> 00:40:09.700
And then when you're deleting
markers, go and check to see

00:40:09.700 --> 00:40:11.600
if those two are equal.

00:40:11.600 --> 00:40:13.600
And if they are, then you
close the infowindow,

00:40:13.600 --> 00:40:14.630
something like that.

00:40:14.630 --> 00:40:15.080
Yeah?

00:40:15.080 --> 00:40:16.330
LUKE MAHE: Yeah.

00:40:18.230 --> 00:40:18.680
CHRIS BROADFOOT: Cool.

00:40:18.680 --> 00:40:22.935
So there's one more here.

00:40:22.935 --> 00:40:26.168
Well, actually we've
got two more.

00:40:26.168 --> 00:40:29.090
So animated lines with arrows
between two coordinates.

00:40:31.860 --> 00:40:33.830
So we actually did something
similar to this in one of our

00:40:33.830 --> 00:40:34.600
slide decks.

00:40:34.600 --> 00:40:37.930
LUKE MAHE: Yeah, we had us
flying from Sydney to Perth.

00:40:37.930 --> 00:40:39.370
CHRIS BROADFOOT: Yeah.

00:40:39.370 --> 00:40:52.460
So if we go over to the
documentation, there's some

00:40:52.460 --> 00:40:55.520
really useful utility functions

00:40:55.520 --> 00:40:56.980
for spherical geometry.

00:40:56.980 --> 00:41:01.500
So if you know the
two points--

00:41:01.500 --> 00:41:09.070
so if you just go and search
for a spherical, what you

00:41:09.070 --> 00:41:13.050
probably want to use
is interpolate.

00:41:13.050 --> 00:41:16.790
So your From Lat Long is
wherever you're going from.

00:41:16.790 --> 00:41:19.620
Your To Lat Long is wherever
you're going to.

00:41:19.620 --> 00:41:22.960
And then you can call this
function as you're animating,

00:41:22.960 --> 00:41:27.480
and keep updating fraction,
which is the third parameter.

00:41:27.480 --> 00:41:29.750
And then that returns a Lat
Long, and you could then use

00:41:29.750 --> 00:41:34.960
that to update a polyline
or move a marker from

00:41:34.960 --> 00:41:38.320
the From to the To.

00:41:38.320 --> 00:41:39.840
Yeah.

00:41:39.840 --> 00:41:43.090
LUKE MAHE: Bonus points if you
do it in an animation frame.

00:41:43.090 --> 00:41:44.200
CHRIS BROADFOOT: Yeah.

00:41:44.200 --> 00:41:46.300
LUKE MAHE: Then you get
nice performance.

00:41:46.300 --> 00:41:48.290
CHRIS BROADFOOT: Yeah.

00:41:48.290 --> 00:41:53.750
So in terms of arrows, at the
moment, we don't have any

00:41:53.750 --> 00:41:55.556
arrows on polylines.

00:41:55.556 --> 00:41:57.760
But there's an open feature
request for that.

00:41:57.760 --> 00:42:01.750
LUKE MAHE: So star that,
and we'll let you

00:42:01.750 --> 00:42:02.784
know if it gets done.

00:42:02.784 --> 00:42:03.760
CHRIS BROADFOOT: Yeah.

00:42:03.760 --> 00:42:07.790
You could probably fake it with
a little marker as an

00:42:07.790 --> 00:42:09.880
arrow, and move that.

00:42:09.880 --> 00:42:11.880
LUKE MAHE: And then kind of
rotate it, and see if there's

00:42:11.880 --> 00:42:13.650
still something if you
wanted to try and

00:42:13.650 --> 00:42:15.130
get the bearing correctly.

00:42:15.130 --> 00:42:16.380
CHRIS BROADFOOT: Yeah.

00:42:19.950 --> 00:42:21.230
Yeah, or an overlay view.

00:42:21.230 --> 00:42:22.090
LUKE MAHE: Mmm.

00:42:22.090 --> 00:42:23.950
CHRIS BROADFOOT: If someone
wants to create an overlay

00:42:23.950 --> 00:42:26.770
view that just has an arrowhead
that can be rotated,

00:42:26.770 --> 00:42:27.475
that would be pretty cool.

00:42:27.475 --> 00:42:29.163
LUKE MAHE: Do that in
Canvas as well.

00:42:29.163 --> 00:42:29.646
CHRIS BROADFOOT: Yeah.

00:42:29.646 --> 00:42:30.896
LUKE MAHE: Yeah, lots
of cool ways.

00:42:33.500 --> 00:42:36.280
CHRIS BROADFOOT: OK, so
draw a polygon from

00:42:36.280 --> 00:42:39.540
user-entered vertices.

00:42:39.540 --> 00:42:44.550
OK, so he's got a list of
coordinates, and just

00:42:44.550 --> 00:42:47.240
wants to draw them.

00:42:47.240 --> 00:42:51.280
So the first thing you've got to
do is get these coordinates

00:42:51.280 --> 00:42:57.750
into an array of Lat Longs,
which is the format that we

00:42:57.750 --> 00:43:00.480
use to draw polygons.

00:43:00.480 --> 00:43:03.410
So if you actually have it in a
text field like that, you'd

00:43:03.410 --> 00:43:06.940
probably want to maybe split
on commas, and for every

00:43:06.940 --> 00:43:11.650
second one, you can get the
Lat Long pair out of it.

00:43:11.650 --> 00:43:13.645
LUKE MAHE: And then with that
array, you can then create a

00:43:13.645 --> 00:43:14.930
new polyline object.

00:43:14.930 --> 00:43:17.080
CHRIS BROADFOOT:
Polyline, yeah.

00:43:17.080 --> 00:43:17.540
[INTERPOSING VOICES]

00:43:17.540 --> 00:43:19.520
LUKE MAHE: And then add that to
your map with that array,

00:43:19.520 --> 00:43:20.930
and you've got a line.

00:43:20.930 --> 00:43:23.280
CHRIS BROADFOOT: Yeah.

00:43:23.280 --> 00:43:25.670
But if you haven't seen it
already, you should take a

00:43:25.670 --> 00:43:30.350
look at the drawing editable
polylines, which lets your

00:43:30.350 --> 00:43:36.020
users go and draw polylines
on the map, and polygons.

00:43:39.620 --> 00:43:40.090
Cool.

00:43:40.090 --> 00:43:42.234
So that's it.

00:43:42.234 --> 00:43:44.360
LUKE MAHE: OK, I think that's
it for us today.

00:43:44.360 --> 00:43:45.870
CHRIS BROADFOOT: Jason,
are you still there?

00:43:45.870 --> 00:43:47.658
Looks very dark.

00:43:47.658 --> 00:43:51.785
JASON SANFORD: Yeah, I turned
off for a second.

00:43:51.785 --> 00:43:53.310
Didn't want to look
too sleepy here.

00:43:53.310 --> 00:43:54.975
It's getting late here.

00:43:54.975 --> 00:43:57.180
LUKE MAHE: Well, thank you
very much for joining us.

00:43:57.180 --> 00:43:59.370
JASON SANFORD: Yeah, it's
good to be here.

00:43:59.370 --> 00:44:01.005
CHRIS BROADFOOT: Yeah.

00:44:01.005 --> 00:44:02.800
Great, that's it.

00:44:02.800 --> 00:44:05.760
Thanks for watching, those
who are out there.

00:44:05.760 --> 00:44:08.600
Jason, thanks very much
for coming along.

00:44:08.600 --> 00:44:09.645
JASON SANFORD: You're welcome.

00:44:09.645 --> 00:44:10.687
It was fun.

00:44:10.687 --> 00:44:12.180
All right, see you guys.

00:44:12.180 --> 00:44:12.880
LUKE MAHE: See you later.

00:44:12.880 --> 00:44:14.130
CHRIS BROADFOOT: See you guys.

