WEBVTT
Kind: captions
Language: en

00:00:00.000 --> 00:00:07.089
[Music]

00:00:07.089 --> 00:00:07.099
[Music]
 

00:00:07.099 --> 00:00:09.320
[Music]
I'm Louie and I'm engineer on the

00:00:09.320 --> 00:00:09.330
I'm Louie and I'm engineer on the
 

00:00:09.330 --> 00:00:11.450
I'm Louie and I'm engineer on the
Android toolkit team today I'm gonna be

00:00:11.450 --> 00:00:11.460
Android toolkit team today I'm gonna be
 

00:00:11.460 --> 00:00:13.220
Android toolkit team today I'm gonna be
sharing some best practices when using

00:00:13.220 --> 00:00:13.230
sharing some best practices when using
 

00:00:13.230 --> 00:00:14.990
sharing some best practices when using
the Android X preference library part of

00:00:14.990 --> 00:00:15.000
the Android X preference library part of
 

00:00:15.000 --> 00:00:17.779
the Android X preference library part of
jetpack I'm going to be covering some

00:00:17.779 --> 00:00:17.789
jetpack I'm going to be covering some
 

00:00:17.789 --> 00:00:19.580
jetpack I'm going to be covering some
background behind preferences and try to

00:00:19.580 --> 00:00:19.590
background behind preferences and try to
 

00:00:19.590 --> 00:00:20.570
background behind preferences and try to
clear up any confusion between

00:00:20.570 --> 00:00:20.580
clear up any confusion between
 

00:00:20.580 --> 00:00:23.150
clear up any confusion between
preferences and shared preferences I'll

00:00:23.150 --> 00:00:23.160
preferences and shared preferences I'll
 

00:00:23.160 --> 00:00:24.679
preferences and shared preferences I'll
demonstrate how to go to settings screen

00:00:24.679 --> 00:00:24.689
demonstrate how to go to settings screen
 

00:00:24.689 --> 00:00:26.300
demonstrate how to go to settings screen
and some useful features you can use

00:00:26.300 --> 00:00:26.310
and some useful features you can use
 

00:00:26.310 --> 00:00:28.790
and some useful features you can use
along the way and I'm going to cover how

00:00:28.790 --> 00:00:28.800
along the way and I'm going to cover how
 

00:00:28.800 --> 00:00:30.169
along the way and I'm going to cover how
you can use multiple settings screens

00:00:30.169 --> 00:00:30.179
you can use multiple settings screens
 

00:00:30.179 --> 00:00:31.700
you can use multiple settings screens
which is especially useful if you're

00:00:31.700 --> 00:00:31.710
which is especially useful if you're
 

00:00:31.710 --> 00:00:33.380
which is especially useful if you're
migrating your existing architecture to

00:00:33.380 --> 00:00:33.390
migrating your existing architecture to
 

00:00:33.390 --> 00:00:36.560
migrating your existing architecture to
the Android X library but first some

00:00:36.560 --> 00:00:36.570
the Android X library but first some
 

00:00:36.570 --> 00:00:39.200
the Android X library but first some
background what are preferences the

00:00:39.200 --> 00:00:39.210
background what are preferences the
 

00:00:39.210 --> 00:00:40.549
background what are preferences the
preference library is a framework for

00:00:40.549 --> 00:00:40.559
preference library is a framework for
 

00:00:40.559 --> 00:00:42.459
preference library is a framework for
building interactive setting screens

00:00:42.459 --> 00:00:42.469
building interactive setting screens
 

00:00:42.469 --> 00:00:44.990
building interactive setting screens
it handles building and updating the UI

00:00:44.990 --> 00:00:45.000
it handles building and updating the UI
 

00:00:45.000 --> 00:00:46.880
it handles building and updating the UI
so all you need to do is to find a list

00:00:46.880 --> 00:00:46.890
so all you need to do is to find a list
 

00:00:46.890 --> 00:00:48.110
so all you need to do is to find a list
of settings to be displayed to the user

00:00:48.110 --> 00:00:48.120
of settings to be displayed to the user
 

00:00:48.120 --> 00:00:50.779
of settings to be displayed to the user
and it also handles interacting with the

00:00:50.779 --> 00:00:50.789
and it also handles interacting with the
 

00:00:50.789 --> 00:00:53.810
and it also handles interacting with the
Weisse storage so that all so that any

00:00:53.810 --> 00:00:53.820
Weisse storage so that all so that any
 

00:00:53.820 --> 00:00:55.250
Weisse storage so that all so that any
value that the user changes will

00:00:55.250 --> 00:00:55.260
value that the user changes will
 

00:00:55.260 --> 00:00:56.720
value that the user changes will
alternately get persisted to the device

00:00:56.720 --> 00:00:56.730
alternately get persisted to the device
 

00:00:56.730 --> 00:00:58.090
alternately get persisted to the device
without you having to worry about it

00:00:58.090 --> 00:00:58.100
without you having to worry about it
 

00:00:58.100 --> 00:01:00.380
without you having to worry about it
preferences itself currently exists in

00:01:00.380 --> 00:01:00.390
preferences itself currently exists in
 

00:01:00.390 --> 00:01:03.529
preferences itself currently exists in
two separate forms first the framework

00:01:03.529 --> 00:01:03.539
two separate forms first the framework
 

00:01:03.539 --> 00:01:06.050
two separate forms first the framework
preference API this has been bundled

00:01:06.050 --> 00:01:06.060
preference API this has been bundled
 

00:01:06.060 --> 00:01:07.670
preference API this has been bundled
with the android framework since the

00:01:07.670 --> 00:01:07.680
with the android framework since the
 

00:01:07.680 --> 00:01:09.530
with the android framework since the
first version of android so 11 years ago

00:01:09.530 --> 00:01:09.540
first version of android so 11 years ago
 

00:01:09.540 --> 00:01:12.140
first version of android so 11 years ago
now since it is part of the framework

00:01:12.140 --> 00:01:12.150
now since it is part of the framework
 

00:01:12.150 --> 00:01:14.000
now since it is part of the framework
any new features and bug fixes we add

00:01:14.000 --> 00:01:14.010
any new features and bug fixes we add
 

00:01:14.010 --> 00:01:16.190
any new features and bug fixes we add
only make their way to the newer

00:01:16.190 --> 00:01:16.200
only make their way to the newer
 

00:01:16.200 --> 00:01:18.800
only make their way to the newer
versions of android and given that the

00:01:18.800 --> 00:01:18.810
versions of android and given that the
 

00:01:18.810 --> 00:01:20.570
versions of android and given that the
design has changed all over the last 11

00:01:20.570 --> 00:01:20.580
design has changed all over the last 11
 

00:01:20.580 --> 00:01:22.429
design has changed all over the last 11
years as well the framework api is

00:01:22.429 --> 00:01:22.439
years as well the framework api is
 

00:01:22.439 --> 00:01:23.660
years as well the framework api is
themed differently depending on which

00:01:23.660 --> 00:01:23.670
themed differently depending on which
 

00:01:23.670 --> 00:01:24.980
themed differently depending on which
version of android the device is running

00:01:24.980 --> 00:01:24.990
version of android the device is running
 

00:01:24.990 --> 00:01:27.770
version of android the device is running
on as a result of these we're no longer

00:01:27.770 --> 00:01:27.780
on as a result of these we're no longer
 

00:01:27.780 --> 00:01:29.359
on as a result of these we're no longer
maintaining the framework api and

00:01:29.359 --> 00:01:29.369
maintaining the framework api and
 

00:01:29.369 --> 00:01:30.890
maintaining the framework api and
instead we recommend using the android x

00:01:30.890 --> 00:01:30.900
instead we recommend using the android x
 

00:01:30.900 --> 00:01:34.039
instead we recommend using the android x
library the Android X preference library

00:01:34.039 --> 00:01:34.049
library the Android X preference library
 

00:01:34.049 --> 00:01:36.499
library the Android X preference library
previously known as the v7 and v14

00:01:36.499 --> 00:01:36.509
previously known as the v7 and v14
 

00:01:36.509 --> 00:01:38.300
previously known as the v7 and v14
preference support libraries is

00:01:38.300 --> 00:01:38.310
preference support libraries is
 

00:01:38.310 --> 00:01:40.969
preference support libraries is
unbundled from the framework this means

00:01:40.969 --> 00:01:40.979
unbundled from the framework this means
 

00:01:40.979 --> 00:01:42.740
unbundled from the framework this means
it can be rapidly updated with any new

00:01:42.740 --> 00:01:42.750
it can be rapidly updated with any new
 

00:01:42.750 --> 00:01:45.200
it can be rapidly updated with any new
features and bug fixes we push the

00:01:45.200 --> 00:01:45.210
features and bug fixes we push the
 

00:01:45.210 --> 00:01:47.149
features and bug fixes we push the
library itself is backwards compatible

00:01:47.149 --> 00:01:47.159
library itself is backwards compatible
 

00:01:47.159 --> 00:01:49.850
library itself is backwards compatible
down to API 14 and uses the same updated

00:01:49.850 --> 00:01:49.860
down to API 14 and uses the same updated
 

00:01:49.860 --> 00:01:51.850
down to API 14 and uses the same updated
material theme across all your devices

00:01:51.850 --> 00:01:51.860
material theme across all your devices
 

00:01:51.860 --> 00:01:53.929
material theme across all your devices
this results in a consistent experience

00:01:53.929 --> 00:01:53.939
this results in a consistent experience
 

00:01:53.939 --> 00:01:58.039
this results in a consistent experience
for your users and how does this all

00:01:58.039 --> 00:01:58.049
for your users and how does this all
 

00:01:58.049 --> 00:01:59.149
for your users and how does this all
relate to shared preferences you may be

00:01:59.149 --> 00:01:59.159
relate to shared preferences you may be
 

00:01:59.159 --> 00:02:01.490
relate to shared preferences you may be
wondering the shared preference API is

00:02:01.490 --> 00:02:01.500
wondering the shared preference API is
 

00:02:01.500 --> 00:02:03.469
wondering the shared preference API is
allow you to persist key value pairs of

00:02:03.469 --> 00:02:03.479
allow you to persist key value pairs of
 

00:02:03.479 --> 00:02:06.469
allow you to persist key value pairs of
data to the device they used internally

00:02:06.469 --> 00:02:06.479
data to the device they used internally
 

00:02:06.479 --> 00:02:08.089
data to the device they used internally
by the preference library to save and

00:02:08.089 --> 00:02:08.099
by the preference library to save and
 

00:02:08.099 --> 00:02:09.499
by the preference library to save and
retrieve any values that a user

00:02:09.499 --> 00:02:09.509
retrieve any values that a user
 

00:02:09.509 --> 00:02:11.180
retrieve any values that a user
configures but on actually part of the

00:02:11.180 --> 00:02:11.190
configures but on actually part of the
 

00:02:11.190 --> 00:02:13.809
configures but on actually part of the
library itself just a lower layer

00:02:13.809 --> 00:02:13.819
library itself just a lower layer
 

00:02:13.819 --> 00:02:15.039
library itself just a lower layer
so let's start voting our settings

00:02:15.039 --> 00:02:15.049
so let's start voting our settings
 

00:02:15.049 --> 00:02:16.809
so let's start voting our settings
screen we're going to start off by

00:02:16.809 --> 00:02:16.819
screen we're going to start off by
 

00:02:16.819 --> 00:02:18.280
screen we're going to start off by
voting the simple hierarchy on the right

00:02:18.280 --> 00:02:18.290
voting the simple hierarchy on the right
 

00:02:18.290 --> 00:02:20.770
voting the simple hierarchy on the right
we have a preference with a switch that

00:02:20.770 --> 00:02:20.780
we have a preference with a switch that
 

00:02:20.780 --> 00:02:22.569
we have a preference with a switch that
allows the user to toggle state and a

00:02:22.569 --> 00:02:22.579
allows the user to toggle state and a
 

00:02:22.579 --> 00:02:24.970
allows the user to toggle state and a
preference that just displays text I'm

00:02:24.970 --> 00:02:24.980
preference that just displays text I'm
 

00:02:24.980 --> 00:02:26.289
preference that just displays text I'm
going to cover how you should structure

00:02:26.289 --> 00:02:26.299
going to cover how you should structure
 

00:02:26.299 --> 00:02:28.089
going to cover how you should structure
your architecture and also some basic

00:02:28.089 --> 00:02:28.099
your architecture and also some basic
 

00:02:28.099 --> 00:02:29.319
your architecture and also some basic
attributes you should be aware of when

00:02:29.319 --> 00:02:29.329
attributes you should be aware of when
 

00:02:29.329 --> 00:02:32.500
attributes you should be aware of when
you're using my preference library so

00:02:32.500 --> 00:02:32.510
you're using my preference library so
 

00:02:32.510 --> 00:02:33.729
you're using my preference library so
we're going to start at the top with a

00:02:33.729 --> 00:02:33.739
we're going to start at the top with a
 

00:02:33.739 --> 00:02:35.470
we're going to start at the top with a
simple activity that just acts as the

00:02:35.470 --> 00:02:35.480
simple activity that just acts as the
 

00:02:35.480 --> 00:02:37.479
simple activity that just acts as the
container for our hierarchy this should

00:02:37.479 --> 00:02:37.489
container for our hierarchy this should
 

00:02:37.489 --> 00:02:39.550
container for our hierarchy this should
be an app compat activity with an app

00:02:39.550 --> 00:02:39.560
be an app compat activity with an app
 

00:02:39.560 --> 00:02:42.430
be an app compat activity with an app
compat based theme the activity itself

00:02:42.430 --> 00:02:42.440
compat based theme the activity itself
 

00:02:42.440 --> 00:02:44.380
compat based theme the activity itself
is basically just a container for this

00:02:44.380 --> 00:02:44.390
is basically just a container for this
 

00:02:44.390 --> 00:02:46.270
is basically just a container for this
preference fragment compat which is the

00:02:46.270 --> 00:02:46.280
preference fragment compat which is the
 

00:02:46.280 --> 00:02:47.440
preference fragment compat which is the
main entry point when using the

00:02:47.440 --> 00:02:47.450
main entry point when using the
 

00:02:47.450 --> 00:02:49.349
main entry point when using the
preference library all our interesting

00:02:49.349 --> 00:02:49.359
preference library all our interesting
 

00:02:49.359 --> 00:02:51.160
preference library all our interesting
preferences and configuration will

00:02:51.160 --> 00:02:51.170
preferences and configuration will
 

00:02:51.170 --> 00:02:53.410
preferences and configuration will
happen in here and this fragment itself

00:02:53.410 --> 00:02:53.420
happen in here and this fragment itself
 

00:02:53.420 --> 00:02:55.660
happen in here and this fragment itself
just wraps a hierarchy of individual

00:02:55.660 --> 00:02:55.670
just wraps a hierarchy of individual
 

00:02:55.670 --> 00:02:57.369
just wraps a hierarchy of individual
preferences which can either be defined

00:02:57.369 --> 00:02:57.379
preferences which can either be defined
 

00:02:57.379 --> 00:02:59.140
preferences which can either be defined
in an XML resource or defined

00:02:59.140 --> 00:02:59.150
in an XML resource or defined
 

00:02:59.150 --> 00:03:01.599
in an XML resource or defined
programmatically at runtime in this talk

00:03:01.599 --> 00:03:01.609
programmatically at runtime in this talk
 

00:03:01.609 --> 00:03:04.720
programmatically at runtime in this talk
we're going to focus on XML so the

00:03:04.720 --> 00:03:04.730
we're going to focus on XML so the
 

00:03:04.730 --> 00:03:06.490
we're going to focus on XML so the
activity itself is again just a simple

00:03:06.490 --> 00:03:06.500
activity itself is again just a simple
 

00:03:06.500 --> 00:03:08.110
activity itself is again just a simple
container for our fragment so we just

00:03:08.110 --> 00:03:08.120
container for our fragment so we just
 

00:03:08.120 --> 00:03:09.460
container for our fragment so we just
have some simple fragment boilerplate

00:03:09.460 --> 00:03:09.470
have some simple fragment boilerplate
 

00:03:09.470 --> 00:03:11.080
have some simple fragment boilerplate
and all we need to do here is just show

00:03:11.080 --> 00:03:11.090
and all we need to do here is just show
 

00:03:11.090 --> 00:03:14.530
and all we need to do here is just show
our settings fragment the fragment again

00:03:14.530 --> 00:03:14.540
our settings fragment the fragment again
 

00:03:14.540 --> 00:03:16.240
our settings fragment the fragment again
fairly simple all you need to do is

00:03:16.240 --> 00:03:16.250
fairly simple all you need to do is
 

00:03:16.250 --> 00:03:17.559
fairly simple all you need to do is
override this one method oncreate

00:03:17.559 --> 00:03:17.569
override this one method oncreate
 

00:03:17.569 --> 00:03:19.689
override this one method oncreate
preferences and then just set up the

00:03:19.689 --> 00:03:19.699
preferences and then just set up the
 

00:03:19.699 --> 00:03:21.099
preferences and then just set up the
hierarchy that you can inflate and show

00:03:21.099 --> 00:03:21.109
hierarchy that you can inflate and show
 

00:03:21.109 --> 00:03:23.470
hierarchy that you can inflate and show
to the user all the interesting

00:03:23.470 --> 00:03:23.480
to the user all the interesting
 

00:03:23.480 --> 00:03:26.189
to the user all the interesting
definition actually happens in the XML

00:03:26.189 --> 00:03:26.199
definition actually happens in the XML
 

00:03:26.199 --> 00:03:29.890
definition actually happens in the XML
so this is our XML file we start with a

00:03:29.890 --> 00:03:29.900
so this is our XML file we start with a
 

00:03:29.900 --> 00:03:31.479
so this is our XML file we start with a
root preference screen object and this

00:03:31.479 --> 00:03:31.489
root preference screen object and this
 

00:03:31.489 --> 00:03:32.949
root preference screen object and this
basically is the main container for the

00:03:32.949 --> 00:03:32.959
basically is the main container for the
 

00:03:32.959 --> 00:03:34.960
basically is the main container for the
entire hierarchy everything should go

00:03:34.960 --> 00:03:34.970
entire hierarchy everything should go
 

00:03:34.970 --> 00:03:36.069
entire hierarchy everything should go
inside of this and they should be the

00:03:36.069 --> 00:03:36.079
inside of this and they should be the
 

00:03:36.079 --> 00:03:38.349
inside of this and they should be the
root element note that you should also

00:03:38.349 --> 00:03:38.359
root element note that you should also
 

00:03:38.359 --> 00:03:40.330
root element note that you should also
place your preference XML resource files

00:03:40.330 --> 00:03:40.340
place your preference XML resource files
 

00:03:40.340 --> 00:03:43.869
place your preference XML resource files
in the res XML directory so now we can

00:03:43.869 --> 00:03:43.879
in the res XML directory so now we can
 

00:03:43.879 --> 00:03:45.670
in the res XML directory so now we can
add our first preference this is a basic

00:03:45.670 --> 00:03:45.680
add our first preference this is a basic
 

00:03:45.680 --> 00:03:48.309
add our first preference this is a basic
preference it doesn't have anything any

00:03:48.309 --> 00:03:48.319
preference it doesn't have anything any
 

00:03:48.319 --> 00:03:50.289
preference it doesn't have anything any
widget associated with it and we have

00:03:50.289 --> 00:03:50.299
widget associated with it and we have
 

00:03:50.299 --> 00:03:51.849
widget associated with it and we have
these three important attributes here

00:03:51.849 --> 00:03:51.859
these three important attributes here
 

00:03:51.859 --> 00:03:54.280
these three important attributes here
the title and summary are the visual

00:03:54.280 --> 00:03:54.290
the title and summary are the visual
 

00:03:54.290 --> 00:03:55.750
the title and summary are the visual
title and the visual summary actually

00:03:55.750 --> 00:03:55.760
title and the visual summary actually
 

00:03:55.760 --> 00:03:57.129
title and the visual summary actually
displayed to the user on the screen as

00:03:57.129 --> 00:03:57.139
displayed to the user on the screen as
 

00:03:57.139 --> 00:03:59.140
displayed to the user on the screen as
you can see on the right and the key is

00:03:59.140 --> 00:03:59.150
you can see on the right and the key is
 

00:03:59.150 --> 00:04:00.640
you can see on the right and the key is
pretty important for two reasons

00:04:00.640 --> 00:04:00.650
pretty important for two reasons
 

00:04:00.650 --> 00:04:02.589
pretty important for two reasons
firstly if this preference were to

00:04:02.589 --> 00:04:02.599
firstly if this preference were to
 

00:04:02.599 --> 00:04:04.720
firstly if this preference were to
persist any state to the device then

00:04:04.720 --> 00:04:04.730
persist any state to the device then
 

00:04:04.730 --> 00:04:05.710
persist any state to the device then
this is the key that the shared

00:04:05.710 --> 00:04:05.720
this is the key that the shared
 

00:04:05.720 --> 00:04:08.080
this is the key that the shared
preference instance would use and also

00:04:08.080 --> 00:04:08.090
preference instance would use and also
 

00:04:08.090 --> 00:04:09.369
preference instance would use and also
this key allows you to interact with

00:04:09.369 --> 00:04:09.379
this key allows you to interact with
 

00:04:09.379 --> 00:04:10.839
this key allows you to interact with
this preference later on in your life

00:04:10.839 --> 00:04:10.849
this preference later on in your life
 

00:04:10.849 --> 00:04:12.759
this preference later on in your life
cycle so it's very important to declare

00:04:12.759 --> 00:04:12.769
cycle so it's very important to declare
 

00:04:12.769 --> 00:04:13.990
cycle so it's very important to declare
a key for every preference in your

00:04:13.990 --> 00:04:14.000
a key for every preference in your
 

00:04:14.000 --> 00:04:16.779
a key for every preference in your
hierarchy and now we can add a switch

00:04:16.779 --> 00:04:16.789
hierarchy and now we can add a switch
 

00:04:16.789 --> 00:04:18.729
hierarchy and now we can add a switch
preference comp add this is a type of

00:04:18.729 --> 00:04:18.739
preference comp add this is a type of
 

00:04:18.739 --> 00:04:20.620
preference comp add this is a type of
preference very similar to before but

00:04:20.620 --> 00:04:20.630
preference very similar to before but
 

00:04:20.630 --> 00:04:23.440
preference very similar to before but
now we have a switch widget so whenever

00:04:23.440 --> 00:04:23.450
now we have a switch widget so whenever
 

00:04:23.450 --> 00:04:24.459
now we have a switch widget so whenever
they use a toggle the side of this

00:04:24.459 --> 00:04:24.469
they use a toggle the side of this
 

00:04:24.469 --> 00:04:26.469
they use a toggle the side of this
preference this will update the boolean

00:04:26.469 --> 00:04:26.479
preference this will update the boolean
 

00:04:26.479 --> 00:04:27.520
preference this will update the boolean
value persisted to

00:04:27.520 --> 00:04:27.530
value persisted to
 

00:04:27.530 --> 00:04:30.820
value persisted to
he'd find here now that we've built the

00:04:30.820 --> 00:04:30.830
he'd find here now that we've built the
 

00:04:30.830 --> 00:04:32.110
he'd find here now that we've built the
simple hierarchy I'll show you some

00:04:32.110 --> 00:04:32.120
simple hierarchy I'll show you some
 

00:04:32.120 --> 00:04:33.550
simple hierarchy I'll show you some
other useful features we can add to make

00:04:33.550 --> 00:04:33.560
other useful features we can add to make
 

00:04:33.560 --> 00:04:37.060
other useful features we can add to make
this even better here's the hierarchy

00:04:37.060 --> 00:04:37.070
this even better here's the hierarchy
 

00:04:37.070 --> 00:04:38.470
this even better here's the hierarchy
we're going to end up with there's quite

00:04:38.470 --> 00:04:38.480
we're going to end up with there's quite
 

00:04:38.480 --> 00:04:39.700
we're going to end up with there's quite
a lot more going on here so we're gonna

00:04:39.700 --> 00:04:39.710
a lot more going on here so we're gonna
 

00:04:39.710 --> 00:04:41.890
a lot more going on here so we're gonna
take it step by step first I'm going to

00:04:41.890 --> 00:04:41.900
take it step by step first I'm going to
 

00:04:41.900 --> 00:04:43.240
take it step by step first I'm going to
cover categories which allow you to

00:04:43.240 --> 00:04:43.250
cover categories which allow you to
 

00:04:43.250 --> 00:04:45.430
cover categories which allow you to
visually split up a complex screen into

00:04:45.430 --> 00:04:45.440
visually split up a complex screen into
 

00:04:45.440 --> 00:04:47.680
visually split up a complex screen into
groups of similar preferences then

00:04:47.680 --> 00:04:47.690
groups of similar preferences then
 

00:04:47.690 --> 00:04:49.360
groups of similar preferences then
preferences at open dialogues which

00:04:49.360 --> 00:04:49.370
preferences at open dialogues which
 

00:04:49.370 --> 00:04:51.280
preferences at open dialogues which
allow for more complex configuration

00:04:51.280 --> 00:04:51.290
allow for more complex configuration
 

00:04:51.290 --> 00:04:53.470
allow for more complex configuration
they're just a simple boolean switch I'm

00:04:53.470 --> 00:04:53.480
they're just a simple boolean switch I'm
 

00:04:53.480 --> 00:04:54.580
they're just a simple boolean switch I'm
going to talk a bit about dynamic

00:04:54.580 --> 00:04:54.590
going to talk a bit about dynamic
 

00:04:54.590 --> 00:04:58.950
going to talk a bit about dynamic
summaries and also cover dependencies so

00:04:58.950 --> 00:04:58.960
summaries and also cover dependencies so
 

00:04:58.960 --> 00:05:00.610
summaries and also cover dependencies so
continuing from where we left off before

00:05:00.610 --> 00:05:00.620
continuing from where we left off before
 

00:05:00.620 --> 00:05:02.800
continuing from where we left off before
these are the same preferences I had

00:05:02.800 --> 00:05:02.810
these are the same preferences I had
 

00:05:02.810 --> 00:05:04.390
these are the same preferences I had
before just without the rude preference

00:05:04.390 --> 00:05:04.400
before just without the rude preference
 

00:05:04.400 --> 00:05:07.630
before just without the rude preference
greentech four verbosity one of these

00:05:07.630 --> 00:05:07.640
greentech four verbosity one of these
 

00:05:07.640 --> 00:05:09.700
greentech four verbosity one of these
controls sinking and one just stays

00:05:09.700 --> 00:05:09.710
controls sinking and one just stays
 

00:05:09.710 --> 00:05:11.290
controls sinking and one just stays
display static information about the

00:05:11.290 --> 00:05:11.300
display static information about the
 

00:05:11.300 --> 00:05:13.540
display static information about the
application although this is kind of

00:05:13.540 --> 00:05:13.550
application although this is kind of
 

00:05:13.550 --> 00:05:14.800
application although this is kind of
simple and Alice or any two things in

00:05:14.800 --> 00:05:14.810
simple and Alice or any two things in
 

00:05:14.810 --> 00:05:16.480
simple and Alice or any two things in
that hierarchy the more we add to this

00:05:16.480 --> 00:05:16.490
that hierarchy the more we add to this
 

00:05:16.490 --> 00:05:18.340
that hierarchy the more we add to this
hierarchy the harder it's gonna be for a

00:05:18.340 --> 00:05:18.350
hierarchy the harder it's gonna be for a
 

00:05:18.350 --> 00:05:19.900
hierarchy the harder it's gonna be for a
user to actually see what preference

00:05:19.900 --> 00:05:19.910
user to actually see what preference
 

00:05:19.910 --> 00:05:21.909
user to actually see what preference
does what we can use preference

00:05:21.909 --> 00:05:21.919
does what we can use preference
 

00:05:21.919 --> 00:05:23.680
does what we can use preference
categories to help separate this up into

00:05:23.680 --> 00:05:23.690
categories to help separate this up into
 

00:05:23.690 --> 00:05:26.440
categories to help separate this up into
logical sub sections to do this we

00:05:26.440 --> 00:05:26.450
logical sub sections to do this we
 

00:05:26.450 --> 00:05:28.210
logical sub sections to do this we
simply wrap these preference objects

00:05:28.210 --> 00:05:28.220
simply wrap these preference objects
 

00:05:28.220 --> 00:05:30.460
simply wrap these preference objects
with a preference category tag and as

00:05:30.460 --> 00:05:30.470
with a preference category tag and as
 

00:05:30.470 --> 00:05:32.409
with a preference category tag and as
you can see this now adds an accented

00:05:32.409 --> 00:05:32.419
you can see this now adds an accented
 

00:05:32.419 --> 00:05:35.409
you can see this now adds an accented
title above these groups again it's

00:05:35.409 --> 00:05:35.419
title above these groups again it's
 

00:05:35.419 --> 00:05:37.480
title above these groups again it's
important to set a key and to these so

00:05:37.480 --> 00:05:37.490
important to set a key and to these so
 

00:05:37.490 --> 00:05:41.260
important to set a key and to these so
be correctly persistent state and the

00:05:41.260 --> 00:05:41.270
be correctly persistent state and the
 

00:05:41.270 --> 00:05:43.029
be correctly persistent state and the
title again same as before same

00:05:43.029 --> 00:05:43.039
title again same as before same
 

00:05:43.039 --> 00:05:44.320
title again same as before same
attribute just displaced lennie

00:05:44.320 --> 00:05:44.330
attribute just displaced lennie
 

00:05:44.330 --> 00:05:47.620
attribute just displaced lennie
differently next we're going to add an

00:05:47.620 --> 00:05:47.630
differently next we're going to add an
 

00:05:47.630 --> 00:05:49.570
differently next we're going to add an
edit text preference similar to a switch

00:05:49.570 --> 00:05:49.580
edit text preference similar to a switch
 

00:05:49.580 --> 00:05:51.159
edit text preference similar to a switch
preference compat in that it's a subset

00:05:51.159 --> 00:05:51.169
preference compat in that it's a subset
 

00:05:51.169 --> 00:05:53.320
preference compat in that it's a subset
of a preference this preference uses a

00:05:53.320 --> 00:05:53.330
of a preference this preference uses a
 

00:05:53.330 --> 00:05:54.790
of a preference this preference uses a
dialog to allow persisting a string

00:05:54.790 --> 00:05:54.800
dialog to allow persisting a string
 

00:05:54.800 --> 00:05:56.680
dialog to allow persisting a string
value so when the user taps on this

00:05:56.680 --> 00:05:56.690
value so when the user taps on this
 

00:05:56.690 --> 00:05:58.779
value so when the user taps on this
preference we automatically open a

00:05:58.779 --> 00:05:58.789
preference we automatically open a
 

00:05:58.789 --> 00:06:00.250
preference we automatically open a
dialog for you which contains an

00:06:00.250 --> 00:06:00.260
dialog for you which contains an
 

00:06:00.260 --> 00:06:02.500
dialog for you which contains an
editable text field and when the user

00:06:02.500 --> 00:06:02.510
editable text field and when the user
 

00:06:02.510 --> 00:06:04.000
editable text field and when the user
taps on okay this value is then

00:06:04.000 --> 00:06:04.010
taps on okay this value is then
 

00:06:04.010 --> 00:06:06.909
taps on okay this value is then
persisted however this gives us some

00:06:06.909 --> 00:06:06.919
persisted however this gives us some
 

00:06:06.919 --> 00:06:09.279
persisted however this gives us some
interesting question what do we set for

00:06:09.279 --> 00:06:09.289
interesting question what do we set for
 

00:06:09.289 --> 00:06:11.590
interesting question what do we set for
the summary here right now there's no

00:06:11.590 --> 00:06:11.600
the summary here right now there's no
 

00:06:11.600 --> 00:06:12.850
the summary here right now there's no
summary so it's quite hard for the user

00:06:12.850 --> 00:06:12.860
summary so it's quite hard for the user
 

00:06:12.860 --> 00:06:14.620
summary so it's quite hard for the user
to see what the current state is and we

00:06:14.620 --> 00:06:14.630
to see what the current state is and we
 

00:06:14.630 --> 00:06:16.360
to see what the current state is and we
would like to show the user what they've

00:06:16.360 --> 00:06:16.370
would like to show the user what they've
 

00:06:16.370 --> 00:06:17.740
would like to show the user what they've
actually saved so they know what they've

00:06:17.740 --> 00:06:17.750
actually saved so they know what they've
 

00:06:17.750 --> 00:06:19.330
actually saved so they know what they've
done but since this can change

00:06:19.330 --> 00:06:19.340
done but since this can change
 

00:06:19.340 --> 00:06:21.460
done but since this can change
dynamically at runtime we can't just put

00:06:21.460 --> 00:06:21.470
dynamically at runtime we can't just put
 

00:06:21.470 --> 00:06:24.010
dynamically at runtime we can't just put
a string here the answer here is to use

00:06:24.010 --> 00:06:24.020
a string here the answer here is to use
 

00:06:24.020 --> 00:06:26.890
a string here the answer here is to use
a simple summary provider this is added

00:06:26.890 --> 00:06:26.900
a simple summary provider this is added
 

00:06:26.900 --> 00:06:29.380
a simple summary provider this is added
recently in the 1.1 alpha release and

00:06:29.380 --> 00:06:29.390
recently in the 1.1 alpha release and
 

00:06:29.390 --> 00:06:32.050
recently in the 1.1 alpha release and
it's part of a broad category of things

00:06:32.050 --> 00:06:32.060
it's part of a broad category of things
 

00:06:32.060 --> 00:06:34.029
it's part of a broad category of things
we call dynamic summaries I'll cover

00:06:34.029 --> 00:06:34.039
we call dynamic summaries I'll cover
 

00:06:34.039 --> 00:06:36.040
we call dynamic summaries I'll cover
more about that later on but this simple

00:06:36.040 --> 00:06:36.050
more about that later on but this simple
 

00:06:36.050 --> 00:06:37.810
more about that later on but this simple
attribute when set to true will mean

00:06:37.810 --> 00:06:37.820
attribute when set to true will mean
 

00:06:37.820 --> 00:06:39.100
attribute when set to true will mean
that the preference summary will

00:06:39.100 --> 00:06:39.110
that the preference summary will
 

00:06:39.110 --> 00:06:40.839
that the preference summary will
automatically display either the value

00:06:40.839 --> 00:06:40.849
automatically display either the value
 

00:06:40.849 --> 00:06:41.500
automatically display either the value
say for the pair

00:06:41.500 --> 00:06:41.510
say for the pair
 

00:06:41.510 --> 00:06:43.300
say for the pair
once all the text not said if there

00:06:43.300 --> 00:06:43.310
once all the text not said if there
 

00:06:43.310 --> 00:06:45.790
once all the text not said if there
isn't any value said so now we have a

00:06:45.790 --> 00:06:45.800
isn't any value said so now we have a
 

00:06:45.800 --> 00:06:47.620
isn't any value said so now we have a
way for the user to set a sync code and

00:06:47.620 --> 00:06:47.630
way for the user to set a sync code and
 

00:06:47.630 --> 00:06:48.820
way for the user to set a sync code and
they can see that the value of they've

00:06:48.820 --> 00:06:48.830
they can see that the value of they've
 

00:06:48.830 --> 00:06:51.070
they can see that the value of they've
said automatically however there's one

00:06:51.070 --> 00:06:51.080
said automatically however there's one
 

00:06:51.080 --> 00:06:52.450
said automatically however there's one
problem here it doesn't really make much

00:06:52.450 --> 00:06:52.460
problem here it doesn't really make much
 

00:06:52.460 --> 00:06:54.430
problem here it doesn't really make much
sense for the user to be able to change

00:06:54.430 --> 00:06:54.440
sense for the user to be able to change
 

00:06:54.440 --> 00:06:56.440
sense for the user to be able to change
this field if syncing actually isn't

00:06:56.440 --> 00:06:56.450
this field if syncing actually isn't
 

00:06:56.450 --> 00:07:00.520
this field if syncing actually isn't
enabled we can use a dependency here to

00:07:00.520 --> 00:07:00.530
enabled we can use a dependency here to
 

00:07:00.530 --> 00:07:03.340
enabled we can use a dependency here to
fix that essentially setting a

00:07:03.340 --> 00:07:03.350
fix that essentially setting a
 

00:07:03.350 --> 00:07:05.530
fix that essentially setting a
dependency allows another preference to

00:07:05.530 --> 00:07:05.540
dependency allows another preference to
 

00:07:05.540 --> 00:07:07.960
dependency allows another preference to
control the state of this preference so

00:07:07.960 --> 00:07:07.970
control the state of this preference so
 

00:07:07.970 --> 00:07:09.850
control the state of this preference so
we set the key of the switch preference

00:07:09.850 --> 00:07:09.860
we set the key of the switch preference
 

00:07:09.860 --> 00:07:10.870
we set the key of the switch preference
compact that will control this

00:07:10.870 --> 00:07:10.880
compact that will control this
 

00:07:10.880 --> 00:07:12.820
compact that will control this
preference so this means that whenever

00:07:12.820 --> 00:07:12.830
preference so this means that whenever
 

00:07:12.830 --> 00:07:14.290
preference so this means that whenever
the switch preference is turned off as

00:07:14.290 --> 00:07:14.300
the switch preference is turned off as
 

00:07:14.300 --> 00:07:15.940
the switch preference is turned off as
it is here the actual preference is

00:07:15.940 --> 00:07:15.950
it is here the actual preference is
 

00:07:15.950 --> 00:07:17.080
it is here the actual preference is
greyed out and can no longer be

00:07:17.080 --> 00:07:17.090
greyed out and can no longer be
 

00:07:17.090 --> 00:07:19.450
greyed out and can no longer be
interacted with and when the switch is

00:07:19.450 --> 00:07:19.460
interacted with and when the switch is
 

00:07:19.460 --> 00:07:20.860
interacted with and when the switch is
turned on the preference returns to

00:07:20.860 --> 00:07:20.870
turned on the preference returns to
 

00:07:20.870 --> 00:07:22.680
turned on the preference returns to
normal and can be interacted with a

00:07:22.680 --> 00:07:22.690
normal and can be interacted with a
 

00:07:22.690 --> 00:07:25.060
normal and can be interacted with a
hierarchy is almost complete from the

00:07:25.060 --> 00:07:25.070
hierarchy is almost complete from the
 

00:07:25.070 --> 00:07:26.980
hierarchy is almost complete from the
example that we gave the only thing we

00:07:26.980 --> 00:07:26.990
example that we gave the only thing we
 

00:07:26.990 --> 00:07:28.690
example that we gave the only thing we
now like to do is set a useful summary

00:07:28.690 --> 00:07:28.700
now like to do is set a useful summary
 

00:07:28.700 --> 00:07:31.390
now like to do is set a useful summary
for this switch right now enable

00:07:31.390 --> 00:07:31.400
for this switch right now enable
 

00:07:31.400 --> 00:07:33.160
for this switch right now enable
periodic syncing is on but what does

00:07:33.160 --> 00:07:33.170
periodic syncing is on but what does
 

00:07:33.170 --> 00:07:34.540
periodic syncing is on but what does
that actually mean half we synched

00:07:34.540 --> 00:07:34.550
that actually mean half we synched
 

00:07:34.550 --> 00:07:36.070
that actually mean half we synched
recently maybe there's a problem

00:07:36.070 --> 00:07:36.080
recently maybe there's a problem
 

00:07:36.080 --> 00:07:38.200
recently maybe there's a problem
connecting to the server so we can use a

00:07:38.200 --> 00:07:38.210
connecting to the server so we can use a
 

00:07:38.210 --> 00:07:40.570
connecting to the server so we can use a
custom dynamic summary here to display

00:07:40.570 --> 00:07:40.580
custom dynamic summary here to display
 

00:07:40.580 --> 00:07:41.980
custom dynamic summary here to display
to the user when we've lost synced

00:07:41.980 --> 00:07:41.990
to the user when we've lost synced
 

00:07:41.990 --> 00:07:45.490
to the user when we've lost synced
providing some more useful context in

00:07:45.490 --> 00:07:45.500
providing some more useful context in
 

00:07:45.500 --> 00:07:47.710
providing some more useful context in
general dynamic sermons are useful in to

00:07:47.710 --> 00:07:47.720
general dynamic sermons are useful in to
 

00:07:47.720 --> 00:07:50.290
general dynamic sermons are useful in to
sort of broad scenarios firstly if you'd

00:07:50.290 --> 00:07:50.300
sort of broad scenarios firstly if you'd
 

00:07:50.300 --> 00:07:51.490
sort of broad scenarios firstly if you'd
like to provide the user with more

00:07:51.490 --> 00:07:51.500
like to provide the user with more
 

00:07:51.500 --> 00:07:53.290
like to provide the user with more
context but kind of specific preference

00:07:53.290 --> 00:07:53.300
context but kind of specific preference
 

00:07:53.300 --> 00:07:54.970
context but kind of specific preference
and what it means so in this case we'd

00:07:54.970 --> 00:07:54.980
and what it means so in this case we'd
 

00:07:54.980 --> 00:07:56.770
and what it means so in this case we'd
like to tell them when we've lost sync

00:07:56.770 --> 00:07:56.780
like to tell them when we've lost sync
 

00:07:56.780 --> 00:07:59.380
like to tell them when we've lost sync
the device or it can also be useful if

00:07:59.380 --> 00:07:59.390
the device or it can also be useful if
 

00:07:59.390 --> 00:08:00.670
the device or it can also be useful if
you'd like to display some dynamic

00:08:00.670 --> 00:08:00.680
you'd like to display some dynamic
 

00:08:00.680 --> 00:08:02.320
you'd like to display some dynamic
information this could be something like

00:08:02.320 --> 00:08:02.330
information this could be something like
 

00:08:02.330 --> 00:08:04.000
information this could be something like
a version information of your

00:08:04.000 --> 00:08:04.010
a version information of your
 

00:08:04.010 --> 00:08:06.010
a version information of your
application or even user information

00:08:06.010 --> 00:08:06.020
application or even user information
 

00:08:06.020 --> 00:08:08.850
application or even user information
such as a specific ID or email address

00:08:08.850 --> 00:08:08.860
such as a specific ID or email address
 

00:08:08.860 --> 00:08:11.440
such as a specific ID or email address
to set as dynamic sir--my we use the

00:08:11.440 --> 00:08:11.450
to set as dynamic sir--my we use the
 

00:08:11.450 --> 00:08:13.870
to set as dynamic sir--my we use the
sorrowing provider interface we can use

00:08:13.870 --> 00:08:13.880
sorrowing provider interface we can use
 

00:08:13.880 --> 00:08:15.280
sorrowing provider interface we can use
this to either react to the internal

00:08:15.280 --> 00:08:15.290
this to either react to the internal
 

00:08:15.290 --> 00:08:16.870
this to either react to the internal
state of the preference or just use it

00:08:16.870 --> 00:08:16.880
state of the preference or just use it
 

00:08:16.880 --> 00:08:18.040
state of the preference or just use it
as a cool back to generate our in

00:08:18.040 --> 00:08:18.050
as a cool back to generate our in
 

00:08:18.050 --> 00:08:20.920
as a cool back to generate our in
dynamic summary from external state here

00:08:20.920 --> 00:08:20.930
dynamic summary from external state here
 

00:08:20.930 --> 00:08:22.450
dynamic summary from external state here
we set the type as switch preference

00:08:22.450 --> 00:08:22.460
we set the type as switch preference
 

00:08:22.460 --> 00:08:23.680
we set the type as switch preference
compact as that is the type of

00:08:23.680 --> 00:08:23.690
compact as that is the type of
 

00:08:23.690 --> 00:08:24.670
compact as that is the type of
preference that we're setting the

00:08:24.670 --> 00:08:24.680
preference that we're setting the
 

00:08:24.680 --> 00:08:27.370
preference that we're setting the
summary form when the preference is

00:08:27.370 --> 00:08:27.380
summary form when the preference is
 

00:08:27.380 --> 00:08:29.050
summary form when the preference is
checked in other words when syncing is

00:08:29.050 --> 00:08:29.060
checked in other words when syncing is
 

00:08:29.060 --> 00:08:30.430
checked in other words when syncing is
enabled we want to just display that

00:08:30.430 --> 00:08:30.440
enabled we want to just display that
 

00:08:30.440 --> 00:08:32.560
enabled we want to just display that
last time we successfully synced and

00:08:32.560 --> 00:08:32.570
last time we successfully synced and
 

00:08:32.570 --> 00:08:34.089
last time we successfully synced and
otherwise we're just gonna say it's

00:08:34.089 --> 00:08:34.099
otherwise we're just gonna say it's
 

00:08:34.099 --> 00:08:36.610
otherwise we're just gonna say it's
disabled so it's clear to the user and

00:08:36.610 --> 00:08:36.620
disabled so it's clear to the user and
 

00:08:36.620 --> 00:08:38.080
disabled so it's clear to the user and
this is all they're really assert all we

00:08:38.080 --> 00:08:38.090
this is all they're really assert all we
 

00:08:38.090 --> 00:08:39.670
this is all they're really assert all we
need to do now is just set this on the

00:08:39.670 --> 00:08:39.680
need to do now is just set this on the
 

00:08:39.680 --> 00:08:43.270
need to do now is just set this on the
preference so to do that we call fine

00:08:43.270 --> 00:08:43.280
preference so to do that we call fine
 

00:08:43.280 --> 00:08:44.950
preference so to do that we call fine
preference using the key we previously

00:08:44.950 --> 00:08:44.960
preference using the key we previously
 

00:08:44.960 --> 00:08:48.070
preference using the key we previously
assigned in the XML and then we just set

00:08:48.070 --> 00:08:48.080
assigned in the XML and then we just set
 

00:08:48.080 --> 00:08:50.020
assigned in the XML and then we just set
the songwriter this and any other

00:08:50.020 --> 00:08:50.030
the songwriter this and any other
 

00:08:50.030 --> 00:08:51.670
the songwriter this and any other
similar configuration should be done and

00:08:51.670 --> 00:08:51.680
similar configuration should be done and
 

00:08:51.680 --> 00:08:53.290
similar configuration should be done and
uncreate preferences in your preference

00:08:53.290 --> 00:08:53.300
uncreate preferences in your preference
 

00:08:53.300 --> 00:08:54.520
uncreate preferences in your preference
fragment compat

00:08:54.520 --> 00:08:54.530
fragment compat
 

00:08:54.530 --> 00:08:56.470
fragment compat
and now whenever you the talk was a

00:08:56.470 --> 00:08:56.480
and now whenever you the talk was a
 

00:08:56.480 --> 00:08:58.270
and now whenever you the talk was a
satyr the preference the summary will

00:08:58.270 --> 00:08:58.280
satyr the preference the summary will
 

00:08:58.280 --> 00:08:59.650
satyr the preference the summary will
ultimately be updated based on the

00:08:59.650 --> 00:08:59.660
ultimately be updated based on the
 

00:08:59.660 --> 00:09:01.690
ultimately be updated based on the
constraints we defined now that we've

00:09:01.690 --> 00:09:01.700
constraints we defined now that we've
 

00:09:01.700 --> 00:09:03.640
constraints we defined now that we've
build our more advanced hierarchy I'm

00:09:03.640 --> 00:09:03.650
build our more advanced hierarchy I'm
 

00:09:03.650 --> 00:09:04.960
build our more advanced hierarchy I'm
going to cover using separate

00:09:04.960 --> 00:09:04.970
going to cover using separate
 

00:09:04.970 --> 00:09:07.920
going to cover using separate
hierarchies and separate screens

00:09:07.920 --> 00:09:07.930
hierarchies and separate screens
 

00:09:07.930 --> 00:09:10.210
hierarchies and separate screens
oftentimes you'll want to split up more

00:09:10.210 --> 00:09:10.220
oftentimes you'll want to split up more
 

00:09:10.220 --> 00:09:11.710
oftentimes you'll want to split up more
complex hierarchies into separate

00:09:11.710 --> 00:09:11.720
complex hierarchies into separate
 

00:09:11.720 --> 00:09:13.360
complex hierarchies into separate
screens making sure that less important

00:09:13.360 --> 00:09:13.370
screens making sure that less important
 

00:09:13.370 --> 00:09:14.890
screens making sure that less important
preferences aren't clearing up your main

00:09:14.890 --> 00:09:14.900
preferences aren't clearing up your main
 

00:09:14.900 --> 00:09:16.390
preferences aren't clearing up your main
screen and making it hard for the user

00:09:16.390 --> 00:09:16.400
screen and making it hard for the user
 

00:09:16.400 --> 00:09:17.350
screen and making it hard for the user
to focus on the things they actually

00:09:17.350 --> 00:09:17.360
to focus on the things they actually
 

00:09:17.360 --> 00:09:19.510
to focus on the things they actually
want to change if you're already using

00:09:19.510 --> 00:09:19.520
want to change if you're already using
 

00:09:19.520 --> 00:09:21.370
want to change if you're already using
the framework API and looking to migrate

00:09:21.370 --> 00:09:21.380
the framework API and looking to migrate
 

00:09:21.380 --> 00:09:22.960
the framework API and looking to migrate
there are some different ways you may

00:09:22.960 --> 00:09:22.970
there are some different ways you may
 

00:09:22.970 --> 00:09:24.220
there are some different ways you may
have structured your separate screens

00:09:24.220 --> 00:09:24.230
have structured your separate screens
 

00:09:24.230 --> 00:09:26.050
have structured your separate screens
and if you're starting afresh with the

00:09:26.050 --> 00:09:26.060
and if you're starting afresh with the
 

00:09:26.060 --> 00:09:27.490
and if you're starting afresh with the
Android X preference library you may be

00:09:27.490 --> 00:09:27.500
Android X preference library you may be
 

00:09:27.500 --> 00:09:28.750
Android X preference library you may be
wondering what the best way of having

00:09:28.750 --> 00:09:28.760
wondering what the best way of having
 

00:09:28.760 --> 00:09:31.690
wondering what the best way of having
this is but first let's just recap how a

00:09:31.690 --> 00:09:31.700
this is but first let's just recap how a
 

00:09:31.700 --> 00:09:34.240
this is but first let's just recap how a
single screen looks we have our activity

00:09:34.240 --> 00:09:34.250
single screen looks we have our activity
 

00:09:34.250 --> 00:09:35.950
single screen looks we have our activity
at the top which will internally wrap a

00:09:35.950 --> 00:09:35.960
at the top which will internally wrap a
 

00:09:35.960 --> 00:09:38.260
at the top which will internally wrap a
fragment which then contains its actual

00:09:38.260 --> 00:09:38.270
fragment which then contains its actual
 

00:09:38.270 --> 00:09:41.230
fragment which then contains its actual
hierarchy we can kind of consider the

00:09:41.230 --> 00:09:41.240
hierarchy we can kind of consider the
 

00:09:41.240 --> 00:09:42.670
hierarchy we can kind of consider the
fragment on the hierarchy to be a sort

00:09:42.670 --> 00:09:42.680
fragment on the hierarchy to be a sort
 

00:09:42.680 --> 00:09:45.640
fragment on the hierarchy to be a sort
of a screen of settings so in reality we

00:09:45.640 --> 00:09:45.650
of a screen of settings so in reality we
 

00:09:45.650 --> 00:09:47.530
of a screen of settings so in reality we
just have an activity which loads a

00:09:47.530 --> 00:09:47.540
just have an activity which loads a
 

00:09:47.540 --> 00:09:50.140
just have an activity which loads a
setting screen which is this and this

00:09:50.140 --> 00:09:50.150
setting screen which is this and this
 

00:09:50.150 --> 00:09:52.630
setting screen which is this and this
works fine when we have one screen but

00:09:52.630 --> 00:09:52.640
works fine when we have one screen but
 

00:09:52.640 --> 00:09:54.190
works fine when we have one screen but
what if a hierarchy looks something like

00:09:54.190 --> 00:09:54.200
what if a hierarchy looks something like
 

00:09:54.200 --> 00:09:54.700
what if a hierarchy looks something like
this

00:09:54.700 --> 00:09:54.710
this
 

00:09:54.710 --> 00:09:57.040
this
now on our first screen we have links to

00:09:57.040 --> 00:09:57.050
now on our first screen we have links to
 

00:09:57.050 --> 00:10:00.190
now on our first screen we have links to
other screens so the sink will link to a

00:10:00.190 --> 00:10:00.200
other screens so the sink will link to a
 

00:10:00.200 --> 00:10:01.980
other screens so the sink will link to a
screen of sink related preferences and

00:10:01.980 --> 00:10:01.990
screen of sink related preferences and
 

00:10:01.990 --> 00:10:04.510
screen of sink related preferences and
messages will link to some more specific

00:10:04.510 --> 00:10:04.520
messages will link to some more specific
 

00:10:04.520 --> 00:10:06.970
messages will link to some more specific
messages relate preferences how does

00:10:06.970 --> 00:10:06.980
messages relate preferences how does
 

00:10:06.980 --> 00:10:08.290
messages relate preferences how does
this look like with our architecture

00:10:08.290 --> 00:10:08.300
this look like with our architecture
 

00:10:08.300 --> 00:10:10.329
this look like with our architecture
it's actually very simple to what we've

00:10:10.329 --> 00:10:10.339
it's actually very simple to what we've
 

00:10:10.339 --> 00:10:13.720
it's actually very simple to what we've
done previously with a single screen the

00:10:13.720 --> 00:10:13.730
done previously with a single screen the
 

00:10:13.730 --> 00:10:15.010
done previously with a single screen the
initial setting screen would just be

00:10:15.010 --> 00:10:15.020
initial setting screen would just be
 

00:10:15.020 --> 00:10:16.900
initial setting screen would just be
just as before a preference fragment

00:10:16.900 --> 00:10:16.910
just as before a preference fragment
 

00:10:16.910 --> 00:10:19.930
just as before a preference fragment
compat with a hierarchy and then the

00:10:19.930 --> 00:10:19.940
compat with a hierarchy and then the
 

00:10:19.940 --> 00:10:21.490
compat with a hierarchy and then the
sink scanning screen will also be a

00:10:21.490 --> 00:10:21.500
sink scanning screen will also be a
 

00:10:21.500 --> 00:10:22.840
sink scanning screen will also be a
reference fragment compact with its own

00:10:22.840 --> 00:10:22.850
reference fragment compact with its own
 

00:10:22.850 --> 00:10:24.970
reference fragment compact with its own
hierarchy and so on for any other

00:10:24.970 --> 00:10:24.980
hierarchy and so on for any other
 

00:10:24.980 --> 00:10:27.880
hierarchy and so on for any other
screens you may have what we need to do

00:10:27.880 --> 00:10:27.890
screens you may have what we need to do
 

00:10:27.890 --> 00:10:29.560
screens you may have what we need to do
now differently is just the final link

00:10:29.560 --> 00:10:29.570
now differently is just the final link
 

00:10:29.570 --> 00:10:31.420
now differently is just the final link
between the synced reference object and

00:10:31.420 --> 00:10:31.430
between the synced reference object and
 

00:10:31.430 --> 00:10:33.190
between the synced reference object and
the sync settings fragment so whenever

00:10:33.190 --> 00:10:33.200
the sync settings fragment so whenever
 

00:10:33.200 --> 00:10:35.079
the sync settings fragment so whenever
the user clicks on this preference we

00:10:35.079 --> 00:10:35.089
the user clicks on this preference we
 

00:10:35.089 --> 00:10:38.020
the user clicks on this preference we
will load the related screen so we'll

00:10:38.020 --> 00:10:38.030
will load the related screen so we'll
 

00:10:38.030 --> 00:10:39.340
will load the related screen so we'll
sort of in this state pointing to the

00:10:39.340 --> 00:10:39.350
sort of in this state pointing to the
 

00:10:39.350 --> 00:10:41.350
sort of in this state pointing to the
initial settings screen when the user

00:10:41.350 --> 00:10:41.360
initial settings screen when the user
 

00:10:41.360 --> 00:10:42.940
initial settings screen when the user
taps of preference now that we've

00:10:42.940 --> 00:10:42.950
taps of preference now that we've
 

00:10:42.950 --> 00:10:44.740
taps of preference now that we've
already defined this link we're just

00:10:44.740 --> 00:10:44.750
already defined this link we're just
 

00:10:44.750 --> 00:10:46.120
already defined this link we're just
going to swap out the screen from

00:10:46.120 --> 00:10:46.130
going to swap out the screen from
 

00:10:46.130 --> 00:10:48.700
going to swap out the screen from
underneath and because we're still using

00:10:48.700 --> 00:10:48.710
underneath and because we're still using
 

00:10:48.710 --> 00:10:50.500
underneath and because we're still using
preferences to act as the link the

00:10:50.500 --> 00:10:50.510
preferences to act as the link the
 

00:10:50.510 --> 00:10:51.970
preferences to act as the link the
initial settings hierarchy is going to

00:10:51.970 --> 00:10:51.980
initial settings hierarchy is going to
 

00:10:51.980 --> 00:10:55.300
initial settings hierarchy is going to
be just as we've done before so again we

00:10:55.300 --> 00:10:55.310
be just as we've done before so again we
 

00:10:55.310 --> 00:10:57.520
be just as we've done before so again we
start with a reference screen tag and we

00:10:57.520 --> 00:10:57.530
start with a reference screen tag and we
 

00:10:57.530 --> 00:10:58.930
start with a reference screen tag and we
just have two basic preferences

00:10:58.930 --> 00:10:58.940
just have two basic preferences
 

00:10:58.940 --> 00:11:01.980
just have two basic preferences
one for thinking and one for messages

00:11:01.980 --> 00:11:01.990
one for thinking and one for messages
 

00:11:01.990 --> 00:11:04.720
one for thinking and one for messages
it's important well you may want to add

00:11:04.720 --> 00:11:04.730
it's important well you may want to add
 

00:11:04.730 --> 00:11:05.860
it's important well you may want to add
an icon here to the side of the

00:11:05.860 --> 00:11:05.870
an icon here to the side of the
 

00:11:05.870 --> 00:11:07.240
an icon here to the side of the
preference to provide some more context

00:11:07.240 --> 00:11:07.250
preference to provide some more context
 

00:11:07.250 --> 00:11:08.350
preference to provide some more context
to the user as we don't

00:11:08.350 --> 00:11:08.360
to the user as we don't
 

00:11:08.360 --> 00:11:09.639
to the user as we don't
have an important summary display here

00:11:09.639 --> 00:11:09.649
have an important summary display here
 

00:11:09.649 --> 00:11:12.069
have an important summary display here
this is just done by defining a durable

00:11:12.069 --> 00:11:12.079
this is just done by defining a durable
 

00:11:12.079 --> 00:11:13.600
this is just done by defining a durable
with the icon attribute so this will

00:11:13.600 --> 00:11:13.610
with the icon attribute so this will
 

00:11:13.610 --> 00:11:15.579
with the icon attribute so this will
just be something in your restaurant

00:11:15.579 --> 00:11:15.589
just be something in your restaurant
 

00:11:15.589 --> 00:11:17.530
just be something in your restaurant
and now the only thing left to do is

00:11:17.530 --> 00:11:17.540
and now the only thing left to do is
 

00:11:17.540 --> 00:11:18.730
and now the only thing left to do is
just to find the links between the

00:11:18.730 --> 00:11:18.740
just to find the links between the
 

00:11:18.740 --> 00:11:20.920
just to find the links between the
fragments so to do this we use the

00:11:20.920 --> 00:11:20.930
fragments so to do this we use the
 

00:11:20.930 --> 00:11:22.900
fragments so to do this we use the
fragment attribute and we just set the

00:11:22.900 --> 00:11:22.910
fragment attribute and we just set the
 

00:11:22.910 --> 00:11:24.490
fragment attribute and we just set the
fully qualified class name of the

00:11:24.490 --> 00:11:24.500
fully qualified class name of the
 

00:11:24.500 --> 00:11:27.790
fully qualified class name of the
fragment if your fragment is a nested in

00:11:27.790 --> 00:11:27.800
fragment if your fragment is a nested in
 

00:11:27.800 --> 00:11:28.930
fragment if your fragment is a nested in
a class you'll need to use the dollar

00:11:28.930 --> 00:11:28.940
a class you'll need to use the dollar
 

00:11:28.940 --> 00:11:31.180
a class you'll need to use the dollar
sign to separate the outer class in the

00:11:31.180 --> 00:11:31.190
sign to separate the outer class in the
 

00:11:31.190 --> 00:11:32.980
sign to separate the outer class in the
inner class and that's it for the

00:11:32.980 --> 00:11:32.990
inner class and that's it for the
 

00:11:32.990 --> 00:11:35.470
inner class and that's it for the
hierarchy the activity is very similar

00:11:35.470 --> 00:11:35.480
hierarchy the activity is very similar
 

00:11:35.480 --> 00:11:37.240
hierarchy the activity is very similar
to what we have before we just set the

00:11:37.240 --> 00:11:37.250
to what we have before we just set the
 

00:11:37.250 --> 00:11:39.269
to what we have before we just set the
initial setting screen to be displayed

00:11:39.269 --> 00:11:39.279
initial setting screen to be displayed
 

00:11:39.279 --> 00:11:41.350
initial setting screen to be displayed
the only difference here is that we

00:11:41.350 --> 00:11:41.360
the only difference here is that we
 

00:11:41.360 --> 00:11:43.000
the only difference here is that we
should implement this method on

00:11:43.000 --> 00:11:43.010
should implement this method on
 

00:11:43.010 --> 00:11:45.970
should implement this method on
preference thought fragment this method

00:11:45.970 --> 00:11:45.980
preference thought fragment this method
 

00:11:45.980 --> 00:11:47.170
preference thought fragment this method
is called when a user taps on a

00:11:47.170 --> 00:11:47.180
is called when a user taps on a
 

00:11:47.180 --> 00:11:48.730
is called when a user taps on a
preference it has an Associated fragment

00:11:48.730 --> 00:11:48.740
preference it has an Associated fragment
 

00:11:48.740 --> 00:11:50.259
preference it has an Associated fragment
and allows you to customize any

00:11:50.259 --> 00:11:50.269
and allows you to customize any
 

00:11:50.269 --> 00:11:51.550
and allows you to customize any
transitions or animations between

00:11:51.550 --> 00:11:51.560
transitions or animations between
 

00:11:51.560 --> 00:11:53.380
transitions or animations between
fragments there is a default

00:11:53.380 --> 00:11:53.390
fragments there is a default
 

00:11:53.390 --> 00:11:54.910
fragments there is a default
implementation so if you don't override

00:11:54.910 --> 00:11:54.920
implementation so if you don't override
 

00:11:54.920 --> 00:11:56.440
implementation so if you don't override
this method we will still handle it for

00:11:56.440 --> 00:11:56.450
this method we will still handle it for
 

00:11:56.450 --> 00:11:57.790
this method we will still handle it for
you but you won't have any nice

00:11:57.790 --> 00:11:57.800
you but you won't have any nice
 

00:11:57.800 --> 00:11:59.139
you but you won't have any nice
transitions or animations that you may

00:11:59.139 --> 00:11:59.149
transitions or animations that you may
 

00:11:59.149 --> 00:12:01.750
transitions or animations that you may
want and the fragments are going to be

00:12:01.750 --> 00:12:01.760
want and the fragments are going to be
 

00:12:01.760 --> 00:12:04.120
want and the fragments are going to be
exactly the same as before again all we

00:12:04.120 --> 00:12:04.130
exactly the same as before again all we
 

00:12:04.130 --> 00:12:05.560
exactly the same as before again all we
need to do here is just override on

00:12:05.560 --> 00:12:05.570
need to do here is just override on
 

00:12:05.570 --> 00:12:07.420
need to do here is just override on
create preferences and set the relevant

00:12:07.420 --> 00:12:07.430
create preferences and set the relevant
 

00:12:07.430 --> 00:12:09.940
create preferences and set the relevant
XML resource and that's really it now

00:12:09.940 --> 00:12:09.950
XML resource and that's really it now
 

00:12:09.950 --> 00:12:12.009
XML resource and that's really it now
whenever user taps on the messages or

00:12:12.009 --> 00:12:12.019
whenever user taps on the messages or
 

00:12:12.019 --> 00:12:14.170
whenever user taps on the messages or
the sync preferences the chorus fragment

00:12:14.170 --> 00:12:14.180
the sync preferences the chorus fragment
 

00:12:14.180 --> 00:12:15.639
the sync preferences the chorus fragment
will be automatically displayed to the

00:12:15.639 --> 00:12:15.649
will be automatically displayed to the
 

00:12:15.649 --> 00:12:19.960
will be automatically displayed to the
user so to wrap some things up we've

00:12:19.960 --> 00:12:19.970
user so to wrap some things up we've
 

00:12:19.970 --> 00:12:22.720
user so to wrap some things up we've
recently released 1.1 alpha 1 so please

00:12:22.720 --> 00:12:22.730
recently released 1.1 alpha 1 so please
 

00:12:22.730 --> 00:12:24.790
recently released 1.1 alpha 1 so please
if you haven't already get it try some

00:12:24.790 --> 00:12:24.800
if you haven't already get it try some
 

00:12:24.800 --> 00:12:25.840
if you haven't already get it try some
dynamic summaries and other recent

00:12:25.840 --> 00:12:25.850
dynamic summaries and other recent
 

00:12:25.850 --> 00:12:28.780
dynamic summaries and other recent
features please follow any bugs in

00:12:28.780 --> 00:12:28.790
features please follow any bugs in
 

00:12:28.790 --> 00:12:30.519
features please follow any bugs in
feature requests to this component on

00:12:30.519 --> 00:12:30.529
feature requests to this component on
 

00:12:30.529 --> 00:12:33.280
feature requests to this component on
the issue tracker google.com we've

00:12:33.280 --> 00:12:33.290
the issue tracker google.com we've
 

00:12:33.290 --> 00:12:34.870
the issue tracker google.com we've
recently updated the Android settings

00:12:34.870 --> 00:12:34.880
recently updated the Android settings
 

00:12:34.880 --> 00:12:36.579
recently updated the Android settings
guide to make use of the Android X

00:12:36.579 --> 00:12:36.589
guide to make use of the Android X
 

00:12:36.589 --> 00:12:38.829
guide to make use of the Android X
preference library please check it out

00:12:38.829 --> 00:12:38.839
preference library please check it out
 

00:12:38.839 --> 00:12:40.150
preference library please check it out
for further information on some of the

00:12:40.150 --> 00:12:40.160
for further information on some of the
 

00:12:40.160 --> 00:12:41.050
for further information on some of the
things i've talked about in this talk

00:12:41.050 --> 00:12:41.060
things i've talked about in this talk
 

00:12:41.060 --> 00:12:42.639
things i've talked about in this talk
and some other features out of the scope

00:12:42.639 --> 00:12:42.649
and some other features out of the scope
 

00:12:42.649 --> 00:12:44.980
and some other features out of the scope
of this talk and we're working on

00:12:44.980 --> 00:12:44.990
of this talk and we're working on
 

00:12:44.990 --> 00:12:46.660
of this talk and we're working on
template for android studio as well as

00:12:46.660 --> 00:12:46.670
template for android studio as well as
 

00:12:46.670 --> 00:12:48.550
template for android studio as well as
public samples demonstrating this new

00:12:48.550 --> 00:12:48.560
public samples demonstrating this new
 

00:12:48.560 --> 00:12:52.090
public samples demonstrating this new
library coming soon for more information

00:12:52.090 --> 00:12:52.100
library coming soon for more information
 

00:12:52.100 --> 00:12:53.530
library coming soon for more information
on android Jeff Beck you can go to

00:12:53.530 --> 00:12:53.540
on android Jeff Beck you can go to
 

00:12:53.540 --> 00:12:56.009
on android Jeff Beck you can go to
developer.android.com slash jetpack and

00:12:56.009 --> 00:12:56.019
developer.android.com slash jetpack and
 

00:12:56.019 --> 00:12:58.860
developer.android.com slash jetpack and
thank you for listening

00:12:58.860 --> 00:12:58.870
thank you for listening
 

00:12:58.870 --> 00:12:59.850
thank you for listening
[Applause]

00:12:59.850 --> 00:12:59.860
[Applause]
 

00:12:59.860 --> 00:13:15.970
[Applause]
[Music]

