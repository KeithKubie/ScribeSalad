WEBVTT
Kind: captions
Language: en

00:00:00.060 --> 00:00:03.619
 
so who's excited about testing excited

00:00:03.619 --> 00:00:03.629
so who's excited about testing excited
 

00:00:03.629 --> 00:00:06.380
so who's excited about testing excited
yeah okay how many of you are testing

00:00:06.380 --> 00:00:06.390
yeah okay how many of you are testing
 

00:00:06.390 --> 00:00:09.680
yeah okay how many of you are testing
your app was absolutely is there anyone

00:00:09.680 --> 00:00:09.690
your app was absolutely is there anyone
 

00:00:09.690 --> 00:00:14.089
your app was absolutely is there anyone
who is not testing their apps I don't

00:00:14.089 --> 00:00:14.099
who is not testing their apps I don't
 

00:00:14.099 --> 00:00:17.450
who is not testing their apps I don't
believe you unless your apps are not

00:00:17.450 --> 00:00:17.460
believe you unless your apps are not
 

00:00:17.460 --> 00:00:19.519
believe you unless your apps are not
working so yeah testing Android testing

00:00:19.519 --> 00:00:19.529
working so yeah testing Android testing
 

00:00:19.529 --> 00:00:21.769
working so yeah testing Android testing
there's been a lot happening during the

00:00:21.769 --> 00:00:21.779
there's been a lot happening during the
 

00:00:21.779 --> 00:00:23.240
there's been a lot happening during the
past year past two years in Android

00:00:23.240 --> 00:00:23.250
past year past two years in Android
 

00:00:23.250 --> 00:00:25.040
past year past two years in Android
testing we've been getting better and

00:00:25.040 --> 00:00:25.050
testing we've been getting better and
 

00:00:25.050 --> 00:00:27.109
testing we've been getting better and
better this there's now a great support

00:00:27.109 --> 00:00:27.119
better this there's now a great support
 

00:00:27.119 --> 00:00:29.419
better this there's now a great support
in Android studio and Gradle to run your

00:00:29.419 --> 00:00:29.429
in Android studio and Gradle to run your
 

00:00:29.429 --> 00:00:30.259
in Android studio and Gradle to run your
tests

00:00:30.259 --> 00:00:30.269
tests
 

00:00:30.269 --> 00:00:32.089
tests
there is the Android testing support

00:00:32.089 --> 00:00:32.099
there is the Android testing support
 

00:00:32.099 --> 00:00:34.280
there is the Android testing support
library it's an unbundled library it's

00:00:34.280 --> 00:00:34.290
library it's an unbundled library it's
 

00:00:34.290 --> 00:00:36.560
library it's an unbundled library it's
on the unbundled from the framework you

00:00:36.560 --> 00:00:36.570
on the unbundled from the framework you
 

00:00:36.570 --> 00:00:38.530
on the unbundled from the framework you
can update it with the support library

00:00:38.530 --> 00:00:38.540
can update it with the support library
 

00:00:38.540 --> 00:00:41.119
can update it with the support library
it's always fresh that's a good thing

00:00:41.119 --> 00:00:41.129
it's always fresh that's a good thing
 

00:00:41.129 --> 00:00:43.940
it's always fresh that's a good thing
and one of the pieces of this is

00:00:43.940 --> 00:00:43.950
and one of the pieces of this is
 

00:00:43.950 --> 00:00:46.910
and one of the pieces of this is
espresso our UI testing framework which

00:00:46.910 --> 00:00:46.920
espresso our UI testing framework which
 

00:00:46.920 --> 00:00:48.500
espresso our UI testing framework which
you probably all know about since you're

00:00:48.500 --> 00:00:48.510
you probably all know about since you're
 

00:00:48.510 --> 00:00:50.930
you probably all know about since you're
all testing your apps but that's that's

00:00:50.930 --> 00:00:50.940
all testing your apps but that's that's
 

00:00:50.940 --> 00:00:52.490
all testing your apps but that's that's
the part that we're gonna concentrate on

00:00:52.490 --> 00:00:52.500
the part that we're gonna concentrate on
 

00:00:52.500 --> 00:00:56.779
the part that we're gonna concentrate on
to today so yeah so just just as a quick

00:00:56.779 --> 00:00:56.789
to today so yeah so just just as a quick
 

00:00:56.789 --> 00:00:58.790
to today so yeah so just just as a quick
recap quick intro for maybe those of you

00:00:58.790 --> 00:00:58.800
recap quick intro for maybe those of you
 

00:00:58.800 --> 00:01:00.560
recap quick intro for maybe those of you
who are listening on the livestream who

00:01:00.560 --> 00:01:00.570
who are listening on the livestream who
 

00:01:00.570 --> 00:01:02.750
who are listening on the livestream who
are another's personal experts yet so

00:01:02.750 --> 00:01:02.760
are another's personal experts yet so
 

00:01:02.760 --> 00:01:04.490
are another's personal experts yet so
this is a basic I want to discuss the

00:01:04.490 --> 00:01:04.500
this is a basic I want to discuss the
 

00:01:04.500 --> 00:01:06.859
this is a basic I want to discuss the
basic espresso test flow so this is an

00:01:06.859 --> 00:01:06.869
basic espresso test flow so this is an
 

00:01:06.869 --> 00:01:08.719
basic espresso test flow so this is an
app we've built a couple of months ago

00:01:08.719 --> 00:01:08.729
app we've built a couple of months ago
 

00:01:08.729 --> 00:01:10.520
app we've built a couple of months ago
for a code lab for an Android testing

00:01:10.520 --> 00:01:10.530
for a code lab for an Android testing
 

00:01:10.530 --> 00:01:13.280
for a code lab for an Android testing
code lab it's a simple Android it's very

00:01:13.280 --> 00:01:13.290
code lab it's a simple Android it's very
 

00:01:13.290 --> 00:01:15.469
code lab it's a simple Android it's very
simple note-taking app where you can

00:01:15.469 --> 00:01:15.479
simple note-taking app where you can
 

00:01:15.479 --> 00:01:17.960
simple note-taking app where you can
just you have a list of notes you can

00:01:17.960 --> 00:01:17.970
just you have a list of notes you can
 

00:01:17.970 --> 00:01:20.539
just you have a list of notes you can
add a note add some text save it that's

00:01:20.539 --> 00:01:20.549
add a note add some text save it that's
 

00:01:20.549 --> 00:01:23.450
add a note add some text save it that's
pretty much it the thing is it's a nice

00:01:23.450 --> 00:01:23.460
pretty much it the thing is it's a nice
 

00:01:23.460 --> 00:01:27.200
pretty much it the thing is it's a nice
nice way this app is a nice way of like

00:01:27.200 --> 00:01:27.210
nice way this app is a nice way of like
 

00:01:27.210 --> 00:01:30.170
nice way this app is a nice way of like
looking at tests and and explaining them

00:01:30.170 --> 00:01:30.180
looking at tests and and explaining them
 

00:01:30.180 --> 00:01:33.170
looking at tests and and explaining them
cuz UI tests seem like a very human way

00:01:33.170 --> 00:01:33.180
cuz UI tests seem like a very human way
 

00:01:33.180 --> 00:01:35.359
cuz UI tests seem like a very human way
to test your apps right you get the

00:01:35.359 --> 00:01:35.369
to test your apps right you get the
 

00:01:35.369 --> 00:01:37.039
to test your apps right you get the
interface you look at it as a favor

00:01:37.039 --> 00:01:37.049
interface you look at it as a favor
 

00:01:37.049 --> 00:01:39.620
interface you look at it as a favor
looking at your phone and what do you do

00:01:39.620 --> 00:01:39.630
looking at your phone and what do you do
 

00:01:39.630 --> 00:01:41.359
looking at your phone and what do you do
first identify some view you want to

00:01:41.359 --> 00:01:41.369
first identify some view you want to
 

00:01:41.369 --> 00:01:43.310
first identify some view you want to
perform actions on so in this case I

00:01:43.310 --> 00:01:43.320
perform actions on so in this case I
 

00:01:43.320 --> 00:01:44.719
perform actions on so in this case I
want to add a new note so I click the

00:01:44.719 --> 00:01:44.729
want to add a new note so I click the
 

00:01:44.729 --> 00:01:47.300
want to add a new note so I click the
fab right and then on the on the second

00:01:47.300 --> 00:01:47.310
fab right and then on the on the second
 

00:01:47.310 --> 00:01:50.539
fab right and then on the on the second
screen I want to type some text in save

00:01:50.539 --> 00:01:50.549
screen I want to type some text in save
 

00:01:50.549 --> 00:01:52.789
screen I want to type some text in save
the note and then finally verified the

00:01:52.789 --> 00:01:52.799
the note and then finally verified the
 

00:01:52.799 --> 00:01:55.609
the note and then finally verified the
note was added it's a simple thing very

00:01:55.609 --> 00:01:55.619
note was added it's a simple thing very
 

00:01:55.619 --> 00:01:58.639
note was added it's a simple thing very
very human way to test an app and how

00:01:58.639 --> 00:01:58.649
very human way to test an app and how
 

00:01:58.649 --> 00:02:01.190
very human way to test an app and how
cuz a look in code so espresso has this

00:02:01.190 --> 00:02:01.200
cuz a look in code so espresso has this
 

00:02:01.200 --> 00:02:04.340
cuz a look in code so espresso has this
you know simple really fluent API that

00:02:04.340 --> 00:02:04.350
you know simple really fluent API that
 

00:02:04.350 --> 00:02:06.170
you know simple really fluent API that
lets you express these kinds of tests in

00:02:06.170 --> 00:02:06.180
lets you express these kinds of tests in
 

00:02:06.180 --> 00:02:09.529
lets you express these kinds of tests in
an easy way in code so let's do that

00:02:09.529 --> 00:02:09.539
an easy way in code so let's do that
 

00:02:09.539 --> 00:02:10.620
an easy way in code so let's do that
quick run-through

00:02:10.620 --> 00:02:10.630
quick run-through
 

00:02:10.630 --> 00:02:13.240
quick run-through
so first of all like I said we need to

00:02:13.240 --> 00:02:13.250
so first of all like I said we need to
 

00:02:13.250 --> 00:02:16.000
so first of all like I said we need to
find a view and here we are looking for

00:02:16.000 --> 00:02:16.010
find a view and here we are looking for
 

00:02:16.010 --> 00:02:18.870
find a view and here we are looking for
a view with the ID and note it's the fab

00:02:18.870 --> 00:02:18.880
a view with the ID and note it's the fab
 

00:02:18.880 --> 00:02:21.310
a view with the ID and note it's the fab
when a special finds the view I want to

00:02:21.310 --> 00:02:21.320
when a special finds the view I want to
 

00:02:21.320 --> 00:02:22.660
when a special finds the view I want to
perform an action on it I want to click

00:02:22.660 --> 00:02:22.670
perform an action on it I want to click
 

00:02:22.670 --> 00:02:26.740
perform an action on it I want to click
on it and then on the second screen

00:02:26.740 --> 00:02:26.750
on it and then on the second screen
 

00:02:26.750 --> 00:02:29.800
on it and then on the second screen
again I'm finding views in this case the

00:02:29.800 --> 00:02:29.810
again I'm finding views in this case the
 

00:02:29.810 --> 00:02:32.260
again I'm finding views in this case the
input fields and I'm performing another

00:02:32.260 --> 00:02:32.270
input fields and I'm performing another
 

00:02:32.270 --> 00:02:34.570
input fields and I'm performing another
action it's type text so I'm typing text

00:02:34.570 --> 00:02:34.580
action it's type text so I'm typing text
 

00:02:34.580 --> 00:02:35.110
action it's type text so I'm typing text
into them

00:02:35.110 --> 00:02:35.120
into them
 

00:02:35.120 --> 00:02:37.900
into them
again clicking on a fab to save the note

00:02:37.900 --> 00:02:37.910
again clicking on a fab to save the note
 

00:02:37.910 --> 00:02:41.020
again clicking on a fab to save the note
and here in this final the last line of

00:02:41.020 --> 00:02:41.030
and here in this final the last line of
 

00:02:41.030 --> 00:02:42.850
and here in this final the last line of
code you see things are a little bit

00:02:42.850 --> 00:02:42.860
code you see things are a little bit
 

00:02:42.860 --> 00:02:44.380
code you see things are a little bit
different I don't want to do any more

00:02:44.380 --> 00:02:44.390
different I don't want to do any more
 

00:02:44.390 --> 00:02:46.510
different I don't want to do any more
actions I want to verify the result of

00:02:46.510 --> 00:02:46.520
actions I want to verify the result of
 

00:02:46.520 --> 00:02:48.850
actions I want to verify the result of
my tests so instead of performing an

00:02:48.850 --> 00:02:48.860
my tests so instead of performing an
 

00:02:48.860 --> 00:02:52.060
my tests so instead of performing an
action I'm actually doing a check I'm

00:02:52.060 --> 00:02:52.070
action I'm actually doing a check I'm
 

00:02:52.070 --> 00:02:54.490
action I'm actually doing a check I'm
trying to match if the the note that I

00:02:54.490 --> 00:02:54.500
trying to match if the the note that I
 

00:02:54.500 --> 00:02:56.560
trying to match if the the note that I
added if the text that I added with the

00:02:56.560 --> 00:02:56.570
added if the text that I added with the
 

00:02:56.570 --> 00:02:58.150
added if the text that I added with the
note is actually displayed on the screen

00:02:58.150 --> 00:02:58.160
note is actually displayed on the screen
 

00:02:58.160 --> 00:03:01.660
note is actually displayed on the screen
so that's the basic espresso test rate

00:03:01.660 --> 00:03:01.670
so that's the basic espresso test rate
 

00:03:01.670 --> 00:03:05.050
so that's the basic espresso test rate
and one nice thing about espresso is you

00:03:05.050 --> 00:03:05.060
and one nice thing about espresso is you
 

00:03:05.060 --> 00:03:07.780
and one nice thing about espresso is you
might notice that apart from those basic

00:03:07.780 --> 00:03:07.790
might notice that apart from those basic
 

00:03:07.790 --> 00:03:09.970
might notice that apart from those basic
building blocks these on view calls

00:03:09.970 --> 00:03:09.980
building blocks these on view calls
 

00:03:09.980 --> 00:03:11.920
building blocks these on view calls
these view measures and view actions and

00:03:11.920 --> 00:03:11.930
these view measures and view actions and
 

00:03:11.930 --> 00:03:13.780
these view measures and view actions and
assertions at the end there's nothing

00:03:13.780 --> 00:03:13.790
assertions at the end there's nothing
 

00:03:13.790 --> 00:03:15.670
assertions at the end there's nothing
really in between and that's the magic

00:03:15.670 --> 00:03:15.680
really in between and that's the magic
 

00:03:15.680 --> 00:03:17.530
really in between and that's the magic
of espresso this is the whole point of

00:03:17.530 --> 00:03:17.540
of espresso this is the whole point of
 

00:03:17.540 --> 00:03:19.930
of espresso this is the whole point of
using this framework espresso notice how

00:03:19.930 --> 00:03:19.940
using this framework espresso notice how
 

00:03:19.940 --> 00:03:21.940
using this framework espresso notice how
in the previous in the test that I

00:03:21.940 --> 00:03:21.950
in the previous in the test that I
 

00:03:21.950 --> 00:03:24.400
in the previous in the test that I
displayed we went through another

00:03:24.400 --> 00:03:24.410
displayed we went through another
 

00:03:24.410 --> 00:03:25.990
displayed we went through another
activity and back we went through three

00:03:25.990 --> 00:03:26.000
activity and back we went through three
 

00:03:26.000 --> 00:03:29.380
activity and back we went through three
different screens we know perform typing

00:03:29.380 --> 00:03:29.390
different screens we know perform typing
 

00:03:29.390 --> 00:03:31.390
different screens we know perform typing
we had to wait for the screens to change

00:03:31.390 --> 00:03:31.400
we had to wait for the screens to change
 

00:03:31.400 --> 00:03:32.979
we had to wait for the screens to change
and finally to display the final result

00:03:32.979 --> 00:03:32.989
and finally to display the final result
 

00:03:32.989 --> 00:03:35.260
and finally to display the final result
but there was no code in between to wait

00:03:35.260 --> 00:03:35.270
but there was no code in between to wait
 

00:03:35.270 --> 00:03:38.350
but there was no code in between to wait
for those events that's that's espresso

00:03:38.350 --> 00:03:38.360
for those events that's that's espresso
 

00:03:38.360 --> 00:03:41.560
for those events that's that's espresso
but when people come from different

00:03:41.560 --> 00:03:41.570
but when people come from different
 

00:03:41.570 --> 00:03:43.240
but when people come from different
backgrounds from the different you know

00:03:43.240 --> 00:03:43.250
backgrounds from the different you know
 

00:03:43.250 --> 00:03:45.280
backgrounds from the different you know
testing frameworks maybe and they try to

00:03:45.280 --> 00:03:45.290
testing frameworks maybe and they try to
 

00:03:45.290 --> 00:03:46.870
testing frameworks maybe and they try to
use this press over their apps I see a

00:03:46.870 --> 00:03:46.880
use this press over their apps I see a
 

00:03:46.880 --> 00:03:48.490
use this press over their apps I see a
lot of questions on Stack Overflow and

00:03:48.490 --> 00:03:48.500
lot of questions on Stack Overflow and
 

00:03:48.500 --> 00:03:50.800
lot of questions on Stack Overflow and
answers that kind of try to work against

00:03:50.800 --> 00:03:50.810
answers that kind of try to work against
 

00:03:50.810 --> 00:03:55.330
answers that kind of try to work against
that API and so let's look at like

00:03:55.330 --> 00:03:55.340
that API and so let's look at like
 

00:03:55.340 --> 00:03:57.699
that API and so let's look at like
something that people that I've seen in

00:03:57.699 --> 00:03:57.709
something that people that I've seen in
 

00:03:57.709 --> 00:03:59.380
something that people that I've seen in
answers of Stack Overflow that's not

00:03:59.380 --> 00:03:59.390
answers of Stack Overflow that's not
 

00:03:59.390 --> 00:04:01.600
answers of Stack Overflow that's not
entirely correct so instead of working

00:04:01.600 --> 00:04:01.610
entirely correct so instead of working
 

00:04:01.610 --> 00:04:03.370
entirely correct so instead of working
with us presto and using the the

00:04:03.370 --> 00:04:03.380
with us presto and using the the
 

00:04:03.380 --> 00:04:04.840
with us presto and using the the
constructs that I just discussed like

00:04:04.840 --> 00:04:04.850
constructs that I just discussed like
 

00:04:04.850 --> 00:04:07.600
constructs that I just discussed like
view measures people ask usually ask a

00:04:07.600 --> 00:04:07.610
view measures people ask usually ask a
 

00:04:07.610 --> 00:04:09.550
view measures people ask usually ask a
question how do I get the view how do I

00:04:09.550 --> 00:04:09.560
question how do I get the view how do I
 

00:04:09.560 --> 00:04:12.130
question how do I get the view how do I
get a view object to like just do things

00:04:12.130 --> 00:04:12.140
get a view object to like just do things
 

00:04:12.140 --> 00:04:14.410
get a view object to like just do things
to it to change properties and verify

00:04:14.410 --> 00:04:14.420
to it to change properties and verify
 

00:04:14.420 --> 00:04:16.360
to it to change properties and verify
things well you really shouldn't this is

00:04:16.360 --> 00:04:16.370
things well you really shouldn't this is
 

00:04:16.370 --> 00:04:18.410
things well you really shouldn't this is
like a very obscure API this is not my

00:04:18.410 --> 00:04:18.420
like a very obscure API this is not my
 

00:04:18.420 --> 00:04:20.780
like a very obscure API this is not my
- for you to use this will even this

00:04:20.780 --> 00:04:20.790
- for you to use this will even this
 

00:04:20.790 --> 00:04:24.020
- for you to use this will even this
will just not work the other thing that

00:04:24.020 --> 00:04:24.030
will just not work the other thing that
 

00:04:24.030 --> 00:04:25.790
will just not work the other thing that
is you know a little bit more dangerous

00:04:25.790 --> 00:04:25.800
is you know a little bit more dangerous
 

00:04:25.800 --> 00:04:29.060
is you know a little bit more dangerous
is like getting the the activity and

00:04:29.060 --> 00:04:29.070
is like getting the the activity and
 

00:04:29.070 --> 00:04:30.680
is like getting the the activity and
like finding stuff in the view hierarchy

00:04:30.680 --> 00:04:30.690
like finding stuff in the view hierarchy
 

00:04:30.690 --> 00:04:33.200
like finding stuff in the view hierarchy
this line of code would actually work

00:04:33.200 --> 00:04:33.210
this line of code would actually work
 

00:04:33.210 --> 00:04:35.750
this line of code would actually work
but it's it's not really what you want

00:04:35.750 --> 00:04:35.760
but it's it's not really what you want
 

00:04:35.760 --> 00:04:37.880
but it's it's not really what you want
to do I mean it will work as in it will

00:04:37.880 --> 00:04:37.890
to do I mean it will work as in it will
 

00:04:37.890 --> 00:04:41.300
to do I mean it will work as in it will
not throw an exception but again this is

00:04:41.300 --> 00:04:41.310
not throw an exception but again this is
 

00:04:41.310 --> 00:04:48.040
not throw an exception but again this is
this is working against espresso and

00:04:48.040 --> 00:04:48.050
 
 

00:04:48.050 --> 00:04:50.930
 
what question for you this is something

00:04:50.930 --> 00:04:50.940
what question for you this is something
 

00:04:50.940 --> 00:04:52.670
what question for you this is something
I've seen how many people will think

00:04:52.670 --> 00:04:52.680
I've seen how many people will think
 

00:04:52.680 --> 00:04:58.120
I've seen how many people will think
this test will actually pass No

00:04:58.120 --> 00:04:58.130
this test will actually pass No
 

00:04:58.130 --> 00:05:01.430
this test will actually pass No
well it will because it doesn't do

00:05:01.430 --> 00:05:01.440
well it will because it doesn't do
 

00:05:01.440 --> 00:05:05.930
well it will because it doesn't do
anything it just on view doesn't run any

00:05:05.930 --> 00:05:05.940
anything it just on view doesn't run any
 

00:05:05.940 --> 00:05:08.360
anything it just on view doesn't run any
with espresso actions it just returns a

00:05:08.360 --> 00:05:08.370
with espresso actions it just returns a
 

00:05:08.370 --> 00:05:11.270
with espresso actions it just returns a
view interaction object which you can

00:05:11.270 --> 00:05:11.280
view interaction object which you can
 

00:05:11.280 --> 00:05:14.390
view interaction object which you can
act upon next and you know mq actions or

00:05:14.390 --> 00:05:14.400
act upon next and you know mq actions or
 

00:05:14.400 --> 00:05:16.490
act upon next and you know mq actions or
do assertions this this doesn't even

00:05:16.490 --> 00:05:16.500
do assertions this this doesn't even
 

00:05:16.500 --> 00:05:18.710
do assertions this this doesn't even
look for the view in the hierarchy so

00:05:18.710 --> 00:05:18.720
look for the view in the hierarchy so
 

00:05:18.720 --> 00:05:21.580
look for the view in the hierarchy so
coming back at a proper espresso test

00:05:21.580 --> 00:05:21.590
coming back at a proper espresso test
 

00:05:21.590 --> 00:05:25.100
coming back at a proper espresso test
like I said this just returns the view

00:05:25.100 --> 00:05:25.110
like I said this just returns the view
 

00:05:25.110 --> 00:05:27.530
like I said this just returns the view
interaction object and only when you

00:05:27.530 --> 00:05:27.540
interaction object and only when you
 

00:05:27.540 --> 00:05:29.660
interaction object and only when you
actually Act them that this is where the

00:05:29.660 --> 00:05:29.670
actually Act them that this is where the
 

00:05:29.670 --> 00:05:32.120
actually Act them that this is where the
espresso magic starts and so in this

00:05:32.120 --> 00:05:32.130
espresso magic starts and so in this
 

00:05:32.130 --> 00:05:33.440
espresso magic starts and so in this
first part of this presentation I just

00:05:33.440 --> 00:05:33.450
first part of this presentation I just
 

00:05:33.450 --> 00:05:35.210
first part of this presentation I just
want to talk to you a little bit about

00:05:35.210 --> 00:05:35.220
want to talk to you a little bit about
 

00:05:35.220 --> 00:05:37.100
want to talk to you a little bit about
internals so that you have the knowledge

00:05:37.100 --> 00:05:37.110
internals so that you have the knowledge
 

00:05:37.110 --> 00:05:38.870
internals so that you have the knowledge
that will help you when building your

00:05:38.870 --> 00:05:38.880
that will help you when building your
 

00:05:38.880 --> 00:05:41.570
that will help you when building your
tests and you know finding all the

00:05:41.570 --> 00:05:41.580
tests and you know finding all the
 

00:05:41.580 --> 00:05:44.720
tests and you know finding all the
different scenarios and different ways

00:05:44.720 --> 00:05:44.730
different scenarios and different ways
 

00:05:44.730 --> 00:05:48.620
different scenarios and different ways
that your tests can fail so let's look

00:05:48.620 --> 00:05:48.630
that your tests can fail so let's look
 

00:05:48.630 --> 00:05:50.870
that your tests can fail so let's look
at the view interaction class this is

00:05:50.870 --> 00:05:50.880
at the view interaction class this is
 

00:05:50.880 --> 00:05:54.080
at the view interaction class this is
source code from espresso it's open

00:05:54.080 --> 00:05:54.090
source code from espresso it's open
 

00:05:54.090 --> 00:05:55.640
source code from espresso it's open
source you can go look it up you can

00:05:55.640 --> 00:05:55.650
source you can go look it up you can
 

00:05:55.650 --> 00:05:57.350
source you can go look it up you can
open it yourself you can you dig into it

00:05:57.350 --> 00:05:57.360
open it yourself you can you dig into it
 

00:05:57.360 --> 00:05:59.180
open it yourself you can you dig into it
I really encourage you to do it it's not

00:05:59.180 --> 00:05:59.190
I really encourage you to do it it's not
 

00:05:59.190 --> 00:06:02.570
I really encourage you to do it it's not
that big and you know you can it can

00:06:02.570 --> 00:06:02.580
that big and you know you can it can
 

00:06:02.580 --> 00:06:04.430
that big and you know you can it can
give you a better understanding of what

00:06:04.430 --> 00:06:04.440
give you a better understanding of what
 

00:06:04.440 --> 00:06:07.940
give you a better understanding of what
happens under the hood so when I perform

00:06:07.940 --> 00:06:07.950
happens under the hood so when I perform
 

00:06:07.950 --> 00:06:10.550
happens under the hood so when I perform
an action on the view attraction object

00:06:10.550 --> 00:06:10.560
an action on the view attraction object
 

00:06:10.560 --> 00:06:12.980
an action on the view attraction object
this method do perform this cold and the

00:06:12.980 --> 00:06:12.990
this method do perform this cold and the
 

00:06:12.990 --> 00:06:14.780
this method do perform this cold and the
first very important thing that happens

00:06:14.780 --> 00:06:14.790
first very important thing that happens
 

00:06:14.790 --> 00:06:18.140
first very important thing that happens
is it starts running everything that it

00:06:18.140 --> 00:06:18.150
is it starts running everything that it
 

00:06:18.150 --> 00:06:20.420
is it starts running everything that it
does on the main thread so these the the

00:06:20.420 --> 00:06:20.430
does on the main thread so these the the
 

00:06:20.430 --> 00:06:23.360
does on the main thread so these the the
test the the test method that you write

00:06:23.360 --> 00:06:23.370
test the the test method that you write
 

00:06:23.370 --> 00:06:25.010
test the the test method that you write
it's actually on a different thread if

00:06:25.010 --> 00:06:25.020
it's actually on a different thread if
 

00:06:25.020 --> 00:06:26.140
it's actually on a different thread if
we want to

00:06:26.140 --> 00:06:26.150
we want to
 

00:06:26.150 --> 00:06:27.610
we want to
work with views what work with the view

00:06:27.610 --> 00:06:27.620
work with views what work with the view
 

00:06:27.620 --> 00:06:29.260
work with views what work with the view
hierarchy we have to switch to the main

00:06:29.260 --> 00:06:29.270
hierarchy we have to switch to the main
 

00:06:29.270 --> 00:06:33.790
hierarchy we have to switch to the main
thread first then this is a very very

00:06:33.790 --> 00:06:33.800
thread first then this is a very very
 

00:06:33.800 --> 00:06:34.780
thread first then this is a very very
important thing

00:06:34.780 --> 00:06:34.790
important thing
 

00:06:34.790 --> 00:06:37.600
important thing
ui controller is the most important part

00:06:37.600 --> 00:06:37.610
ui controller is the most important part
 

00:06:37.610 --> 00:06:39.670
ui controller is the most important part
of espresso I would say this is an

00:06:39.670 --> 00:06:39.680
of espresso I would say this is an
 

00:06:39.680 --> 00:06:42.750
of espresso I would say this is an
internal craft that's an espresso I mean

00:06:42.750 --> 00:06:42.760
internal craft that's an espresso I mean
 

00:06:42.760 --> 00:06:45.969
internal craft that's an espresso I mean
yeah a class on espresso that has this

00:06:45.969 --> 00:06:45.979
yeah a class on espresso that has this
 

00:06:45.979 --> 00:06:48.129
yeah a class on espresso that has this
method called loop main thread on so

00:06:48.129 --> 00:06:48.139
method called loop main thread on so
 

00:06:48.139 --> 00:06:51.129
method called loop main thread on so
I'll go and this is where all the magic

00:06:51.129 --> 00:06:51.139
I'll go and this is where all the magic
 

00:06:51.139 --> 00:06:52.870
I'll go and this is where all the magic
happens that I mentioned before this is

00:06:52.870 --> 00:06:52.880
happens that I mentioned before this is
 

00:06:52.880 --> 00:06:57.280
happens that I mentioned before this is
the place where oh well where special

00:06:57.280 --> 00:06:57.290
the place where oh well where special
 

00:06:57.290 --> 00:06:58.870
the place where oh well where special
waits for your app to be idle and I will

00:06:58.870 --> 00:06:58.880
waits for your app to be idle and I will
 

00:06:58.880 --> 00:07:00.909
waits for your app to be idle and I will
discuss in a sec what it actually means

00:07:00.909 --> 00:07:00.919
discuss in a sec what it actually means
 

00:07:00.919 --> 00:07:03.070
discuss in a sec what it actually means
for your app to be idle and only then

00:07:03.070 --> 00:07:03.080
for your app to be idle and only then
 

00:07:03.080 --> 00:07:04.990
for your app to be idle and only then
only after espresso finds that it can

00:07:04.990 --> 00:07:05.000
only after espresso finds that it can
 

00:07:05.000 --> 00:07:06.670
only after espresso finds that it can
run it can actually run your action

00:07:06.670 --> 00:07:06.680
run it can actually run your action
 

00:07:06.680 --> 00:07:08.230
run it can actually run your action
safely when the app is not doing

00:07:08.230 --> 00:07:08.240
safely when the app is not doing
 

00:07:08.240 --> 00:07:11.020
safely when the app is not doing
anything will it actually kick off you

00:07:11.020 --> 00:07:11.030
anything will it actually kick off you
 

00:07:11.030 --> 00:07:12.510
anything will it actually kick off you
know traversing the view hierarchy

00:07:12.510 --> 00:07:12.520
know traversing the view hierarchy
 

00:07:12.520 --> 00:07:15.159
know traversing the view hierarchy
finding the view and matching it against

00:07:15.159 --> 00:07:15.169
finding the view and matching it against
 

00:07:15.169 --> 00:07:17.560
finding the view and matching it against
against you matter only then and then

00:07:17.560 --> 00:07:17.570
against you matter only then and then
 

00:07:17.570 --> 00:07:19.150
against you matter only then and then
when it finds the view of course it

00:07:19.150 --> 00:07:19.160
when it finds the view of course it
 

00:07:19.160 --> 00:07:20.920
when it finds the view of course it
performs the action and passes in the UI

00:07:20.920 --> 00:07:20.930
performs the action and passes in the UI
 

00:07:20.930 --> 00:07:22.629
performs the action and passes in the UI
controller so if you're writing any

00:07:22.629 --> 00:07:22.639
controller so if you're writing any
 

00:07:22.639 --> 00:07:25.080
controller so if you're writing any
custom actions you can use it again

00:07:25.080 --> 00:07:25.090
custom actions you can use it again
 

00:07:25.090 --> 00:07:27.310
custom actions you can use it again
instead of instead of trying to do

00:07:27.310 --> 00:07:27.320
instead of instead of trying to do
 

00:07:27.320 --> 00:07:31.150
instead of instead of trying to do
things without espresso so your

00:07:31.150 --> 00:07:31.160
things without espresso so your
 

00:07:31.160 --> 00:07:33.310
things without espresso so your
controller loop main thread until idle a

00:07:33.310 --> 00:07:33.320
controller loop main thread until idle a
 

00:07:33.320 --> 00:07:36.670
controller loop main thread until idle a
long name but so what it does it first

00:07:36.670 --> 00:07:36.680
long name but so what it does it first
 

00:07:36.680 --> 00:07:38.080
long name but so what it does it first
sets up conditions

00:07:38.080 --> 00:07:38.090
sets up conditions
 

00:07:38.090 --> 00:07:41.020
sets up conditions
it looks at async tasks in your app it

00:07:41.020 --> 00:07:41.030
it looks at async tasks in your app it
 

00:07:41.030 --> 00:07:42.969
it looks at async tasks in your app it
also looks at async tasks from the

00:07:42.969 --> 00:07:42.979
also looks at async tasks from the
 

00:07:42.979 --> 00:07:44.650
also looks at async tasks from the
support library which are use a

00:07:44.650 --> 00:07:44.660
support library which are use a
 

00:07:44.660 --> 00:07:46.600
support library which are use a
different thread pool so it needs to

00:07:46.600 --> 00:07:46.610
different thread pool so it needs to
 

00:07:46.610 --> 00:07:49.270
different thread pool so it needs to
look at both of those and then it looks

00:07:49.270 --> 00:07:49.280
look at both of those and then it looks
 

00:07:49.280 --> 00:07:51.070
look at both of those and then it looks
at all the unlink resources which is a

00:07:51.070 --> 00:07:51.080
at all the unlink resources which is a
 

00:07:51.080 --> 00:07:52.779
at all the unlink resources which is a
custom mechanism to tell espresso that

00:07:52.779 --> 00:07:52.789
custom mechanism to tell espresso that
 

00:07:52.789 --> 00:07:54.219
custom mechanism to tell espresso that
your app is not idle which I will

00:07:54.219 --> 00:07:54.229
your app is not idle which I will
 

00:07:54.229 --> 00:07:57.219
your app is not idle which I will
discuss in a sec it sets up all these

00:07:57.219 --> 00:07:57.229
discuss in a sec it sets up all these
 

00:07:57.229 --> 00:07:58.839
discuss in a sec it sets up all these
conditions waiting for all this team

00:07:58.839 --> 00:07:58.849
conditions waiting for all this team
 

00:07:58.849 --> 00:08:01.659
conditions waiting for all this team
things to be idle and then runs another

00:08:01.659 --> 00:08:01.669
things to be idle and then runs another
 

00:08:01.669 --> 00:08:04.170
things to be idle and then runs another
method which is loops and waits until

00:08:04.170 --> 00:08:04.180
method which is loops and waits until
 

00:08:04.180 --> 00:08:06.610
method which is loops and waits until
these conditions are met and what's

00:08:06.610 --> 00:08:06.620
these conditions are met and what's
 

00:08:06.620 --> 00:08:07.779
these conditions are met and what's
important in the end

00:08:07.779 --> 00:08:07.789
important in the end
 

00:08:07.789 --> 00:08:10.060
important in the end
it also looks and the main looper the

00:08:10.060 --> 00:08:10.070
it also looks and the main looper the
 

00:08:10.070 --> 00:08:11.409
it also looks and the main looper the
main like a looper is something

00:08:11.409 --> 00:08:11.419
main like a looper is something
 

00:08:11.419 --> 00:08:12.969
main like a looper is something
associated with your thread that has a

00:08:12.969 --> 00:08:12.979
associated with your thread that has a
 

00:08:12.979 --> 00:08:15.010
associated with your thread that has a
message queue so it basically looks in

00:08:15.010 --> 00:08:15.020
message queue so it basically looks in
 

00:08:15.020 --> 00:08:16.779
message queue so it basically looks in
the message queue if there are any

00:08:16.779 --> 00:08:16.789
the message queue if there are any
 

00:08:16.789 --> 00:08:19.029
the message queue if there are any
events that are still like pending still

00:08:19.029 --> 00:08:19.039
events that are still like pending still
 

00:08:19.039 --> 00:08:21.129
events that are still like pending still
preventing espresso to run safely and

00:08:21.129 --> 00:08:21.139
preventing espresso to run safely and
 

00:08:21.139 --> 00:08:23.469
preventing espresso to run safely and
there's one common misconception about

00:08:23.469 --> 00:08:23.479
there's one common misconception about
 

00:08:23.479 --> 00:08:27.610
there's one common misconception about
this so if I have a handler that's

00:08:27.610 --> 00:08:27.620
this so if I have a handler that's
 

00:08:27.620 --> 00:08:29.620
this so if I have a handler that's
attached to the main thread so I'm

00:08:29.620 --> 00:08:29.630
attached to the main thread so I'm
 

00:08:29.630 --> 00:08:31.330
attached to the main thread so I'm
posting to the main looper right if I

00:08:31.330 --> 00:08:31.340
posting to the main looper right if I
 

00:08:31.340 --> 00:08:32.440
posting to the main looper right if I
post a message

00:08:32.440 --> 00:08:32.450
post a message
 

00:08:32.450 --> 00:08:34.209
post a message
post a runnable that's delayed 500

00:08:34.209 --> 00:08:34.219
post a runnable that's delayed 500
 

00:08:34.219 --> 00:08:34.920
post a runnable that's delayed 500
millisecond

00:08:34.920 --> 00:08:34.930
millisecond
 

00:08:34.930 --> 00:08:37.409
millisecond
what do you think is the app idle now

00:08:37.409 --> 00:08:37.419
what do you think is the app idle now
 

00:08:37.419 --> 00:08:39.390
what do you think is the app idle now
after I run this line of code and who

00:08:39.390 --> 00:08:39.400
after I run this line of code and who
 

00:08:39.400 --> 00:08:43.290
after I run this line of code and who
thinks the app is idle it's not and

00:08:43.290 --> 00:08:43.300
thinks the app is idle it's not and
 

00:08:43.300 --> 00:08:43.830
thinks the app is idle it's not and
you're right

00:08:43.830 --> 00:08:43.840
you're right
 

00:08:43.840 --> 00:08:45.360
you're right
you must be real advanced espresso

00:08:45.360 --> 00:08:45.370
you must be real advanced espresso
 

00:08:45.370 --> 00:08:48.140
you must be real advanced espresso
experts since you came to this talk so

00:08:48.140 --> 00:08:48.150
experts since you came to this talk so
 

00:08:48.150 --> 00:08:50.460
experts since you came to this talk so
when the queue is empty so this is again

00:08:50.460 --> 00:08:50.470
when the queue is empty so this is again
 

00:08:50.470 --> 00:08:52.770
when the queue is empty so this is again
part of espresso this is part of a class

00:08:52.770 --> 00:08:52.780
part of espresso this is part of a class
 

00:08:52.780 --> 00:08:54.180
part of espresso this is part of a class
that looks at the message queue and

00:08:54.180 --> 00:08:54.190
that looks at the message queue and
 

00:08:54.190 --> 00:08:56.580
that looks at the message queue and
determines if it's safe to run so the

00:08:56.580 --> 00:08:56.590
determines if it's safe to run so the
 

00:08:56.590 --> 00:08:57.510
determines if it's safe to run so the
first condition is pretty

00:08:57.510 --> 00:08:57.520
first condition is pretty
 

00:08:57.520 --> 00:08:58.140
first condition is pretty
straightforward

00:08:58.140 --> 00:08:58.150
straightforward
 

00:08:58.150 --> 00:08:59.550
straightforward
if the queue is empty if there are no

00:08:59.550 --> 00:08:59.560
if the queue is empty if there are no
 

00:08:59.560 --> 00:09:00.750
if the queue is empty if there are no
events on the main thread they're

00:09:00.750 --> 00:09:00.760
events on the main thread they're
 

00:09:00.760 --> 00:09:03.300
events on the main thread they're
waiting to be executed then of course we

00:09:03.300 --> 00:09:03.310
waiting to be executed then of course we
 

00:09:03.310 --> 00:09:05.460
waiting to be executed then of course we
can run but then there's this other part

00:09:05.460 --> 00:09:05.470
can run but then there's this other part
 

00:09:05.470 --> 00:09:07.650
can run but then there's this other part
of the condition and what is this task

00:09:07.650 --> 00:09:07.660
of the condition and what is this task
 

00:09:07.660 --> 00:09:10.980
of the condition and what is this task
do long basically it's a task that's a

00:09:10.980 --> 00:09:10.990
do long basically it's a task that's a
 

00:09:10.990 --> 00:09:15.900
do long basically it's a task that's a
long time in the future and if you look

00:09:15.900 --> 00:09:15.910
long time in the future and if you look
 

00:09:15.910 --> 00:09:18.720
long time in the future and if you look
at another piece of code that looks at

00:09:18.720 --> 00:09:18.730
at another piece of code that looks at
 

00:09:18.730 --> 00:09:21.210
at another piece of code that looks at
the queue state there's there's actually

00:09:21.210 --> 00:09:21.220
the queue state there's there's actually
 

00:09:21.220 --> 00:09:24.830
the queue state there's there's actually
a you know constant that we came up with

00:09:24.830 --> 00:09:24.840
a you know constant that we came up with
 

00:09:24.840 --> 00:09:27.030
a you know constant that we came up with
when working with espresso for a long

00:09:27.030 --> 00:09:27.040
when working with espresso for a long
 

00:09:27.040 --> 00:09:29.010
when working with espresso for a long
time and testing different scenarios but

00:09:29.010 --> 00:09:29.020
time and testing different scenarios but
 

00:09:29.020 --> 00:09:31.680
time and testing different scenarios but
basically we found that if we look only

00:09:31.680 --> 00:09:31.690
basically we found that if we look only
 

00:09:31.690 --> 00:09:34.380
basically we found that if we look only
a test at messages in the message queue

00:09:34.380 --> 00:09:34.390
a test at messages in the message queue
 

00:09:34.390 --> 00:09:36.570
a test at messages in the message queue
there are up to 15 milliseconds in the

00:09:36.570 --> 00:09:36.580
there are up to 15 milliseconds in the
 

00:09:36.580 --> 00:09:37.050
there are up to 15 milliseconds in the
future

00:09:37.050 --> 00:09:37.060
future
 

00:09:37.060 --> 00:09:39.300
future
then this will work for many many

00:09:39.300 --> 00:09:39.310
then this will work for many many
 

00:09:39.310 --> 00:09:41.970
then this will work for many many
scenarios scenarios so just one thing to

00:09:41.970 --> 00:09:41.980
scenarios scenarios so just one thing to
 

00:09:41.980 --> 00:09:44.130
scenarios scenarios so just one thing to
be aware of because that's a common

00:09:44.130 --> 00:09:44.140
be aware of because that's a common
 

00:09:44.140 --> 00:09:48.450
be aware of because that's a common
misconception I've seen online so yeah

00:09:48.450 --> 00:09:48.460
misconception I've seen online so yeah
 

00:09:48.460 --> 00:09:50.370
misconception I've seen online so yeah
if I post something really far in the

00:09:50.370 --> 00:09:50.380
if I post something really far in the
 

00:09:50.380 --> 00:09:50.880
if I post something really far in the
future

00:09:50.880 --> 00:09:50.890
future
 

00:09:50.890 --> 00:09:55.320
future
espresso can run and circling back to

00:09:55.320 --> 00:09:55.330
espresso can run and circling back to
 

00:09:55.330 --> 00:09:57.720
espresso can run and circling back to
IMing resource so I think resource is a

00:09:57.720 --> 00:09:57.730
IMing resource so I think resource is a
 

00:09:57.730 --> 00:10:00.990
IMing resource so I think resource is a
pretty simple but powerful concept that

00:10:00.990 --> 00:10:01.000
pretty simple but powerful concept that
 

00:10:01.000 --> 00:10:03.180
pretty simple but powerful concept that
you can use if you have long-running

00:10:03.180 --> 00:10:03.190
you can use if you have long-running
 

00:10:03.190 --> 00:10:04.770
you can use if you have long-running
operations on different threads in your

00:10:04.770 --> 00:10:04.780
operations on different threads in your
 

00:10:04.780 --> 00:10:06.990
operations on different threads in your
app on threads that are not using async

00:10:06.990 --> 00:10:07.000
app on threads that are not using async
 

00:10:07.000 --> 00:10:10.170
app on threads that are not using async
tasks or or async task combat because

00:10:10.170 --> 00:10:10.180
tasks or or async task combat because
 

00:10:10.180 --> 00:10:12.240
tasks or or async task combat because
espresso can synchronize on those but if

00:10:12.240 --> 00:10:12.250
espresso can synchronize on those but if
 

00:10:12.250 --> 00:10:13.980
espresso can synchronize on those but if
you have some kind of network operation

00:10:13.980 --> 00:10:13.990
you have some kind of network operation
 

00:10:13.990 --> 00:10:15.360
you have some kind of network operation
or some kind of long computation

00:10:15.360 --> 00:10:15.370
or some kind of long computation
 

00:10:15.370 --> 00:10:17.640
or some kind of long computation
something you have to wait for until

00:10:17.640 --> 00:10:17.650
something you have to wait for until
 

00:10:17.650 --> 00:10:19.950
something you have to wait for until
your app is actually considered idle you

00:10:19.950 --> 00:10:19.960
your app is actually considered idle you
 

00:10:19.960 --> 00:10:22.410
your app is actually considered idle you
just implement this interface and again

00:10:22.410 --> 00:10:22.420
just implement this interface and again
 

00:10:22.420 --> 00:10:24.480
just implement this interface and again
there's a it's it looks pretty simple

00:10:24.480 --> 00:10:24.490
there's a it's it looks pretty simple
 

00:10:24.490 --> 00:10:27.870
there's a it's it looks pretty simple
but people do a lots of developers

00:10:27.870 --> 00:10:27.880
but people do a lots of developers
 

00:10:27.880 --> 00:10:29.040
but people do a lots of developers
especially in the beginning and

00:10:29.040 --> 00:10:29.050
especially in the beginning and
 

00:10:29.050 --> 00:10:30.840
especially in the beginning and
everyone's a beginner at some point of

00:10:30.840 --> 00:10:30.850
everyone's a beginner at some point of
 

00:10:30.850 --> 00:10:34.590
everyone's a beginner at some point of
course people actually do a lot of

00:10:34.590 --> 00:10:34.600
course people actually do a lot of
 

00:10:34.600 --> 00:10:37.020
course people actually do a lot of
computation or figuring out if the app

00:10:37.020 --> 00:10:37.030
computation or figuring out if the app
 

00:10:37.030 --> 00:10:39.720
computation or figuring out if the app
is idle in the is idle method and I

00:10:39.720 --> 00:10:39.730
is idle in the is idle method and I
 

00:10:39.730 --> 00:10:41.160
is idle in the is idle method and I
really encourage you to make it as

00:10:41.160 --> 00:10:41.170
really encourage you to make it as
 

00:10:41.170 --> 00:10:43.079
really encourage you to make it as
simple as possible this would be just

00:10:43.079 --> 00:10:43.089
simple as possible this would be just
 

00:10:43.089 --> 00:10:45.190
simple as possible this would be just
returning a boolean flag if you

00:10:45.190 --> 00:10:45.200
returning a boolean flag if you
 

00:10:45.200 --> 00:10:47.560
returning a boolean flag if you
as Idol or not don't call on transition

00:10:47.560 --> 00:10:47.570
as Idol or not don't call on transition
 

00:10:47.570 --> 00:10:49.990
as Idol or not don't call on transition
Idol in the East Idol method instead

00:10:49.990 --> 00:10:50.000
Idol in the East Idol method instead
 

00:10:50.000 --> 00:10:52.240
Idol in the East Idol method instead
when your app actually becomes either

00:10:52.240 --> 00:10:52.250
when your app actually becomes either
 

00:10:52.250 --> 00:10:54.100
when your app actually becomes either
way your network request finishes your

00:10:54.100 --> 00:10:54.110
way your network request finishes your
 

00:10:54.110 --> 00:10:56.860
way your network request finishes your
computation finishes then remember to

00:10:56.860 --> 00:10:56.870
computation finishes then remember to
 

00:10:56.870 --> 00:10:58.570
computation finishes then remember to
call on transition to Idol on the

00:10:58.570 --> 00:10:58.580
call on transition to Idol on the
 

00:10:58.580 --> 00:10:59.860
call on transition to Idol on the
callback that this press will supply to

00:10:59.860 --> 00:10:59.870
callback that this press will supply to
 

00:10:59.870 --> 00:11:01.960
callback that this press will supply to
you because that's really telling

00:11:01.960 --> 00:11:01.970
you because that's really telling
 

00:11:01.970 --> 00:11:04.570
you because that's really telling
espresso I'm gonna be algún I'll check

00:11:04.570 --> 00:11:04.580
espresso I'm gonna be algún I'll check
 

00:11:04.580 --> 00:11:06.550
espresso I'm gonna be algún I'll check
my state and maybe espresso can run now

00:11:06.550 --> 00:11:06.560
my state and maybe espresso can run now
 

00:11:06.560 --> 00:11:10.480
my state and maybe espresso can run now
and I just want to mention another

00:11:10.480 --> 00:11:10.490
and I just want to mention another
 

00:11:10.490 --> 00:11:13.480
and I just want to mention another
another powerful method on the UI

00:11:13.480 --> 00:11:13.490
another powerful method on the UI
 

00:11:13.490 --> 00:11:15.430
another powerful method on the UI
controller if you're ever writing any

00:11:15.430 --> 00:11:15.440
controller if you're ever writing any
 

00:11:15.440 --> 00:11:17.730
controller if you're ever writing any
custom interaction and custom actions

00:11:17.730 --> 00:11:17.740
custom interaction and custom actions
 

00:11:17.740 --> 00:11:20.410
custom interaction and custom actions
whenever you feel like you want to use

00:11:20.410 --> 00:11:20.420
whenever you feel like you want to use
 

00:11:20.420 --> 00:11:22.810
whenever you feel like you want to use
thread sleep because you know that

00:11:22.810 --> 00:11:22.820
thread sleep because you know that
 

00:11:22.820 --> 00:11:25.030
thread sleep because you know that
sometimes need to pass between an event

00:11:25.030 --> 00:11:25.040
sometimes need to pass between an event
 

00:11:25.040 --> 00:11:26.950
sometimes need to pass between an event
I you I want to happen

00:11:26.950 --> 00:11:26.960
I you I want to happen
 

00:11:26.960 --> 00:11:29.560
I you I want to happen
don't use thread sleep please instead

00:11:29.560 --> 00:11:29.570
don't use thread sleep please instead
 

00:11:29.570 --> 00:11:31.480
don't use thread sleep please instead
use the construct we give you an

00:11:31.480 --> 00:11:31.490
use the construct we give you an
 

00:11:31.490 --> 00:11:33.610
use the construct we give you an
espresso use this method it sets up a

00:11:33.610 --> 00:11:33.620
espresso use this method it sets up a
 

00:11:33.620 --> 00:11:36.220
espresso use this method it sets up a
condition it waits until the time pass

00:11:36.220 --> 00:11:36.230
condition it waits until the time pass
 

00:11:36.230 --> 00:11:38.800
condition it waits until the time pass
passes and then again with loop until

00:11:38.800 --> 00:11:38.810
passes and then again with loop until
 

00:11:38.810 --> 00:11:41.320
passes and then again with loop until
you get all the same guarantees about

00:11:41.320 --> 00:11:41.330
you get all the same guarantees about
 

00:11:41.330 --> 00:11:43.000
you get all the same guarantees about
the message queue about the app being

00:11:43.000 --> 00:11:43.010
the message queue about the app being
 

00:11:43.010 --> 00:11:45.340
the message queue about the app being
idle so please use those things if

00:11:45.340 --> 00:11:45.350
idle so please use those things if
 

00:11:45.350 --> 00:11:48.280
idle so please use those things if
you're doing more advanced stuff and

00:11:48.280 --> 00:11:48.290
you're doing more advanced stuff and
 

00:11:48.290 --> 00:11:51.790
you're doing more advanced stuff and
moving on in the second part I would I

00:11:51.790 --> 00:11:51.800
moving on in the second part I would I
 

00:11:51.800 --> 00:11:54.130
moving on in the second part I would I
just want to talk to you about tips and

00:11:54.130 --> 00:11:54.140
just want to talk to you about tips and
 

00:11:54.140 --> 00:11:55.930
just want to talk to you about tips and
various and pieces of advice that I

00:11:55.930 --> 00:11:55.940
various and pieces of advice that I
 

00:11:55.940 --> 00:11:57.460
various and pieces of advice that I
gathered from internal teams on Google

00:11:57.460 --> 00:11:57.470
gathered from internal teams on Google
 

00:11:57.470 --> 00:12:00.310
gathered from internal teams on Google
working with espresso hopefully it'll

00:12:00.310 --> 00:12:00.320
working with espresso hopefully it'll
 

00:12:00.320 --> 00:12:02.310
working with espresso hopefully it'll
help make your tests better less flaky

00:12:02.310 --> 00:12:02.320
help make your tests better less flaky
 

00:12:02.320 --> 00:12:07.750
help make your tests better less flaky
more maintainable so I'm gonna go one

00:12:07.750 --> 00:12:07.760
more maintainable so I'm gonna go one
 

00:12:07.760 --> 00:12:11.800
more maintainable so I'm gonna go one
way back through them yeah I mean do you

00:12:11.800 --> 00:12:11.810
way back through them yeah I mean do you
 

00:12:11.810 --> 00:12:13.990
way back through them yeah I mean do you
care about your code structure your apps

00:12:13.990 --> 00:12:14.000
care about your code structure your apps
 

00:12:14.000 --> 00:12:15.790
care about your code structure your apps
architecture your you know good quality

00:12:15.790 --> 00:12:15.800
architecture your you know good quality
 

00:12:15.800 --> 00:12:19.720
architecture your you know good quality
overall for your app probably yes what

00:12:19.720 --> 00:12:19.730
overall for your app probably yes what
 

00:12:19.730 --> 00:12:21.910
overall for your app probably yes what
well then why should you care about the

00:12:21.910 --> 00:12:21.920
well then why should you care about the
 

00:12:21.920 --> 00:12:24.700
well then why should you care about the
same for your tests and let me just show

00:12:24.700 --> 00:12:24.710
same for your tests and let me just show
 

00:12:24.710 --> 00:12:26.320
same for your tests and let me just show
a very very simple example if you're

00:12:26.320 --> 00:12:26.330
a very very simple example if you're
 

00:12:26.330 --> 00:12:28.660
a very very simple example if you're
still not convinced so with espresso

00:12:28.660 --> 00:12:28.670
still not convinced so with espresso
 

00:12:28.670 --> 00:12:30.730
still not convinced so with espresso
sometimes you need to code pretty close

00:12:30.730 --> 00:12:30.740
sometimes you need to code pretty close
 

00:12:30.740 --> 00:12:33.040
sometimes you need to code pretty close
to the implementation right so expect

00:12:33.040 --> 00:12:33.050
to the implementation right so expect
 

00:12:33.050 --> 00:12:35.200
to the implementation right so expect
for example if you use on data to look

00:12:35.200 --> 00:12:35.210
for example if you use on data to look
 

00:12:35.210 --> 00:12:37.150
for example if you use on data to look
for views in your adapter views in the

00:12:37.150 --> 00:12:37.160
for views in your adapter views in the
 

00:12:37.160 --> 00:12:40.660
for views in your adapter views in the
ListView the simplest simplest example

00:12:40.660 --> 00:12:40.670
ListView the simplest simplest example
 

00:12:40.670 --> 00:12:43.570
ListView the simplest simplest example
of this you have a ListView backed by an

00:12:43.570 --> 00:12:43.580
of this you have a ListView backed by an
 

00:12:43.580 --> 00:12:47.380
of this you have a ListView backed by an
adapter back by like map items and so

00:12:47.380 --> 00:12:47.390
adapter back by like map items and so
 

00:12:47.390 --> 00:12:49.690
adapter back by like map items and so
you write this line of code your test

00:12:49.690 --> 00:12:49.700
you write this line of code your test
 

00:12:49.700 --> 00:12:51.790
you write this line of code your test
passes and then you need to use it in

00:12:51.790 --> 00:12:51.800
passes and then you need to use it in
 

00:12:51.800 --> 00:12:52.519
passes and then you need to use it in
another test

00:12:52.519 --> 00:12:52.529
another test
 

00:12:52.529 --> 00:12:54.350
another test
another test and so on so you copy paste

00:12:54.350 --> 00:12:54.360
another test and so on so you copy paste
 

00:12:54.360 --> 00:12:56.269
another test and so on so you copy paste
it everywhere and then imagine you

00:12:56.269 --> 00:12:56.279
it everywhere and then imagine you
 

00:12:56.279 --> 00:12:58.100
it everywhere and then imagine you
change the adapter you change the data

00:12:58.100 --> 00:12:58.110
change the adapter you change the data
 

00:12:58.110 --> 00:13:00.530
change the adapter you change the data
that's backing your ListView you're

00:13:00.530 --> 00:13:00.540
that's backing your ListView you're
 

00:13:00.540 --> 00:13:02.629
that's backing your ListView you're
starting to use a cursor or whatever

00:13:02.629 --> 00:13:02.639
starting to use a cursor or whatever
 

00:13:02.639 --> 00:13:05.090
starting to use a cursor or whatever
else and suddenly you have to go and

00:13:05.090 --> 00:13:05.100
else and suddenly you have to go and
 

00:13:05.100 --> 00:13:07.689
else and suddenly you have to go and
change it in every test in your code

00:13:07.689 --> 00:13:07.699
change it in every test in your code
 

00:13:07.699 --> 00:13:11.749
change it in every test in your code
pee-wee daunting so instead just try to

00:13:11.749 --> 00:13:11.759
pee-wee daunting so instead just try to
 

00:13:11.759 --> 00:13:15.199
pee-wee daunting so instead just try to
abstract away any more complicated

00:13:15.199 --> 00:13:15.209
abstract away any more complicated
 

00:13:15.209 --> 00:13:17.600
abstract away any more complicated
matters any more complicated pieces of

00:13:17.600 --> 00:13:17.610
matters any more complicated pieces of
 

00:13:17.610 --> 00:13:20.210
matters any more complicated pieces of
code try to again this is very simple

00:13:20.210 --> 00:13:20.220
code try to again this is very simple
 

00:13:20.220 --> 00:13:22.280
code try to again this is very simple
you can you can you know write your own

00:13:22.280 --> 00:13:22.290
you can you can you know write your own
 

00:13:22.290 --> 00:13:26.960
you can you can you know write your own
robots or more sophisticated ways to

00:13:26.960 --> 00:13:26.970
robots or more sophisticated ways to
 

00:13:26.970 --> 00:13:29.600
robots or more sophisticated ways to
abstract away working with screens in

00:13:29.600 --> 00:13:29.610
abstract away working with screens in
 

00:13:29.610 --> 00:13:31.400
abstract away working with screens in
espresso but then you just need to

00:13:31.400 --> 00:13:31.410
espresso but then you just need to
 

00:13:31.410 --> 00:13:33.439
espresso but then you just need to
change one place and your tests will

00:13:33.439 --> 00:13:33.449
change one place and your tests will
 

00:13:33.449 --> 00:13:37.129
change one place and your tests will
pass again then one thing I want to

00:13:37.129 --> 00:13:37.139
pass again then one thing I want to
 

00:13:37.139 --> 00:13:38.360
pass again then one thing I want to
stress throughout this presentation

00:13:38.360 --> 00:13:38.370
stress throughout this presentation
 

00:13:38.370 --> 00:13:41.480
stress throughout this presentation
please use the available AP eyes and

00:13:41.480 --> 00:13:41.490
please use the available AP eyes and
 

00:13:41.490 --> 00:13:43.910
please use the available AP eyes and
classes that we give you an espresso use

00:13:43.910 --> 00:13:43.920
classes that we give you an espresso use
 

00:13:43.920 --> 00:13:47.090
classes that we give you an espresso use
them available measures we provide a lot

00:13:47.090 --> 00:13:47.100
them available measures we provide a lot
 

00:13:47.100 --> 00:13:50.689
them available measures we provide a lot
of matters for pretty much every view

00:13:50.689 --> 00:13:50.699
of matters for pretty much every view
 

00:13:50.699 --> 00:13:52.280
of matters for pretty much every view
that's in the framework for most

00:13:52.280 --> 00:13:52.290
that's in the framework for most
 

00:13:52.290 --> 00:13:53.869
that's in the framework for most
properties that are in the framework and

00:13:53.869 --> 00:13:53.879
properties that are in the framework and
 

00:13:53.879 --> 00:13:56.540
properties that are in the framework and
if something is missing then maybe we

00:13:56.540 --> 00:13:56.550
if something is missing then maybe we
 

00:13:56.550 --> 00:13:59.059
if something is missing then maybe we
emitted it maybe it should be there and

00:13:59.059 --> 00:13:59.069
emitted it maybe it should be there and
 

00:13:59.069 --> 00:14:01.340
emitted it maybe it should be there and
it would be nice if if you find this

00:14:01.340 --> 00:14:01.350
it would be nice if if you find this
 

00:14:01.350 --> 00:14:02.749
it would be nice if if you find this
kind of situation to please file a bug

00:14:02.749 --> 00:14:02.759
kind of situation to please file a bug
 

00:14:02.759 --> 00:14:06.889
kind of situation to please file a bug
with us on the same but on the other

00:14:06.889 --> 00:14:06.899
with us on the same but on the other
 

00:14:06.899 --> 00:14:09.350
with us on the same but on the other
hand we can't know everything about the

00:14:09.350 --> 00:14:09.360
hand we can't know everything about the
 

00:14:09.360 --> 00:14:10.939
hand we can't know everything about the
custom views you make so definitely

00:14:10.939 --> 00:14:10.949
custom views you make so definitely
 

00:14:10.949 --> 00:14:12.499
custom views you make so definitely
there are moments when you would like to

00:14:12.499 --> 00:14:12.509
there are moments when you would like to
 

00:14:12.509 --> 00:14:14.600
there are moments when you would like to
write your own matters and another

00:14:14.600 --> 00:14:14.610
write your own matters and another
 

00:14:14.610 --> 00:14:16.850
write your own matters and another
instance of that is if you find that you

00:14:16.850 --> 00:14:16.860
instance of that is if you find that you
 

00:14:16.860 --> 00:14:19.970
instance of that is if you find that you
are combining lots and lots of matters

00:14:19.970 --> 00:14:19.980
are combining lots and lots of matters
 

00:14:19.980 --> 00:14:22.490
are combining lots and lots of matters
for your actions maybe it's nice to ever

00:14:22.490 --> 00:14:22.500
for your actions maybe it's nice to ever
 

00:14:22.500 --> 00:14:24.889
for your actions maybe it's nice to ever
again abstract away under this

00:14:24.889 --> 00:14:24.899
again abstract away under this
 

00:14:24.899 --> 00:14:26.780
again abstract away under this
complexity and write a custom measure a

00:14:26.780 --> 00:14:26.790
complexity and write a custom measure a
 

00:14:26.790 --> 00:14:29.299
complexity and write a custom measure a
compound measure that does that I just

00:14:29.299 --> 00:14:29.309
compound measure that does that I just
 

00:14:29.309 --> 00:14:31.970
compound measure that does that I just
want to point out again there are

00:14:31.970 --> 00:14:31.980
want to point out again there are
 

00:14:31.980 --> 00:14:33.920
want to point out again there are
classes that will help you with that so

00:14:33.920 --> 00:14:33.930
classes that will help you with that so
 

00:14:33.930 --> 00:14:35.900
classes that will help you with that so
for the simplest matters you want to

00:14:35.900 --> 00:14:35.910
for the simplest matters you want to
 

00:14:35.910 --> 00:14:38.660
for the simplest matters you want to
just extend the types types if matter

00:14:38.660 --> 00:14:38.670
just extend the types types if matter
 

00:14:38.670 --> 00:14:42.259
just extend the types types if matter
they'll work only on views you don't

00:14:42.259 --> 00:14:42.269
they'll work only on views you don't
 

00:14:42.269 --> 00:14:44.130
they'll work only on views you don't
have to do casting

00:14:44.130 --> 00:14:44.140
have to do casting
 

00:14:44.140 --> 00:14:46.949
have to do casting
things like that and if you want to

00:14:46.949 --> 00:14:46.959
things like that and if you want to
 

00:14:46.959 --> 00:14:49.050
things like that and if you want to
filter out this is very similar but if

00:14:49.050 --> 00:14:49.060
filter out this is very similar but if
 

00:14:49.060 --> 00:14:50.220
filter out this is very similar but if
you want to filter out just certain

00:14:50.220 --> 00:14:50.230
you want to filter out just certain
 

00:14:50.230 --> 00:14:52.620
you want to filter out just certain
types of views just swap passes of

00:14:52.620 --> 00:14:52.630
types of views just swap passes of
 

00:14:52.630 --> 00:14:54.690
types of views just swap passes of
certain views use the bounded matcher

00:14:54.690 --> 00:14:54.700
certain views use the bounded matcher
 

00:14:54.700 --> 00:14:56.579
certain views use the bounded matcher
again you will not have to do the

00:14:56.579 --> 00:14:56.589
again you will not have to do the
 

00:14:56.589 --> 00:14:57.960
again you will not have to do the
filtering you will not have to do

00:14:57.960 --> 00:14:57.970
filtering you will not have to do
 

00:14:57.970 --> 00:15:00.720
filtering you will not have to do
casting and matches safely you will just

00:15:00.720 --> 00:15:00.730
casting and matches safely you will just
 

00:15:00.730 --> 00:15:02.610
casting and matches safely you will just
get the views of the type that you care

00:15:02.610 --> 00:15:02.620
get the views of the type that you care
 

00:15:02.620 --> 00:15:10.319
get the views of the type that you care
about again we use we provide counting

00:15:10.319 --> 00:15:10.329
about again we use we provide counting
 

00:15:10.329 --> 00:15:13.530
about again we use we provide counting
island resource use it if you can if you

00:15:13.530 --> 00:15:13.540
island resource use it if you can if you
 

00:15:13.540 --> 00:15:14.819
island resource use it if you can if you
don't need to write it right here on

00:15:14.819 --> 00:15:14.829
don't need to write it right here on
 

00:15:14.829 --> 00:15:17.400
don't need to write it right here on
many people you know try and like I said

00:15:17.400 --> 00:15:17.410
many people you know try and like I said
 

00:15:17.410 --> 00:15:19.920
many people you know try and like I said
writing customizing resources they get

00:15:19.920 --> 00:15:19.930
writing customizing resources they get
 

00:15:19.930 --> 00:15:22.650
writing customizing resources they get
tangled up in those where should I call

00:15:22.650 --> 00:15:22.660
tangled up in those where should I call
 

00:15:22.660 --> 00:15:25.980
tangled up in those where should I call
which which method is when I'm when I'm

00:15:25.980 --> 00:15:25.990
which which method is when I'm when I'm
 

00:15:25.990 --> 00:15:29.100
which which method is when I'm when I'm
an idle and so on counting I'm counting

00:15:29.100 --> 00:15:29.110
an idle and so on counting I'm counting
 

00:15:29.110 --> 00:15:32.190
an idle and so on counting I'm counting
idling resource as a very very small API

00:15:32.190 --> 00:15:32.200
idling resource as a very very small API
 

00:15:32.200 --> 00:15:34.319
idling resource as a very very small API
it's basically you call increment and

00:15:34.319 --> 00:15:34.329
it's basically you call increment and
 

00:15:34.329 --> 00:15:36.780
it's basically you call increment and
decrement so you call increment before

00:15:36.780 --> 00:15:36.790
decrement so you call increment before
 

00:15:36.790 --> 00:15:40.079
decrement so you call increment before
you start a long-running operation and

00:15:40.079 --> 00:15:40.089
you start a long-running operation and
 

00:15:40.089 --> 00:15:41.790
you start a long-running operation and
you call decrement when it's ended and

00:15:41.790 --> 00:15:41.800
you call decrement when it's ended and
 

00:15:41.800 --> 00:15:44.670
you call decrement when it's ended and
whenever the counter is at zero so that

00:15:44.670 --> 00:15:44.680
whenever the counter is at zero so that
 

00:15:44.680 --> 00:15:46.290
whenever the counter is at zero so that
means no long running operations are

00:15:46.290 --> 00:15:46.300
means no long running operations are
 

00:15:46.300 --> 00:15:49.079
means no long running operations are
running and espresso can consider it

00:15:49.079 --> 00:15:49.089
running and espresso can consider it
 

00:15:49.089 --> 00:15:52.139
running and espresso can consider it
idle so please use it if you don't have

00:15:52.139 --> 00:15:52.149
idle so please use it if you don't have
 

00:15:52.149 --> 00:15:55.889
idle so please use it if you don't have
a better reason to write your own and on

00:15:55.889 --> 00:15:55.899
a better reason to write your own and on
 

00:15:55.899 --> 00:15:58.560
a better reason to write your own and on
the topic of idling resources sometimes

00:15:58.560 --> 00:15:58.570
the topic of idling resources sometimes
 

00:15:58.570 --> 00:16:00.360
the topic of idling resources sometimes
for example when using camping guide

00:16:00.360 --> 00:16:00.370
for example when using camping guide
 

00:16:00.370 --> 00:16:02.220
for example when using camping guide
when you use one counting idling

00:16:02.220 --> 00:16:02.230
when you use one counting idling
 

00:16:02.230 --> 00:16:03.960
when you use one counting idling
resource for everything you might find

00:16:03.960 --> 00:16:03.970
resource for everything you might find
 

00:16:03.970 --> 00:16:06.389
resource for everything you might find
that in your app there are times when

00:16:06.389 --> 00:16:06.399
that in your app there are times when
 

00:16:06.399 --> 00:16:08.550
that in your app there are times when
the app is not idle for a long time and

00:16:08.550 --> 00:16:08.560
the app is not idle for a long time and
 

00:16:08.560 --> 00:16:10.889
the app is not idle for a long time and
espresso has has some same defaults for

00:16:10.889 --> 00:16:10.899
espresso has has some same defaults for
 

00:16:10.899 --> 00:16:13.699
espresso has has some same defaults for
timeouts for such

00:16:13.699 --> 00:16:13.709
timeouts for such
 

00:16:13.709 --> 00:16:16.319
timeouts for such
situations but if you find that your app

00:16:16.319 --> 00:16:16.329
situations but if you find that your app
 

00:16:16.329 --> 00:16:18.749
situations but if you find that your app
is not idle for a really long time and

00:16:18.749 --> 00:16:18.759
is not idle for a really long time and
 

00:16:18.759 --> 00:16:21.329
is not idle for a really long time and
it's actually working as intended then

00:16:21.329 --> 00:16:21.339
it's actually working as intended then
 

00:16:21.339 --> 00:16:23.189
it's actually working as intended then
you might have to adjust the I think

00:16:23.189 --> 00:16:23.199
you might have to adjust the I think
 

00:16:23.199 --> 00:16:26.220
you might have to adjust the I think
policies so there's an IDI for that if

00:16:26.220 --> 00:16:26.230
policies so there's an IDI for that if
 

00:16:26.230 --> 00:16:27.449
policies so there's an IDI for that if
you have something that's running for a

00:16:27.449 --> 00:16:27.459
you have something that's running for a
 

00:16:27.459 --> 00:16:29.430
you have something that's running for a
really long time and you still want the

00:16:29.430 --> 00:16:29.440
really long time and you still want the
 

00:16:29.440 --> 00:16:31.410
really long time and you still want the
test to run then you might have to

00:16:31.410 --> 00:16:31.420
test to run then you might have to
 

00:16:31.420 --> 00:16:37.730
test to run then you might have to
adjust that next next

00:16:37.730 --> 00:16:37.740
adjust that next next
 

00:16:37.740 --> 00:16:42.120
adjust that next next
pretty much testing basics but focus on

00:16:42.120 --> 00:16:42.130
pretty much testing basics but focus on
 

00:16:42.130 --> 00:16:44.340
pretty much testing basics but focus on
testing behavior not layout properties

00:16:44.340 --> 00:16:44.350
testing behavior not layout properties
 

00:16:44.350 --> 00:16:46.980
testing behavior not layout properties
and still a lot of developers are trying

00:16:46.980 --> 00:16:46.990
and still a lot of developers are trying
 

00:16:46.990 --> 00:16:50.490
and still a lot of developers are trying
to use espresso to tests like the pixel

00:16:50.490 --> 00:16:50.500
to use espresso to tests like the pixel
 

00:16:50.500 --> 00:16:54.120
to use espresso to tests like the pixel
perfect ness of their layouts and well

00:16:54.120 --> 00:16:54.130
perfect ness of their layouts and well
 

00:16:54.130 --> 00:16:56.100
perfect ness of their layouts and well
it's technically possible it will make

00:16:56.100 --> 00:16:56.110
it's technically possible it will make
 

00:16:56.110 --> 00:16:57.569
it's technically possible it will make
your tests really unmeant a tad

00:16:57.569 --> 00:16:57.579
your tests really unmeant a tad
 

00:16:57.579 --> 00:16:59.939
your tests really unmeant a tad
maintainable so if you're trying to you

00:16:59.939 --> 00:16:59.949
maintainable so if you're trying to you
 

00:16:59.949 --> 00:17:01.680
maintainable so if you're trying to you
know assert that a certain view is

00:17:01.680 --> 00:17:01.690
know assert that a certain view is
 

00:17:01.690 --> 00:17:05.760
know assert that a certain view is
displayed x position x and y and pixels

00:17:05.760 --> 00:17:05.770
displayed x position x and y and pixels
 

00:17:05.770 --> 00:17:07.169
displayed x position x and y and pixels
and then you work with different screen

00:17:07.169 --> 00:17:07.179
and then you work with different screen
 

00:17:07.179 --> 00:17:09.210
and then you work with different screen
sizes and so on and then your designer

00:17:09.210 --> 00:17:09.220
sizes and so on and then your designer
 

00:17:09.220 --> 00:17:10.799
sizes and so on and then your designer
comes and tells you move that to the

00:17:10.799 --> 00:17:10.809
comes and tells you move that to the
 

00:17:10.809 --> 00:17:12.840
comes and tells you move that to the
right you have to redo all your tests

00:17:12.840 --> 00:17:12.850
right you have to redo all your tests
 

00:17:12.850 --> 00:17:15.419
right you have to redo all your tests
so please don't do that but at the same

00:17:15.419 --> 00:17:15.429
so please don't do that but at the same
 

00:17:15.429 --> 00:17:17.000
so please don't do that but at the same
time if you really want to assert that

00:17:17.000 --> 00:17:17.010
time if you really want to assert that
 

00:17:17.010 --> 00:17:19.020
time if you really want to assert that
if you really want to check that a

00:17:19.020 --> 00:17:19.030
if you really want to check that a
 

00:17:19.030 --> 00:17:20.970
if you really want to check that a
certain view is displayed somewhere on

00:17:20.970 --> 00:17:20.980
certain view is displayed somewhere on
 

00:17:20.980 --> 00:17:22.860
certain view is displayed somewhere on
the screen relative to another view we

00:17:22.860 --> 00:17:22.870
the screen relative to another view we
 

00:17:22.870 --> 00:17:24.990
the screen relative to another view we
do provide position assertions but

00:17:24.990 --> 00:17:25.000
do provide position assertions but
 

00:17:25.000 --> 00:17:26.370
do provide position assertions but
they're relative they're easier to

00:17:26.370 --> 00:17:26.380
they're relative they're easier to
 

00:17:26.380 --> 00:17:27.840
they're relative they're easier to
maintain if you just need to make sure

00:17:27.840 --> 00:17:27.850
maintain if you just need to make sure
 

00:17:27.850 --> 00:17:29.669
maintain if you just need to make sure
that a button is next to a textview or

00:17:29.669 --> 00:17:29.679
that a button is next to a textview or
 

00:17:29.679 --> 00:17:32.580
that a button is next to a textview or
below it then you can use the position

00:17:32.580 --> 00:17:32.590
below it then you can use the position
 

00:17:32.590 --> 00:17:36.720
below it then you can use the position
assertions right many most there are

00:17:36.720 --> 00:17:36.730
assertions right many most there are
 

00:17:36.730 --> 00:17:39.690
assertions right many most there are
many small tests instead of large ones

00:17:39.690 --> 00:17:39.700
many small tests instead of large ones
 

00:17:39.700 --> 00:17:43.919
many small tests instead of large ones
and to explain this I like to think

00:17:43.919 --> 00:17:43.929
and to explain this I like to think
 

00:17:43.929 --> 00:17:45.899
and to explain this I like to think
about the whole app development process

00:17:45.899 --> 00:17:45.909
about the whole app development process
 

00:17:45.909 --> 00:17:47.909
about the whole app development process
as you start with you know working on

00:17:47.909 --> 00:17:47.919
as you start with you know working on
 

00:17:47.919 --> 00:17:49.860
as you start with you know working on
single screens on single features of

00:17:49.860 --> 00:17:49.870
single screens on single features of
 

00:17:49.870 --> 00:17:52.560
single screens on single features of
your app you start writing tests for

00:17:52.560 --> 00:17:52.570
your app you start writing tests for
 

00:17:52.570 --> 00:17:55.680
your app you start writing tests for
those single contained pieces of your

00:17:55.680 --> 00:17:55.690
those single contained pieces of your
 

00:17:55.690 --> 00:17:57.600
those single contained pieces of your
app write a single screen a single

00:17:57.600 --> 00:17:57.610
app write a single screen a single
 

00:17:57.610 --> 00:18:00.090
app write a single screen a single
feature then and these things during

00:18:00.090 --> 00:18:00.100
feature then and these things during
 

00:18:00.100 --> 00:18:02.880
feature then and these things during
development change a lot so you will go

00:18:02.880 --> 00:18:02.890
development change a lot so you will go
 

00:18:02.890 --> 00:18:05.159
development change a lot so you will go
and redo your tests sometimes and just

00:18:05.159 --> 00:18:05.169
and redo your tests sometimes and just
 

00:18:05.169 --> 00:18:07.470
and redo your tests sometimes and just
make everything work together but then

00:18:07.470 --> 00:18:07.480
make everything work together but then
 

00:18:07.480 --> 00:18:09.000
make everything work together but then
as you as your applicants you know

00:18:09.000 --> 00:18:09.010
as you as your applicants you know
 

00:18:09.010 --> 00:18:11.279
as you as your applicants you know
bigger more mature tablet stabilizes as

00:18:11.279 --> 00:18:11.289
bigger more mature tablet stabilizes as
 

00:18:11.289 --> 00:18:13.409
bigger more mature tablet stabilizes as
you're close to release things are

00:18:13.409 --> 00:18:13.419
you're close to release things are
 

00:18:13.419 --> 00:18:14.640
you're close to release things are
probably not gonna change that much

00:18:14.640 --> 00:18:14.650
probably not gonna change that much
 

00:18:14.650 --> 00:18:18.930
probably not gonna change that much
you're gonna fix small details but you

00:18:18.930 --> 00:18:18.940
you're gonna fix small details but you
 

00:18:18.940 --> 00:18:20.370
you're gonna fix small details but you
know the overall flow of the app will

00:18:20.370 --> 00:18:20.380
know the overall flow of the app will
 

00:18:20.380 --> 00:18:22.530
know the overall flow of the app will
not change and that's when you might

00:18:22.530 --> 00:18:22.540
not change and that's when you might
 

00:18:22.540 --> 00:18:23.690
not change and that's when you might
start at

00:18:23.690 --> 00:18:23.700
start at
 

00:18:23.700 --> 00:18:27.140
start at
longer like user flow tests but you know

00:18:27.140 --> 00:18:27.150
longer like user flow tests but you know
 

00:18:27.150 --> 00:18:29.060
longer like user flow tests but you know
just don't overdo it

00:18:29.060 --> 00:18:29.070
just don't overdo it
 

00:18:29.070 --> 00:18:31.310
just don't overdo it
again the real value is then a small

00:18:31.310 --> 00:18:31.320
again the real value is then a small
 

00:18:31.320 --> 00:18:33.680
again the real value is then a small
test that they test every screen every

00:18:33.680 --> 00:18:33.690
test that they test every screen every
 

00:18:33.690 --> 00:18:38.180
test that they test every screen every
state of your app and on the same page

00:18:38.180 --> 00:18:38.190
state of your app and on the same page
 

00:18:38.190 --> 00:18:40.460
state of your app and on the same page
last directly into desired screen state

00:18:40.460 --> 00:18:40.470
last directly into desired screen state
 

00:18:40.470 --> 00:18:43.220
last directly into desired screen state
so again when testing these you know

00:18:43.220 --> 00:18:43.230
so again when testing these you know
 

00:18:43.230 --> 00:18:45.410
so again when testing these you know
these self-contained screens and States

00:18:45.410 --> 00:18:45.420
these self-contained screens and States
 

00:18:45.420 --> 00:18:48.260
these self-contained screens and States
launch directly into them don't do deep

00:18:48.260 --> 00:18:48.270
launch directly into them don't do deep
 

00:18:48.270 --> 00:18:50.570
launch directly into them don't do deep
navigation before if you like want to

00:18:50.570 --> 00:18:50.580
navigation before if you like want to
 

00:18:50.580 --> 00:18:52.220
navigation before if you like want to
test an activity that's not the first

00:18:52.220 --> 00:18:52.230
test an activity that's not the first
 

00:18:52.230 --> 00:18:53.720
test an activity that's not the first
activity in your app and you need to

00:18:53.720 --> 00:18:53.730
activity in your app and you need to
 

00:18:53.730 --> 00:18:55.430
activity in your app and you need to
traverse five different screens to get

00:18:55.430 --> 00:18:55.440
traverse five different screens to get
 

00:18:55.440 --> 00:18:58.580
traverse five different screens to get
there something something can just break

00:18:58.580 --> 00:18:58.590
there something something can just break
 

00:18:58.590 --> 00:19:00.530
there something something can just break
along the way and then you're not

00:19:00.530 --> 00:19:00.540
along the way and then you're not
 

00:19:00.540 --> 00:19:02.030
along the way and then you're not
retesting the thing you want to test

00:19:02.030 --> 00:19:02.040
retesting the thing you want to test
 

00:19:02.040 --> 00:19:03.650
retesting the thing you want to test
you're getting errors about something

00:19:03.650 --> 00:19:03.660
you're getting errors about something
 

00:19:03.660 --> 00:19:05.720
you're getting errors about something
totally different totally and another

00:19:05.720 --> 00:19:05.730
totally different totally and another
 

00:19:05.730 --> 00:19:08.300
totally different totally and another
part of your code so don't do deep

00:19:08.300 --> 00:19:08.310
part of your code so don't do deep
 

00:19:08.310 --> 00:19:11.390
part of your code so don't do deep
navigation there's waste you can easily

00:19:11.390 --> 00:19:11.400
navigation there's waste you can easily
 

00:19:11.400 --> 00:19:14.300
navigation there's waste you can easily
achieve that so if you just override the

00:19:14.300 --> 00:19:14.310
achieve that so if you just override the
 

00:19:14.310 --> 00:19:16.970
achieve that so if you just override the
activity test row you can override the

00:19:16.970 --> 00:19:16.980
activity test row you can override the
 

00:19:16.980 --> 00:19:19.820
activity test row you can override the
get activity intent method just provide

00:19:19.820 --> 00:19:19.830
get activity intent method just provide
 

00:19:19.830 --> 00:19:21.530
get activity intent method just provide
a custom intent if you have a an

00:19:21.530 --> 00:19:21.540
a custom intent if you have a an
 

00:19:21.540 --> 00:19:23.600
a custom intent if you have a an
activity that gets some kind of data and

00:19:23.600 --> 00:19:23.610
activity that gets some kind of data and
 

00:19:23.610 --> 00:19:25.520
activity that gets some kind of data and
then displays a different state you can

00:19:25.520 --> 00:19:25.530
then displays a different state you can
 

00:19:25.530 --> 00:19:27.200
then displays a different state you can
just provide that data and the in the

00:19:27.200 --> 00:19:27.210
just provide that data and the in the
 

00:19:27.210 --> 00:19:30.530
just provide that data and the in the
intent just remember if you use this

00:19:30.530 --> 00:19:30.540
intent just remember if you use this
 

00:19:30.540 --> 00:19:32.450
intent just remember if you use this
every test in your class

00:19:32.450 --> 00:19:32.460
every test in your class
 

00:19:32.460 --> 00:19:34.310
every test in your class
will have the activity started this way

00:19:34.310 --> 00:19:34.320
will have the activity started this way
 

00:19:34.320 --> 00:19:37.430
will have the activity started this way
if you need some more custom fine great

00:19:37.430 --> 00:19:37.440
if you need some more custom fine great
 

00:19:37.440 --> 00:19:40.220
if you need some more custom fine great
fine grained control just use the three

00:19:40.220 --> 00:19:40.230
fine grained control just use the three
 

00:19:40.230 --> 00:19:41.990
fine grained control just use the three
argument constructor and if you first

00:19:41.990 --> 00:19:42.000
argument constructor and if you first
 

00:19:42.000 --> 00:19:44.600
argument constructor and if you first
passed false false as the last argument

00:19:44.600 --> 00:19:44.610
passed false false as the last argument
 

00:19:44.610 --> 00:19:46.640
passed false false as the last argument
the activity will not be launched

00:19:46.640 --> 00:19:46.650
the activity will not be launched
 

00:19:46.650 --> 00:19:49.190
the activity will not be launched
automatically for your tests and then in

00:19:49.190 --> 00:19:49.200
automatically for your tests and then in
 

00:19:49.200 --> 00:19:50.950
automatically for your tests and then in
every test you can just prepare the

00:19:50.950 --> 00:19:50.960
every test you can just prepare the
 

00:19:50.960 --> 00:19:53.390
every test you can just prepare the
intent that you want and just remember

00:19:53.390 --> 00:19:53.400
intent that you want and just remember
 

00:19:53.400 --> 00:19:57.100
intent that you want and just remember
you have to launch the activity manually

00:19:57.100 --> 00:19:57.110
you have to launch the activity manually
 

00:19:57.110 --> 00:19:59.810
you have to launch the activity manually
most UI tests should be as traumatic as

00:19:59.810 --> 00:19:59.820
most UI tests should be as traumatic as
 

00:19:59.820 --> 00:20:03.110
most UI tests should be as traumatic as
possible so again you want to test your

00:20:03.110 --> 00:20:03.120
possible so again you want to test your
 

00:20:03.120 --> 00:20:04.700
possible so again you want to test your
app you want to test you want to test

00:20:04.700 --> 00:20:04.710
app you want to test you want to test
 

00:20:04.710 --> 00:20:06.260
app you want to test you want to test
the screen of your app you don't want

00:20:06.260 --> 00:20:06.270
the screen of your app you don't want
 

00:20:06.270 --> 00:20:07.490
the screen of your app you don't want
you don't want to test and network

00:20:07.490 --> 00:20:07.500
you don't want to test and network
 

00:20:07.500 --> 00:20:09.080
you don't want to test and network
conditions you know you don't want to

00:20:09.080 --> 00:20:09.090
conditions you know you don't want to
 

00:20:09.090 --> 00:20:10.910
conditions you know you don't want to
test it this server is working you're

00:20:10.910 --> 00:20:10.920
test it this server is working you're
 

00:20:10.920 --> 00:20:12.050
test it this server is working you're
testing the features that you're

00:20:12.050 --> 00:20:12.060
testing the features that you're
 

00:20:12.060 --> 00:20:14.770
testing the features that you're
counting inside your app and in your UI

00:20:14.770 --> 00:20:14.780
counting inside your app and in your UI
 

00:20:14.780 --> 00:20:17.210
counting inside your app and in your UI
so make your test as traumatic as

00:20:17.210 --> 00:20:17.220
so make your test as traumatic as
 

00:20:17.220 --> 00:20:19.130
so make your test as traumatic as
possible there's tools that can help you

00:20:19.130 --> 00:20:19.140
possible there's tools that can help you
 

00:20:19.140 --> 00:20:20.990
possible there's tools that can help you
with that there's espresso intense

00:20:20.990 --> 00:20:21.000
with that there's espresso intense
 

00:20:21.000 --> 00:20:23.900
with that there's espresso intense
there's mojito for mocking remember

00:20:23.900 --> 00:20:23.910
there's mojito for mocking remember
 

00:20:23.910 --> 00:20:25.570
there's mojito for mocking remember
about dependency injection and dagger

00:20:25.570 --> 00:20:25.580
about dependency injection and dagger
 

00:20:25.580 --> 00:20:29.020
about dependency injection and dagger
- and basically just make sure you're

00:20:29.020 --> 00:20:29.030
- and basically just make sure you're
 

00:20:29.030 --> 00:20:31.900
- and basically just make sure you're
isolated from all the layers that you

00:20:31.900 --> 00:20:31.910
isolated from all the layers that you
 

00:20:31.910 --> 00:20:34.810
isolated from all the layers that you
don't care about because that that's not

00:20:34.810 --> 00:20:34.820
don't care about because that that's not
 

00:20:34.820 --> 00:20:36.430
don't care about because that that's not
really UI testing then is it

00:20:36.430 --> 00:20:36.440
really UI testing then is it
 

00:20:36.440 --> 00:20:40.630
really UI testing then is it
and speaking of espresso intense I know

00:20:40.630 --> 00:20:40.640
and speaking of espresso intense I know
 

00:20:40.640 --> 00:20:42.910
and speaking of espresso intense I know
if you've used it before it's a really

00:20:42.910 --> 00:20:42.920
if you've used it before it's a really
 

00:20:42.920 --> 00:20:44.740
if you've used it before it's a really
nice thing that we've added to espresso

00:20:44.740 --> 00:20:44.750
nice thing that we've added to espresso
 

00:20:44.750 --> 00:20:49.450
nice thing that we've added to espresso
it's a very small API basically it lets

00:20:49.450 --> 00:20:49.460
it's a very small API basically it lets
 

00:20:49.460 --> 00:20:51.610
it's a very small API basically it lets
you verify intents that are sent from

00:20:51.610 --> 00:20:51.620
you verify intents that are sent from
 

00:20:51.620 --> 00:20:54.880
you verify intents that are sent from
your app or stub the responses too

00:20:54.880 --> 00:20:54.890
your app or stub the responses too
 

00:20:54.890 --> 00:20:56.950
your app or stub the responses too
intense that's you that you send to

00:20:56.950 --> 00:20:56.960
intense that's you that you send to
 

00:20:56.960 --> 00:20:59.350
intense that's you that you send to
other applications so here in this

00:20:59.350 --> 00:20:59.360
other applications so here in this
 

00:20:59.360 --> 00:21:01.330
other applications so here in this
screen you can see in before I'm setting

00:21:01.330 --> 00:21:01.340
screen you can see in before I'm setting
 

00:21:01.340 --> 00:21:04.990
screen you can see in before I'm setting
up response dubbing for an intent that I

00:21:04.990 --> 00:21:05.000
up response dubbing for an intent that I
 

00:21:05.000 --> 00:21:07.960
up response dubbing for an intent that I
sent out to the camera app and below at

00:21:07.960 --> 00:21:07.970
sent out to the camera app and below at
 

00:21:07.970 --> 00:21:09.790
sent out to the camera app and below at
the bottom I'm just verifying that when

00:21:09.790 --> 00:21:09.800
the bottom I'm just verifying that when
 

00:21:09.800 --> 00:21:11.650
the bottom I'm just verifying that when
I click the button my app sends out the

00:21:11.650 --> 00:21:11.660
I click the button my app sends out the
 

00:21:11.660 --> 00:21:13.540
I click the button my app sends out the
intent I encourage you to use it to

00:21:13.540 --> 00:21:13.550
intent I encourage you to use it to
 

00:21:13.550 --> 00:21:17.410
intent I encourage you to use it to
isolate your test from you know external

00:21:17.410 --> 00:21:17.420
isolate your test from you know external
 

00:21:17.420 --> 00:21:21.310
isolate your test from you know external
applications learn how to handle

00:21:21.310 --> 00:21:21.320
applications learn how to handle
 

00:21:21.320 --> 00:21:23.010
applications learn how to handle
long-running animations that's been

00:21:23.010 --> 00:21:23.020
long-running animations that's been
 

00:21:23.020 --> 00:21:28.270
long-running animations that's been
common and problem in espresso you know

00:21:28.270 --> 00:21:28.280
common and problem in espresso you know
 

00:21:28.280 --> 00:21:29.770
common and problem in espresso you know
we try to synchronize on a lot of things

00:21:29.770 --> 00:21:29.780
we try to synchronize on a lot of things
 

00:21:29.780 --> 00:21:31.660
we try to synchronize on a lot of things
like said like I said on the icing test

00:21:31.660 --> 00:21:31.670
like said like I said on the icing test
 

00:21:31.670 --> 00:21:33.760
like said like I said on the icing test
and so on but sometimes you know

00:21:33.760 --> 00:21:33.770
and so on but sometimes you know
 

00:21:33.770 --> 00:21:35.410
and so on but sometimes you know
espresso just simply can't run because

00:21:35.410 --> 00:21:35.420
espresso just simply can't run because
 

00:21:35.420 --> 00:21:37.450
espresso just simply can't run because
something is keeps animating in the in

00:21:37.450 --> 00:21:37.460
something is keeps animating in the in
 

00:21:37.460 --> 00:21:40.090
something is keeps animating in the in
your UI and there's two types of

00:21:40.090 --> 00:21:40.100
your UI and there's two types of
 

00:21:40.100 --> 00:21:41.470
your UI and there's two types of
animations I want to call out

00:21:41.470 --> 00:21:41.480
animations I want to call out
 

00:21:41.480 --> 00:21:45.190
animations I want to call out
specifically so on the left you can see

00:21:45.190 --> 00:21:45.200
specifically so on the left you can see
 

00:21:45.200 --> 00:21:47.080
specifically so on the left you can see
oh it's not animating this case all

00:21:47.080 --> 00:21:47.090
oh it's not animating this case all
 

00:21:47.090 --> 00:21:49.180
oh it's not animating this case all
right side meaning now let's say you

00:21:49.180 --> 00:21:49.190
right side meaning now let's say you
 

00:21:49.190 --> 00:21:51.760
right side meaning now let's say you
have some kind of drawable it's your own

00:21:51.760 --> 00:21:51.770
have some kind of drawable it's your own
 

00:21:51.770 --> 00:21:54.130
have some kind of drawable it's your own
it's your own animation you created it

00:21:54.130 --> 00:21:54.140
it's your own animation you created it
 

00:21:54.140 --> 00:21:57.400
it's your own animation you created it
you control it it's it's all up to you

00:21:57.400 --> 00:21:57.410
you control it it's it's all up to you
 

00:21:57.410 --> 00:21:59.350
you control it it's it's all up to you
if it's wrong runs or and or not and

00:21:59.350 --> 00:21:59.360
if it's wrong runs or and or not and
 

00:21:59.360 --> 00:22:01.360
if it's wrong runs or and or not and
under on the other hand you have

00:22:01.360 --> 00:22:01.370
under on the other hand you have
 

00:22:01.370 --> 00:22:03.640
under on the other hand you have
animations that are kind of embedded in

00:22:03.640 --> 00:22:03.650
animations that are kind of embedded in
 

00:22:03.650 --> 00:22:05.410
animations that are kind of embedded in
the framework right so for example a

00:22:05.410 --> 00:22:05.420
the framework right so for example a
 

00:22:05.420 --> 00:22:07.360
the framework right so for example a
progress bar is something you don't

00:22:07.360 --> 00:22:07.370
progress bar is something you don't
 

00:22:07.370 --> 00:22:10.240
progress bar is something you don't
really control it's just a system widget

00:22:10.240 --> 00:22:10.250
really control it's just a system widget
 

00:22:10.250 --> 00:22:12.760
really control it's just a system widget
it animates and there's not much you can

00:22:12.760 --> 00:22:12.770
it animates and there's not much you can
 

00:22:12.770 --> 00:22:15.310
it animates and there's not much you can
do about it and there's a way to

00:22:15.310 --> 00:22:15.320
do about it and there's a way to
 

00:22:15.320 --> 00:22:17.500
do about it and there's a way to
actually deal with the animations that

00:22:17.500 --> 00:22:17.510
actually deal with the animations that
 

00:22:17.510 --> 00:22:20.170
actually deal with the animations that
you control so for running espresso

00:22:20.170 --> 00:22:20.180
you control so for running espresso
 

00:22:20.180 --> 00:22:22.630
you control so for running espresso
anyway we tell you to disable animations

00:22:22.630 --> 00:22:22.640
anyway we tell you to disable animations
 

00:22:22.640 --> 00:22:23.090
anyway we tell you to disable animations
in this

00:22:23.090 --> 00:22:23.100
in this
 

00:22:23.100 --> 00:22:25.730
in this
so system-wide we disable the layout

00:22:25.730 --> 00:22:25.740
so system-wide we disable the layout
 

00:22:25.740 --> 00:22:27.650
so system-wide we disable the layout
animations transitions and so on and you

00:22:27.650 --> 00:22:27.660
animations transitions and so on and you
 

00:22:27.660 --> 00:22:30.169
animations transitions and so on and you
can actually leverage that setting and

00:22:30.169 --> 00:22:30.179
can actually leverage that setting and
 

00:22:30.179 --> 00:22:33.169
can actually leverage that setting and
read in your applications code and

00:22:33.169 --> 00:22:33.179
read in your applications code and
 

00:22:33.179 --> 00:22:37.039
read in your applications code and
decide if if the animations are disabled

00:22:37.039 --> 00:22:37.049
decide if if the animations are disabled
 

00:22:37.049 --> 00:22:38.810
decide if if the animations are disabled
maybe I should also disable my own

00:22:38.810 --> 00:22:38.820
maybe I should also disable my own
 

00:22:38.820 --> 00:22:40.640
maybe I should also disable my own
animations because read that's what the

00:22:40.640 --> 00:22:40.650
animations because read that's what the
 

00:22:40.650 --> 00:22:43.640
animations because read that's what the
user said when they when they adjusted

00:22:43.640 --> 00:22:43.650
user said when they when they adjusted
 

00:22:43.650 --> 00:22:45.169
user said when they when they adjusted
the setting right so it's the right

00:22:45.169 --> 00:22:45.179
the setting right so it's the right
 

00:22:45.179 --> 00:22:48.980
the setting right so it's the right
thing to do anyway and on the other hand

00:22:48.980 --> 00:22:48.990
thing to do anyway and on the other hand
 

00:22:48.990 --> 00:22:51.169
thing to do anyway and on the other hand
like I said some things like the

00:22:51.169 --> 00:22:51.179
like I said some things like the
 

00:22:51.179 --> 00:22:54.710
like I said some things like the
progress bar are not very easy to to

00:22:54.710 --> 00:22:54.720
progress bar are not very easy to to
 

00:22:54.720 --> 00:22:56.149
progress bar are not very easy to to
work with so you have you will just have

00:22:56.149 --> 00:22:56.159
work with so you have you will just have
 

00:22:56.159 --> 00:22:58.730
work with so you have you will just have
to find other ways like maybe having a

00:22:58.730 --> 00:22:58.740
to find other ways like maybe having a
 

00:22:58.740 --> 00:23:00.289
to find other ways like maybe having a
separate flavor for your test when the

00:23:00.289 --> 00:23:00.299
separate flavor for your test when the
 

00:23:00.299 --> 00:23:02.600
separate flavor for your test when the
drawable for that progress bar is just

00:23:02.600 --> 00:23:02.610
drawable for that progress bar is just
 

00:23:02.610 --> 00:23:06.799
drawable for that progress bar is just
not animated there's some tools that can

00:23:06.799 --> 00:23:06.809
not animated there's some tools that can
 

00:23:06.809 --> 00:23:08.990
not animated there's some tools that can
help so for example in developer tools

00:23:08.990 --> 00:23:09.000
help so for example in developer tools
 

00:23:09.000 --> 00:23:12.200
help so for example in developer tools
you can switch a setting called show

00:23:12.200 --> 00:23:12.210
you can switch a setting called show
 

00:23:12.210 --> 00:23:14.210
you can switch a setting called show
surface updates this might help you

00:23:14.210 --> 00:23:14.220
surface updates this might help you
 

00:23:14.220 --> 00:23:16.460
surface updates this might help you
identify some of those animations that

00:23:16.460 --> 00:23:16.470
identify some of those animations that
 

00:23:16.470 --> 00:23:18.890
identify some of those animations that
you were not aware of but are somewhere

00:23:18.890 --> 00:23:18.900
you were not aware of but are somewhere
 

00:23:18.900 --> 00:23:21.380
you were not aware of but are somewhere
in your UI and you know keep posting

00:23:21.380 --> 00:23:21.390
in your UI and you know keep posting
 

00:23:21.390 --> 00:23:24.669
in your UI and you know keep posting
events that keep espresso from running

00:23:24.669 --> 00:23:24.679
events that keep espresso from running
 

00:23:24.679 --> 00:23:30.110
events that keep espresso from running
and next how to handle test failures so

00:23:30.110 --> 00:23:30.120
and next how to handle test failures so
 

00:23:30.120 --> 00:23:32.840
and next how to handle test failures so
your test will fail sometimes and you

00:23:32.840 --> 00:23:32.850
your test will fail sometimes and you
 

00:23:32.850 --> 00:23:34.730
your test will fail sometimes and you
know it's obviously not intended but

00:23:34.730 --> 00:23:34.740
know it's obviously not intended but
 

00:23:34.740 --> 00:23:36.860
know it's obviously not intended but
maybe that maybe the test is wrong maybe

00:23:36.860 --> 00:23:36.870
maybe that maybe the test is wrong maybe
 

00:23:36.870 --> 00:23:39.890
maybe that maybe the test is wrong maybe
you need to write in some other way so

00:23:39.890 --> 00:23:39.900
you need to write in some other way so
 

00:23:39.900 --> 00:23:42.260
you need to write in some other way so
the good thing is espresso aims to tell

00:23:42.260 --> 00:23:42.270
the good thing is espresso aims to tell
 

00:23:42.270 --> 00:23:44.330
the good thing is espresso aims to tell
you exactly what what went wrong in

00:23:44.330 --> 00:23:44.340
you exactly what what went wrong in
 

00:23:44.340 --> 00:23:46.549
you exactly what what went wrong in
tests and how to fix it so we have

00:23:46.549 --> 00:23:46.559
tests and how to fix it so we have
 

00:23:46.559 --> 00:23:49.640
tests and how to fix it so we have
really descriptive error messages we

00:23:49.640 --> 00:23:49.650
really descriptive error messages we
 

00:23:49.650 --> 00:23:52.159
really descriptive error messages we
provide a message that tells you what

00:23:52.159 --> 00:23:52.169
provide a message that tells you what
 

00:23:52.169 --> 00:23:54.200
provide a message that tells you what
went wrong and moreover we provide a

00:23:54.200 --> 00:23:54.210
went wrong and moreover we provide a
 

00:23:54.210 --> 00:23:56.299
went wrong and moreover we provide a
dump of the view hierarchy so you can

00:23:56.299 --> 00:23:56.309
dump of the view hierarchy so you can
 

00:23:56.309 --> 00:23:57.680
dump of the view hierarchy so you can
look at the exact views and their

00:23:57.680 --> 00:23:57.690
look at the exact views and their
 

00:23:57.690 --> 00:24:00.159
look at the exact views and their
properties and maybe find the culprit

00:24:00.159 --> 00:24:00.169
properties and maybe find the culprit
 

00:24:00.169 --> 00:24:03.560
properties and maybe find the culprit
but if that's not enough it's very easy

00:24:03.560 --> 00:24:03.570
but if that's not enough it's very easy
 

00:24:03.570 --> 00:24:05.419
but if that's not enough it's very easy
to implement your own failure handler

00:24:05.419 --> 00:24:05.429
to implement your own failure handler
 

00:24:05.429 --> 00:24:08.270
to implement your own failure handler
you can you know you can attach your own

00:24:08.270 --> 00:24:08.280
you can you know you can attach your own
 

00:24:08.280 --> 00:24:10.340
you can you know you can attach your own
handler and just log out more data if

00:24:10.340 --> 00:24:10.350
handler and just log out more data if
 

00:24:10.350 --> 00:24:12.049
handler and just log out more data if
you have if you have some information

00:24:12.049 --> 00:24:12.059
you have if you have some information
 

00:24:12.059 --> 00:24:14.090
you have if you have some information
that you think would be useful you can

00:24:14.090 --> 00:24:14.100
that you think would be useful you can
 

00:24:14.100 --> 00:24:17.110
that you think would be useful you can
just add it to the to the log one very

00:24:17.110 --> 00:24:17.120
just add it to the to the log one very
 

00:24:17.120 --> 00:24:19.909
just add it to the to the log one very
interesting use of that that I've seen

00:24:19.909 --> 00:24:19.919
interesting use of that that I've seen
 

00:24:19.919 --> 00:24:22.669
interesting use of that that I've seen
online is someone said that espresso was

00:24:22.669 --> 00:24:22.679
online is someone said that espresso was
 

00:24:22.679 --> 00:24:24.409
online is someone said that espresso was
actually giving me giving him too much

00:24:24.409 --> 00:24:24.419
actually giving me giving him too much
 

00:24:24.419 --> 00:24:27.169
actually giving me giving him too much
data about the view hierarchy for a very

00:24:27.169 --> 00:24:27.179
data about the view hierarchy for a very
 

00:24:27.179 --> 00:24:30.649
data about the view hierarchy for a very
very complex screen and so he created a

00:24:30.649 --> 00:24:30.659
very complex screen and so he created a
 

00:24:30.659 --> 00:24:31.220
very complex screen and so he created a
failure

00:24:31.220 --> 00:24:31.230
failure
 

00:24:31.230 --> 00:24:35.150
failure
they actually made the logs smaller to

00:24:35.150 --> 00:24:35.160
they actually made the logs smaller to
 

00:24:35.160 --> 00:24:36.710
they actually made the logs smaller to
only concentrate on the parts that they

00:24:36.710 --> 00:24:36.720
only concentrate on the parts that they
 

00:24:36.720 --> 00:24:41.630
only concentrate on the parts that they
care about it's interesting use and then

00:24:41.630 --> 00:24:41.640
care about it's interesting use and then
 

00:24:41.640 --> 00:24:43.340
care about it's interesting use and then
there's more development the developer

00:24:43.340 --> 00:24:43.350
there's more development the developer
 

00:24:43.350 --> 00:24:44.659
there's more development the developer
tools that can help you with debugging

00:24:44.659 --> 00:24:44.669
tools that can help you with debugging
 

00:24:44.669 --> 00:24:47.450
tools that can help you with debugging
so you can enable showing touches

00:24:47.450 --> 00:24:47.460
so you can enable showing touches
 

00:24:47.460 --> 00:24:49.580
so you can enable showing touches
pointer location layout bounds though

00:24:49.580 --> 00:24:49.590
pointer location layout bounds though
 

00:24:49.590 --> 00:24:51.590
pointer location layout bounds though
basically lets you inspect better what's

00:24:51.590 --> 00:24:51.600
basically lets you inspect better what's
 

00:24:51.600 --> 00:24:52.820
basically lets you inspect better what's
happening on the screen one espresso

00:24:52.820 --> 00:24:52.830
happening on the screen one espresso
 

00:24:52.830 --> 00:24:55.340
happening on the screen one espresso
runs and also use the fire key viewer if

00:24:55.340 --> 00:24:55.350
runs and also use the fire key viewer if
 

00:24:55.350 --> 00:24:57.620
runs and also use the fire key viewer if
you just want to interactively explore

00:24:57.620 --> 00:24:57.630
you just want to interactively explore
 

00:24:57.630 --> 00:25:00.200
you just want to interactively explore
the fire caves for example find out the

00:25:00.200 --> 00:25:00.210
the fire caves for example find out the
 

00:25:00.210 --> 00:25:02.930
the fire caves for example find out the
IDS of views or their relative positions

00:25:02.930 --> 00:25:02.940
IDS of views or their relative positions
 

00:25:02.940 --> 00:25:06.950
IDS of views or their relative positions
in the view hierarchy there's one more

00:25:06.950 --> 00:25:06.960
in the view hierarchy there's one more
 

00:25:06.960 --> 00:25:08.630
in the view hierarchy there's one more
setting and not in developer tools but

00:25:08.630 --> 00:25:08.640
setting and not in developer tools but
 

00:25:08.640 --> 00:25:11.539
setting and not in developer tools but
in accessibility so on some devices that

00:25:11.539 --> 00:25:11.549
in accessibility so on some devices that
 

00:25:11.549 --> 00:25:14.210
in accessibility so on some devices that
are really slow and or some emulators

00:25:14.210 --> 00:25:14.220
are really slow and or some emulators
 

00:25:14.220 --> 00:25:16.880
are really slow and or some emulators
especially the older ones single taps

00:25:16.880 --> 00:25:16.890
especially the older ones single taps
 

00:25:16.890 --> 00:25:18.680
especially the older ones single taps
are not registered correctly I mean

00:25:18.680 --> 00:25:18.690
are not registered correctly I mean
 

00:25:18.690 --> 00:25:21.020
are not registered correctly I mean
single taps coming from espresso I don't

00:25:21.020 --> 00:25:21.030
single taps coming from espresso I don't
 

00:25:21.030 --> 00:25:22.880
single taps coming from espresso I don't
want to go into details but we read try

00:25:22.880 --> 00:25:22.890
want to go into details but we read try
 

00:25:22.890 --> 00:25:24.820
want to go into details but we read try
to hide away the complexity of actually

00:25:24.820 --> 00:25:24.830
to hide away the complexity of actually
 

00:25:24.830 --> 00:25:28.340
to hide away the complexity of actually
simulating a tap in espresso but a tap

00:25:28.340 --> 00:25:28.350
simulating a tap in espresso but a tap
 

00:25:28.350 --> 00:25:30.020
simulating a tap in espresso but a tap
every tab is actually into actions write

00:25:30.020 --> 00:25:30.030
every tab is actually into actions write
 

00:25:30.030 --> 00:25:32.570
every tab is actually into actions write
down an app and and if if a device is

00:25:32.570 --> 00:25:32.580
down an app and and if if a device is
 

00:25:32.580 --> 00:25:34.280
down an app and and if if a device is
really slow if it's bogged down by some

00:25:34.280 --> 00:25:34.290
really slow if it's bogged down by some
 

00:25:34.290 --> 00:25:36.200
really slow if it's bogged down by some
kind of background operations or the

00:25:36.200 --> 00:25:36.210
kind of background operations or the
 

00:25:36.210 --> 00:25:38.630
kind of background operations or the
system is just not keeping up these two

00:25:38.630 --> 00:25:38.640
system is just not keeping up these two
 

00:25:38.640 --> 00:25:40.700
system is just not keeping up these two
operations can happen too far apart and

00:25:40.700 --> 00:25:40.710
operations can happen too far apart and
 

00:25:40.710 --> 00:25:42.230
operations can happen too far apart and
then the system thinks it's a long press

00:25:42.230 --> 00:25:42.240
then the system thinks it's a long press
 

00:25:42.240 --> 00:25:44.900
then the system thinks it's a long press
so basically if you change the delay too

00:25:44.900 --> 00:25:44.910
so basically if you change the delay too
 

00:25:44.910 --> 00:25:49.510
so basically if you change the delay too
long that might help the situation and

00:25:49.510 --> 00:25:49.520
 
 

00:25:49.520 --> 00:25:52.400
 
finally enable testing for accessibility

00:25:52.400 --> 00:25:52.410
finally enable testing for accessibility
 

00:25:52.410 --> 00:25:56.659
finally enable testing for accessibility
issues so that's something many

00:25:56.659 --> 00:25:56.669
issues so that's something many
 

00:25:56.669 --> 00:25:58.580
issues so that's something many
developers still don't think about sadly

00:25:58.580 --> 00:25:58.590
developers still don't think about sadly
 

00:25:58.590 --> 00:26:01.280
developers still don't think about sadly
but really you want to make sure that

00:26:01.280 --> 00:26:01.290
but really you want to make sure that
 

00:26:01.290 --> 00:26:03.620
but really you want to make sure that
your applications are accessible to all

00:26:03.620 --> 00:26:03.630
your applications are accessible to all
 

00:26:03.630 --> 00:26:05.260
your applications are accessible to all
people who want to use them and espresso

00:26:05.260 --> 00:26:05.270
people who want to use them and espresso
 

00:26:05.270 --> 00:26:09.230
people who want to use them and espresso
gives you a very easy way just enable

00:26:09.230 --> 00:26:09.240
gives you a very easy way just enable
 

00:26:09.240 --> 00:26:10.520
gives you a very easy way just enable
the accessibility validator

00:26:10.520 --> 00:26:10.530
the accessibility validator
 

00:26:10.530 --> 00:26:12.710
the accessibility validator
it's a very easy way to start testing

00:26:12.710 --> 00:26:12.720
it's a very easy way to start testing
 

00:26:12.720 --> 00:26:15.919
it's a very easy way to start testing
for very common accessibility issues so

00:26:15.919 --> 00:26:15.929
for very common accessibility issues so
 

00:26:15.929 --> 00:26:18.320
for very common accessibility issues so
please enable that and fix your apps fix

00:26:18.320 --> 00:26:18.330
please enable that and fix your apps fix
 

00:26:18.330 --> 00:26:20.659
please enable that and fix your apps fix
your views to make sure the app can be

00:26:20.659 --> 00:26:20.669
your views to make sure the app can be
 

00:26:20.669 --> 00:26:25.850
your views to make sure the app can be
used by anyone and what's next I really

00:26:25.850 --> 00:26:25.860
used by anyone and what's next I really
 

00:26:25.860 --> 00:26:27.140
used by anyone and what's next I really
encourage you to look at the special

00:26:27.140 --> 00:26:27.150
encourage you to look at the special
 

00:26:27.150 --> 00:26:28.880
encourage you to look at the special
documentation there's a section called

00:26:28.880 --> 00:26:28.890
documentation there's a section called
 

00:26:28.890 --> 00:26:32.030
documentation there's a section called
invest espresso or advanced samples

00:26:32.030 --> 00:26:32.040
invest espresso or advanced samples
 

00:26:32.040 --> 00:26:34.159
invest espresso or advanced samples
something like that and you will see a

00:26:34.159 --> 00:26:34.169
something like that and you will see a
 

00:26:34.169 --> 00:26:36.710
something like that and you will see a
lots and lots of more tips and tricks on

00:26:36.710 --> 00:26:36.720
lots and lots of more tips and tricks on
 

00:26:36.720 --> 00:26:38.750
lots and lots of more tips and tricks on
how to use this presto how to use them

00:26:38.750 --> 00:26:38.760
how to use this presto how to use them
 

00:26:38.760 --> 00:26:41.200
how to use this presto how to use them
more you know unknown api's of espresso

00:26:41.200 --> 00:26:41.210
more you know unknown api's of espresso
 

00:26:41.210 --> 00:26:43.280
more you know unknown api's of espresso
do check out the Android test

00:26:43.280 --> 00:26:43.290
do check out the Android test
 

00:26:43.290 --> 00:26:45.470
do check out the Android test
in code lab it's not only about espresso

00:26:45.470 --> 00:26:45.480
in code lab it's not only about espresso
 

00:26:45.480 --> 00:26:47.090
in code lab it's not only about espresso
it's also about how to structure your

00:26:47.090 --> 00:26:47.100
it's also about how to structure your
 

00:26:47.100 --> 00:26:50.090
it's also about how to structure your
app to be more testable it gives a great

00:26:50.090 --> 00:26:50.100
app to be more testable it gives a great
 

00:26:50.100 --> 00:26:53.870
app to be more testable it gives a great
overview of all the of all the testing

00:26:53.870 --> 00:26:53.880
overview of all the of all the testing
 

00:26:53.880 --> 00:26:56.480
overview of all the of all the testing
offerings that we have finally we have

00:26:56.480 --> 00:26:56.490
offerings that we have finally we have
 

00:26:56.490 --> 00:26:58.400
offerings that we have finally we have
greatest testing samples we have a

00:26:58.400 --> 00:26:58.410
greatest testing samples we have a
 

00:26:58.410 --> 00:27:00.470
greatest testing samples we have a
testing blueprint and like I said before

00:27:00.470 --> 00:27:00.480
testing blueprint and like I said before
 

00:27:00.480 --> 00:27:02.690
testing blueprint and like I said before
remember that espresso is open-source so

00:27:02.690 --> 00:27:02.700
remember that espresso is open-source so
 

00:27:02.700 --> 00:27:05.090
remember that espresso is open-source so
if you find any place where we're you

00:27:05.090 --> 00:27:05.100
if you find any place where we're you
 

00:27:05.100 --> 00:27:07.340
if you find any place where we're you
know it's not working the best it could

00:27:07.340 --> 00:27:07.350
know it's not working the best it could
 

00:27:07.350 --> 00:27:09.080
know it's not working the best it could
if we're missing some kind of measures

00:27:09.080 --> 00:27:09.090
if we're missing some kind of measures
 

00:27:09.090 --> 00:27:11.060
if we're missing some kind of measures
if there's a source of flakiness for

00:27:11.060 --> 00:27:11.070
if there's a source of flakiness for
 

00:27:11.070 --> 00:27:12.340
if there's a source of flakiness for
your tests that we were not aware of

00:27:12.340 --> 00:27:12.350
your tests that we were not aware of
 

00:27:12.350 --> 00:27:15.140
your tests that we were not aware of
file bugs are better yet file a pull

00:27:15.140 --> 00:27:15.150
file bugs are better yet file a pull
 

00:27:15.150 --> 00:27:19.670
file bugs are better yet file a pull
requests and help us make it even better

