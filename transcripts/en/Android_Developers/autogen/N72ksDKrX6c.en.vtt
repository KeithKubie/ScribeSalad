WEBVTT
Kind: captions
Language: en

00:00:00.050 --> 00:00:02.210
it's pretty annoying to set your phone

00:00:02.210 --> 00:00:02.220
it's pretty annoying to set your phone
 

00:00:02.220 --> 00:00:03.980
it's pretty annoying to set your phone
down for a bit only to pick it up later

00:00:03.980 --> 00:00:03.990
down for a bit only to pick it up later
 

00:00:03.990 --> 00:00:06.050
down for a bit only to pick it up later
and see that 30 percent battery because

00:00:06.050 --> 00:00:06.060
and see that 30 percent battery because
 

00:00:06.060 --> 00:00:08.210
and see that 30 percent battery because
apps have been busy bees syncing data

00:00:08.210 --> 00:00:08.220
apps have been busy bees syncing data
 

00:00:08.220 --> 00:00:10.520
apps have been busy bees syncing data
while you were out I'm joining us with

00:00:10.520 --> 00:00:10.530
while you were out I'm joining us with
 

00:00:10.530 --> 00:00:12.080
while you were out I'm joining us with
and I am here to help you understand

00:00:12.080 --> 00:00:12.090
and I am here to help you understand
 

00:00:12.090 --> 00:00:15.079
and I am here to help you understand
what it means to be idle it's common for

00:00:15.079 --> 00:00:15.089
what it means to be idle it's common for
 

00:00:15.089 --> 00:00:16.730
what it means to be idle it's common for
modern mobile apps to be in a paused

00:00:16.730 --> 00:00:16.740
modern mobile apps to be in a paused
 

00:00:16.740 --> 00:00:18.769
modern mobile apps to be in a paused
state when they aren't active and they

00:00:18.769 --> 00:00:18.779
state when they aren't active and they
 

00:00:18.779 --> 00:00:20.179
state when they aren't active and they
have no pending notifications or

00:00:20.179 --> 00:00:20.189
have no pending notifications or
 

00:00:20.189 --> 00:00:22.910
have no pending notifications or
foreground services but what may be new

00:00:22.910 --> 00:00:22.920
foreground services but what may be new
 

00:00:22.920 --> 00:00:24.950
foreground services but what may be new
to your ears is doze mode which lets the

00:00:24.950 --> 00:00:24.960
to your ears is doze mode which lets the
 

00:00:24.960 --> 00:00:26.779
to your ears is doze mode which lets the
entire device take a breather

00:00:26.779 --> 00:00:26.789
entire device take a breather
 

00:00:26.789 --> 00:00:28.519
entire device take a breather
doze mode works on the assumption that

00:00:28.519 --> 00:00:28.529
doze mode works on the assumption that
 

00:00:28.529 --> 00:00:30.320
doze mode works on the assumption that
when the screen is off and the device is

00:00:30.320 --> 00:00:30.330
when the screen is off and the device is
 

00:00:30.330 --> 00:00:32.569
when the screen is off and the device is
neither moving nor charging the user

00:00:32.569 --> 00:00:32.579
neither moving nor charging the user
 

00:00:32.579 --> 00:00:35.060
neither moving nor charging the user
probably isn't using it so the device

00:00:35.060 --> 00:00:35.070
probably isn't using it so the device
 

00:00:35.070 --> 00:00:36.680
probably isn't using it so the device
decides to focus more on preserving the

00:00:36.680 --> 00:00:36.690
decides to focus more on preserving the
 

00:00:36.690 --> 00:00:38.799
decides to focus more on preserving the
battery than syncing for new information

00:00:38.799 --> 00:00:38.809
battery than syncing for new information
 

00:00:38.809 --> 00:00:41.450
battery than syncing for new information
to achieve this doze mode delays things

00:00:41.450 --> 00:00:41.460
to achieve this doze mode delays things
 

00:00:41.460 --> 00:00:43.220
to achieve this doze mode delays things
like syncadapters job scheduler and

00:00:43.220 --> 00:00:43.230
like syncadapters job scheduler and
 

00:00:43.230 --> 00:00:44.690
like syncadapters job scheduler and
alarm managers so they don't burn

00:00:44.690 --> 00:00:44.700
alarm managers so they don't burn
 

00:00:44.700 --> 00:00:46.369
alarm managers so they don't burn
through battery when the user isn't even

00:00:46.369 --> 00:00:46.379
through battery when the user isn't even
 

00:00:46.379 --> 00:00:49.459
through battery when the user isn't even
on the device but to be clear doze does

00:00:49.459 --> 00:00:49.469
on the device but to be clear doze does
 

00:00:49.469 --> 00:00:51.470
on the device but to be clear doze does
not disable these services they just get

00:00:51.470 --> 00:00:51.480
not disable these services they just get
 

00:00:51.480 --> 00:00:54.410
not disable these services they just get
deferred to a later time these jobs and

00:00:54.410 --> 00:00:54.420
deferred to a later time these jobs and
 

00:00:54.420 --> 00:00:56.330
deferred to a later time these jobs and
background services are paused and cute

00:00:56.330 --> 00:00:56.340
background services are paused and cute
 

00:00:56.340 --> 00:00:58.369
background services are paused and cute
until Android exits doze mode for

00:00:58.369 --> 00:00:58.379
until Android exits doze mode for
 

00:00:58.379 --> 00:00:59.779
until Android exits doze mode for
example when the user picks up the

00:00:59.779 --> 00:00:59.789
example when the user picks up the
 

00:00:59.789 --> 00:01:02.029
example when the user picks up the
device again however if doze mode is

00:01:02.029 --> 00:01:02.039
device again however if doze mode is
 

00:01:02.039 --> 00:01:03.950
device again however if doze mode is
active for a prolonged period of time

00:01:03.950 --> 00:01:03.960
active for a prolonged period of time
 

00:01:03.960 --> 00:01:06.530
active for a prolonged period of time
delayed jobs are batched up and executed

00:01:06.530 --> 00:01:06.540
delayed jobs are batched up and executed
 

00:01:06.540 --> 00:01:09.440
delayed jobs are batched up and executed
periodically but for some apps timing is

00:01:09.440 --> 00:01:09.450
periodically but for some apps timing is
 

00:01:09.450 --> 00:01:10.940
periodically but for some apps timing is
critical and so the android framework

00:01:10.940 --> 00:01:10.950
critical and so the android framework
 

00:01:10.950 --> 00:01:12.710
critical and so the android framework
offers two ways to get important work

00:01:12.710 --> 00:01:12.720
offers two ways to get important work
 

00:01:12.720 --> 00:01:14.480
offers two ways to get important work
done even when the device is dozing

00:01:14.480 --> 00:01:14.490
done even when the device is dozing
 

00:01:14.490 --> 00:01:16.940
done even when the device is dozing
Google Cloud messaging can bypass doze

00:01:16.940 --> 00:01:16.950
Google Cloud messaging can bypass doze
 

00:01:16.950 --> 00:01:18.440
Google Cloud messaging can bypass doze
behavior with messages that are marked

00:01:18.440 --> 00:01:18.450
behavior with messages that are marked
 

00:01:18.450 --> 00:01:20.660
behavior with messages that are marked
as high priority in a social app for

00:01:20.660 --> 00:01:20.670
as high priority in a social app for
 

00:01:20.670 --> 00:01:22.190
as high priority in a social app for
example the notification of a new

00:01:22.190 --> 00:01:22.200
example the notification of a new
 

00:01:22.200 --> 00:01:24.560
example the notification of a new
follower or a comet probably isn't vital

00:01:24.560 --> 00:01:24.570
follower or a comet probably isn't vital
 

00:01:24.570 --> 00:01:26.390
follower or a comet probably isn't vital
whereas a chat message could be critical

00:01:26.390 --> 00:01:26.400
whereas a chat message could be critical
 

00:01:26.400 --> 00:01:28.550
whereas a chat message could be critical
so if it's worth having user get up

00:01:28.550 --> 00:01:28.560
so if it's worth having user get up
 

00:01:28.560 --> 00:01:30.080
so if it's worth having user get up
across the room and pick up the device

00:01:30.080 --> 00:01:30.090
across the room and pick up the device
 

00:01:30.090 --> 00:01:31.999
across the room and pick up the device
then you can consider it high priority

00:01:31.999 --> 00:01:32.009
then you can consider it high priority
 

00:01:32.009 --> 00:01:34.310
then you can consider it high priority
and other apps have time critical

00:01:34.310 --> 00:01:34.320
and other apps have time critical
 

00:01:34.320 --> 00:01:36.260
and other apps have time critical
operations that they need to do such as

00:01:36.260 --> 00:01:36.270
operations that they need to do such as
 

00:01:36.270 --> 00:01:38.179
operations that they need to do such as
prompting notification at exactly 6:00

00:01:38.179 --> 00:01:38.189
prompting notification at exactly 6:00
 

00:01:38.189 --> 00:01:40.429
prompting notification at exactly 6:00
p.m. in cases like these you want to

00:01:40.429 --> 00:01:40.439
p.m. in cases like these you want to
 

00:01:40.439 --> 00:01:41.929
p.m. in cases like these you want to
know that your alarm manager has your

00:01:41.929 --> 00:01:41.939
know that your alarm manager has your
 

00:01:41.939 --> 00:01:44.870
know that your alarm manager has your
back now set exact will not trigger on

00:01:44.870 --> 00:01:44.880
back now set exact will not trigger on
 

00:01:44.880 --> 00:01:46.850
back now set exact will not trigger on
the moment if the device is dozing but

00:01:46.850 --> 00:01:46.860
the moment if the device is dozing but
 

00:01:46.860 --> 00:01:49.639
the moment if the device is dozing but
only when it exits doze mode instead use

00:01:49.639 --> 00:01:49.649
only when it exits doze mode instead use
 

00:01:49.649 --> 00:01:51.649
only when it exits doze mode instead use
and allow while idle which will trigger

00:01:51.649 --> 00:01:51.659
and allow while idle which will trigger
 

00:01:51.659 --> 00:01:54.200
and allow while idle which will trigger
even through doze mode but aside from

00:01:54.200 --> 00:01:54.210
even through doze mode but aside from
 

00:01:54.210 --> 00:01:55.730
even through doze mode but aside from
these two scenarios there isn't much

00:01:55.730 --> 00:01:55.740
these two scenarios there isn't much
 

00:01:55.740 --> 00:01:57.260
these two scenarios there isn't much
that needs to be done about doze mode

00:01:57.260 --> 00:01:57.270
that needs to be done about doze mode
 

00:01:57.270 --> 00:01:59.630
that needs to be done about doze mode
because your app is not being ignored or

00:01:59.630 --> 00:01:59.640
because your app is not being ignored or
 

00:01:59.640 --> 00:02:01.730
because your app is not being ignored or
skipped merely delayed until the device

00:02:01.730 --> 00:02:01.740
skipped merely delayed until the device
 

00:02:01.740 --> 00:02:04.399
skipped merely delayed until the device
itself is in use so the core of the work

00:02:04.399 --> 00:02:04.409
itself is in use so the core of the work
 

00:02:04.409 --> 00:02:06.200
itself is in use so the core of the work
that you want to do is actually testing

00:02:06.200 --> 00:02:06.210
that you want to do is actually testing
 

00:02:06.210 --> 00:02:08.210
that you want to do is actually testing
your app to be certain that your apps

00:02:08.210 --> 00:02:08.220
your app to be certain that your apps
 

00:02:08.220 --> 00:02:10.400
your app to be certain that your apps
recovery from doze mode is as graceful

00:02:10.400 --> 00:02:10.410
recovery from doze mode is as graceful
 

00:02:10.410 --> 00:02:11.530
recovery from doze mode is as graceful
as expected

00:02:11.530 --> 00:02:11.540
as expected
 

00:02:11.540 --> 00:02:12.820
as expected
so to help you with this we've created

00:02:12.820 --> 00:02:12.830
so to help you with this we've created
 

00:02:12.830 --> 00:02:15.250
so to help you with this we've created
new adb commands that enable developers

00:02:15.250 --> 00:02:15.260
new adb commands that enable developers
 

00:02:15.260 --> 00:02:16.770
new adb commands that enable developers
to step through the stages of doze mode

00:02:16.770 --> 00:02:16.780
to step through the stages of doze mode
 

00:02:16.780 --> 00:02:18.670
to step through the stages of doze mode
programmatically so check the

00:02:18.670 --> 00:02:18.680
programmatically so check the
 

00:02:18.680 --> 00:02:20.830
programmatically so check the
documentation for details and that's

00:02:20.830 --> 00:02:20.840
documentation for details and that's
 

00:02:20.840 --> 00:02:22.539
documentation for details and that's
really all there is to dozing nothing

00:02:22.539 --> 00:02:22.549
really all there is to dozing nothing
 

00:02:22.549 --> 00:02:24.339
really all there is to dozing nothing
too scary and not too much work for the

00:02:24.339 --> 00:02:24.349
too scary and not too much work for the
 

00:02:24.349 --> 00:02:25.809
too scary and not too much work for the
developer so if you're targeting

00:02:25.809 --> 00:02:25.819
developer so if you're targeting
 

00:02:25.819 --> 00:02:27.429
developer so if you're targeting
marshmallow you may need to add a few

00:02:27.429 --> 00:02:27.439
marshmallow you may need to add a few
 

00:02:27.439 --> 00:02:29.740
marshmallow you may need to add a few
and allow while idles and upgrade the

00:02:29.740 --> 00:02:29.750
and allow while idles and upgrade the
 

00:02:29.750 --> 00:02:31.930
and allow while idles and upgrade the
priority on certain messages but mainly

00:02:31.930 --> 00:02:31.940
priority on certain messages but mainly
 

00:02:31.940 --> 00:02:33.970
priority on certain messages but mainly
just check your app for surprises and

00:02:33.970 --> 00:02:33.980
just check your app for surprises and
 

00:02:33.980 --> 00:02:37.390
just check your app for surprises and
continue to build better apps

