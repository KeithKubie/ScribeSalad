WEBVTT
Kind: captions
Language: en

00:00:07.650 --> 00:00:10.230
 
hi my name is Daniel Shan ski I'm an

00:00:10.230 --> 00:00:10.240
hi my name is Daniel Shan ski I'm an
 

00:00:10.240 --> 00:00:11.520
hi my name is Daniel Shan ski I'm an
intern here on the Android team at

00:00:11.520 --> 00:00:11.530
intern here on the Android team at
 

00:00:11.530 --> 00:00:13.170
intern here on the Android team at
Google and today I'll be talking about

00:00:13.170 --> 00:00:13.180
Google and today I'll be talking about
 

00:00:13.180 --> 00:00:16.080
Google and today I'll be talking about
some ListView animation insertions so in

00:00:16.080 --> 00:00:16.090
some ListView animation insertions so in
 

00:00:16.090 --> 00:00:17.340
some ListView animation insertions so in
this specific demo what we're going to

00:00:17.340 --> 00:00:17.350
this specific demo what we're going to
 

00:00:17.350 --> 00:00:19.830
this specific demo what we're going to
be doing is adding a day adding a new

00:00:19.830 --> 00:00:19.840
be doing is adding a day adding a new
 

00:00:19.840 --> 00:00:21.990
be doing is adding a day adding a new
object to the 0th index of the data set

00:00:21.990 --> 00:00:22.000
object to the 0th index of the data set
 

00:00:22.000 --> 00:00:23.520
object to the 0th index of the data set
associated with a ListView and an

00:00:23.520 --> 00:00:23.530
associated with a ListView and an
 

00:00:23.530 --> 00:00:25.439
associated with a ListView and an
animating that solved downwards into it

00:00:25.439 --> 00:00:25.449
animating that solved downwards into it
 

00:00:25.449 --> 00:00:27.210
animating that solved downwards into it
as that's going to happen all the other

00:00:27.210 --> 00:00:27.220
as that's going to happen all the other
 

00:00:27.220 --> 00:00:28.980
as that's going to happen all the other
items in the list you're going to make

00:00:28.980 --> 00:00:28.990
items in the list you're going to make
 

00:00:28.990 --> 00:00:31.230
items in the list you're going to make
space for the new cell animate downwards

00:00:31.230 --> 00:00:31.240
space for the new cell animate downwards
 

00:00:31.240 --> 00:00:32.819
space for the new cell animate downwards
as the new cell animates back in and

00:00:32.819 --> 00:00:32.829
as the new cell animates back in and
 

00:00:32.829 --> 00:00:35.639
as the new cell animates back in and
then just as a cool little extra part to

00:00:35.639 --> 00:00:35.649
then just as a cool little extra part to
 

00:00:35.649 --> 00:00:36.840
then just as a cool little extra part to
the animation we're going to have an

00:00:36.840 --> 00:00:36.850
the animation we're going to have an
 

00:00:36.850 --> 00:00:38.939
the animation we're going to have an
image that's part of the cell animate in

00:00:38.939 --> 00:00:38.949
image that's part of the cell animate in
 

00:00:38.949 --> 00:00:41.399
image that's part of the cell animate in
to its correct location as the new

00:00:41.399 --> 00:00:41.409
to its correct location as the new
 

00:00:41.409 --> 00:00:44.069
to its correct location as the new
element is being added to being added to

00:00:44.069 --> 00:00:44.079
element is being added to being added to
 

00:00:44.079 --> 00:00:44.340
element is being added to being added to
it

00:00:44.340 --> 00:00:44.350
it
 

00:00:44.350 --> 00:00:45.959
it
some of the important things to know for

00:00:45.959 --> 00:00:45.969
some of the important things to know for
 

00:00:45.969 --> 00:00:48.569
some of the important things to know for
this animation some of the few tricks

00:00:48.569 --> 00:00:48.579
this animation some of the few tricks
 

00:00:48.579 --> 00:00:50.579
this animation some of the few tricks
and problems I encountered is the fact

00:00:50.579 --> 00:00:50.589
and problems I encountered is the fact
 

00:00:50.589 --> 00:00:52.439
and problems I encountered is the fact
that when you and when you change the

00:00:52.439 --> 00:00:52.449
that when you and when you change the
 

00:00:52.449 --> 00:00:54.270
that when you and when you change the
data set some of the objects that you

00:00:54.270 --> 00:00:54.280
data set some of the objects that you
 

00:00:54.280 --> 00:00:56.119
data set some of the objects that you
may need may no longer be available

00:00:56.119 --> 00:00:56.129
may need may no longer be available
 

00:00:56.129 --> 00:01:00.000
may need may no longer be available
after after Laird has occurred so what

00:01:00.000 --> 00:01:00.010
after after Laird has occurred so what
 

00:01:00.010 --> 00:01:02.069
after after Laird has occurred so what
you need to do is you need to take a

00:01:02.069 --> 00:01:02.079
you need to do is you need to take a
 

00:01:02.079 --> 00:01:03.989
you need to do is you need to take a
snapshot of all the of all the items

00:01:03.989 --> 00:01:03.999
snapshot of all the of all the items
 

00:01:03.999 --> 00:01:06.899
snapshot of all the of all the items
before you modify the data set so that

00:01:06.899 --> 00:01:06.909
before you modify the data set so that
 

00:01:06.909 --> 00:01:08.850
before you modify the data set so that
after you modify the data set if you no

00:01:08.850 --> 00:01:08.860
after you modify the data set if you no
 

00:01:08.860 --> 00:01:10.140
after you modify the data set if you no
longer have a reference to some of these

00:01:10.140 --> 00:01:10.150
longer have a reference to some of these
 

00:01:10.150 --> 00:01:12.810
longer have a reference to some of these
items you can still animate them out of

00:01:12.810 --> 00:01:12.820
items you can still animate them out of
 

00:01:12.820 --> 00:01:14.670
items you can still animate them out of
the bounds of the ListView because you

00:01:14.670 --> 00:01:14.680
the bounds of the ListView because you
 

00:01:14.680 --> 00:01:17.010
the bounds of the ListView because you
won't need them after that anymore so

00:01:17.010 --> 00:01:17.020
won't need them after that anymore so
 

00:01:17.020 --> 00:01:20.010
won't need them after that anymore so
jumping straight to the demo all we have

00:01:20.010 --> 00:01:20.020
jumping straight to the demo all we have
 

00:01:20.020 --> 00:01:22.680
jumping straight to the demo all we have
here is a button little roundview to its

00:01:22.680 --> 00:01:22.690
here is a button little roundview to its
 

00:01:22.690 --> 00:01:24.390
here is a button little roundview to its
left the ListView is completely empty

00:01:24.390 --> 00:01:24.400
left the ListView is completely empty
 

00:01:24.400 --> 00:01:28.050
left the ListView is completely empty
clicking add row animate creates a new

00:01:28.050 --> 00:01:28.060
clicking add row animate creates a new
 

00:01:28.060 --> 00:01:31.410
clicking add row animate creates a new
cell and animates it downwards and we

00:01:31.410 --> 00:01:31.420
cell and animates it downwards and we
 

00:01:31.420 --> 00:01:33.150
cell and animates it downwards and we
can add as many elements as you want

00:01:33.150 --> 00:01:33.160
can add as many elements as you want
 

00:01:33.160 --> 00:01:35.730
can add as many elements as you want
they'll start looping and as you can see

00:01:35.730 --> 00:01:35.740
they'll start looping and as you can see
 

00:01:35.740 --> 00:01:37.740
they'll start looping and as you can see
it animates downwards and all the

00:01:37.740 --> 00:01:37.750
it animates downwards and all the
 

00:01:37.750 --> 00:01:38.850
it animates downwards and all the
elements unless you're underneath

00:01:38.850 --> 00:01:38.860
elements unless you're underneath
 

00:01:38.860 --> 00:01:41.310
elements unless you're underneath
animate down as that happens you cannot

00:01:41.310 --> 00:01:41.320
animate down as that happens you cannot
 

00:01:41.320 --> 00:01:42.780
animate down as that happens you cannot
of course scroll the list if you want to

00:01:42.780 --> 00:01:42.790
of course scroll the list if you want to
 

00:01:42.790 --> 00:01:45.180
of course scroll the list if you want to
but the interesting to note as well is

00:01:45.180 --> 00:01:45.190
but the interesting to note as well is
 

00:01:45.190 --> 00:01:46.920
but the interesting to note as well is
that even though each of these images is

00:01:46.920 --> 00:01:46.930
that even though each of these images is
 

00:01:46.930 --> 00:01:48.930
that even though each of these images is
part of the data set associated with

00:01:48.930 --> 00:01:48.940
part of the data set associated with
 

00:01:48.940 --> 00:01:50.640
part of the data set associated with
that item in the list with that exact

00:01:50.640 --> 00:01:50.650
that item in the list with that exact
 

00:01:50.650 --> 00:01:52.800
that item in the list with that exact
cell what we're doing is animating the

00:01:52.800 --> 00:01:52.810
cell what we're doing is animating the
 

00:01:52.810 --> 00:01:54.750
cell what we're doing is animating the
image from outside the bounds of the

00:01:54.750 --> 00:01:54.760
image from outside the bounds of the
 

00:01:54.760 --> 00:01:56.580
image from outside the bounds of the
ListView into its correct location in

00:01:56.580 --> 00:01:56.590
ListView into its correct location in
 

00:01:56.590 --> 00:01:58.710
ListView into its correct location in
the ListView where it's that word then

00:01:58.710 --> 00:01:58.720
the ListView where it's that word then
 

00:01:58.720 --> 00:02:01.649
the ListView where it's that word then
stays and persists as you scroll the

00:02:01.649 --> 00:02:01.659
stays and persists as you scroll the
 

00:02:01.659 --> 00:02:04.590
stays and persists as you scroll the
list here afterwards so then looking at

00:02:04.590 --> 00:02:04.600
list here afterwards so then looking at
 

00:02:04.600 --> 00:02:06.719
list here afterwards so then looking at
the code we can go into insertion

00:02:06.719 --> 00:02:06.729
the code we can go into insertion
 

00:02:06.729 --> 00:02:09.119
the code we can go into insertion
ListView which is an object that extends

00:02:09.119 --> 00:02:09.129
ListView which is an object that extends
 

00:02:09.129 --> 00:02:10.680
ListView which is an object that extends
lists you where you can insert these new

00:02:10.680 --> 00:02:10.690
lists you where you can insert these new
 

00:02:10.690 --> 00:02:14.190
lists you where you can insert these new
items and after a lot of boilerplate

00:02:14.190 --> 00:02:14.200
items and after a lot of boilerplate
 

00:02:14.200 --> 00:02:16.320
items and after a lot of boilerplate
code that you can look over later

00:02:16.320 --> 00:02:16.330
code that you can look over later
 

00:02:16.330 --> 00:02:18.750
code that you can look over later
the main logic happens in AD bro so

00:02:18.750 --> 00:02:18.760
the main logic happens in AD bro so
 

00:02:18.760 --> 00:02:23.010
the main logic happens in AD bro so
firstly what we need to do here is first

00:02:23.010 --> 00:02:23.020
firstly what we need to do here is first
 

00:02:23.020 --> 00:02:24.330
firstly what we need to do here is first
get a reference to our adapter and

00:02:24.330 --> 00:02:24.340
get a reference to our adapter and
 

00:02:24.340 --> 00:02:26.820
get a reference to our adapter and
afterwards what I'm gonna do is keep

00:02:26.820 --> 00:02:26.830
afterwards what I'm gonna do is keep
 

00:02:26.830 --> 00:02:29.520
afterwards what I'm gonna do is keep
track of the balance and the draw balls

00:02:29.520 --> 00:02:29.530
track of the balance and the draw balls
 

00:02:29.530 --> 00:02:31.680
track of the balance and the draw balls
of all the items that are in my listing

00:02:31.680 --> 00:02:31.690
of all the items that are in my listing
 

00:02:31.690 --> 00:02:33.690
of all the items that are in my listing
before the data sent before the data set

00:02:33.690 --> 00:02:33.700
before the data sent before the data set
 

00:02:33.700 --> 00:02:35.910
before the data sent before the data set
change took place so I'm gonna low I'm

00:02:35.910 --> 00:02:35.920
change took place so I'm gonna low I'm
 

00:02:35.920 --> 00:02:37.770
change took place so I'm gonna low I'm
gonna loop through all my visible cells

00:02:37.770 --> 00:02:37.780
gonna loop through all my visible cells
 

00:02:37.780 --> 00:02:41.130
gonna loop through all my visible cells
and I'm gonna take a screenshot of every

00:02:41.130 --> 00:02:41.140
and I'm gonna take a screenshot of every
 

00:02:41.140 --> 00:02:42.930
and I'm gonna take a screenshot of every
single cell I'm gonna store that I'm

00:02:42.930 --> 00:02:42.940
single cell I'm gonna store that I'm
 

00:02:42.940 --> 00:02:45.480
single cell I'm gonna store that I'm
also going to take retrieve the balance

00:02:45.480 --> 00:02:45.490
also going to take retrieve the balance
 

00:02:45.490 --> 00:02:47.250
also going to take retrieve the balance
of every single cell and stored that in

00:02:47.250 --> 00:02:47.260
of every single cell and stored that in
 

00:02:47.260 --> 00:02:50.070
of every single cell and stored that in
a corresponding hash map as well so now

00:02:50.070 --> 00:02:50.080
a corresponding hash map as well so now
 

00:02:50.080 --> 00:02:52.050
a corresponding hash map as well so now
regardless of whether or not those cells

00:02:52.050 --> 00:02:52.060
regardless of whether or not those cells
 

00:02:52.060 --> 00:02:54.300
regardless of whether or not those cells
are still there after the data sent data

00:02:54.300 --> 00:02:54.310
are still there after the data sent data
 

00:02:54.310 --> 00:02:56.100
are still there after the data sent data
set change has taken place I'll still

00:02:56.100 --> 00:02:56.110
set change has taken place I'll still
 

00:02:56.110 --> 00:02:58.410
set change has taken place I'll still
have a reference to them then when you

00:02:58.410 --> 00:02:58.420
have a reference to them then when you
 

00:02:58.420 --> 00:03:01.170
have a reference to them then when you
move down here I create I actually add

00:03:01.170 --> 00:03:01.180
move down here I create I actually add
 

00:03:01.180 --> 00:03:04.170
move down here I create I actually add
the new object to my data set and at a

00:03:04.170 --> 00:03:04.180
the new object to my data set and at a
 

00:03:04.180 --> 00:03:06.320
the new object to my data set and at a
stable ID corresponding to that thing

00:03:06.320 --> 00:03:06.330
stable ID corresponding to that thing
 

00:03:06.330 --> 00:03:08.850
stable ID corresponding to that thing
corresponding to that item because in my

00:03:08.850 --> 00:03:08.860
corresponding to that item because in my
 

00:03:08.860 --> 00:03:12.120
corresponding to that item because in my
array adapter I've specified true for

00:03:12.120 --> 00:03:12.130
array adapter I've specified true for
 

00:03:12.130 --> 00:03:13.770
array adapter I've specified true for
stable IDs so that means I need to make

00:03:13.770 --> 00:03:13.780
stable IDs so that means I need to make
 

00:03:13.780 --> 00:03:16.080
stable IDs so that means I need to make
sure that a new stable ID is added to

00:03:16.080 --> 00:03:16.090
sure that a new stable ID is added to
 

00:03:16.090 --> 00:03:18.360
sure that a new stable ID is added to
that element then I notify data set

00:03:18.360 --> 00:03:18.370
that element then I notify data set
 

00:03:18.370 --> 00:03:20.729
that element then I notify data set
change which will request the layout on

00:03:20.729 --> 00:03:20.739
change which will request the layout on
 

00:03:20.739 --> 00:03:23.430
change which will request the layout on
behalf of the ListView but since I've

00:03:23.430 --> 00:03:23.440
behalf of the ListView but since I've
 

00:03:23.440 --> 00:03:25.949
behalf of the ListView but since I've
wanted to animate one of the one of the

00:03:25.949 --> 00:03:25.959
wanted to animate one of the one of the
 

00:03:25.959 --> 00:03:27.360
wanted to animate one of the one of the
common tricks that have been used for a

00:03:27.360 --> 00:03:27.370
common tricks that have been used for a
 

00:03:27.370 --> 00:03:29.220
common tricks that have been used for a
lot of these animations is using a non

00:03:29.220 --> 00:03:29.230
lot of these animations is using a non
 

00:03:29.230 --> 00:03:32.670
lot of these animations is using a non
preacher listener so once again you on

00:03:32.670 --> 00:03:32.680
preacher listener so once again you on
 

00:03:32.680 --> 00:03:34.740
preacher listener so once again you on
measure and on layout have already been

00:03:34.740 --> 00:03:34.750
measure and on layout have already been
 

00:03:34.750 --> 00:03:36.930
measure and on layout have already been
called all the final values for all the

00:03:36.930 --> 00:03:36.940
called all the final values for all the
 

00:03:36.940 --> 00:03:38.970
called all the final values for all the
for all the widgets in the list

00:03:38.970 --> 00:03:38.980
for all the widgets in the list
 

00:03:38.980 --> 00:03:41.220
for all the widgets in the list
contained within the ListView have

00:03:41.220 --> 00:03:41.230
contained within the ListView have
 

00:03:41.230 --> 00:03:43.110
contained within the ListView have
already been calculated but have not

00:03:43.110 --> 00:03:43.120
already been calculated but have not
 

00:03:43.120 --> 00:03:44.850
already been calculated but have not
been drawn to the screen yet so this is

00:03:44.850 --> 00:03:44.860
been drawn to the screen yet so this is
 

00:03:44.860 --> 00:03:46.920
been drawn to the screen yet so this is
where any custom animations you want to

00:03:46.920 --> 00:03:46.930
where any custom animations you want to
 

00:03:46.930 --> 00:03:48.479
where any custom animations you want to
do you can do them here since you

00:03:48.479 --> 00:03:48.489
do you can do them here since you
 

00:03:48.489 --> 00:03:49.530
do you can do them here since you
already have a reference to all the

00:03:49.530 --> 00:03:49.540
already have a reference to all the
 

00:03:49.540 --> 00:03:52.530
already have a reference to all the
final values so going into on free draw

00:03:52.530 --> 00:03:52.540
final values so going into on free draw
 

00:03:52.540 --> 00:03:55.020
final values so going into on free draw
we remove the listener and create a new

00:03:55.020 --> 00:03:55.030
we remove the listener and create a new
 

00:03:55.030 --> 00:03:56.820
we remove the listener and create a new
array where we're gonna a new ArrayList

00:03:56.820 --> 00:03:56.830
array where we're gonna a new ArrayList
 

00:03:56.830 --> 00:03:58.320
array where we're gonna a new ArrayList
so we're gonna store all our animations

00:03:58.320 --> 00:03:58.330
so we're gonna store all our animations
 

00:03:58.330 --> 00:04:01.050
so we're gonna store all our animations
so firstly since I know that I'm adding

00:04:01.050 --> 00:04:01.060
so firstly since I know that I'm adding
 

00:04:01.060 --> 00:04:03.750
so firstly since I know that I'm adding
a new cell to the 0th index I that's the

00:04:03.750 --> 00:04:03.760
a new cell to the 0th index I that's the
 

00:04:03.760 --> 00:04:07.380
a new cell to the 0th index I that's the
view that I'm gonna want to use for for

00:04:07.380 --> 00:04:07.390
view that I'm gonna want to use for for
 

00:04:07.390 --> 00:04:09.120
view that I'm gonna want to use for for
a lot of my calculations and animations

00:04:09.120 --> 00:04:09.130
a lot of my calculations and animations
 

00:04:09.130 --> 00:04:14.280
a lot of my calculations and animations
I I retrieved and then uh what I'm

00:04:14.280 --> 00:04:14.290
I I retrieved and then uh what I'm
 

00:04:14.290 --> 00:04:16.050
I I retrieved and then uh what I'm
creating is creating a copy image view

00:04:16.050 --> 00:04:16.060
creating is creating a copy image view
 

00:04:16.060 --> 00:04:18.780
creating is creating a copy image view
because I can actually can't actually

00:04:18.780 --> 00:04:18.790
because I can actually can't actually
 

00:04:18.790 --> 00:04:21.479
because I can actually can't actually
animate the view that I need from within

00:04:21.479 --> 00:04:21.489
animate the view that I need from within
 

00:04:21.489 --> 00:04:23.070
animate the view that I need from within
the cell from outside the balance and

00:04:23.070 --> 00:04:23.080
the cell from outside the balance and
 

00:04:23.080 --> 00:04:24.690
the cell from outside the balance and
put it where I need to or what I'm gonna

00:04:24.690 --> 00:04:24.700
put it where I need to or what I'm gonna
 

00:04:24.700 --> 00:04:26.340
put it where I need to or what I'm gonna
do is create a new copy image ooh that

00:04:26.340 --> 00:04:26.350
do is create a new copy image ooh that
 

00:04:26.350 --> 00:04:29.670
do is create a new copy image ooh that
has the same content as that

00:04:29.670 --> 00:04:29.680
has the same content as that
 

00:04:29.680 --> 00:04:31.800
has the same content as that
as the cell itself as the image you in

00:04:31.800 --> 00:04:31.810
as the cell itself as the image you in
 

00:04:31.810 --> 00:04:33.330
as the cell itself as the image you in
the cell itself and then I'll just

00:04:33.330 --> 00:04:33.340
the cell itself and then I'll just
 

00:04:33.340 --> 00:04:34.950
the cell itself and then I'll just
animate into place and then get rid of

00:04:34.950 --> 00:04:34.960
animate into place and then get rid of
 

00:04:34.960 --> 00:04:36.390
animate into place and then get rid of
one I don't need her anymore

00:04:36.390 --> 00:04:36.400
one I don't need her anymore
 

00:04:36.400 --> 00:04:39.270
one I don't need her anymore
so when I'm animating a new row one of

00:04:39.270 --> 00:04:39.280
so when I'm animating a new row one of
 

00:04:39.280 --> 00:04:40.800
so when I'm animating a new row one of
the other things I do is just animate

00:04:40.800 --> 00:04:40.810
the other things I do is just animate
 

00:04:40.810 --> 00:04:43.560
the other things I do is just animate
the text associated with that cell fade

00:04:43.560 --> 00:04:43.570
the text associated with that cell fade
 

00:04:43.570 --> 00:04:46.650
the text associated with that cell fade
it in as it animates down and in regard

00:04:46.650 --> 00:04:46.660
it in as it animates down and in regard
 

00:04:46.660 --> 00:04:48.629
it in as it animates down and in regard
to the image there's some add that I

00:04:48.629 --> 00:04:48.639
to the image there's some add that I
 

00:04:48.639 --> 00:04:50.430
to the image there's some add that I
need to do to determine where it starts

00:04:50.430 --> 00:04:50.440
need to do to determine where it starts
 

00:04:50.440 --> 00:04:53.370
need to do to determine where it starts
and word has to end but after all that

00:04:53.370 --> 00:04:53.380
and word has to end but after all that
 

00:04:53.380 --> 00:04:55.379
and word has to end but after all that
is gone after all of that is done all

00:04:55.379 --> 00:04:55.389
is gone after all of that is done all
 

00:04:55.389 --> 00:04:57.420
is gone after all of that is done all
you need to really know is that the

00:04:57.420 --> 00:04:57.430
you need to really know is that the
 

00:04:57.430 --> 00:04:59.249
you need to really know is that the
image you in the cell has to be set to

00:04:59.249 --> 00:04:59.259
image you in the cell has to be set to
 

00:04:59.259 --> 00:05:00.779
image you in the cell has to be set to
invisible while the animation is

00:05:00.779 --> 00:05:00.789
invisible while the animation is
 

00:05:00.789 --> 00:05:02.670
invisible while the animation is
happening while the copy imagery has to

00:05:02.670 --> 00:05:02.680
happening while the copy imagery has to
 

00:05:02.680 --> 00:05:06.629
happening while the copy imagery has to
be visible or I add a I use an overshoot

00:05:06.629 --> 00:05:06.639
be visible or I add a I use an overshoot
 

00:05:06.639 --> 00:05:07.409
be visible or I add a I use an overshoot
interpolator

00:05:07.409 --> 00:05:07.419
interpolator
 

00:05:07.419 --> 00:05:09.930
interpolator
and scale the X and the y properties of

00:05:09.930 --> 00:05:09.940
and scale the X and the y properties of
 

00:05:09.940 --> 00:05:11.189
and scale the X and the y properties of
the imagery just to get this little cool

00:05:11.189 --> 00:05:11.199
the imagery just to get this little cool
 

00:05:11.199 --> 00:05:13.350
the imagery just to get this little cool
popping like effect and then I animate

00:05:13.350 --> 00:05:13.360
popping like effect and then I animate
 

00:05:13.360 --> 00:05:16.010
popping like effect and then I animate
it into place in the new cell view and

00:05:16.010 --> 00:05:16.020
it into place in the new cell view and
 

00:05:16.020 --> 00:05:19.770
it into place in the new cell view and
once that's done I can then I can later

00:05:19.770 --> 00:05:19.780
once that's done I can then I can later
 

00:05:19.780 --> 00:05:21.420
once that's done I can then I can later
at the end of animation get rid of my

00:05:21.420 --> 00:05:21.430
at the end of animation get rid of my
 

00:05:21.430 --> 00:05:23.490
at the end of animation get rid of my
copy image view and set the visibility

00:05:23.490 --> 00:05:23.500
copy image view and set the visibility
 

00:05:23.500 --> 00:05:25.740
copy image view and set the visibility
of my normal view back to normal so

00:05:25.740 --> 00:05:25.750
of my normal view back to normal so
 

00:05:25.750 --> 00:05:28.589
of my normal view back to normal so
scrolling down furthermore this is once

00:05:28.589 --> 00:05:28.599
scrolling down furthermore this is once
 

00:05:28.599 --> 00:05:29.790
scrolling down furthermore this is once
the data set change has already been

00:05:29.790 --> 00:05:29.800
the data set change has already been
 

00:05:29.800 --> 00:05:31.529
the data set change has already been
modified so then I'll loop through all

00:05:31.529 --> 00:05:31.539
modified so then I'll loop through all
 

00:05:31.539 --> 00:05:33.810
modified so then I'll loop through all
my visible children of the ListView at

00:05:33.810 --> 00:05:33.820
my visible children of the ListView at
 

00:05:33.820 --> 00:05:36.240
my visible children of the ListView at
this point and I'm gonna have there

00:05:36.240 --> 00:05:36.250
this point and I'm gonna have there
 

00:05:36.250 --> 00:05:37.680
this point and I'm gonna have there
gonna be two types of children that I

00:05:37.680 --> 00:05:37.690
gonna be two types of children that I
 

00:05:37.690 --> 00:05:39.060
gonna be two types of children that I
can't that I'll be you're working with

00:05:39.060 --> 00:05:39.070
can't that I'll be you're working with
 

00:05:39.070 --> 00:05:41.460
can't that I'll be you're working with
those that have those that have a

00:05:41.460 --> 00:05:41.470
those that have those that have a
 

00:05:41.470 --> 00:05:44.070
those that have those that have a
corresponding balance in the in the

00:05:44.070 --> 00:05:44.080
corresponding balance in the in the
 

00:05:44.080 --> 00:05:45.360
corresponding balance in the in the
hashmap I stored originally and those

00:05:45.360 --> 00:05:45.370
hashmap I stored originally and those
 

00:05:45.370 --> 00:05:47.490
hashmap I stored originally and those
that don't if they do have a

00:05:47.490 --> 00:05:47.500
that don't if they do have a
 

00:05:47.500 --> 00:05:48.810
that don't if they do have a
corresponding balance then what that

00:05:48.810 --> 00:05:48.820
corresponding balance then what that
 

00:05:48.820 --> 00:05:50.879
corresponding balance then what that
means is that they were visible

00:05:50.879 --> 00:05:50.889
means is that they were visible
 

00:05:50.889 --> 00:05:52.500
means is that they were visible
delisting before the animation and

00:05:52.500 --> 00:05:52.510
delisting before the animation and
 

00:05:52.510 --> 00:05:53.850
delisting before the animation and
they're also visible in the list view

00:05:53.850 --> 00:05:53.860
they're also visible in the list view
 

00:05:53.860 --> 00:05:55.770
they're also visible in the list view
after animation so all I need to do is

00:05:55.770 --> 00:05:55.780
after animation so all I need to do is
 

00:05:55.780 --> 00:05:57.360
after animation so all I need to do is
create an object animator that

00:05:57.360 --> 00:05:57.370
create an object animator that
 

00:05:57.370 --> 00:05:59.879
create an object animator that
translates it from its old position to

00:05:59.879 --> 00:05:59.889
translates it from its old position to
 

00:05:59.889 --> 00:06:02.820
translates it from its old position to
its new position if I don't have that

00:06:02.820 --> 00:06:02.830
its new position if I don't have that
 

00:06:02.830 --> 00:06:04.230
its new position if I don't have that
start balance that what that means is

00:06:04.230 --> 00:06:04.240
start balance that what that means is
 

00:06:04.240 --> 00:06:06.749
start balance that what that means is
that this is in the context of this of

00:06:06.749 --> 00:06:06.759
that this is in the context of this of
 

00:06:06.759 --> 00:06:08.580
that this is in the context of this of
this demo that there's only one cell

00:06:08.580 --> 00:06:08.590
this demo that there's only one cell
 

00:06:08.590 --> 00:06:10.800
this demo that there's only one cell
that can have this configuration it

00:06:10.800 --> 00:06:10.810
that can have this configuration it
 

00:06:10.810 --> 00:06:12.240
that can have this configuration it
means that it wasn't in the listing

00:06:12.240 --> 00:06:12.250
means that it wasn't in the listing
 

00:06:12.250 --> 00:06:14.040
means that it wasn't in the listing
before but it is in the ListView after

00:06:14.040 --> 00:06:14.050
before but it is in the ListView after
 

00:06:14.050 --> 00:06:15.930
before but it is in the ListView after
and since we're only inserting one new

00:06:15.930 --> 00:06:15.940
and since we're only inserting one new
 

00:06:15.940 --> 00:06:18.029
and since we're only inserting one new
item into the ListView this has to be

00:06:18.029 --> 00:06:18.039
item into the ListView this has to be
 

00:06:18.039 --> 00:06:20.159
item into the ListView this has to be
the one in the zero index and since I

00:06:20.159 --> 00:06:20.169
the one in the zero index and since I
 

00:06:20.169 --> 00:06:23.460
the one in the zero index and since I
also want to animate this I I do a a

00:06:23.460 --> 00:06:23.470
also want to animate this I I do a a
 

00:06:23.470 --> 00:06:24.960
also want to animate this I I do a a
little bit of math and determining what

00:06:24.960 --> 00:06:24.970
little bit of math and determining what
 

00:06:24.970 --> 00:06:26.610
little bit of math and determining what
the height is with the divider Highwood

00:06:26.610 --> 00:06:26.620
the height is with the divider Highwood
 

00:06:26.620 --> 00:06:29.490
the height is with the divider Highwood
divider height is and then I do the same

00:06:29.490 --> 00:06:29.500
divider height is and then I do the same
 

00:06:29.500 --> 00:06:31.140
divider height is and then I do the same
thing and animate it's why it's

00:06:31.140 --> 00:06:31.150
thing and animate it's why it's
 

00:06:31.150 --> 00:06:33.180
thing and animate it's why it's
translation why property to get it from

00:06:33.180 --> 00:06:33.190
translation why property to get it from
 

00:06:33.190 --> 00:06:35.550
translation why property to get it from
where I want where it originally would

00:06:35.550 --> 00:06:35.560
where I want where it originally would
 

00:06:35.560 --> 00:06:37.790
where I want where it originally would
have been to where I wanted to be after

00:06:37.790 --> 00:06:37.800
have been to where I wanted to be after
 

00:06:37.800 --> 00:06:40.649
have been to where I wanted to be after
after the layout then of course since I

00:06:40.649 --> 00:06:40.659
after the layout then of course since I
 

00:06:40.659 --> 00:06:41.980
after the layout then of course since I
don't need these anymore

00:06:41.980 --> 00:06:41.990
don't need these anymore
 

00:06:41.990 --> 00:06:44.230
don't need these anymore
for my hashmap and then scrolling down

00:06:44.230 --> 00:06:44.240
for my hashmap and then scrolling down
 

00:06:44.240 --> 00:06:46.930
for my hashmap and then scrolling down
here if I loop through a key set of all

00:06:46.930 --> 00:06:46.940
here if I loop through a key set of all
 

00:06:46.940 --> 00:06:48.610
here if I loop through a key set of all
the items that are left in my hash map

00:06:48.610 --> 00:06:48.620
the items that are left in my hash map
 

00:06:48.620 --> 00:06:50.920
the items that are left in my hash map
what this means is that these are items

00:06:50.920 --> 00:06:50.930
what this means is that these are items
 

00:06:50.930 --> 00:06:53.379
what this means is that these are items
that are wore in the ListView prior to

00:06:53.379 --> 00:06:53.389
that are wore in the ListView prior to
 

00:06:53.389 --> 00:06:55.629
that are wore in the ListView prior to
the data set change but are no longer

00:06:55.629 --> 00:06:55.639
the data set change but are no longer
 

00:06:55.639 --> 00:06:57.640
the data set change but are no longer
visible in the ListView after a data set

00:06:57.640 --> 00:06:57.650
visible in the ListView after a data set
 

00:06:57.650 --> 00:07:00.580
visible in the ListView after a data set
change so these involve items that have

00:07:00.580 --> 00:07:00.590
change so these involve items that have
 

00:07:00.590 --> 00:07:02.740
change so these involve items that have
been moved outside the bounds of the

00:07:02.740 --> 00:07:02.750
been moved outside the bounds of the
 

00:07:02.750 --> 00:07:05.200
been moved outside the bounds of the
ListView due to the due to the insertion

00:07:05.200 --> 00:07:05.210
ListView due to the due to the insertion
 

00:07:05.210 --> 00:07:07.779
ListView due to the due to the insertion
of the new item and since these items

00:07:07.779 --> 00:07:07.789
of the new item and since these items
 

00:07:07.789 --> 00:07:09.879
of the new item and since these items
are no longer contained within the list

00:07:09.879 --> 00:07:09.889
are no longer contained within the list
 

00:07:09.889 --> 00:07:12.790
are no longer contained within the list
container what I need to do is use the

00:07:12.790 --> 00:07:12.800
container what I need to do is use the
 

00:07:12.800 --> 00:07:14.050
container what I need to do is use the
bitmap drawables which I've captured

00:07:14.050 --> 00:07:14.060
bitmap drawables which I've captured
 

00:07:14.060 --> 00:07:16.689
bitmap drawables which I've captured
from before overlaid them on top of my

00:07:16.689 --> 00:07:16.699
from before overlaid them on top of my
 

00:07:16.699 --> 00:07:18.400
from before overlaid them on top of my
list view and then animate that our

00:07:18.400 --> 00:07:18.410
list view and then animate that our
 

00:07:18.410 --> 00:07:21.010
list view and then animate that our
bounds as if they were still on there

00:07:21.010 --> 00:07:21.020
bounds as if they were still on there
 

00:07:21.020 --> 00:07:22.839
bounds as if they were still on there
were still in the ListView

00:07:22.839 --> 00:07:22.849
were still in the ListView
 

00:07:22.849 --> 00:07:26.290
were still in the ListView
there's since I'm animating the bounds

00:07:26.290 --> 00:07:26.300
there's since I'm animating the bounds
 

00:07:26.300 --> 00:07:28.180
there's since I'm animating the bounds
it's important to know that every single

00:07:28.180 --> 00:07:28.190
it's important to know that every single
 

00:07:28.190 --> 00:07:29.740
it's important to know that every single
time the bounds were changed I need to

00:07:29.740 --> 00:07:29.750
time the bounds were changed I need to
 

00:07:29.750 --> 00:07:32.050
time the bounds were changed I need to
invalidate my view in order for that

00:07:32.050 --> 00:07:32.060
invalidate my view in order for that
 

00:07:32.060 --> 00:07:33.520
invalidate my view in order for that
portion I'll dalish you to get updated

00:07:33.520 --> 00:07:33.530
portion I'll dalish you to get updated
 

00:07:33.530 --> 00:07:35.499
portion I'll dalish you to get updated
and in order to make that a little more

00:07:35.499 --> 00:07:35.509
and in order to make that a little more
 

00:07:35.509 --> 00:07:40.450
and in order to make that a little more
efficient i-i-i call invalidate with a

00:07:40.450 --> 00:07:40.460
efficient i-i-i call invalidate with a
 

00:07:40.460 --> 00:07:42.939
efficient i-i-i call invalidate with a
rect inside of it such that I don't

00:07:42.939 --> 00:07:42.949
rect inside of it such that I don't
 

00:07:42.949 --> 00:07:43.510
rect inside of it such that I don't
validate

00:07:43.510 --> 00:07:43.520
validate
 

00:07:43.520 --> 00:07:45.279
validate
Riaan validate the whole ListView and

00:07:45.279 --> 00:07:45.289
Riaan validate the whole ListView and
 

00:07:45.289 --> 00:07:47.290
Riaan validate the whole ListView and
redraw the whole thing every single time

00:07:47.290 --> 00:07:47.300
redraw the whole thing every single time
 

00:07:47.300 --> 00:07:49.029
redraw the whole thing every single time
only one of the bitmap drawables has

00:07:49.029 --> 00:07:49.039
only one of the bitmap drawables has
 

00:07:49.039 --> 00:07:52.270
only one of the bitmap drawables has
animated so I set up those animations

00:07:52.270 --> 00:07:52.280
animated so I set up those animations
 

00:07:52.280 --> 00:07:54.939
animated so I set up those animations
for every bit of drawable and I also

00:07:54.939 --> 00:07:54.949
for every bit of drawable and I also
 

00:07:54.949 --> 00:07:57.219
for every bit of drawable and I also
added to this array that I have emcell

00:07:57.219 --> 00:07:57.229
added to this array that I have emcell
 

00:07:57.229 --> 00:07:59.770
added to this array that I have emcell
bitmap drawables which I will make note

00:07:59.770 --> 00:07:59.780
bitmap drawables which I will make note
 

00:07:59.780 --> 00:08:01.959
bitmap drawables which I will make note
of in a second and I add the animation

00:08:01.959 --> 00:08:01.969
of in a second and I add the animation
 

00:08:01.969 --> 00:08:05.860
of in a second and I add the animation
to my animator set III animated all this

00:08:05.860 --> 00:08:05.870
to my animator set III animated all this
 

00:08:05.870 --> 00:08:08.920
to my animator set III animated all this
together and then at the end I do all

00:08:08.920 --> 00:08:08.930
together and then at the end I do all
 

00:08:08.930 --> 00:08:11.020
together and then at the end I do all
the default things like make my list you

00:08:11.020 --> 00:08:11.030
the default things like make my list you
 

00:08:11.030 --> 00:08:14.529
the default things like make my list you
enable again get rid of make the make

00:08:14.529 --> 00:08:14.539
enable again get rid of make the make
 

00:08:14.539 --> 00:08:16.420
enable again get rid of make the make
the image view in the actual self

00:08:16.420 --> 00:08:16.430
the image view in the actual self
 

00:08:16.430 --> 00:08:18.310
the image view in the actual self
visible again made a copy image you

00:08:18.310 --> 00:08:18.320
visible again made a copy image you
 

00:08:18.320 --> 00:08:21.399
visible again made a copy image you
invisible and things like that so now

00:08:21.399 --> 00:08:21.409
invisible and things like that so now
 

00:08:21.409 --> 00:08:23.709
invisible and things like that so now
here in this patch draw this is where

00:08:23.709 --> 00:08:23.719
here in this patch draw this is where
 

00:08:23.719 --> 00:08:24.939
here in this patch draw this is where
I'm going to use that array of all the

00:08:24.939 --> 00:08:24.949
I'm going to use that array of all the
 

00:08:24.949 --> 00:08:27.129
I'm going to use that array of all the
bitmap drawables corresponding to the

00:08:27.129 --> 00:08:27.139
bitmap drawables corresponding to the
 

00:08:27.139 --> 00:08:29.409
bitmap drawables corresponding to the
items that disappeared I'm going to loop

00:08:29.409 --> 00:08:29.419
items that disappeared I'm going to loop
 

00:08:29.419 --> 00:08:30.969
items that disappeared I'm going to loop
through all of them and draw them onto

00:08:30.969 --> 00:08:30.979
through all of them and draw them onto
 

00:08:30.979 --> 00:08:32.949
through all of them and draw them onto
the canvas every single time dispatch

00:08:32.949 --> 00:08:32.959
the canvas every single time dispatch
 

00:08:32.959 --> 00:08:35.110
the canvas every single time dispatch
draw is called one of the important

00:08:35.110 --> 00:08:35.120
draw is called one of the important
 

00:08:35.120 --> 00:08:36.579
draw is called one of the important
things to note here is that I'm checking

00:08:36.579 --> 00:08:36.589
things to note here is that I'm checking
 

00:08:36.589 --> 00:08:38.769
things to note here is that I'm checking
if the size is zero just to make sure

00:08:38.769 --> 00:08:38.779
if the size is zero just to make sure
 

00:08:38.779 --> 00:08:42.850
if the size is zero just to make sure
that there are no extra allocations done

00:08:42.850 --> 00:08:42.860
that there are no extra allocations done
 

00:08:42.860 --> 00:08:47.019
that there are no extra allocations done
using this using the new Java for object

00:08:47.019 --> 00:08:47.029
using this using the new Java for object
 

00:08:47.029 --> 00:08:51.060
using this using the new Java for object
for loops and looping down farther more

00:08:51.060 --> 00:08:51.070
for loops and looping down farther more
 

00:08:51.070 --> 00:08:53.890
for loops and looping down farther more
scrolling down furthermore there's just

00:08:53.890 --> 00:08:53.900
scrolling down furthermore there's just
 

00:08:53.900 --> 00:08:55.240
scrolling down furthermore there's just
some checks I'm checking whether in

00:08:55.240 --> 00:08:55.250
some checks I'm checking whether in
 

00:08:55.250 --> 00:08:57.460
some checks I'm checking whether in
want to animate in the new image or not

00:08:57.460 --> 00:08:57.470
want to animate in the new image or not
 

00:08:57.470 --> 00:08:59.380
want to animate in the new image or not
so for example if I were to scroll down

00:08:59.380 --> 00:08:59.390
so for example if I were to scroll down
 

00:08:59.390 --> 00:09:01.660
so for example if I were to scroll down
here and then at a row I'm not at the

00:09:01.660 --> 00:09:01.670
here and then at a row I'm not at the
 

00:09:01.670 --> 00:09:02.980
here and then at a row I'm not at the
top so I'm not going to be adding

00:09:02.980 --> 00:09:02.990
top so I'm not going to be adding
 

00:09:02.990 --> 00:09:05.530
top so I'm not going to be adding
animating in that image or if I'm up

00:09:05.530 --> 00:09:05.540
animating in that image or if I'm up
 

00:09:05.540 --> 00:09:07.600
animating in that image or if I'm up
here that new image you will be

00:09:07.600 --> 00:09:07.610
here that new image you will be
 

00:09:07.610 --> 00:09:11.890
here that new image you will be
animating down down here there's just

00:09:11.890 --> 00:09:11.900
animating down down here there's just
 

00:09:11.900 --> 00:09:13.420
animating down down here there's just
some more code of how I'm taking

00:09:13.420 --> 00:09:13.430
some more code of how I'm taking
 

00:09:13.430 --> 00:09:15.190
some more code of how I'm taking
snapshots of the list of the ListView

00:09:15.190 --> 00:09:15.200
snapshots of the list of the ListView
 

00:09:15.200 --> 00:09:17.110
snapshots of the list of the ListView
cells and how animate them into place as

00:09:17.110 --> 00:09:17.120
cells and how animate them into place as
 

00:09:17.120 --> 00:09:19.570
cells and how animate them into place as
well as how I'm doing how I'm getting

00:09:19.570 --> 00:09:19.580
well as how I'm doing how I'm getting
 

00:09:19.580 --> 00:09:21.430
well as how I'm doing how I'm getting
absolute locations on the screen what I

00:09:21.430 --> 00:09:21.440
absolute locations on the screen what I
 

00:09:21.440 --> 00:09:23.770
absolute locations on the screen what I
want to know where that extra image view

00:09:23.770 --> 00:09:23.780
want to know where that extra image view
 

00:09:23.780 --> 00:09:26.170
want to know where that extra image view
needs to be when I decide where to

00:09:26.170 --> 00:09:26.180
needs to be when I decide where to
 

00:09:26.180 --> 00:09:29.440
needs to be when I decide where to
animate it to so that's pretty much it -

00:09:29.440 --> 00:09:29.450
animate it to so that's pretty much it -
 

00:09:29.450 --> 00:09:31.240
animate it to so that's pretty much it -
how you can insert new cells and animate

00:09:31.240 --> 00:09:31.250
how you can insert new cells and animate
 

00:09:31.250 --> 00:09:34.180
how you can insert new cells and animate
their animator addition to your listing

00:09:34.180 --> 00:09:34.190
their animator addition to your listing
 

00:09:34.190 --> 00:09:36.850
their animator addition to your listing
thanks

