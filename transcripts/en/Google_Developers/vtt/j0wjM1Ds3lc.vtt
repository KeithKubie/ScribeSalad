WEBVTT
Kind: captions
Language: en

00:00:08.740 --> 00:00:09.710
ERIC KOLEDA: Hello
and welcome.

00:00:09.710 --> 00:00:10.980
My name is Eric Koleda.

00:00:10.980 --> 00:00:12.270
ARUN NAGARAJAN: Arun
Nagarajan here.

00:00:12.270 --> 00:00:13.500
ERIC KOLEDA: And this
is Connecting

00:00:13.500 --> 00:00:14.740
Apps Script and Twilio.

00:00:14.740 --> 00:00:17.860
And today is a very exciting
special Google Developer Live

00:00:17.860 --> 00:00:20.760
episode, where we're going to be
breaking the boundaries of

00:00:20.760 --> 00:00:23.860
Google Apps Script, getting
beyond the web page and into

00:00:23.860 --> 00:00:25.130
the world of the phone.

00:00:25.130 --> 00:00:25.430
ARUN NAGARAJAN: Sure.

00:00:25.430 --> 00:00:25.950
Yeah.

00:00:25.950 --> 00:00:26.390
Absolutely.

00:00:26.390 --> 00:00:28.690
Good morning to the folks that
are watching in from the West

00:00:28.690 --> 00:00:32.220
Coast, quite early there,
or the East Coast.

00:00:32.220 --> 00:00:34.790
And what we're going to do today
is talk about connecting

00:00:34.790 --> 00:00:38.820
Apps Script applications to
voice and SMS messaging.

00:00:38.820 --> 00:00:41.490
So Twilio is a cloud
communication platform that

00:00:41.490 --> 00:00:44.000
allows you to take your
applications and connect them

00:00:44.000 --> 00:00:46.800
to a phone call, send and
receive SMS messages.

00:00:46.800 --> 00:00:48.350
And we're going to show a
few examples of that.

00:00:48.350 --> 00:00:51.130
And hopefully everything we've
done is using the standard,

00:00:51.130 --> 00:00:52.090
documented API.

00:00:52.090 --> 00:00:54.360
And you'll be able to take a
lot of these away and build

00:00:54.360 --> 00:00:56.550
your own exciting voice
and SMS applications.

00:00:56.550 --> 00:00:58.360
ERIC KOLEDA: Just to clarify,
Twilio, that's not a Google

00:00:58.360 --> 00:00:58.670
product, is it?

00:00:58.670 --> 00:01:00.360
ARUN NAGARAJAN: No, it's
a third party product.

00:01:00.360 --> 00:01:03.600
And we're just demonstrating the
other applications that we

00:01:03.600 --> 00:01:06.540
can connect in using our
standard mechanisms, using

00:01:06.540 --> 00:01:09.380
documented APIs from other third
party companies as well.

00:01:09.380 --> 00:01:09.540
ERIC KOLEDA: Yeah.

00:01:09.540 --> 00:01:09.860
That's a good point.

00:01:09.860 --> 00:01:11.930
Apps Script, the name implies
that it's all

00:01:11.930 --> 00:01:12.780
about Google Apps.

00:01:12.780 --> 00:01:14.160
But really you can integrate
with a whole

00:01:14.160 --> 00:01:15.070
bunch of external systems.

00:01:15.070 --> 00:01:16.530
You did Salesforce just
the other week.

00:01:16.530 --> 00:01:17.430
ARUN NAGARAJAN: That's right.

00:01:17.430 --> 00:01:18.730
So here's yet another one.

00:01:18.730 --> 00:01:21.440
Hopefully it'll get you excited
and you can see some

00:01:21.440 --> 00:01:23.600
of the possibilities
that we offer.

00:01:23.600 --> 00:01:23.960
ERIC KOLEDA: Sounds great.

00:01:23.960 --> 00:01:24.670
Let's get rolling.

00:01:24.670 --> 00:01:25.110
ARUN NAGARAJAN: All right.

00:01:25.110 --> 00:01:28.620
So the first thing that I'll
start with is we'll talk

00:01:28.620 --> 00:01:33.100
about, how do we process
incoming SMS?

00:01:33.100 --> 00:01:34.890
One of the benefits of
SMS is that it's

00:01:34.890 --> 00:01:37.130
such a global mechanism.

00:01:37.130 --> 00:01:39.200
All you need is a
feature phone.

00:01:39.200 --> 00:01:40.640
It's dirt cheap.

00:01:40.640 --> 00:01:42.800
It's something that everybody
has access to.

00:01:42.800 --> 00:01:45.370
They don't have to have a
specific type of smartphone.

00:01:45.370 --> 00:01:46.980
They may not even need
to have a data plan.

00:01:46.980 --> 00:01:48.410
So that's one of the nice
things about SMS.

00:01:48.410 --> 00:01:51.162
And that's something that Twilio
has enabled worldwide.

00:01:51.162 --> 00:01:54.740
And what we're going to show
is a very simple example.

00:01:54.740 --> 00:01:56.380
The user sends an SMS.

00:01:56.380 --> 00:01:58.680
The server gets it and does
something interesting with it

00:01:58.680 --> 00:01:59.770
and responds back.

00:01:59.770 --> 00:02:02.830
And hopefully that will set the
stage for how do you go

00:02:02.830 --> 00:02:05.190
about building a simple
SMS application.

00:02:05.190 --> 00:02:05.415
ERIC KOLEDA: Yeah.

00:02:05.415 --> 00:02:07.080
That sounds like a
great base case.

00:02:07.080 --> 00:02:08.650
I actually just saw a
presentation recently about

00:02:08.650 --> 00:02:11.980
how in developing countries SMS
is the backbone of almost

00:02:11.980 --> 00:02:12.840
everything.

00:02:12.840 --> 00:02:13.290
ARUN NAGARAJAN: That's right.

00:02:13.290 --> 00:02:14.820
ERIC KOLEDA: So this is really
kind of an important thing.

00:02:14.820 --> 00:02:16.330
And even in the US, sometimes
it's just

00:02:16.330 --> 00:02:17.530
easier to send a text.

00:02:17.530 --> 00:02:17.660
ARUN NAGARAJAN: Cool.

00:02:17.660 --> 00:02:19.300
So what I'm going
to do is go to

00:02:19.300 --> 00:02:21.600
script.google.com to get started.

00:02:21.600 --> 00:02:24.190
And I'm going to write a very
simple application.

00:02:24.190 --> 00:02:25.440
I'm going to log in as myself.

00:02:29.270 --> 00:02:29.630
Good.

00:02:29.630 --> 00:02:32.140
So I'm going to start
a blank project.

00:02:32.140 --> 00:02:34.670
So before I do the project
here, what I should have

00:02:34.670 --> 00:02:37.540
pointed out is I've already
logged into my Twilio account.

00:02:37.540 --> 00:02:39.950
So I've already set up
a Twilio account.

00:02:39.950 --> 00:02:42.390
It's pretty easy
to get started.

00:02:42.390 --> 00:02:45.150
They have a trial period as
well, so if you want to

00:02:45.150 --> 00:02:49.280
experiment with the few basic
messages, you can do that

00:02:49.280 --> 00:02:51.000
very, very cheaply.

00:02:51.000 --> 00:02:54.330
So what they have is basically
the ability that you go into

00:02:54.330 --> 00:02:58.420
their dashboard and if you
go to their numbers--

00:02:58.420 --> 00:03:01.630
so essentially you purchase
numbers as part of the plan.

00:03:01.630 --> 00:03:05.070
And I have a very simple plan,
a number that I've purchased.

00:03:05.070 --> 00:03:07.190
It's a regular 10-digit
number.

00:03:07.190 --> 00:03:09.960
You can actually get short codes
for a little bit more

00:03:09.960 --> 00:03:10.970
money as well.

00:03:10.970 --> 00:03:15.760
And what you can do here is
essentially you can attach a

00:03:15.760 --> 00:03:18.530
call-back URL for each number.

00:03:18.530 --> 00:03:19.430
So I've already done this.

00:03:19.430 --> 00:03:20.460
And I'll come back.

00:03:20.460 --> 00:03:22.000
And that's sort of the
background set-up

00:03:22.000 --> 00:03:23.370
that I had to do.

00:03:23.370 --> 00:03:26.730
And they have a couple of demo
URLs that they start you off

00:03:26.730 --> 00:03:28.510
with, and then you can
obviously swap that

00:03:28.510 --> 00:03:30.120
with your own URL.

00:03:30.120 --> 00:03:31.370
ERIC KOLEDA: Just to be clear,
I think you mentioned briefly

00:03:31.370 --> 00:03:33.340
that there is some basic
cost involved in

00:03:33.340 --> 00:03:33.780
getting this running.

00:03:33.780 --> 00:03:34.180
ARUN NAGARAJAN: That's right.

00:03:34.180 --> 00:03:34.430
Yeah.

00:03:34.430 --> 00:03:36.670
So I forget the exact
specifics.

00:03:36.670 --> 00:03:40.790
I think it's on the order of
a few cents a message.

00:03:40.790 --> 00:03:44.660
And maybe even one cent for an
SMS message, and maybe 10

00:03:44.660 --> 00:03:46.870
cents for a phone call,
something along those lines.

00:03:46.870 --> 00:03:49.480
And then for those premium
numbers, you end up paying I

00:03:49.480 --> 00:03:51.350
think a few bucks a month.

00:03:51.350 --> 00:03:51.670
ERIC KOLEDA: So you can

00:03:51.670 --> 00:03:52.970
definitely get started quickly--

00:03:52.970 --> 00:03:53.225
ARUN NAGARAJAN: Absolutely.

00:03:53.225 --> 00:03:54.460
ERIC KOLEDA: --without a lot
of money being spent.

00:03:54.460 --> 00:03:55.220
ARUN NAGARAJAN: Absolutely.

00:03:55.220 --> 00:03:57.930
And then they have really good
documentation as well.

00:03:57.930 --> 00:04:01.330
So I'll show you that here's
sort of their documentation

00:04:01.330 --> 00:04:03.650
for what happens for
an incoming SMS.

00:04:03.650 --> 00:04:07.030
So an incoming SMS, you can
do a get or a post.

00:04:07.030 --> 00:04:11.800
And here are the parameters that
come in, from, to, body.

00:04:11.800 --> 00:04:13.150
And they do what you'd expect.

00:04:13.150 --> 00:04:17.000
And then if available, it'll
actually do a whole bunch of

00:04:17.000 --> 00:04:19.130
other geocoding as well, and
take the phone number and

00:04:19.130 --> 00:04:23.270
convert it to city, state, and
country in some cases.

00:04:23.270 --> 00:04:23.510
OK.

00:04:23.510 --> 00:04:24.170
Let's go back.

00:04:24.170 --> 00:04:27.580
And what I'll do is I'll use
our Language app to very

00:04:27.580 --> 00:04:29.380
quickly translate an example.

00:04:29.380 --> 00:04:32.150
So I'll say var incoming equal
to e.parameter.body.

00:04:36.410 --> 00:04:39.422
I think it's lowercase B,
if I remember right.

00:04:39.422 --> 00:04:39.820
All right.

00:04:39.820 --> 00:04:40.350
Cool.

00:04:40.350 --> 00:04:41.270
So I have that.

00:04:41.270 --> 00:04:44.520
So that just is the
incoming SMS body.

00:04:44.520 --> 00:04:47.240
I'm going to ignore the phone
number and other details about

00:04:47.240 --> 00:04:48.020
the person.

00:04:48.020 --> 00:04:50.440
I'll zoom in a little bit
so you can see this.

00:04:50.440 --> 00:04:55.460
And what I'll do is I'll say
var translated equal to

00:04:55.460 --> 00:05:01.390
LanguageApp.translate, and
translate incoming, which is

00:05:01.390 --> 00:05:04.920
in English to Spanish.

00:05:04.920 --> 00:05:07.250
And then I'm going
to respond back.

00:05:07.250 --> 00:05:10.540
And one of the things I'm sure
you've seen in other examples,

00:05:10.540 --> 00:05:12.250
and our documentation talks
about this quite a bit as

00:05:12.250 --> 00:05:13.880
well, is content service.

00:05:13.880 --> 00:05:17.610
So in the doGet method, you can
return a UI app instance,

00:05:17.610 --> 00:05:20.440
HTML service, and the third
option, which we're going to

00:05:20.440 --> 00:05:22.830
be using quite a bit
is content service.

00:05:22.830 --> 00:05:26.120
Content service is what you can
do to return JSON, XML,

00:05:26.120 --> 00:05:31.030
RSS, any sort of text-based
format that another computer

00:05:31.030 --> 00:05:34.140
or another system needs
to interact with.

00:05:34.140 --> 00:05:36.220
So in this case, we'll just
return simple text.

00:05:36.220 --> 00:05:39.347
And we'll say return
ContentService.c

00:05:39.347 --> 00:05:40.597
reateTextOutput.

00:05:42.630 --> 00:05:44.830
And I'll return translated.

00:05:44.830 --> 00:05:49.590
And then I'll just set the
MIME type manually,

00:05:49.590 --> 00:05:50.840
ContentService.MimeType.text.

00:05:53.130 --> 00:05:56.470
So you can see those are the
MIME types that we support.

00:05:56.470 --> 00:05:56.930
All right.

00:05:56.930 --> 00:05:57.640
And that's it.

00:05:57.640 --> 00:06:02.500
So I'll save this as "translate
text," give it a

00:06:02.500 --> 00:06:04.270
simple name.

00:06:04.270 --> 00:06:05.550
We've got to have
a version saved.

00:06:08.120 --> 00:06:10.620
And then I'm going to publish
this as a web app.

00:06:10.620 --> 00:06:11.730
ERIC KOLEDA: So he was kind of
going through this fast.

00:06:11.730 --> 00:06:13.420
But if you go to our
documentation, it'll show you

00:06:13.420 --> 00:06:15.690
step by step how you can
do this end project.

00:06:15.690 --> 00:06:16.170
ARUN NAGARAJAN: Yes.

00:06:16.170 --> 00:06:16.975
Absolutely.

00:06:16.975 --> 00:06:19.430
I apologize if I'm skipping
through it quite quickly.

00:06:19.430 --> 00:06:22.480
But what I've basically done is
saved a version, which then

00:06:22.480 --> 00:06:24.110
allows me to deploy
it as a web app.

00:06:24.110 --> 00:06:26.360
So one thing that you have
to make sure that you're

00:06:26.360 --> 00:06:28.940
deploying it so that
anyone has access.

00:06:28.940 --> 00:06:31.030
You don't have to publicize the
URL, but this is something

00:06:31.030 --> 00:06:32.280
that you have to do
so that this other

00:06:32.280 --> 00:06:33.590
service can call it.

00:06:33.590 --> 00:06:34.910
I'm going to deploy it.

00:06:34.910 --> 00:06:35.540
And that's it.

00:06:35.540 --> 00:06:38.395
So that's a live Apps Script
content service app that's out

00:06:38.395 --> 00:06:39.470
on the internet now.

00:06:39.470 --> 00:06:44.200
I'm going to copy this URL, go
back to my Twilio dashboard,

00:06:44.200 --> 00:06:45.490
and paste it in.

00:06:45.490 --> 00:06:49.530
So clear this and paste in my
new example and hit Save.

00:06:49.530 --> 00:06:50.200
And that's it.

00:06:50.200 --> 00:06:53.430
So now I have a live
SMS application.

00:06:53.430 --> 00:06:55.760
And hopefully we'll
get to testing.

00:06:55.760 --> 00:06:57.260
So here's the code.

00:06:57.260 --> 00:06:58.040
I'm going to go to my phone.

00:06:58.040 --> 00:06:59.130
So this is quite exciting.

00:06:59.130 --> 00:07:02.140
We have a live phone
hooked up.

00:07:02.140 --> 00:07:04.160
Hopefully this will all work.

00:07:04.160 --> 00:07:07.110
I'm going to go in, and the
number, I have it written out

00:07:07.110 --> 00:07:11.030
here, so I'll just
type in 224--

00:07:11.030 --> 00:07:14.160
that's the text message number
that I've purchased--

00:07:14.160 --> 00:07:15.930
3902.

00:07:15.930 --> 00:07:24.580
And we'll say "hello in
English." And this should--

00:07:24.580 --> 00:07:26.530
you can see that it's
going through.

00:07:26.530 --> 00:07:29.850
That should now call into
our Apps Script server.

00:07:29.850 --> 00:07:32.220
And if the demo gods are with
us, we should get a text

00:07:32.220 --> 00:07:33.470
message back.

00:07:36.020 --> 00:07:38.310
Drum roll, please.

00:07:38.310 --> 00:07:39.350
Maybe not so lucky.

00:07:39.350 --> 00:07:39.520
Let's see.

00:07:39.520 --> 00:07:41.390
What's going on here?

00:07:41.390 --> 00:07:44.690
I'll go to the logs.

00:07:44.690 --> 00:07:47.280
Did I mess something up?

00:07:47.280 --> 00:07:49.420
You can see all the different
text messages

00:07:49.420 --> 00:07:51.450
that are coming in.

00:07:51.450 --> 00:07:54.145
So from, to, the messages.

00:07:57.214 --> 00:07:57.660
Hmm.

00:07:57.660 --> 00:07:59.180
Did I mess up the number?

00:07:59.180 --> 00:07:59.540
Oh.

00:07:59.540 --> 00:08:01.570
I texted some wrong person.

00:08:01.570 --> 00:08:04.580
[LAUGHTER]

00:08:04.580 --> 00:08:06.280
ARUN NAGARAJAN: That's
exciting.

00:08:06.280 --> 00:08:08.840
ERIC KOLEDA: At least the
message content was nice.

00:08:08.840 --> 00:08:08.960
It was a greeting.

00:08:08.960 --> 00:08:09.250
ARUN NAGARAJAN: It
was appropriate.

00:08:09.250 --> 00:08:10.460
That's right.

00:08:10.460 --> 00:08:13.200
677-3902.

00:08:13.200 --> 00:08:16.090
I'll just say "hello," save
myself a little bit of typing.

00:08:16.090 --> 00:08:20.570
So that should now hopefully
show up in the logs here.

00:08:20.570 --> 00:08:23.010
So it received it.

00:08:23.010 --> 00:08:26.130
And it should have sent it.

00:08:26.130 --> 00:08:31.235
And incoming, received.

00:08:33.940 --> 00:08:35.760
And what's going on here?

00:08:35.760 --> 00:08:37.610
Let's see.

00:08:37.610 --> 00:08:41.500
390--

00:08:41.500 --> 00:08:42.720
Huh.

00:08:42.720 --> 00:08:43.780
Let's see here.

00:08:43.780 --> 00:08:49.770
Go back to my service, Publish,
Deploy as web app.

00:08:49.770 --> 00:08:52.130
Hopefully I copied
that correctly.

00:08:52.130 --> 00:08:53.456
Am I missing something here?

00:08:57.610 --> 00:08:59.400
ERIC KOLEDA: So what about
your publish settings?

00:08:59.400 --> 00:09:00.070
ARUN NAGARAJAN: Yes.

00:09:00.070 --> 00:09:01.270
Let's see.

00:09:01.270 --> 00:09:03.090
Deploy as web app, anyone.

00:09:03.090 --> 00:09:03.350
ERIC KOLEDA: Yes.

00:09:03.350 --> 00:09:05.080
So you need to do as you.

00:09:05.080 --> 00:09:05.940
Yeah.

00:09:05.940 --> 00:09:07.230
ARUN NAGARAJAN: All right.

00:09:07.230 --> 00:09:08.400
ERIC KOLEDA: So there are a
bunch of different ways that

00:09:08.400 --> 00:09:10.720
you can deploy a web app in
Apps Script, whether the

00:09:10.720 --> 00:09:13.730
script runs as the user account
that's actually

00:09:13.730 --> 00:09:15.690
accessing it, or whether
it runs as a developer.

00:09:15.690 --> 00:09:18.460
Now since Twilio doesn't have a
Google account, they're not

00:09:18.460 --> 00:09:21.360
actually a Gmail user, it
couldn't actually run as them.

00:09:21.360 --> 00:09:22.860
So it was asking them for
a login screen and

00:09:22.860 --> 00:09:23.460
we couldn't do it.

00:09:23.460 --> 00:09:23.810
[DING]

00:09:23.810 --> 00:09:27.350
So now that it runs as Arun, you
can hear that ding means--

00:09:27.350 --> 00:09:28.390
ARUN NAGARAJAN: All right.

00:09:28.390 --> 00:09:33.840
Let's say, "good morning." And
hopefully that'll work.

00:09:33.840 --> 00:09:36.410
And you saw the mistakes that
I was warning you about.

00:09:36.410 --> 00:09:38.500
So you have to just make sure
that the authorization

00:09:38.500 --> 00:09:39.740
settings are set up correctly.

00:09:39.740 --> 00:09:40.310
[DING]

00:09:40.310 --> 00:09:42.870
And I'm not a very good Spanish
speaker, but hopefully

00:09:42.870 --> 00:09:45.080
you can see that responding
in Spanish.

00:09:45.080 --> 00:09:46.960
ERIC KOLEDA: Buenos dias.

00:09:46.960 --> 00:09:49.020
ARUN NAGARAJAN: So what I had
done, Eric pointed out, was

00:09:49.020 --> 00:09:52.115
basically under the Deploy,
ensure that you're running it

00:09:52.115 --> 00:09:52.830
as yourself.

00:09:52.830 --> 00:09:55.700
And then anyone, even anonymous,
has access to this.

00:09:55.700 --> 00:09:58.950
So that will set up the very
basic flow of getting a

00:09:58.950 --> 00:10:00.750
message and then responding
back to it.

00:10:00.750 --> 00:10:00.861
ERIC KOLEDA: Yeah.

00:10:00.861 --> 00:10:03.010
It's incredible that in
basically three lines you've

00:10:03.010 --> 00:10:06.130
been able to turn your phone
into any sort of

00:10:06.130 --> 00:10:06.880
service that you want.

00:10:06.880 --> 00:10:07.350
ARUN NAGARAJAN: That's right.

00:10:07.350 --> 00:10:09.810
And you can wire up-- and
obviously you just saw a very

00:10:09.810 --> 00:10:11.990
simple Apps Script
service here, the

00:10:11.990 --> 00:10:13.250
Language app that we used.

00:10:13.250 --> 00:10:14.360
But then you have Finance.

00:10:14.360 --> 00:10:17.010
You have all the other ones that
you can authenticate as

00:10:17.010 --> 00:10:19.840
yourself and be able to access
your Documents, access your

00:10:19.840 --> 00:10:22.520
Spreadsheets, access email
and Calendar and so on.

00:10:22.520 --> 00:10:25.010
You have the whole suite of
tools available for you.

00:10:25.010 --> 00:10:28.070
So that's a very simple example
of how this all works.

00:10:28.070 --> 00:10:29.350
And hopefully that made sense.

00:10:29.350 --> 00:10:31.070
And hopefully you saw
the few ways you can

00:10:31.070 --> 00:10:33.360
screw that up as well.

00:10:33.360 --> 00:10:34.350
So I'll close this.

00:10:34.350 --> 00:10:37.720
And we'll actually go
to a fun example.

00:10:37.720 --> 00:10:39.710
So the second example that
we're going to do is talk

00:10:39.710 --> 00:10:45.640
about how we will take an SMS
feed from a user and convert

00:10:45.640 --> 00:10:47.490
that into sort of a
polling mechanism.

00:10:47.490 --> 00:10:49.630
So I'm sure you've seen this
on various shows like

00:10:49.630 --> 00:10:53.100
"American Idol." And you
just text in your vote.

00:10:53.100 --> 00:10:55.605
And they do that because they
want it to be very quick and

00:10:55.605 --> 00:10:58.690
not have people go search for
an app and install it, which

00:10:58.690 --> 00:11:02.310
for a simple one or two
character input, that's ideal.

00:11:02.310 --> 00:11:03.860
A text message is ideal.

00:11:03.860 --> 00:11:06.830
So what I have for this is I
kind of already started a very

00:11:06.830 --> 00:11:08.250
simple spreadsheet.

00:11:08.250 --> 00:11:10.310
Hopefully you can
see my screen.

00:11:10.310 --> 00:11:12.480
So here you can just see that
I've started a very simple

00:11:12.480 --> 00:11:15.520
spreadsheet where I just
have one row that

00:11:15.520 --> 00:11:18.090
just shows the header.

00:11:18.090 --> 00:11:22.070
And I've already written out
a very simple script.

00:11:22.070 --> 00:11:24.900
And in this case, it's a very
similar format as the other

00:11:24.900 --> 00:11:28.520
example you saw, except in this
case it takes the body

00:11:28.520 --> 00:11:31.170
and then does some basic
processing on it.

00:11:31.170 --> 00:11:35.950
And for lack of creativity, the
very simple poll here is

00:11:35.950 --> 00:11:38.050
who your favorite
superhero is.

00:11:38.050 --> 00:11:41.400
And who's your favorite super
hero, in my case, I have three

00:11:41.400 --> 00:11:43.280
options and an other option.

00:11:43.280 --> 00:11:45.530
And it's going to do a very
basic sanity checking.

00:11:45.530 --> 00:11:47.590
It's going to actually
lowercase it.

00:11:47.590 --> 00:11:49.520
And then if it doesn't match
any of these three options,

00:11:49.520 --> 00:11:51.240
it's going to assume
you want "other."

00:11:51.240 --> 00:11:53.380
And then it's going to take
that data and append it.

00:11:53.380 --> 00:11:56.040
And then I'm going to return
nothing, so that there's no

00:11:56.040 --> 00:11:59.120
cost associated with replying
back to this message.

00:11:59.120 --> 00:11:59.760
OK?

00:11:59.760 --> 00:12:02.880
And so what I'm going to do is
publish this as a web app.

00:12:05.420 --> 00:12:09.020
I have this version,
update it.

00:12:09.020 --> 00:12:10.380
Hopefully I'll do this right.

00:12:10.380 --> 00:12:12.460
Make sure that I have the
settings correct here.

00:12:12.460 --> 00:12:13.370
All right.

00:12:13.370 --> 00:12:13.780
Cool.

00:12:13.780 --> 00:12:14.560
Good.

00:12:14.560 --> 00:12:15.240
ERIC KOLEDA: So now you're
just going to

00:12:15.240 --> 00:12:16.330
reuse that same number?

00:12:16.330 --> 00:12:16.790
ARUN NAGARAJAN: Exactly.

00:12:16.790 --> 00:12:18.865
For this purpose I'm not going
to set up a new number.

00:12:18.865 --> 00:12:20.480
I'm not running a business.

00:12:20.480 --> 00:12:21.910
This is just a sample.

00:12:21.910 --> 00:12:24.190
So I'll just go back
to my account,

00:12:24.190 --> 00:12:26.160
go back to my numbers.

00:12:26.160 --> 00:12:27.360
ERIC KOLEDA: So I guess normally
if you wanted to have

00:12:27.360 --> 00:12:29.640
multiple scripts each having
their own number, you'd have

00:12:29.640 --> 00:12:30.090
to set it up.

00:12:30.090 --> 00:12:31.010
You couldn't overload
like this.

00:12:31.010 --> 00:12:31.500
ARUN NAGARAJAN: That's right.

00:12:31.500 --> 00:12:31.880
That's right.

00:12:31.880 --> 00:12:32.230
Yes.

00:12:32.230 --> 00:12:34.380
I'm going to save changes.

00:12:34.380 --> 00:12:34.900
All right.

00:12:34.900 --> 00:12:35.380
Cool.

00:12:35.380 --> 00:12:37.620
And then I'm going to
go back to my phone.

00:12:37.620 --> 00:12:38.840
And you can see that--

00:12:38.840 --> 00:12:40.730
and Eric, you can try
along as well.

00:12:40.730 --> 00:12:44.010
And the question was, who is
your favorite superhero?

00:12:44.010 --> 00:12:44.640
And you don't have to tell me.

00:12:44.640 --> 00:12:46.320
You can just vote in.

00:12:46.320 --> 00:12:46.440
ERIC KOLEDA: Yes.

00:12:46.440 --> 00:12:48.250
We could be starting a Marvel-DC
war right here.

00:12:48.250 --> 00:12:48.632
ARUN NAGARAJAN: All right.

00:12:48.632 --> 00:12:49.396
Cool.

00:12:49.396 --> 00:12:52.580
I know who mine is, so
I'll just vote in.

00:12:52.580 --> 00:12:56.550
And you can start seeing that
these things are getting

00:12:56.550 --> 00:12:59.910
recorded automatically into
this little spreadsheet.

00:12:59.910 --> 00:13:05.300
So this takes the user, their
input, and then starts

00:13:05.300 --> 00:13:06.280
recording it.

00:13:06.280 --> 00:13:09.040
And I don't have any sanity
checks today to prevent

00:13:09.040 --> 00:13:10.710
multiple inputs.

00:13:10.710 --> 00:13:12.010
So I'm just going
to start sending

00:13:12.010 --> 00:13:13.870
in a few text messages.

00:13:13.870 --> 00:13:19.100
And I'll vote for Superman
multiple times.

00:13:19.100 --> 00:13:20.610
ERIC KOLEDA: We know
who you picked now.

00:13:20.610 --> 00:13:21.040
ARUN NAGARAJAN: I said it.

00:13:21.040 --> 00:13:21.340
ERIC KOLEDA: The gig is up.

00:13:21.340 --> 00:13:23.320
ARUN NAGARAJAN: I said it.

00:13:23.320 --> 00:13:23.720
All right.

00:13:23.720 --> 00:13:24.020
Cool.

00:13:24.020 --> 00:13:25.600
Well, I've started to log it.

00:13:25.600 --> 00:13:27.540
But now let's do something
interesting with it.

00:13:27.540 --> 00:13:30.610
So let's take this column,
and let's say

00:13:30.610 --> 00:13:34.610
Insert, Data, Pivot Table.

00:13:34.610 --> 00:13:37.120
And I'll add parse vote.

00:13:37.120 --> 00:13:41.610
And I'll add just a count.

00:13:41.610 --> 00:13:45.990
And it looks like some people
on the listen in live are

00:13:45.990 --> 00:13:47.455
watching this as well.

00:13:47.455 --> 00:13:50.200
So I'll say Insert, Chart.

00:13:50.200 --> 00:13:52.480
And I'll just do this.

00:13:52.480 --> 00:13:56.125
And you can see that
there's a--

00:13:56.125 --> 00:13:57.680
oh, it's Superman.

00:13:57.680 --> 00:13:58.350
Superman's winning.

00:13:58.350 --> 00:13:59.800
I feel like I'm cheating.

00:13:59.800 --> 00:14:03.680
But you can see how quickly
you're able to turn a simple

00:14:03.680 --> 00:14:07.860
SMS sort of message application
into a live sort

00:14:07.860 --> 00:14:08.860
of dashboard.

00:14:08.860 --> 00:14:11.550
So you can have this up
and displaying in

00:14:11.550 --> 00:14:12.510
front of a live audience.

00:14:12.510 --> 00:14:15.290
And this will update
as inputs come in.

00:14:15.290 --> 00:14:17.460
So you can start seeing that
this is fluctuating.

00:14:17.460 --> 00:14:21.090
And so this was a very simple
poll that we built in a matter

00:14:21.090 --> 00:14:21.640
of seconds.

00:14:21.640 --> 00:14:22.140
ERIC KOLEDA: That's amazing.

00:14:22.140 --> 00:14:24.660
I mean, to get all the way from
people sitting in their

00:14:24.660 --> 00:14:28.020
chairs to a live dashboard
with the results.

00:14:28.020 --> 00:14:29.500
I mean, that was like only
a couple of minutes.

00:14:29.500 --> 00:14:30.090
ARUN NAGARAJAN: That's right.

00:14:30.090 --> 00:14:32.660
So I think what I may have done
here is only to restrict

00:14:32.660 --> 00:14:34.450
it a few range.

00:14:34.450 --> 00:14:36.600
So let me just make sure
that I include--

00:14:36.600 --> 00:14:39.320
I don't know-- let's
go up to 99.

00:14:39.320 --> 00:14:39.780
ERIC KOLEDA: I see.

00:14:39.780 --> 00:14:40.440
So all the new results.

00:14:40.440 --> 00:14:43.700
ARUN NAGARAJAN: All the new
results weren't coming in.

00:14:43.700 --> 00:14:46.430
So yeah, you guys get the
idea of this as being--

00:14:46.430 --> 00:14:47.220
oh, there it is.

00:14:47.220 --> 00:14:49.740
And it's updating.

00:14:49.740 --> 00:14:53.150
So hopefully that gave you a
sense for how tapping in live

00:14:53.150 --> 00:14:54.020
data works.

00:14:54.020 --> 00:14:56.900
And let me actually go
ahead and delete

00:14:56.900 --> 00:14:59.190
this and start over.

00:14:59.190 --> 00:15:01.330
Insert, Chart.

00:15:01.330 --> 00:15:03.960
And that should be a better
sense for how things are.

00:15:03.960 --> 00:15:07.890
So it sounds like Superman's
winning.

00:15:07.890 --> 00:15:08.370
Excellent.

00:15:08.370 --> 00:15:09.690
ERIC KOLEDA: Max Steel
gets the nod today.

00:15:09.690 --> 00:15:12.010
ARUN NAGARAJAN: And again, all
this code, just like the other

00:15:12.010 --> 00:15:14.990
session, I've put it on
the GitHub page on

00:15:14.990 --> 00:15:17.530
github.com/entaq.

00:15:17.530 --> 00:15:19.250
And you can find all
the samples here.

00:15:19.250 --> 00:15:20.525
You can follow along.

00:15:20.525 --> 00:15:22.060
I commented as best I can.

00:15:22.060 --> 00:15:25.370
It's more of a recipe than a
production-ready sample.

00:15:25.370 --> 00:15:27.500
But yes, feel free to take
a look at it and

00:15:27.500 --> 00:15:28.950
then go about it.

00:15:28.950 --> 00:15:30.720
So we have shown two examples.

00:15:30.720 --> 00:15:34.270
In one case the incoming
SMS is intercepted

00:15:34.270 --> 00:15:35.410
and responded back.

00:15:35.410 --> 00:15:38.330
In another case, an incoming
SMS, we took the content and

00:15:38.330 --> 00:15:39.700
add it to a spreadsheet.

00:15:39.700 --> 00:15:40.800
And once it's in a
spreadsheet, it's

00:15:40.800 --> 00:15:44.340
automatically available for
charting, for pivoting and

00:15:44.340 --> 00:15:46.150
publishing and all
that good stuff.

00:15:46.150 --> 00:15:46.420
ERIC KOLEDA: Yeah.

00:15:46.420 --> 00:15:48.240
And everybody knows how to work
with spreadsheets, right?

00:15:48.240 --> 00:15:49.110
They can pull the data out.

00:15:49.110 --> 00:15:50.150
They can send it around.

00:15:50.150 --> 00:15:50.580
ARUN NAGARAJAN: That's right.

00:15:50.580 --> 00:15:51.730
ERIC KOLEDA: They can tabulate
it manually if

00:15:51.730 --> 00:15:52.250
they felt like that.

00:15:52.250 --> 00:15:52.720
ARUN NAGARAJAN: That's right.

00:15:52.720 --> 00:15:53.000
Yeah.

00:15:53.000 --> 00:15:54.820
So that's the nice little
beauty of spreadsheets.

00:15:54.820 --> 00:15:56.970
And actually, we're going to
show one other example.

00:15:56.970 --> 00:15:59.245
In this case, we're actually
going to make-- actually, you

00:15:59.245 --> 00:15:59.930
know what I'll do?

00:15:59.930 --> 00:16:03.300
I'll actually show a diagram
that I pulled together.

00:16:03.300 --> 00:16:05.620
Let me load this guy.

00:16:05.620 --> 00:16:07.006
Hopefully it'll make sense.

00:16:10.050 --> 00:16:10.250
OK.

00:16:10.250 --> 00:16:12.900
So here's kind of the flow
of what we built.

00:16:12.900 --> 00:16:16.640
So in my screen hopefully
you guys can see this.

00:16:16.640 --> 00:16:18.750
The user is out there.

00:16:18.750 --> 00:16:20.290
They send an SMS.

00:16:20.290 --> 00:16:23.500
It goes to the Twilio service,
which knows to wake up and

00:16:23.500 --> 00:16:26.330
then call our Apps Script
service, which knows to write

00:16:26.330 --> 00:16:27.720
data to a spreadsheet.

00:16:27.720 --> 00:16:28.470
That's really it.

00:16:28.470 --> 00:16:31.150
So this sort of manual--

00:16:31.150 --> 00:16:31.410
sorry.

00:16:31.410 --> 00:16:34.740
This sort of automatic flow,
then combined with the fact

00:16:34.740 --> 00:16:37.730
that you can build a very quick
chart or report in a

00:16:37.730 --> 00:16:39.900
spreadsheet, is really what
makes this valuable.

00:16:39.900 --> 00:16:41.590
And then the users are
watching that chart.

00:16:41.590 --> 00:16:44.650
And you can have that on a
big monitor and lots of

00:16:44.650 --> 00:16:45.390
fun things like that.

00:16:45.390 --> 00:16:48.480
So the moment it ends up in a
spreadsheet you can start

00:16:48.480 --> 00:16:49.660
doing some pretty interesting
things.

00:16:49.660 --> 00:16:50.962
But then it doesn't
have to be.

00:16:50.962 --> 00:16:54.650
It could have been a text
archiving service or something

00:16:54.650 --> 00:16:57.260
along those lines, where you can
just have that end up in a

00:16:57.260 --> 00:17:00.246
document or a spreadsheet
or a site, and so on.

00:17:00.246 --> 00:17:00.960
ERIC KOLEDA: That's great.

00:17:00.960 --> 00:17:02.525
So this was all SMS so far.

00:17:02.525 --> 00:17:03.010
ARUN NAGARAJAN: Yes.

00:17:03.010 --> 00:17:04.230
Two examples of SMS.

00:17:04.230 --> 00:17:05.550
And hopefully that
all made sense.

00:17:05.550 --> 00:17:08.540
And we'll actually step into
an interesting example

00:17:08.540 --> 00:17:10.190
involving phone calls.

00:17:10.190 --> 00:17:13.630
So in this example what we're
going to do is I have a very

00:17:13.630 --> 00:17:16.420
simple scenario around
I'm a principal.

00:17:16.420 --> 00:17:19.599
And I have a bunch of students
that in some cases they're

00:17:19.599 --> 00:17:21.180
tardy or misbehaving.

00:17:21.180 --> 00:17:23.915
And on a weekly basis I want
to make sure that their

00:17:23.915 --> 00:17:25.920
parents are aware of this
behavior in class.

00:17:25.920 --> 00:17:29.350
And I wrote a little
verbal call helper.

00:17:29.350 --> 00:17:32.290
And this data could come in from
a teacher reporting in,

00:17:32.290 --> 00:17:33.570
using a Google form.

00:17:33.570 --> 00:17:36.410
It could be a roll-up based
on attendance records.

00:17:36.410 --> 00:17:37.910
You can do a lot of interesting
things.

00:17:37.910 --> 00:17:39.430
Have the data end up
in a spreadsheet.

00:17:39.430 --> 00:17:42.990
And from there, you can set up
a little script that can read

00:17:42.990 --> 00:17:44.730
data from there and make
the phone call to

00:17:44.730 --> 00:17:46.210
the appropriate parent.

00:17:46.210 --> 00:17:49.450
And as you can imagine, the
limits are quite high from

00:17:49.450 --> 00:17:50.700
what you can build from there.

00:17:50.700 --> 00:17:52.650
ERIC KOLEDA: So now this isn't
actually you picking up the

00:17:52.650 --> 00:17:54.520
phone and calling or somehow
scheduling that.

00:17:54.520 --> 00:17:55.450
This is all automatic?

00:17:55.450 --> 00:17:56.175
ARUN NAGARAJAN: This
is all automatic.

00:17:56.175 --> 00:17:58.010
So in this case, the only thing
I'm going to kind of

00:17:58.010 --> 00:18:00.320
manually trigger is
the script itself.

00:18:00.320 --> 00:18:03.910
But as you can imagine, that
could be on an event-based--

00:18:03.910 --> 00:18:06.790
you kind of talked about a very
sort of useful example

00:18:06.790 --> 00:18:09.810
around triggering something
every hour, every week.

00:18:09.810 --> 00:18:11.820
And you can start doing some
pretty interesting things.

00:18:11.820 --> 00:18:14.890
And for this example, what I've
done is actually I've

00:18:14.890 --> 00:18:16.840
assigned a little drawing.

00:18:16.840 --> 00:18:18.740
And you can assign
a script like so.

00:18:18.740 --> 00:18:22.360
So you just have a little
example where you can drop in

00:18:22.360 --> 00:18:25.510
a little drawing that can look
like a button, build a little

00:18:25.510 --> 00:18:26.910
interface-like widget.

00:18:26.910 --> 00:18:30.160
And you press it and then
a script is called.

00:18:30.160 --> 00:18:34.190
And before we go into the code
itself, I'll show you a very

00:18:34.190 --> 00:18:35.860
quick example of
how this works.

00:18:35.860 --> 00:18:36.940
So I'm going to click this.

00:18:36.940 --> 00:18:38.600
Go back to my phone,
make sure--

00:18:38.600 --> 00:18:39.850
I'm going to click this.

00:18:44.970 --> 00:18:47.436
It doesn't want to run.

00:18:47.436 --> 00:18:49.390
Maybe it doesn't like
the zoom level.

00:18:49.390 --> 00:18:52.200
Let's see.

00:18:52.200 --> 00:18:55.010
Did I remove the script?

00:18:55.010 --> 00:18:57.000
Ah.

00:18:57.000 --> 00:19:00.020
In showing you that, let me make
sure that is the right

00:19:00.020 --> 00:19:01.410
script function.

00:19:01.410 --> 00:19:02.660
OK, cool.

00:19:02.660 --> 00:19:04.312
So I'm going to click this.

00:19:04.312 --> 00:19:06.270
So the script runs.

00:19:06.270 --> 00:19:08.200
And going back to
my phone here.

00:19:11.128 --> 00:19:12.110
[PHONE RINGING]

00:19:12.110 --> 00:19:14.390
Phone's ringing.

00:19:14.390 --> 00:19:17.018
I'm going to pick this up,
pretend to be this parent.

00:19:19.710 --> 00:19:20.300
COMPUTER - MALE VOICE:
Your daughter was

00:19:20.300 --> 00:19:22.104
tardy to class again.

00:19:22.104 --> 00:19:23.080
[COWBELL]

00:19:23.080 --> 00:19:23.700
ARUN NAGARAJAN: So you
can see that--

00:19:23.700 --> 00:19:24.500
[LAUGHTER]

00:19:24.500 --> 00:19:25.830
ARUN NAGARAJAN: That's
a little bit of fun.

00:19:25.830 --> 00:19:27.490
I can show you what
happened there.

00:19:27.490 --> 00:19:29.750
So you can see that this message
was read, first of

00:19:29.750 --> 00:19:33.420
all. "Your daughter was tardy
to class again." And I also

00:19:33.420 --> 00:19:36.920
played a little cowbell music.

00:19:36.920 --> 00:19:37.820
ERIC KOLEDA: Need
more cowbell.

00:19:37.820 --> 00:19:38.220
ARUN NAGARAJAN: That's right.

00:19:38.220 --> 00:19:39.660
Absolutely.

00:19:39.660 --> 00:19:41.670
That's actually a good segue
to show you the code.

00:19:41.670 --> 00:19:46.190
So the way this works is Twilio
has a markup language

00:19:46.190 --> 00:19:51.150
where you can have it read an
XML file which describes what

00:19:51.150 --> 00:19:55.315
message to play, what sounds to
play it in, and then even

00:19:55.315 --> 00:19:57.220
an MP3 that you may
want to show.

00:19:57.220 --> 00:20:02.870
So you just saw that in a man's
voice, US accent, the

00:20:02.870 --> 00:20:04.580
message, which is parameterized
in this

00:20:04.580 --> 00:20:05.930
template, was said.

00:20:05.930 --> 00:20:07.600
And then it would be
followed by playing

00:20:07.600 --> 00:20:09.800
their cowbell.mp3 example.

00:20:09.800 --> 00:20:11.910
So let's actually tweak
this a little bit.

00:20:11.910 --> 00:20:14.480
And I'll have it say
it as a woman.

00:20:14.480 --> 00:20:18.650
And we'll actually loop
that three times

00:20:18.650 --> 00:20:20.720
for a simple example.

00:20:20.720 --> 00:20:22.440
And I'll come back to this.

00:20:22.440 --> 00:20:26.310
So this HTML is actually a
TwiML, I think is how they

00:20:26.310 --> 00:20:26.610
pronounce it.

00:20:26.610 --> 00:20:30.680
It's basically a simple XML file
and it's parameterized.

00:20:30.680 --> 00:20:31.840
ERIC KOLEDA: Twilio tells
you that format.

00:20:31.840 --> 00:20:32.510
There's documentation.

00:20:32.510 --> 00:20:32.860
ARUN NAGARAJAN: That's right.

00:20:32.860 --> 00:20:33.690
It's documented.

00:20:33.690 --> 00:20:35.190
And you can do lots
of useful things.

00:20:35.190 --> 00:20:37.640
And you can have different
accents and

00:20:37.640 --> 00:20:40.390
different MP3s and whatnot.

00:20:40.390 --> 00:20:42.740
And here you can see that
what happens is--

00:20:42.740 --> 00:20:43.680
two things happen.

00:20:43.680 --> 00:20:45.710
So in the very first function,
we're reading through the

00:20:45.710 --> 00:20:46.640
spreadsheet.

00:20:46.640 --> 00:20:48.840
For this example I'm just
picking the first row.

00:20:48.840 --> 00:20:51.000
And you can have it kind
of walk down the tree.

00:20:51.000 --> 00:20:54.920
And what we're doing here is
we're calling a service with

00:20:54.920 --> 00:20:58.040
the message to play as sort of
a cookie, which then it's

00:20:58.040 --> 00:20:59.330
going to call back.

00:20:59.330 --> 00:21:00.730
And we have to authorize this.

00:21:00.730 --> 00:21:03.150
So this is an authorized call.

00:21:03.150 --> 00:21:06.750
And then here's the URL
we're posting to.

00:21:06.750 --> 00:21:09.180
All this you can follow along
on GitHub as well.

00:21:09.180 --> 00:21:11.470
And then what happens
essentially is Twilio then

00:21:11.470 --> 00:21:15.080
wakes up and calls the service
back and says, OK, I got your

00:21:15.080 --> 00:21:16.270
request for a phone call.

00:21:16.270 --> 00:21:18.240
What do you want me to say?

00:21:18.240 --> 00:21:20.680
At this point, we read
this template.

00:21:20.680 --> 00:21:23.540
We set the message property that
we sort of attached to

00:21:23.540 --> 00:21:26.150
the URL so that we don't have
to save state anywhere.

00:21:26.150 --> 00:21:28.150
And then it just reads
that and returns it.

00:21:28.150 --> 00:21:29.540
So previously we were returning

00:21:29.540 --> 00:21:31.160
content service as text.

00:21:31.160 --> 00:21:33.120
This time we're returning
it as XML.

00:21:33.120 --> 00:21:35.530
So for voice, you need to
interact with it as XML,

00:21:35.530 --> 00:21:39.060
because it's actually a much
more richer interface.

00:21:39.060 --> 00:21:42.895
So I'm going to save
this new version.

00:21:42.895 --> 00:21:43.330
ERIC KOLEDA: That's right.

00:21:43.330 --> 00:21:47.188
Since you changed the template,
in order for your

00:21:47.188 --> 00:21:49.665
script to now respond with this
new data, you need to

00:21:49.665 --> 00:21:50.470
update the version.

00:21:50.470 --> 00:21:50.880
ARUN NAGARAJAN: That's right.

00:21:50.880 --> 00:21:52.780
I'm going to update this.

00:21:52.780 --> 00:21:57.180
And what I'll do is I'll
actually go ahead and go back

00:21:57.180 --> 00:21:58.140
to my call log.

00:21:58.140 --> 00:22:00.920
And I'll zoom in a little bit.

00:22:00.920 --> 00:22:06.710
Let's say, "Live demo, please
work." So this could be

00:22:06.710 --> 00:22:09.360
something that you could have
automatically read.

00:22:09.360 --> 00:22:12.280
I'm going to start calling.

00:22:12.280 --> 00:22:14.804
And I'm going to manually run.

00:22:14.804 --> 00:22:16.220
[PHONE RINGING]

00:22:16.220 --> 00:22:18.440
Phone call comes in.

00:22:18.440 --> 00:22:19.647
Answer.

00:22:19.647 --> 00:22:20.897
COMPUTER - FEMALE VOICE:
Liv demo, please work.

00:22:25.280 --> 00:22:26.720
ARUN NAGARAJAN: So hopefully
you heard that.

00:22:26.720 --> 00:22:27.670
ERIC KOLEDA: Liv demo.

00:22:27.670 --> 00:22:30.820
ARUN NAGARAJAN: It said
"liv demo." [LAUGHS]

00:22:30.820 --> 00:22:33.450
But you got a couple examples
of how that works.

00:22:33.450 --> 00:22:37.080
And so it's actually really
straightforward to kind of

00:22:37.080 --> 00:22:40.190
have the service wake
up and call you.

00:22:40.190 --> 00:22:42.016
ERIC KOLEDA: So it's a
multi-stage process here I

00:22:42.016 --> 00:22:42.410
guess that we're dealing with.

00:22:42.410 --> 00:22:42.840
ARUN NAGARAJAN: That's right.

00:22:42.840 --> 00:22:43.150
Yes.

00:22:43.150 --> 00:22:45.730
So I have a little diagram
to illustrate this.

00:22:45.730 --> 00:22:48.340
So the user triggers
the script.

00:22:48.340 --> 00:22:49.600
So that's what the button did.

00:22:49.600 --> 00:22:52.870
But that could be based on
a clock trigger as well.

00:22:52.870 --> 00:22:57.020
From there, we send
Twilio a post call

00:22:57.020 --> 00:22:58.600
saying, OK, here's me.

00:22:58.600 --> 00:23:00.290
I'm authorizing myself.

00:23:00.290 --> 00:23:05.280
Now wake up and call this other
URL, which contains the

00:23:05.280 --> 00:23:08.070
XML feed, because it
could be a sort of

00:23:08.070 --> 00:23:09.950
a multi-stage process.

00:23:09.950 --> 00:23:14.160
Once the XML is woken up, it
could have sort of a directory

00:23:14.160 --> 00:23:16.460
style, press one to get this.

00:23:16.460 --> 00:23:18.930
So you can have an actual
conversation going as well.

00:23:18.930 --> 00:23:20.980
Then Twilio, like I said,
comes back and

00:23:20.980 --> 00:23:22.170
calls the same service.

00:23:22.170 --> 00:23:24.020
So this could have been
hosted elsewhere.

00:23:24.020 --> 00:23:26.200
But in this case, since I'm
reading from a spreadsheet

00:23:26.200 --> 00:23:27.930
anyway, I kind of had it hosted

00:23:27.930 --> 00:23:29.310
within the same service.

00:23:29.310 --> 00:23:30.690
So it looks more like a loop.

00:23:30.690 --> 00:23:31.890
But it could have forked
off into a

00:23:31.890 --> 00:23:33.450
separate thread all together.

00:23:33.450 --> 00:23:35.620
And then the user finally
gets a phone call.

00:23:35.620 --> 00:23:35.990
ERIC KOLEDA: Gotcha.

00:23:35.990 --> 00:23:38.530
So as you were saying, right
now it's just getting the

00:23:38.530 --> 00:23:40.120
initial phone call message
and sending it back.

00:23:40.120 --> 00:23:41.660
So there could be further back
and forth interactions.

00:23:41.660 --> 00:23:42.080
ARUN NAGARAJAN: That's right.

00:23:42.080 --> 00:23:42.320
Yeah.

00:23:42.320 --> 00:23:44.680
And they have a really good
example here about a company

00:23:44.680 --> 00:23:49.230
directory that you could build
using this whole system.

00:23:49.230 --> 00:23:52.430
So if you have 15, 20 people
in your department and they

00:23:52.430 --> 00:23:54.550
have different cell phone
numbers and you don't want to

00:23:54.550 --> 00:23:57.920
memorize them, you could hand
out a single phone number to

00:23:57.920 --> 00:24:00.610
all your customers and
your partners.

00:24:00.610 --> 00:24:03.760
And they call this number and
they may punch in the first

00:24:03.760 --> 00:24:06.050
few digits of your extension
or first few

00:24:06.050 --> 00:24:07.790
characters of your name.

00:24:07.790 --> 00:24:10.670
And then in this example,
they're using a MySQL database

00:24:10.670 --> 00:24:13.660
and a PHP script, but you can
see very quickly that this

00:24:13.660 --> 00:24:16.340
could all work off of a
spreadsheet and Apps Script.

00:24:16.340 --> 00:24:18.450
ERIC KOLEDA: That's
pretty cool.

00:24:18.450 --> 00:24:20.140
Thinking about Twilio here
is that they're very

00:24:20.140 --> 00:24:20.780
lightweight, right?

00:24:20.780 --> 00:24:23.245
Give them a URL and they'll
just make your app work.

00:24:23.245 --> 00:24:23.500
ARUN NAGARAJAN: That's right.

00:24:23.500 --> 00:24:24.910
ERIC KOLEDA: And I think Apps
Script really fits in well

00:24:24.910 --> 00:24:29.060
here, because you can spin up a
quick URL web app that just

00:24:29.060 --> 00:24:31.030
takes a little data
in, spits a little

00:24:31.030 --> 00:24:32.150
data out, really quickly.

00:24:32.150 --> 00:24:32.490
ARUN NAGARAJAN: That's right.

00:24:32.490 --> 00:24:32.650
Yeah.

00:24:32.650 --> 00:24:34.970
That integration glue capability
of Apps Script I

00:24:34.970 --> 00:24:38.520
think really stands out in this
example where we can be

00:24:38.520 --> 00:24:41.530
invoked and we can invoke
other services.

00:24:41.530 --> 00:24:44.560
And we can send up post
messages, standard HTTP

00:24:44.560 --> 00:24:48.700
authorization headers, and
we can read incoming post

00:24:48.700 --> 00:24:52.030
parameters, get parameters,
and so on.

00:24:52.030 --> 00:24:54.820
And obviously all the backing
capabilities of Apps as well,

00:24:54.820 --> 00:24:58.400
so into a spreadsheet,
into Google Contacts.

00:24:58.400 --> 00:24:58.600
ERIC KOLEDA: Yeah.

00:24:58.600 --> 00:25:00.510
When you said company directory,
I thought Google

00:25:00.510 --> 00:25:02.290
Contacts right away.

00:25:02.290 --> 00:25:02.530
ARUN NAGARAJAN: Absolutely.

00:25:02.530 --> 00:25:03.340
It makes a lot of sense.

00:25:03.340 --> 00:25:06.180
And this is something that you
could use to make your company

00:25:06.180 --> 00:25:10.020
look a bit more professional,
purchase a number, pay a

00:25:10.020 --> 00:25:14.080
nominal fee for it, and then
get big time directory-type

00:25:14.080 --> 00:25:16.210
capabilities so that you don't
have to have a receptionist

00:25:16.210 --> 00:25:20.750
just sending messages
to the right person.

00:25:20.750 --> 00:25:24.190
So that's the third demo that I
wanted to show, where you're

00:25:24.190 --> 00:25:27.520
able to add voice capabilities
to a simple spreadsheet or

00:25:27.520 --> 00:25:30.580
other Google App that
you may have.

00:25:30.580 --> 00:25:30.890
Cool.

00:25:30.890 --> 00:25:31.870
So let's see.

00:25:31.870 --> 00:25:33.400
I mean, obviously one of the
things that I want to make

00:25:33.400 --> 00:25:36.320
sure that you guys saw was all
the different capabilities

00:25:36.320 --> 00:25:38.160
that you could very
quickly wire up.

00:25:38.160 --> 00:25:39.860
And it definitely
makes sense to--

00:25:39.860 --> 00:25:41.050
wrong window--

00:25:41.050 --> 00:25:43.330
it definitely makes sense to
take a look to the APIs.

00:25:43.330 --> 00:25:47.140
They've done a really good job
of documenting the SMS

00:25:47.140 --> 00:25:51.390
messages, the voice messages,
how to intercept incoming and

00:25:51.390 --> 00:25:55.690
outgoing, and send outgoing
SMS and voice messages.

00:25:55.690 --> 00:25:57.940
And it is all based on verbs.

00:25:57.940 --> 00:26:00.940
So you can see in this case for
the XML, I can do a lot of

00:26:00.940 --> 00:26:01.830
interesting things.

00:26:01.830 --> 00:26:04.330
One example that they have that
I think it's a little

00:26:04.330 --> 00:26:07.850
harder to demonstrate is a
conference calling mechanism.

00:26:07.850 --> 00:26:11.870
So you could write a little app
that ahead of a conference

00:26:11.870 --> 00:26:13.010
call that you have.

00:26:13.010 --> 00:26:17.750
It could wake up and open a
calendar entry and call all 15

00:26:17.750 --> 00:26:21.310
people on the call and then
essentially join you into that

00:26:21.310 --> 00:26:21.960
conference call.

00:26:21.960 --> 00:26:24.436
So you could have an automated
conference call so you don't

00:26:24.436 --> 00:26:26.890
have to type in those 10 digits
followed by the 6-digit

00:26:26.890 --> 00:26:29.840
PIN and pound and one to
continue and stuff like that.

00:26:29.840 --> 00:26:32.640
So it allows you to do a lot of
interesting things that you

00:26:32.640 --> 00:26:35.840
may not previously have thought
about as an important,

00:26:35.840 --> 00:26:37.530
or a possible integration.

00:26:37.530 --> 00:26:37.770
ERIC KOLEDA: Yeah.

00:26:37.770 --> 00:26:39.530
These aren't necessarily
something that you thought was

00:26:39.530 --> 00:26:41.310
possible, well, it would take
me a week to do this.

00:26:41.310 --> 00:26:42.090
It seems like it's impossible.

00:26:42.090 --> 00:26:42.330
ARUN NAGARAJAN: Right.

00:26:42.330 --> 00:26:44.000
ERIC KOLEDA: And not only
is it possible, but it's

00:26:44.000 --> 00:26:44.240
extra-simple.

00:26:44.240 --> 00:26:45.132
That's pretty amazing.

00:26:45.132 --> 00:26:45.580
ARUN NAGARAJAN: Yeah.

00:26:45.580 --> 00:26:48.936
And obviously, keep in mind that
this is all running on

00:26:48.936 --> 00:26:51.250
top of the Apps Script
infrastructure.

00:26:51.250 --> 00:26:54.010
So you'll have to think about
authentication and quotas and

00:26:54.010 --> 00:26:54.570
things like that.

00:26:54.570 --> 00:26:57.180
So there's a little bit
more than I'm showing.

00:26:57.180 --> 00:27:00.360
But I think once you think
through what's possible, I

00:27:00.360 --> 00:27:02.850
think you'll be able to figure
out what's appropriate for

00:27:02.850 --> 00:27:06.015
your department or your team
and apply it from there.

00:27:06.015 --> 00:27:07.480
ERIC KOLEDA: Now, these
docs look great too.

00:27:07.480 --> 00:27:09.450
And I've also heard that they
have a developer relations

00:27:09.450 --> 00:27:10.540
team that's actually
pretty active.

00:27:10.540 --> 00:27:11.340
ARUN NAGARAJAN: That's
right, yes.

00:27:11.340 --> 00:27:12.240
ERIC KOLEDA: Kind of
our counterparts.

00:27:12.240 --> 00:27:12.640
ARUN NAGARAJAN: That's right.

00:27:12.640 --> 00:27:12.860
Yeah.

00:27:12.860 --> 00:27:14.350
And we work with them
quite a bit.

00:27:14.350 --> 00:27:17.340
And I've actually spoken at
their meet-up, I think back in

00:27:17.340 --> 00:27:18.070
late October.

00:27:18.070 --> 00:27:20.720
And that was quite fun to be
able to show them that this

00:27:20.720 --> 00:27:23.860
service can be hooked into the
Google Apps ecosystem, which I

00:27:23.860 --> 00:27:26.850
think is a very broad one.

00:27:26.850 --> 00:27:29.600
So if you tweet at them or you
go on their site, they have I

00:27:29.600 --> 00:27:32.010
think like a Stack Overflow
label as well,

00:27:32.010 --> 00:27:33.410
just like we do.

00:27:33.410 --> 00:27:36.060
And I'm sure we can provide
support together.

00:27:36.060 --> 00:27:36.880
ERIC KOLEDA: Sounds great.

00:27:36.880 --> 00:27:37.195
ARUN NAGARAJAN: Yeah.

00:27:37.195 --> 00:27:38.730
And that's really all we have.

00:27:38.730 --> 00:27:40.160
And hopefully this
all made sense.

00:27:40.160 --> 00:27:42.600
And let us know what
you're building.

00:27:42.600 --> 00:27:44.520
And we'll be happy to
highlight those.

00:27:44.520 --> 00:27:44.960
ERIC KOLEDA: Thanks so
much for showing

00:27:44.960 --> 00:27:45.450
us everything today.

00:27:45.450 --> 00:27:46.490
ARUN NAGARAJAN: Absolutely.

00:27:46.490 --> 00:27:47.040
Thank you.

00:27:47.040 --> 00:27:48.290
ERIC KOLEDA: Have a good day.

