WEBVTT
Kind: captions
Language: en

00:00:02.210 --> 00:00:07.810
 
[Music]

00:00:07.810 --> 00:00:07.820
[Music]
 

00:00:07.820 --> 00:00:10.370
[Music]
hi my name is Allen Shan ski I'm an

00:00:10.370 --> 00:00:10.380
hi my name is Allen Shan ski I'm an
 

00:00:10.380 --> 00:00:11.930
hi my name is Allen Shan ski I'm an
intern on the Android team at Google and

00:00:11.930 --> 00:00:11.940
intern on the Android team at Google and
 

00:00:11.940 --> 00:00:13.190
intern on the Android team at Google and
today I'll be talking about lists you

00:00:13.190 --> 00:00:13.200
today I'll be talking about lists you
 

00:00:13.200 --> 00:00:15.680
today I'll be talking about lists you
dragging animations so the demo today is

00:00:15.680 --> 00:00:15.690
dragging animations so the demo today is
 

00:00:15.690 --> 00:00:17.390
dragging animations so the demo today is
going to be a simple list view where you

00:00:17.390 --> 00:00:17.400
going to be a simple list view where you
 

00:00:17.400 --> 00:00:19.880
going to be a simple list view where you
can tie a long click on an item then

00:00:19.880 --> 00:00:19.890
can tie a long click on an item then
 

00:00:19.890 --> 00:00:21.470
can tie a long click on an item then
drag it around and you'll see that as

00:00:21.470 --> 00:00:21.480
drag it around and you'll see that as
 

00:00:21.480 --> 00:00:22.880
drag it around and you'll see that as
you drag the item around it'll actually

00:00:22.880 --> 00:00:22.890
you drag the item around it'll actually
 

00:00:22.890 --> 00:00:25.340
you drag the item around it'll actually
replace and move around swab the

00:00:25.340 --> 00:00:25.350
replace and move around swab the
 

00:00:25.350 --> 00:00:26.870
replace and move around swab the
underlying data set with the other

00:00:26.870 --> 00:00:26.880
underlying data set with the other
 

00:00:26.880 --> 00:00:29.689
underlying data set with the other
ListView items so the main trick to

00:00:29.689 --> 00:00:29.699
ListView items so the main trick to
 

00:00:29.699 --> 00:00:31.700
ListView items so the main trick to
doing this animation was to realize that

00:00:31.700 --> 00:00:31.710
doing this animation was to realize that
 

00:00:31.710 --> 00:00:33.200
doing this animation was to realize that
we're not actually moving the views of

00:00:33.200 --> 00:00:33.210
we're not actually moving the views of
 

00:00:33.210 --> 00:00:35.030
we're not actually moving the views of
the ListView around but what you're

00:00:35.030 --> 00:00:35.040
the ListView around but what you're
 

00:00:35.040 --> 00:00:37.060
the ListView around but what you're
gonna do is create a bitmap drawable

00:00:37.060 --> 00:00:37.070
gonna do is create a bitmap drawable
 

00:00:37.070 --> 00:00:39.260
gonna do is create a bitmap drawable
overlay the bitmap drawable on top of

00:00:39.260 --> 00:00:39.270
overlay the bitmap drawable on top of
 

00:00:39.270 --> 00:00:40.700
overlay the bitmap drawable on top of
the list view and then as you're

00:00:40.700 --> 00:00:40.710
the list view and then as you're
 

00:00:40.710 --> 00:00:42.530
the list view and then as you're
dragging your finger around what's I

00:00:42.530 --> 00:00:42.540
dragging your finger around what's I
 

00:00:42.540 --> 00:00:44.180
dragging your finger around what's I
shouldn't happen is that we'll movie

00:00:44.180 --> 00:00:44.190
shouldn't happen is that we'll movie
 

00:00:44.190 --> 00:00:46.010
shouldn't happen is that we'll movie
moving the become drawable but not the

00:00:46.010 --> 00:00:46.020
moving the become drawable but not the
 

00:00:46.020 --> 00:00:47.750
moving the become drawable but not the
view which is actually contained inside

00:00:47.750 --> 00:00:47.760
view which is actually contained inside
 

00:00:47.760 --> 00:00:50.180
view which is actually contained inside
the listing so let's jump straight to a

00:00:50.180 --> 00:00:50.190
the listing so let's jump straight to a
 

00:00:50.190 --> 00:00:53.779
the listing so let's jump straight to a
demo and so here we have a here we have

00:00:53.779 --> 00:00:53.789
demo and so here we have a here we have
 

00:00:53.789 --> 00:00:56.840
demo and so here we have a here we have
just a list of cheeses we can click and

00:00:56.840 --> 00:00:56.850
just a list of cheeses we can click and
 

00:00:56.850 --> 00:00:59.779
just a list of cheeses we can click and
hold them on the items as is in order to

00:00:59.779 --> 00:00:59.789
hold them on the items as is in order to
 

00:00:59.789 --> 00:01:01.670
hold them on the items as is in order to
get hold of it and then as we drag it

00:01:01.670 --> 00:01:01.680
get hold of it and then as we drag it
 

00:01:01.680 --> 00:01:03.200
get hold of it and then as we drag it
around you'll see that the items around

00:01:03.200 --> 00:01:03.210
around you'll see that the items around
 

00:01:03.210 --> 00:01:06.230
around you'll see that the items around
it animate into place while swapping the

00:01:06.230 --> 00:01:06.240
it animate into place while swapping the
 

00:01:06.240 --> 00:01:09.260
it animate into place while swapping the
underlying data set change and moving

00:01:09.260 --> 00:01:09.270
underlying data set change and moving
 

00:01:09.270 --> 00:01:11.270
underlying data set change and moving
around furthermore if the bitmap

00:01:11.270 --> 00:01:11.280
around furthermore if the bitmap
 

00:01:11.280 --> 00:01:12.620
around furthermore if the bitmap
drawable if the hover view that we have

00:01:12.620 --> 00:01:12.630
drawable if the hover view that we have
 

00:01:12.630 --> 00:01:14.210
drawable if the hover view that we have
goes outside the bounds of the ListView

00:01:14.210 --> 00:01:14.220
goes outside the bounds of the ListView
 

00:01:14.220 --> 00:01:15.410
goes outside the bounds of the ListView
you can see that the list you start

00:01:15.410 --> 00:01:15.420
you can see that the list you start
 

00:01:15.420 --> 00:01:16.760
you can see that the list you start
scrolling and also at the same time

00:01:16.760 --> 00:01:16.770
scrolling and also at the same time
 

00:01:16.770 --> 00:01:19.760
scrolling and also at the same time
swapping elements as we need as we need

00:01:19.760 --> 00:01:19.770
swapping elements as we need as we need
 

00:01:19.770 --> 00:01:23.060
swapping elements as we need as we need
to same thing goes as same thing goes

00:01:23.060 --> 00:01:23.070
to same thing goes as same thing goes
 

00:01:23.070 --> 00:01:24.800
to same thing goes as same thing goes
when it's above the balance the ListView

00:01:24.800 --> 00:01:24.810
when it's above the balance the ListView
 

00:01:24.810 --> 00:01:28.130
when it's above the balance the ListView
when you let go of it the new item just

00:01:28.130 --> 00:01:28.140
when you let go of it the new item just
 

00:01:28.140 --> 00:01:30.410
when you let go of it the new item just
enemies back into place into the list

00:01:30.410 --> 00:01:30.420
enemies back into place into the list
 

00:01:30.420 --> 00:01:32.899
enemies back into place into the list
view and normal

00:01:32.899 --> 00:01:32.909
view and normal
 

00:01:32.909 --> 00:01:36.260
view and normal
normal ListView interactions ensue so

00:01:36.260 --> 00:01:36.270
normal ListView interactions ensue so
 

00:01:36.270 --> 00:01:38.300
normal ListView interactions ensue so
let's just jump straight the code the

00:01:38.300 --> 00:01:38.310
let's just jump straight the code the
 

00:01:38.310 --> 00:01:40.130
let's just jump straight the code the
main file to look at here is dynamic

00:01:40.130 --> 00:01:40.140
main file to look at here is dynamic
 

00:01:40.140 --> 00:01:42.469
main file to look at here is dynamic
ListView which is which extends a list

00:01:42.469 --> 00:01:42.479
ListView which is which extends a list
 

00:01:42.479 --> 00:01:45.340
ListView which is which extends a list
to your object and as you scroll down

00:01:45.340 --> 00:01:45.350
to your object and as you scroll down
 

00:01:45.350 --> 00:01:47.510
to your object and as you scroll down
the first important thing to see is that

00:01:47.510 --> 00:01:47.520
the first important thing to see is that
 

00:01:47.520 --> 00:01:49.940
the first important thing to see is that
we add an on an on long click item

00:01:49.940 --> 00:01:49.950
we add an on an on long click item
 

00:01:49.950 --> 00:01:52.429
we add an on an on long click item
listener so what happens when an item

00:01:52.429 --> 00:01:52.439
listener so what happens when an item
 

00:01:52.439 --> 00:01:54.289
listener so what happens when an item
has been selected via long click invent

00:01:54.289 --> 00:01:54.299
has been selected via long click invent
 

00:01:54.299 --> 00:01:56.780
has been selected via long click invent
we have to do a few things one we have

00:01:56.780 --> 00:01:56.790
we have to do a few things one we have
 

00:01:56.790 --> 00:01:58.219
we have to do a few things one we have
to determine what the position is of the

00:01:58.219 --> 00:01:58.229
to determine what the position is of the
 

00:01:58.229 --> 00:02:00.020
to determine what the position is of the
click down event we have to determine

00:02:00.020 --> 00:02:00.030
click down event we have to determine
 

00:02:00.030 --> 00:02:02.179
click down event we have to determine
what the item with which item was

00:02:02.179 --> 00:02:02.189
what the item with which item was
 

00:02:02.189 --> 00:02:04.520
what the item with which item was
selected and then we also retrieve the

00:02:04.520 --> 00:02:04.530
selected and then we also retrieve the
 

00:02:04.530 --> 00:02:07.730
selected and then we also retrieve the
view that was selected from that spot as

00:02:07.730 --> 00:02:07.740
view that was selected from that spot as
 

00:02:07.740 --> 00:02:09.559
view that was selected from that spot as
well as the item ID associate with it

00:02:09.559 --> 00:02:09.569
well as the item ID associate with it
 

00:02:09.569 --> 00:02:11.119
well as the item ID associate with it
then the important thing that's

00:02:11.119 --> 00:02:11.129
then the important thing that's
 

00:02:11.129 --> 00:02:12.559
then the important thing that's
happening is we call this method called

00:02:12.559 --> 00:02:12.569
happening is we call this method called
 

00:02:12.569 --> 00:02:13.610
happening is we call this method called
get and Eadie

00:02:13.610 --> 00:02:13.620
get and Eadie
 

00:02:13.620 --> 00:02:15.619
get and Eadie
you which returns a bitmap drawable and

00:02:15.619 --> 00:02:15.629
you which returns a bitmap drawable and
 

00:02:15.629 --> 00:02:18.259
you which returns a bitmap drawable and
what that does is capture the contents

00:02:18.259 --> 00:02:18.269
what that does is capture the contents
 

00:02:18.269 --> 00:02:20.720
what that does is capture the contents
of the view that was selected it takes a

00:02:20.720 --> 00:02:20.730
of the view that was selected it takes a
 

00:02:20.730 --> 00:02:22.940
of the view that was selected it takes a
screenshot of it adds the little black

00:02:22.940 --> 00:02:22.950
screenshot of it adds the little black
 

00:02:22.950 --> 00:02:25.309
screenshot of it adds the little black
border around that we saw right here in

00:02:25.309 --> 00:02:25.319
border around that we saw right here in
 

00:02:25.319 --> 00:02:28.580
border around that we saw right here in
get bitmap with border and the

00:02:28.580 --> 00:02:28.590
get bitmap with border and the
 

00:02:28.590 --> 00:02:30.289
get bitmap with border and the
screenshot is captured right here and

00:02:30.289 --> 00:02:30.299
screenshot is captured right here and
 

00:02:30.299 --> 00:02:33.380
screenshot is captured right here and
get get bitmap from view so once we

00:02:33.380 --> 00:02:33.390
get get bitmap from view so once we
 

00:02:33.390 --> 00:02:34.819
get get bitmap from view so once we
captured that once we captured a bitmap

00:02:34.819 --> 00:02:34.829
captured that once we captured a bitmap
 

00:02:34.829 --> 00:02:37.880
captured that once we captured a bitmap
and we insert it into the bitmap

00:02:37.880 --> 00:02:37.890
and we insert it into the bitmap
 

00:02:37.890 --> 00:02:39.380
and we insert it into the bitmap
drawable with the important thing to

00:02:39.380 --> 00:02:39.390
drawable with the important thing to
 

00:02:39.390 --> 00:02:41.539
drawable with the important thing to
note is that bitmap drawables have the

00:02:41.539 --> 00:02:41.549
note is that bitmap drawables have the
 

00:02:41.549 --> 00:02:43.399
note is that bitmap drawables have the
notion of bounds so by modifying the

00:02:43.399 --> 00:02:43.409
notion of bounds so by modifying the
 

00:02:43.409 --> 00:02:44.780
notion of bounds so by modifying the
bounds we can modify words

00:02:44.780 --> 00:02:44.790
bounds we can modify words
 

00:02:44.790 --> 00:02:46.490
bounds we can modify words
we're located and then when we draw it

00:02:46.490 --> 00:02:46.500
we're located and then when we draw it
 

00:02:46.500 --> 00:02:48.619
we're located and then when we draw it
on top of the ListView it'll move around

00:02:48.619 --> 00:02:48.629
on top of the ListView it'll move around
 

00:02:48.629 --> 00:02:51.080
on top of the ListView it'll move around
accordingly to where to how the bounds

00:02:51.080 --> 00:02:51.090
accordingly to where to how the bounds
 

00:02:51.090 --> 00:02:53.839
accordingly to where to how the bounds
are updated okay so moving on to the on

00:02:53.839 --> 00:02:53.849
are updated okay so moving on to the on
 

00:02:53.849 --> 00:02:55.910
are updated okay so moving on to the on
long item click listen or the important

00:02:55.910 --> 00:02:55.920
long item click listen or the important
 

00:02:55.920 --> 00:02:57.470
long item click listen or the important
thing to note is that when an item has

00:02:57.470 --> 00:02:57.480
thing to note is that when an item has
 

00:02:57.480 --> 00:02:59.330
thing to note is that when an item has
been selected via long item click event

00:02:59.330 --> 00:02:59.340
been selected via long item click event
 

00:02:59.340 --> 00:03:01.130
been selected via long item click event
there are there's a few things that we

00:03:01.130 --> 00:03:01.140
there are there's a few things that we
 

00:03:01.140 --> 00:03:02.720
there are there's a few things that we
need to do one you need to determine

00:03:02.720 --> 00:03:02.730
need to do one you need to determine
 

00:03:02.730 --> 00:03:04.309
need to do one you need to determine
what the position is of the down event

00:03:04.309 --> 00:03:04.319
what the position is of the down event
 

00:03:04.319 --> 00:03:05.899
what the position is of the down event
was you need to determine the item

00:03:05.899 --> 00:03:05.909
was you need to determine the item
 

00:03:05.909 --> 00:03:07.640
was you need to determine the item
number that was selected and you also

00:03:07.640 --> 00:03:07.650
number that was selected and you also
 

00:03:07.650 --> 00:03:09.020
number that was selected and you also
need to treat you need to retrieve the

00:03:09.020 --> 00:03:09.030
need to treat you need to retrieve the
 

00:03:09.030 --> 00:03:11.750
need to treat you need to retrieve the
view that was clicked as well so then

00:03:11.750 --> 00:03:11.760
view that was clicked as well so then
 

00:03:11.760 --> 00:03:13.039
view that was clicked as well so then
what we're going to do is call this

00:03:13.039 --> 00:03:13.049
what we're going to do is call this
 

00:03:13.049 --> 00:03:15.589
what we're going to do is call this
method called get an ad hover view which

00:03:15.589 --> 00:03:15.599
method called get an ad hover view which
 

00:03:15.599 --> 00:03:17.750
method called get an ad hover view which
is going all it's going to do is return

00:03:17.750 --> 00:03:17.760
is going all it's going to do is return
 

00:03:17.760 --> 00:03:19.550
is going all it's going to do is return
a bitmap drawable that has the same

00:03:19.550 --> 00:03:19.560
a bitmap drawable that has the same
 

00:03:19.560 --> 00:03:21.199
a bitmap drawable that has the same
contents as the view that was selected

00:03:21.199 --> 00:03:21.209
contents as the view that was selected
 

00:03:21.209 --> 00:03:23.390
contents as the view that was selected
using using a couple methods here below

00:03:23.390 --> 00:03:23.400
using using a couple methods here below
 

00:03:23.400 --> 00:03:25.370
using using a couple methods here below
we're going to capture this contents of

00:03:25.370 --> 00:03:25.380
we're going to capture this contents of
 

00:03:25.380 --> 00:03:27.319
we're going to capture this contents of
the screen add a black border around it

00:03:27.319 --> 00:03:27.329
the screen add a black border around it
 

00:03:27.329 --> 00:03:29.599
the screen add a black border around it
which you saw in the demo and then we'll

00:03:29.599 --> 00:03:29.609
which you saw in the demo and then we'll
 

00:03:29.609 --> 00:03:31.460
which you saw in the demo and then we'll
throw all of that into the bitmap

00:03:31.460 --> 00:03:31.470
throw all of that into the bitmap
 

00:03:31.470 --> 00:03:33.229
throw all of that into the bitmap
drawable which then will be overlaid

00:03:33.229 --> 00:03:33.239
drawable which then will be overlaid
 

00:03:33.239 --> 00:03:34.190
drawable which then will be overlaid
over a ListView

00:03:34.190 --> 00:03:34.200
over a ListView
 

00:03:34.200 --> 00:03:35.869
over a ListView
the important thing to note as a bitmap

00:03:35.869 --> 00:03:35.879
the important thing to note as a bitmap
 

00:03:35.879 --> 00:03:37.610
the important thing to note as a bitmap
drawables do have the notion of bounds

00:03:37.610 --> 00:03:37.620
drawables do have the notion of bounds
 

00:03:37.620 --> 00:03:39.409
drawables do have the notion of bounds
so if we do I'll beat the bounds of the

00:03:39.409 --> 00:03:39.419
so if we do I'll beat the bounds of the
 

00:03:39.419 --> 00:03:41.119
so if we do I'll beat the bounds of the
bitmap drawable we'll be able to move it

00:03:41.119 --> 00:03:41.129
bitmap drawable we'll be able to move it
 

00:03:41.129 --> 00:03:42.890
bitmap drawable we'll be able to move it
around accordingly on the screen to

00:03:42.890 --> 00:03:42.900
around accordingly on the screen to
 

00:03:42.900 --> 00:03:44.720
around accordingly on the screen to
where we want it to be in response to

00:03:44.720 --> 00:03:44.730
where we want it to be in response to
 

00:03:44.730 --> 00:03:47.119
where we want it to be in response to
the user touches that can get an ad

00:03:47.119 --> 00:03:47.129
the user touches that can get an ad
 

00:03:47.129 --> 00:03:48.589
the user touches that can get an ad
hover view the important thing to note

00:03:48.589 --> 00:03:48.599
hover view the important thing to note
 

00:03:48.599 --> 00:03:51.319
hover view the important thing to note
is that we have to make sure the

00:03:51.319 --> 00:03:51.329
is that we have to make sure the
 

00:03:51.329 --> 00:03:52.640
is that we have to make sure the
visibility of the view that was selected

00:03:52.640 --> 00:03:52.650
visibility of the view that was selected
 

00:03:52.650 --> 00:03:54.830
visibility of the view that was selected
is set to invisible so it's still going

00:03:54.830 --> 00:03:54.840
is set to invisible so it's still going
 

00:03:54.840 --> 00:03:56.659
is set to invisible so it's still going
to be in the list view and the bitmap

00:03:56.659 --> 00:03:56.669
to be in the list view and the bitmap
 

00:03:56.669 --> 00:03:57.860
to be in the list view and the bitmap
job is going to be overlaying the

00:03:57.860 --> 00:03:57.870
job is going to be overlaying the
 

00:03:57.870 --> 00:03:58.309
job is going to be overlaying the
ListView

00:03:58.309 --> 00:03:58.319
ListView
 

00:03:58.319 --> 00:03:59.780
ListView
but these two objects are completely

00:03:59.780 --> 00:03:59.790
but these two objects are completely
 

00:03:59.790 --> 00:04:01.309
but these two objects are completely
independent even though they correspond

00:04:01.309 --> 00:04:01.319
independent even though they correspond
 

00:04:01.319 --> 00:04:04.490
independent even though they correspond
in response to the user touches the

00:04:04.490 --> 00:04:04.500
in response to the user touches the
 

00:04:04.500 --> 00:04:07.009
in response to the user touches the
other trick that that was implemented in

00:04:07.009 --> 00:04:07.019
other trick that that was implemented in
 

00:04:07.019 --> 00:04:11.180
other trick that that was implemented in
order to do this item swapping animation

00:04:11.180 --> 00:04:11.190
order to do this item swapping animation
 

00:04:11.190 --> 00:04:13.939
order to do this item swapping animation
is to note that whenever you're going to

00:04:13.939 --> 00:04:13.949
is to note that whenever you're going to
 

00:04:13.949 --> 00:04:16.219
is to note that whenever you're going to
swap and swap an item you're only ever

00:04:16.219 --> 00:04:16.229
swap and swap an item you're only ever
 

00:04:16.229 --> 00:04:17.390
swap and swap an item you're only ever
going to swap it with the item right

00:04:17.390 --> 00:04:17.400
going to swap it with the item right
 

00:04:17.400 --> 00:04:19.580
going to swap it with the item right
above it or right below it so that's how

00:04:19.580 --> 00:04:19.590
above it or right below it so that's how
 

00:04:19.590 --> 00:04:21.469
above it or right below it so that's how
whenever a swap animation takes place or

00:04:21.469 --> 00:04:21.479
whenever a swap animation takes place or
 

00:04:21.479 --> 00:04:23.360
whenever a swap animation takes place or
a dragging event begins you always need

00:04:23.360 --> 00:04:23.370
a dragging event begins you always need
 

00:04:23.370 --> 00:04:25.240
a dragging event begins you always need
to retrieve the above item ID and the

00:04:25.240 --> 00:04:25.250
to retrieve the above item ID and the
 

00:04:25.250 --> 00:04:29.470
to retrieve the above item ID and the
led by returning true from state stable

00:04:29.470 --> 00:04:29.480
led by returning true from state stable
 

00:04:29.480 --> 00:04:31.750
led by returning true from state stable
item IDs in the stable array adapter

00:04:31.750 --> 00:04:31.760
item IDs in the stable array adapter
 

00:04:31.760 --> 00:04:33.670
item IDs in the stable array adapter
which is a customer that we implemented

00:04:33.670 --> 00:04:33.680
which is a customer that we implemented
 

00:04:33.680 --> 00:04:35.590
which is a customer that we implemented
in this project where you can what

00:04:35.590 --> 00:04:35.600
in this project where you can what
 

00:04:35.600 --> 00:04:37.510
in this project where you can what
you're essentially saying is that every

00:04:37.510 --> 00:04:37.520
you're essentially saying is that every
 

00:04:37.520 --> 00:04:40.120
you're essentially saying is that every
single item in your ListView has a

00:04:40.120 --> 00:04:40.130
single item in your ListView has a
 

00:04:40.130 --> 00:04:42.460
single item in your ListView has a
unique ID that you maintain yourself and

00:04:42.460 --> 00:04:42.470
unique ID that you maintain yourself and
 

00:04:42.470 --> 00:04:43.810
unique ID that you maintain yourself and
that will never change for that

00:04:43.810 --> 00:04:43.820
that will never change for that
 

00:04:43.820 --> 00:04:46.030
that will never change for that
corresponding object so these we know

00:04:46.030 --> 00:04:46.040
corresponding object so these we know
 

00:04:46.040 --> 00:04:47.620
corresponding object so these we know
that this above and below item ID will

00:04:47.620 --> 00:04:47.630
that this above and below item ID will
 

00:04:47.630 --> 00:04:49.960
that this above and below item ID will
never change for the above and below

00:04:49.960 --> 00:04:49.970
never change for the above and below
 

00:04:49.970 --> 00:04:52.150
never change for the above and below
views around which you're currently

00:04:52.150 --> 00:04:52.160
views around which you're currently
 

00:04:52.160 --> 00:04:54.550
views around which you're currently
animating there's some logic here and

00:04:54.550 --> 00:04:54.560
animating there's some logic here and
 

00:04:54.560 --> 00:04:57.070
animating there's some logic here and
get view for ID and get position right

00:04:57.070 --> 00:04:57.080
get view for ID and get position right
 

00:04:57.080 --> 00:04:59.500
get view for ID and get position right
for ID where I was able to actually

00:04:59.500 --> 00:04:59.510
for ID where I was able to actually
 

00:04:59.510 --> 00:05:01.750
for ID where I was able to actually
retrieve a view given some item ID and

00:05:01.750 --> 00:05:01.760
retrieve a view given some item ID and
 

00:05:01.760 --> 00:05:04.180
retrieve a view given some item ID and
do foot and vice-versa you can look at

00:05:04.180 --> 00:05:04.190
do foot and vice-versa you can look at
 

00:05:04.190 --> 00:05:06.040
do foot and vice-versa you can look at
this later in more detail if you're

00:05:06.040 --> 00:05:06.050
this later in more detail if you're
 

00:05:06.050 --> 00:05:07.570
this later in more detail if you're
interested in how I did and if you're

00:05:07.570 --> 00:05:07.580
interested in how I did and if you're
 

00:05:07.580 --> 00:05:09.910
interested in how I did and if you're
interested in seeing how I did that but

00:05:09.910 --> 00:05:09.920
interested in seeing how I did that but
 

00:05:09.920 --> 00:05:13.150
interested in seeing how I did that but
the important thing here is that in this

00:05:13.150 --> 00:05:13.160
the important thing here is that in this
 

00:05:13.160 --> 00:05:15.460
the important thing here is that in this
batch draw if I do have that bitmap

00:05:15.460 --> 00:05:15.470
batch draw if I do have that bitmap
 

00:05:15.470 --> 00:05:17.650
batch draw if I do have that bitmap
drawable it will be drawn onto the

00:05:17.650 --> 00:05:17.660
drawable it will be drawn onto the
 

00:05:17.660 --> 00:05:19.659
drawable it will be drawn onto the
screen so what I'm doing here if I'm not

00:05:19.659 --> 00:05:19.669
screen so what I'm doing here if I'm not
 

00:05:19.669 --> 00:05:22.090
screen so what I'm doing here if I'm not
in a dragging event then my hover cell

00:05:22.090 --> 00:05:22.100
in a dragging event then my hover cell
 

00:05:22.100 --> 00:05:23.950
in a dragging event then my hover cell
is going to be null I won't be drawing

00:05:23.950 --> 00:05:23.960
is going to be null I won't be drawing
 

00:05:23.960 --> 00:05:26.020
is going to be null I won't be drawing
anything if my hover cell is a non null

00:05:26.020 --> 00:05:26.030
anything if my hover cell is a non null
 

00:05:26.030 --> 00:05:28.750
anything if my hover cell is a non null
object then I will draw it it'll overlay

00:05:28.750 --> 00:05:28.760
object then I will draw it it'll overlay
 

00:05:28.760 --> 00:05:30.790
object then I will draw it it'll overlay
the ListView since I'm first calling

00:05:30.790 --> 00:05:30.800
the ListView since I'm first calling
 

00:05:30.800 --> 00:05:32.740
the ListView since I'm first calling
this Vedra and only then drawing the

00:05:32.740 --> 00:05:32.750
this Vedra and only then drawing the
 

00:05:32.750 --> 00:05:35.590
this Vedra and only then drawing the
hover so on top of it so now in on touch

00:05:35.590 --> 00:05:35.600
hover so on top of it so now in on touch
 

00:05:35.600 --> 00:05:37.180
hover so on top of it so now in on touch
event there's a few things I need to be

00:05:37.180 --> 00:05:37.190
event there's a few things I need to be
 

00:05:37.190 --> 00:05:39.850
event there's a few things I need to be
done when an action down occurs I don't

00:05:39.850 --> 00:05:39.860
done when an action down occurs I don't
 

00:05:39.860 --> 00:05:41.650
done when an action down occurs I don't
yet know whether or not dad's can become

00:05:41.650 --> 00:05:41.660
yet know whether or not dad's can become
 

00:05:41.660 --> 00:05:43.960
yet know whether or not dad's can become
a drawing event or not so I either way I

00:05:43.960 --> 00:05:43.970
a drawing event or not so I either way I
 

00:05:43.970 --> 00:05:46.060
a drawing event or not so I either way I
need to retrieve the x and y-coordinates

00:05:46.060 --> 00:05:46.070
need to retrieve the x and y-coordinates
 

00:05:46.070 --> 00:05:48.400
need to retrieve the x and y-coordinates
of the touch event then in action move

00:05:48.400 --> 00:05:48.410
of the touch event then in action move
 

00:05:48.410 --> 00:05:51.070
of the touch event then in action move
this is where I actually move the hover

00:05:51.070 --> 00:05:51.080
this is where I actually move the hover
 

00:05:51.080 --> 00:05:53.490
this is where I actually move the hover
cell in response to the user touches

00:05:53.490 --> 00:05:53.500
cell in response to the user touches
 

00:05:53.500 --> 00:05:57.490
cell in response to the user touches
firstly I I calculate the Delta in by

00:05:57.490 --> 00:05:57.500
firstly I I calculate the Delta in by
 

00:05:57.500 --> 00:05:59.110
firstly I I calculate the Delta in by
how much the user has already moved his

00:05:59.110 --> 00:05:59.120
how much the user has already moved his
 

00:05:59.120 --> 00:06:02.170
how much the user has already moved his
or her finger and then if I am indeed in

00:06:02.170 --> 00:06:02.180
or her finger and then if I am indeed in
 

00:06:02.180 --> 00:06:04.390
or her finger and then if I am indeed in
a dragging event then I need to offset

00:06:04.390 --> 00:06:04.400
a dragging event then I need to offset
 

00:06:04.400 --> 00:06:07.330
a dragging event then I need to offset
the balance of my hover cell so here I

00:06:07.330 --> 00:06:07.340
the balance of my hover cell so here I
 

00:06:07.340 --> 00:06:09.280
the balance of my hover cell so here I
also the balance I updated balance event

00:06:09.280 --> 00:06:09.290
also the balance I updated balance event
 

00:06:09.290 --> 00:06:10.810
also the balance I updated balance event
I call invalidate which will call

00:06:10.810 --> 00:06:10.820
I call invalidate which will call
 

00:06:10.820 --> 00:06:13.240
I call invalidate which will call
dispatch draw draw the ListView and then

00:06:13.240 --> 00:06:13.250
dispatch draw draw the ListView and then
 

00:06:13.250 --> 00:06:15.700
dispatch draw draw the ListView and then
draw the hover so on top of it the other

00:06:15.700 --> 00:06:15.710
draw the hover so on top of it the other
 

00:06:15.710 --> 00:06:17.320
draw the hover so on top of it the other
thing I need to do is call handle cell

00:06:17.320 --> 00:06:17.330
thing I need to do is call handle cell
 

00:06:17.330 --> 00:06:19.570
thing I need to do is call handle cell
switch which is where the logic for

00:06:19.570 --> 00:06:19.580
switch which is where the logic for
 

00:06:19.580 --> 00:06:21.520
switch which is where the logic for
determining whether an item cells swap

00:06:21.520 --> 00:06:21.530
determining whether an item cells swap
 

00:06:21.530 --> 00:06:24.730
determining whether an item cells swap
is going to take place the way this

00:06:24.730 --> 00:06:24.740
is going to take place the way this
 

00:06:24.740 --> 00:06:27.370
is going to take place the way this
works is I have a couple boolean's that

00:06:27.370 --> 00:06:27.380
works is I have a couple boolean's that
 

00:06:27.380 --> 00:06:29.680
works is I have a couple boolean's that
determine whether or not my moving sell

00:06:29.680 --> 00:06:29.690
determine whether or not my moving sell
 

00:06:29.690 --> 00:06:32.200
determine whether or not my moving sell
my bitmap drawable has been shifted up

00:06:32.200 --> 00:06:32.210
my bitmap drawable has been shifted up
 

00:06:32.210 --> 00:06:34.240
my bitmap drawable has been shifted up
or downwards enough to actually

00:06:34.240 --> 00:06:34.250
or downwards enough to actually
 

00:06:34.250 --> 00:06:36.850
or downwards enough to actually
completely overlap the cell that's above

00:06:36.850 --> 00:06:36.860
completely overlap the cell that's above
 

00:06:36.860 --> 00:06:39.080
completely overlap the cell that's above
or below it if that is the case

00:06:39.080 --> 00:06:39.090
or below it if that is the case
 

00:06:39.090 --> 00:06:40.640
or below it if that is the case
then I determine whether or not it was

00:06:40.640 --> 00:06:40.650
then I determine whether or not it was
 

00:06:40.650 --> 00:06:42.230
then I determine whether or not it was
indeed moved up or moved down and

00:06:42.230 --> 00:06:42.240
indeed moved up or moved down and
 

00:06:42.240 --> 00:06:44.629
indeed moved up or moved down and
retrieve the item ID corresponding to

00:06:44.629 --> 00:06:44.639
retrieve the item ID corresponding to
 

00:06:44.639 --> 00:06:47.720
retrieve the item ID corresponding to
the cell which will be swapped after I

00:06:47.720 --> 00:06:47.730
the cell which will be swapped after I
 

00:06:47.730 --> 00:06:51.530
the cell which will be swapped after I
do that I need to swab the elements in

00:06:51.530 --> 00:06:51.540
do that I need to swab the elements in
 

00:06:51.540 --> 00:06:53.050
do that I need to swab the elements in
the underlying data set change and

00:06:53.050 --> 00:06:53.060
the underlying data set change and
 

00:06:53.060 --> 00:06:55.970
the underlying data set change and
notify the adapter that data has in the

00:06:55.970 --> 00:06:55.980
notify the adapter that data has in the
 

00:06:55.980 --> 00:06:58.760
notify the adapter that data has in the
beach and deed been changed so what's

00:06:58.760 --> 00:06:58.770
beach and deed been changed so what's
 

00:06:58.770 --> 00:07:00.110
beach and deed been changed so what's
going to happen when the notify data set

00:07:00.110 --> 00:07:00.120
going to happen when the notify data set
 

00:07:00.120 --> 00:07:02.300
going to happen when the notify data set
change method is called is that the

00:07:02.300 --> 00:07:02.310
change method is called is that the
 

00:07:02.310 --> 00:07:05.030
change method is called is that the
ListView knows that the data is

00:07:05.030 --> 00:07:05.040
ListView knows that the data is
 

00:07:05.040 --> 00:07:06.409
ListView knows that the data is
different so it's going to invoke a

00:07:06.409 --> 00:07:06.419
different so it's going to invoke a
 

00:07:06.419 --> 00:07:09.290
different so it's going to invoke a
layout and everything in the list will

00:07:09.290 --> 00:07:09.300
layout and everything in the list will
 

00:07:09.300 --> 00:07:11.719
layout and everything in the list will
be redrawn before I do that I want to

00:07:11.719 --> 00:07:11.729
be redrawn before I do that I want to
 

00:07:11.729 --> 00:07:14.840
be redrawn before I do that I want to
make sure that the cells that I need to

00:07:14.840 --> 00:07:14.850
make sure that the cells that I need to
 

00:07:14.850 --> 00:07:16.760
make sure that the cells that I need to
be visible or invisible while the cell

00:07:16.760 --> 00:07:16.770
be visible or invisible while the cell
 

00:07:16.770 --> 00:07:18.260
be visible or invisible while the cell
that is still in the swapping in the

00:07:18.260 --> 00:07:18.270
that is still in the swapping in the
 

00:07:18.270 --> 00:07:20.270
that is still in the swapping in the
dragon event is still invisible so I

00:07:20.270 --> 00:07:20.280
dragon event is still invisible so I
 

00:07:20.280 --> 00:07:22.700
dragon event is still invisible so I
update those here and then I also update

00:07:22.700 --> 00:07:22.710
update those here and then I also update
 

00:07:22.710 --> 00:07:25.340
update those here and then I also update
my above and below view because now that

00:07:25.340 --> 00:07:25.350
my above and below view because now that
 

00:07:25.350 --> 00:07:27.170
my above and below view because now that
I saw swap hasn't yet occurred in the

00:07:27.170 --> 00:07:27.180
I saw swap hasn't yet occurred in the
 

00:07:27.180 --> 00:07:28.730
I saw swap hasn't yet occurred in the
data set

00:07:28.730 --> 00:07:28.740
data set
 

00:07:28.740 --> 00:07:31.520
data set
the one either either the cell above it

00:07:31.520 --> 00:07:31.530
the one either either the cell above it
 

00:07:31.530 --> 00:07:35.060
the one either either the cell above it
or below it is now different okay and

00:07:35.060 --> 00:07:35.070
or below it is now different okay and
 

00:07:35.070 --> 00:07:37.040
or below it is now different okay and
now the most important thing here to

00:07:37.040 --> 00:07:37.050
now the most important thing here to
 

00:07:37.050 --> 00:07:38.780
now the most important thing here to
actually have the cell animate into

00:07:38.780 --> 00:07:38.790
actually have the cell animate into
 

00:07:38.790 --> 00:07:40.610
actually have the cell animate into
place when a data so I've changed when a

00:07:40.610 --> 00:07:40.620
place when a data so I've changed when a
 

00:07:40.620 --> 00:07:42.920
place when a data so I've changed when a
data set change has occurred is on

00:07:42.920 --> 00:07:42.930
data set change has occurred is on
 

00:07:42.930 --> 00:07:45.290
data set change has occurred is on
pre-draw listener so what on pregel

00:07:45.290 --> 00:07:45.300
pre-draw listener so what on pregel
 

00:07:45.300 --> 00:07:47.060
pre-draw listener so what on pregel
listener does is give you a call back

00:07:47.060 --> 00:07:47.070
listener does is give you a call back
 

00:07:47.070 --> 00:07:50.840
listener does is give you a call back
where after on layout on measure and

00:07:50.840 --> 00:07:50.850
where after on layout on measure and
 

00:07:50.850 --> 00:07:52.460
where after on layout on measure and
only that i've been called so after all

00:07:52.460 --> 00:07:52.470
only that i've been called so after all
 

00:07:52.470 --> 00:07:55.100
only that i've been called so after all
the values for all of your of your views

00:07:55.100 --> 00:07:55.110
the values for all of your of your views
 

00:07:55.110 --> 00:07:56.450
the values for all of your of your views
all of your widget on screen have

00:07:56.450 --> 00:07:56.460
all of your widget on screen have
 

00:07:56.460 --> 00:07:59.659
all of your widget on screen have
already been updated but on draw has not

00:07:59.659 --> 00:07:59.669
already been updated but on draw has not
 

00:07:59.669 --> 00:08:01.550
already been updated but on draw has not
yet been called what this gives what

00:08:01.550 --> 00:08:01.560
yet been called what this gives what
 

00:08:01.560 --> 00:08:04.279
yet been called what this gives what
this lets you do is essentially it gives

00:08:04.279 --> 00:08:04.289
this lets you do is essentially it gives
 

00:08:04.289 --> 00:08:06.050
this lets you do is essentially it gives
you the power to access all the final

00:08:06.050 --> 00:08:06.060
you the power to access all the final
 

00:08:06.060 --> 00:08:07.909
you the power to access all the final
values that all the widgets will have

00:08:07.909 --> 00:08:07.919
values that all the widgets will have
 

00:08:07.919 --> 00:08:09.770
values that all the widgets will have
but before they've actually been drawn

00:08:09.770 --> 00:08:09.780
but before they've actually been drawn
 

00:08:09.780 --> 00:08:11.540
but before they've actually been drawn
onto the screen so you can do some

00:08:11.540 --> 00:08:11.550
onto the screen so you can do some
 

00:08:11.550 --> 00:08:13.370
onto the screen so you can do some
custom drawing here given the final

00:08:13.370 --> 00:08:13.380
custom drawing here given the final
 

00:08:13.380 --> 00:08:16.879
custom drawing here given the final
values and then once once this complete

00:08:16.879 --> 00:08:16.889
values and then once once this complete
 

00:08:16.889 --> 00:08:21.290
values and then once once this complete
you can let the you can return true for

00:08:21.290 --> 00:08:21.300
you can let the you can return true for
 

00:08:21.300 --> 00:08:23.300
you can let the you can return true for
all the cost and drop all the other

00:08:23.300 --> 00:08:23.310
all the cost and drop all the other
 

00:08:23.310 --> 00:08:24.980
all the cost and drop all the other
default drawing to actually take place

00:08:24.980 --> 00:08:24.990
default drawing to actually take place
 

00:08:24.990 --> 00:08:28.010
default drawing to actually take place
so now in on pre draw the important that

00:08:28.010 --> 00:08:28.020
so now in on pre draw the important that
 

00:08:28.020 --> 00:08:29.029
so now in on pre draw the important that
you always want to remove preacher

00:08:29.029 --> 00:08:29.039
you always want to remove preacher
 

00:08:29.039 --> 00:08:30.680
you always want to remove preacher
listener if you only want to get in here

00:08:30.680 --> 00:08:30.690
listener if you only want to get in here
 

00:08:30.690 --> 00:08:34.339
listener if you only want to get in here
once you and then what you want to do is

00:08:34.339 --> 00:08:34.349
once you and then what you want to do is
 

00:08:34.349 --> 00:08:36.769
once you and then what you want to do is
grab the cell that's being swapped not

00:08:36.769 --> 00:08:36.779
grab the cell that's being swapped not
 

00:08:36.779 --> 00:08:38.029
grab the cell that's being swapped not
the cell you're dragging but the cell

00:08:38.029 --> 00:08:38.039
the cell you're dragging but the cell
 

00:08:38.039 --> 00:08:39.409
the cell you're dragging but the cell
that's going to swap into the new place

00:08:39.409 --> 00:08:39.419
that's going to swap into the new place
 

00:08:39.419 --> 00:08:42.380
that's going to swap into the new place
you off set up by Delta Y because you

00:08:42.380 --> 00:08:42.390
you off set up by Delta Y because you
 

00:08:42.390 --> 00:08:44.180
you off set up by Delta Y because you
know that it's currently in its final

00:08:44.180 --> 00:08:44.190
know that it's currently in its final
 

00:08:44.190 --> 00:08:45.560
know that it's currently in its final
position but you want it to be in its

00:08:45.560 --> 00:08:45.570
position but you want it to be in its
 

00:08:45.570 --> 00:08:47.180
position but you want it to be in its
old position prior to the data set

00:08:47.180 --> 00:08:47.190
old position prior to the data set
 

00:08:47.190 --> 00:08:50.480
old position prior to the data set
change so we calculate this Delta Y we

00:08:50.480 --> 00:08:50.490
change so we calculate this Delta Y we
 

00:08:50.490 --> 00:08:52.010
change so we calculate this Delta Y we
said that to be the translation

00:08:52.010 --> 00:08:52.020
said that to be the translation
 

00:08:52.020 --> 00:08:53.630
said that to be the translation
and then we simply use an object

00:08:53.630 --> 00:08:53.640
and then we simply use an object
 

00:08:53.640 --> 00:08:56.060
and then we simply use an object
animator to animate the translation

00:08:56.060 --> 00:08:56.070
animator to animate the translation
 

00:08:56.070 --> 00:08:58.580
animator to animate the translation
while back to zero with some duration so

00:08:58.580 --> 00:08:58.590
while back to zero with some duration so
 

00:08:58.590 --> 00:08:59.990
while back to zero with some duration so
as you saw in the demo this will

00:08:59.990 --> 00:09:00.000
as you saw in the demo this will
 

00:09:00.000 --> 00:09:01.640
as you saw in the demo this will
actually achieve that sliding effect

00:09:01.640 --> 00:09:01.650
actually achieve that sliding effect
 

00:09:01.650 --> 00:09:04.060
actually achieve that sliding effect
when a dataset change has occurred

00:09:04.060 --> 00:09:04.070
when a dataset change has occurred
 

00:09:04.070 --> 00:09:06.410
when a dataset change has occurred
scrolling down furthermore we have swap

00:09:06.410 --> 00:09:06.420
scrolling down furthermore we have swap
 

00:09:06.420 --> 00:09:08.030
scrolling down furthermore we have swap
elements which is a simple method

00:09:08.030 --> 00:09:08.040
elements which is a simple method
 

00:09:08.040 --> 00:09:09.880
elements which is a simple method
swapping the underlying data set and

00:09:09.880 --> 00:09:09.890
swapping the underlying data set and
 

00:09:09.890 --> 00:09:12.950
swapping the underlying data set and
then touches event ended the only

00:09:12.950 --> 00:09:12.960
then touches event ended the only
 

00:09:12.960 --> 00:09:15.650
then touches event ended the only
important thing to note here is this

00:09:15.650 --> 00:09:15.660
important thing to note here is this
 

00:09:15.660 --> 00:09:17.810
important thing to note here is this
object animator that we create and all

00:09:17.810 --> 00:09:17.820
object animator that we create and all
 

00:09:17.820 --> 00:09:20.210
object animator that we create and all
this does is animate the bitmap drawable

00:09:20.210 --> 00:09:20.220
this does is animate the bitmap drawable
 

00:09:20.220 --> 00:09:22.160
this does is animate the bitmap drawable
back into its correct position in the

00:09:22.160 --> 00:09:22.170
back into its correct position in the
 

00:09:22.170 --> 00:09:24.620
back into its correct position in the
ListView when a user has lifted his

00:09:24.620 --> 00:09:24.630
ListView when a user has lifted his
 

00:09:24.630 --> 00:09:28.280
ListView when a user has lifted his
finger up from the from the phone as

00:09:28.280 --> 00:09:28.290
finger up from the from the phone as
 

00:09:28.290 --> 00:09:31.340
finger up from the from the phone as
well as reset all our default values

00:09:31.340 --> 00:09:31.350
well as reset all our default values
 

00:09:31.350 --> 00:09:34.100
well as reset all our default values
back to reset all our variables back to

00:09:34.100 --> 00:09:34.110
back to reset all our variables back to
 

00:09:34.110 --> 00:09:35.590
back to reset all our variables back to
their default values

00:09:35.590 --> 00:09:35.600
their default values
 

00:09:35.600 --> 00:09:39.770
their default values
the other important thing that um that

00:09:39.770 --> 00:09:39.780
the other important thing that um that
 

00:09:39.780 --> 00:09:41.180
the other important thing that um that
was really tricked to do is determining

00:09:41.180 --> 00:09:41.190
was really tricked to do is determining
 

00:09:41.190 --> 00:09:43.220
was really tricked to do is determining
how we can actually have the list you

00:09:43.220 --> 00:09:43.230
how we can actually have the list you
 

00:09:43.230 --> 00:09:45.380
how we can actually have the list you
scroll while you're dragging a cell and

00:09:45.380 --> 00:09:45.390
scroll while you're dragging a cell and
 

00:09:45.390 --> 00:09:48.080
scroll while you're dragging a cell and
making sure that all the up and above

00:09:48.080 --> 00:09:48.090
making sure that all the up and above
 

00:09:48.090 --> 00:09:50.720
making sure that all the up and above
and below item IDs get updated as we

00:09:50.720 --> 00:09:50.730
and below item IDs get updated as we
 

00:09:50.730 --> 00:09:53.930
and below item IDs get updated as we
need them to so here in handle mobile

00:09:53.930 --> 00:09:53.940
need them to so here in handle mobile
 

00:09:53.940 --> 00:09:56.960
need them to so here in handle mobile
scroll is a method that gets called when

00:09:56.960 --> 00:09:56.970
scroll is a method that gets called when
 

00:09:56.970 --> 00:10:00.560
scroll is a method that gets called when
we so handle mobile cell Scrolls and I

00:10:00.560 --> 00:10:00.570
we so handle mobile cell Scrolls and I
 

00:10:00.570 --> 00:10:01.730
we so handle mobile cell Scrolls and I
think it's that gets called every single

00:10:01.730 --> 00:10:01.740
think it's that gets called every single
 

00:10:01.740 --> 00:10:05.150
think it's that gets called every single
time the user moves his finger and that

00:10:05.150 --> 00:10:05.160
time the user moves his finger and that
 

00:10:05.160 --> 00:10:07.160
time the user moves his finger and that
calls this method here all this does is

00:10:07.160 --> 00:10:07.170
calls this method here all this does is
 

00:10:07.170 --> 00:10:09.920
calls this method here all this does is
use a few methods available in view to

00:10:09.920 --> 00:10:09.930
use a few methods available in view to
 

00:10:09.930 --> 00:10:12.500
use a few methods available in view to
determine whether or not the bounds of

00:10:12.500 --> 00:10:12.510
determine whether or not the bounds of
 

00:10:12.510 --> 00:10:14.780
determine whether or not the bounds of
the hover cell are either below or above

00:10:14.780 --> 00:10:14.790
the hover cell are either below or above
 

00:10:14.790 --> 00:10:17.690
the hover cell are either below or above
the bounds of the ListView if that is

00:10:17.690 --> 00:10:17.700
the bounds of the ListView if that is
 

00:10:17.700 --> 00:10:19.430
the bounds of the ListView if that is
the case then we'll call smooth scroll

00:10:19.430 --> 00:10:19.440
the case then we'll call smooth scroll
 

00:10:19.440 --> 00:10:22.370
the case then we'll call smooth scroll
by either up or downwards and return

00:10:22.370 --> 00:10:22.380
by either up or downwards and return
 

00:10:22.380 --> 00:10:24.620
by either up or downwards and return
true and by returning through what we're

00:10:24.620 --> 00:10:24.630
true and by returning through what we're
 

00:10:24.630 --> 00:10:26.420
true and by returning through what we're
saying is that we are in a scrolling

00:10:26.420 --> 00:10:26.430
saying is that we are in a scrolling
 

00:10:26.430 --> 00:10:29.210
saying is that we are in a scrolling
state in a manual scrolling set created

00:10:29.210 --> 00:10:29.220
state in a manual scrolling set created
 

00:10:29.220 --> 00:10:30.920
state in a manual scrolling set created
by the fact that the bounds are outside

00:10:30.920 --> 00:10:30.930
by the fact that the bounds are outside
 

00:10:30.930 --> 00:10:33.410
by the fact that the bounds are outside
the bounds of the ListView and if that

00:10:33.410 --> 00:10:33.420
the bounds of the ListView and if that
 

00:10:33.420 --> 00:10:35.480
the bounds of the ListView and if that
is true then we'll know that after a

00:10:35.480 --> 00:10:35.490
is true then we'll know that after a
 

00:10:35.490 --> 00:10:37.370
is true then we'll know that after a
scroll has completed we should continue

00:10:37.370 --> 00:10:37.380
scroll has completed we should continue
 

00:10:37.380 --> 00:10:38.870
scroll has completed we should continue
scrolling because we're still in this

00:10:38.870 --> 00:10:38.880
scrolling because we're still in this
 

00:10:38.880 --> 00:10:42.140
scrolling because we're still in this
manual scrolling state invoked by by the

00:10:42.140 --> 00:10:42.150
manual scrolling state invoked by by the
 

00:10:42.150 --> 00:10:44.900
manual scrolling state invoked by by the
bounds of the hover cell so in order to

00:10:44.900 --> 00:10:44.910
bounds of the hover cell so in order to
 

00:10:44.910 --> 00:10:46.670
bounds of the hover cell so in order to
do that we add the scroll listener right

00:10:46.670 --> 00:10:46.680
do that we add the scroll listener right
 

00:10:46.680 --> 00:10:49.130
do that we add the scroll listener right
here and what that does is every single

00:10:49.130 --> 00:10:49.140
here and what that does is every single
 

00:10:49.140 --> 00:10:51.140
here and what that does is every single
time an own scroll event has change has

00:10:51.140 --> 00:10:51.150
time an own scroll event has change has
 

00:10:51.150 --> 00:10:53.750
time an own scroll event has change has
has taken place it checks whether the

00:10:53.750 --> 00:10:53.760
has taken place it checks whether the
 

00:10:53.760 --> 00:10:55.790
has taken place it checks whether the
first or a last visible cell in the

00:10:55.790 --> 00:10:55.800
first or a last visible cell in the
 

00:10:55.800 --> 00:10:57.830
first or a last visible cell in the
ListView has been updated if that's the

00:10:57.830 --> 00:10:57.840
ListView has been updated if that's the
 

00:10:57.840 --> 00:10:59.600
ListView has been updated if that's the
case then that means that that new first

00:10:59.600 --> 00:10:59.610
case then that means that that new first
 

00:10:59.610 --> 00:11:01.760
case then that means that that new first
or last item is a potential candidate

00:11:01.760 --> 00:11:01.770
or last item is a potential candidate
 

00:11:01.770 --> 00:11:05.420
or last item is a potential candidate
for an above or below cell to be swapped

00:11:05.420 --> 00:11:05.430
for an above or below cell to be swapped
 

00:11:05.430 --> 00:11:06.889
for an above or below cell to be swapped
that means that we're going to change

00:11:06.889 --> 00:11:06.899
that means that we're going to change
 

00:11:06.899 --> 00:11:10.070
that means that we're going to change
those above and below item IDs so we

00:11:10.070 --> 00:11:10.080
those above and below item IDs so we
 

00:11:10.080 --> 00:11:14.540
those above and below item IDs so we
call those methods here and if and after

00:11:14.540 --> 00:11:14.550
call those methods here and if and after
 

00:11:14.550 --> 00:11:16.010
call those methods here and if and after
the scroll is completed we call handle

00:11:16.010 --> 00:11:16.020
the scroll is completed we call handle
 

00:11:16.020 --> 00:11:17.960
the scroll is completed we call handle
mogul scroll once again to keep that

00:11:17.960 --> 00:11:17.970
mogul scroll once again to keep that
 

00:11:17.970 --> 00:11:21.500
mogul scroll once again to keep that
scrolling event continuing and keep

00:11:21.500 --> 00:11:21.510
scrolling event continuing and keep
 

00:11:21.510 --> 00:11:23.510
scrolling event continuing and keep
calling smooth scroll by as long as the

00:11:23.510 --> 00:11:23.520
calling smooth scroll by as long as the
 

00:11:23.520 --> 00:11:25.220
calling smooth scroll by as long as the
balance are outside the bounds of the

00:11:25.220 --> 00:11:25.230
balance are outside the bounds of the
 

00:11:25.230 --> 00:11:26.990
balance are outside the bounds of the
listing

00:11:26.990 --> 00:11:27.000
listing
 

00:11:27.000 --> 00:11:29.329
listing
yep so pretty much you can look at the

00:11:29.329 --> 00:11:29.339
yep so pretty much you can look at the
 

00:11:29.339 --> 00:11:30.889
yep so pretty much you can look at the
code if you want for if you want to see

00:11:30.889 --> 00:11:30.899
code if you want for if you want to see
 

00:11:30.899 --> 00:11:33.620
code if you want for if you want to see
any more detail but this is a very you

00:11:33.620 --> 00:11:33.630
any more detail but this is a very you
 

00:11:33.630 --> 00:11:35.240
any more detail but this is a very you
can take dynamic list you extend it

00:11:35.240 --> 00:11:35.250
can take dynamic list you extend it
 

00:11:35.250 --> 00:11:36.800
can take dynamic list you extend it
including your project and that's how

00:11:36.800 --> 00:11:36.810
including your project and that's how
 

00:11:36.810 --> 00:11:39.440
including your project and that's how
you can achieve a ListView which can

00:11:39.440 --> 00:11:39.450
you can achieve a ListView which can
 

00:11:39.450 --> 00:11:41.389
you can achieve a ListView which can
then be dynamically rearranged using

00:11:41.389 --> 00:11:41.399
then be dynamically rearranged using
 

00:11:41.399 --> 00:11:44.779
then be dynamically rearranged using
user touch events thanks

