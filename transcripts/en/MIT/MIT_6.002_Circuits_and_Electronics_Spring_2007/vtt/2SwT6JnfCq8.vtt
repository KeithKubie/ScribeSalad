WEBVTT
Kind: captions
Language: en

00:00:17.000 --> 00:00:20.153
All right.
Good morning.

00:00:20.153 --> 00:00:26.459
Let's get going.
In today's lecture we continue

00:00:26.459 --> 00:00:34.000
with the operational amplifier,
"op amp" for short.

00:00:34.000 --> 00:00:40.105
And what we are going to do is
just build up a bunch of fun

00:00:40.105 --> 00:00:43.473
building blocks using the op
amp.

00:00:43.473 --> 00:00:46.000
As a quick review --

00:00:57.000 --> 00:01:01.000
To quickly review what we've
seen about the op amp --

00:01:09.000 --> 00:01:16.807
We represented the op amp as a
device that looked like this

00:01:16.807 --> 00:01:23.134
where the amplifier had an
incredibly high gain.

00:01:23.134 --> 00:01:30.000
So, if I had a small voltage
difference here --

00:01:30.000 --> 00:01:34.624
I call this v plus and this v
minus with respect to ground.

00:01:34.624 --> 00:01:39.248
And if I had a small voltage
difference then this gain here

00:01:39.248 --> 00:01:43.872
would multiply the difference by
a large number and thereby

00:01:43.872 --> 00:01:48.576
giving me an output that was on
the order of a million times

00:01:48.576 --> 00:01:53.280
greater than this difference.
And because of that when I use

00:01:53.280 --> 00:01:57.984
the op amp in a mode like this
without any negative feedback

00:01:57.984 --> 00:02:02.767
the output would usually crank
up to the positive rail or the

00:02:02.767 --> 00:02:07.664
negative rail.
We also saw that it had

00:02:07.664 --> 00:02:14.613
infinite input resistance so
that the current flowing in here

00:02:14.613 --> 00:02:20.637
or here was zero and also had
zero output resistance.

00:02:20.637 --> 00:02:27.123
This is my ideal op amp where
irrespective of what load I

00:02:27.123 --> 00:02:35.000
connect here the op amp would
supply pretty much any current.

00:02:35.000 --> 00:02:38.405
Now, in practical op amps
that's not the case.

00:02:38.405 --> 00:02:42.794
But suffice it to say that when
used as an ideal op amp the

00:02:42.794 --> 00:02:46.351
output impedance,
the output resistance is going

00:02:46.351 --> 00:02:49.454
to be zero.
The op amp is a huge workhorse

00:02:49.454 --> 00:02:53.540
of the analog industry.
You will see based both on what

00:02:53.540 --> 00:02:57.702
you've done on Tuesday and
Wednesday but also today that

00:02:57.702 --> 00:03:03.000
it's very, very simple to build
circuits using the op amp.

00:03:03.000 --> 00:03:07.188
When you use the amplifier,
you don't have to worry about

00:03:07.188 --> 00:03:11.675
things like nonlinear analysis.
You don't have to worry about

00:03:11.675 --> 00:03:16.462
am I really meeting the criteria
for saturation limits and so on?

00:03:16.462 --> 00:03:20.501
To some extent you have to
think about that with the op

00:03:20.501 --> 00:03:24.689
amp, too, because if the output
hits the positive rail or

00:03:24.689 --> 00:03:30.000
negative rail it isn't going to
behave like you expect it to.

00:03:30.000 --> 00:03:33.315
But fundamentally with this
primitive model,

00:03:33.315 --> 00:03:37.709
this idea model it becomes
really simple to build circuits

00:03:37.709 --> 00:03:41.179
with the op amp.
Therefore it has become a key

00:03:41.179 --> 00:03:45.496
building block for circuits.
When circuit designers build

00:03:45.496 --> 00:03:50.199
analog circuits very often their
primitive building blocks are

00:03:50.199 --> 00:03:53.514
really an amplifier of this
sort, an op amp,

00:03:53.514 --> 00:03:58.217
resistors, capacitors and some
of our other primitive building

00:03:58.217 --> 00:04:01.301
elements.
If you look at the course notes

00:04:01.301 --> 00:04:05.834
the readings are --
There are a bunch of examples

00:04:05.834 --> 00:04:09.123
solved in Chapter 16.
And you will see that using the

00:04:09.123 --> 00:04:13.045
op amp it is indeed possible to
build current sources that look

00:04:13.045 --> 00:04:15.512
like more or less ideal current
sources.

00:04:15.512 --> 00:04:18.927
It is also possible to build
voltage sources and so on.

00:04:18.927 --> 00:04:22.343
It is an incredibly neat
building block using which you

00:04:22.343 --> 00:04:25.000
can do all kinds of cool stuff.

00:04:33.000 --> 00:04:38.886
In this course you will see a
whole bunch of example circuits

00:04:38.886 --> 00:04:43.594
using the op amp.
In today's lecture you will see

00:04:43.594 --> 00:04:48.892
things like a subtractor.
You will also see integrators

00:04:48.892 --> 00:04:53.012
and a differentiator.
And then in your lab,

00:04:53.012 --> 00:04:58.604
lab four, you will build a
really fun mixed signal circuit

00:04:58.604 --> 00:05:04.000
involving both digital and
analog components.

00:05:04.000 --> 00:05:09.409
And you will build what is
called a digital to an analog

00:05:09.409 --> 00:05:14.918
converter using the op amp.
And of course I can build all

00:05:14.918 --> 00:05:19.737
our good-old amplifiers and
circuits of that sort.

00:05:19.737 --> 00:05:24.852
In a later lecture you will
also see how we can build

00:05:24.852 --> 00:05:30.045
filters using an op amp.
This is going to be using the

00:05:30.045 --> 00:05:33.713
knowledge you learn in terms of
connecting resistors,

00:05:33.713 --> 00:05:37.522
capacitors and inductors
together and doing a frequency

00:05:37.522 --> 00:05:40.838
domain analysis,
well we can throw the op amp in

00:05:40.838 --> 00:05:42.813
there and build filters,
too.

00:05:42.813 --> 00:05:46.904
This is just to give you a
preview of upcoming attractions.

00:05:46.904 --> 00:05:50.219
For today I am going to focus
on these circuits.

00:05:50.219 --> 00:05:53.817
I won't be covering any new
theory or any new set of

00:05:53.817 --> 00:05:58.049
foundations but pretty much take
the simple properties that I

00:05:58.049 --> 00:06:02.000
have explained to you about the
op amp.

00:06:02.000 --> 00:06:07.314
And using those simple
properties very quickly build up

00:06:07.314 --> 00:06:13.120
a bunch of circuits that you can
use to analyze signals in a

00:06:13.120 --> 00:06:17.647
variety of ways.
Let's start with the following

00:06:17.647 --> 00:06:21.387
circuit.
With op amps I start with this

00:06:21.387 --> 00:06:25.225
little guy.
And what I am going to do is

00:06:25.225 --> 00:06:30.244
use two voltage sources,
v1, and this is a resistor,

00:06:30.244 --> 00:06:34.408
not an inductor.
And value R1,

00:06:34.408 --> 00:06:38.633
value R2.
So, I have a voltage connected

00:06:38.633 --> 00:06:42.966
by a divider,
voltage divider to the plus

00:06:42.966 --> 00:06:46.866
input.
And I am going to provide some

00:06:46.866 --> 00:06:50.983
negative feedback in the
following way.

00:06:50.983 --> 00:06:56.291
This is going to be R2,
the same as this one here,

00:06:56.291 --> 00:07:01.655
a resistor R1.
And then a voltage source v2

00:07:01.655 --> 00:07:05.732
that I connect out here.
So notice that- Oh,

00:07:05.732 --> 00:07:09.051
and I take the output vOUT out
here.

00:07:09.051 --> 00:07:13.698
And that vOUT of course is with
respect to ground,

00:07:13.698 --> 00:07:18.060
and R2, v1 and v2 are also
connected to ground.

00:07:18.060 --> 00:07:22.801
What I am going to do is
analyze the circuit it two

00:07:22.801 --> 00:07:26.879
different ways,
and as I analyze it describe

00:07:26.879 --> 00:07:32.000
some other interesting
properties to you.

00:07:32.000 --> 00:07:35.485
In the last lecture the
technique I used to analyze op

00:07:35.485 --> 00:07:39.628
amps was one in which I replaced
the op amp with its ideal model

00:07:39.628 --> 00:07:43.639
involving a dependent source and
so on with a large gain A and

00:07:43.639 --> 00:07:46.467
showed that.
I wrote the expression and then

00:07:46.467 --> 00:07:50.609
I let A increase to infinity to
the limits and got an expression

00:07:50.609 --> 00:07:53.766
that was independent of A.
And then in recitation

00:07:53.766 --> 00:07:57.975
yesterday you would have covered
another technique which makes it

00:07:57.975 --> 00:08:04.120
much simpler to analyze op amps.
Let me very quickly review that

00:08:04.120 --> 00:08:07.844
method.
We fondly call that technique,

00:08:07.844 --> 00:08:13.983
there is no formal name for it,
but we fondly call that v plus

00:08:13.983 --> 00:08:17.607
more or less equal to v minus
method.

00:08:17.607 --> 00:08:23.746
This is also variously called
the virtual ground method and so

00:08:23.746 --> 00:08:29.584
on, but we shall call it the v
plus more or less equal to v

00:08:29.584 --> 00:08:33.705
minus method.
The insight here is that

00:08:33.705 --> 00:08:37.757
whenever I use the op amp in a
way in which I am giving it

00:08:37.757 --> 00:08:41.240
negative feedback,
so I am feeding some portion of

00:08:41.240 --> 00:08:43.514
the output to its negative
input.

00:08:43.514 --> 00:08:45.789
I am giving it negative
feedback.

00:08:45.789 --> 00:08:49.058
That's one property.
Second property is that my

00:08:49.058 --> 00:08:52.328
inputs, v1 and v2,
and my resistance values are

00:08:52.328 --> 00:08:55.740
chosen such that the output is
not in saturation.

00:08:55.740 --> 00:09:01.000
So, the op amp is not at the
plus VS rail or minus VS rail.

00:09:01.000 --> 00:09:05.748
Rather it's somewhere in the
middle in its active region.

00:09:05.748 --> 00:09:10.921
When that happens we claim that
the v minus and v plus for the

00:09:10.921 --> 00:09:16.008
op amp are more or less equal.
And to give you some intuition

00:09:16.008 --> 00:09:20.418
as to why that is so,
let's say the output is 6 volts

00:09:20.418 --> 00:09:24.997
and my supply is plus/minus 12.
This is 6 volts and the

00:09:24.997 --> 00:09:30.000
amplifier is a gain of a
million, ten to the six.

00:09:30.000 --> 00:09:33.882
To sustain 6 volts at the
output all I need is a

00:09:33.882 --> 00:09:38.920
difference of 6 microvolts here.
Six divided by ten to the six

00:09:38.920 --> 00:09:42.554
is the difference between v plus
and v minus.

00:09:42.554 --> 00:09:44.784
It's very, very,
very small.

00:09:44.784 --> 00:09:49.823
It's so small as to make v plus
more or less equal to v minus.

00:09:49.823 --> 00:09:54.448
All it takes is a very small
differential voltage here to

00:09:54.448 --> 00:09:59.968
give you 6 volts at the output.
The key thing to observe is

00:09:59.968 --> 00:10:03.541
under negative feedback,
when the op amp is not in

00:10:03.541 --> 00:10:07.625
saturation the property that v
plus equals v minus holds.

00:10:07.625 --> 00:10:11.708
And the way it works is that
it's not that it's a magical

00:10:11.708 --> 00:10:14.552
property.
It is simply that when I apply

00:10:14.552 --> 00:10:18.854
negative feedback the negative
feedback is such that it will

00:10:18.854 --> 00:10:23.083
force this v minus node here to
be at more or less the same

00:10:23.083 --> 00:10:26.291
voltage as v plus.
Remember the when in doubt

00:10:26.291 --> 00:10:30.739
simply go back and think about
the anti lock brakes example we

00:10:30.739 --> 00:10:35.224
did last time.
For example if v plus increases

00:10:35.224 --> 00:10:39.602
the output will increase and so
will the voltage here and tend

00:10:39.602 --> 00:10:42.401
to make these two equal.
What we can do,

00:10:42.401 --> 00:10:46.062
being rather tricky here,
what we'll do is say look,

00:10:46.062 --> 00:10:50.081
if we know for a fact that
under negative feedback the op

00:10:50.081 --> 00:10:54.459
amp is going to engineer these
two node voltages to be more or

00:10:54.459 --> 00:10:58.980
less equal then why don't I just
use that fact to begin with and

00:10:58.980 --> 00:11:03.000
analyze my circuit assuming that
it's true.

00:11:03.000 --> 00:11:06.146
This is just a bit of inverted
logic here that says look,

00:11:06.146 --> 00:11:08.393
the circuit is going to make
that happen.

00:11:08.393 --> 00:11:11.595
If the circuit is going to make
that happen to analyze the

00:11:11.595 --> 00:11:14.797
circuit in its steady state,
why don't I just go ahead and

00:11:14.797 --> 00:11:17.719
assume that to begin with?
This again goes back to us

00:11:17.719 --> 00:11:21.202
wanting to be engineers here and
do whatever is simply and find

00:11:21.202 --> 00:11:23.842
the simplest possible way of
getting some place.

00:11:23.842 --> 00:11:26.707
I want to use that method,
the v plus equals v minus

00:11:26.707 --> 00:11:30.715
method.
Let me just first write down

00:11:30.715 --> 00:11:36.533
some values that I know about.
I know that v plus is simply a

00:11:36.533 --> 00:11:42.254
voltage divider relation here.
That's v1 times R2 divided by

00:11:42.254 --> 00:11:45.842
R1 plus R2.
And by the v plus equals v

00:11:45.842 --> 00:11:51.757
minus method I know that this is
going to be equal to v minus.

00:11:51.757 --> 00:11:57.575
And this is going to be true
because I am giving you negative

00:11:57.575 --> 00:12:02.378
feedback here.
And we are going to engineer

00:12:02.378 --> 00:12:06.369
the values of R1,
R2, v1 and v2 such that the op

00:12:06.369 --> 00:12:09.936
amp is not in saturation.
So, we know that.

00:12:09.936 --> 00:12:14.863
The next thing that we know,
let's say this is a current i.

00:12:14.863 --> 00:12:19.534
This current i flows here.
Know that there is no current

00:12:19.534 --> 00:12:23.101
going in here.
Op amp has an infinite input

00:12:23.101 --> 00:12:26.923
resistance so there is nothing
going in there.

00:12:26.923 --> 00:12:31.000
There is no current going in
there.

00:12:31.000 --> 00:12:35.324
If there is no current going in
here, what must happen to i?

00:12:35.324 --> 00:12:39.356
Remember, from the foundations
of the universe Maxwell's

00:12:39.356 --> 00:12:42.287
equations and therefore KVL and
KCL hold.

00:12:42.287 --> 00:12:45.513
KVL and KCL simply come
straight from nature.

00:12:45.513 --> 00:12:47.785
You and I cannot mess with
that.

00:12:47.785 --> 00:12:50.277
Bad things happen to you if you
do.

00:12:50.277 --> 00:12:52.916
So, nature, Maxwell's
equations, KVL,

00:12:52.916 --> 00:12:54.602
KCL.
It's simply nature.

00:12:54.602 --> 00:12:59.000
So, KCL applies here.
Current comes in here.

00:12:59.000 --> 00:13:01.654
Nothing goes there.
Don't argue.

00:13:01.654 --> 00:13:04.566
The current has to go here,
period.

00:13:04.566 --> 00:13:08.505
No if, ands or buts.
There is i coming in here,

00:13:08.505 --> 00:13:12.787
nothing goes there,
so that current must flow here.

00:13:12.787 --> 00:13:16.212
It has no choice.
It's from basic nature.

00:13:16.212 --> 00:13:21.008
I can write down what my
current i is going to look like.

00:13:21.008 --> 00:13:24.861
What is i going to look like?
Well, I know v2,

00:13:24.861 --> 00:13:30.000
I know v minus.
v minus is the same as v plus.

00:13:30.000 --> 00:13:33.843
And v plus is the i expression
given here.

00:13:33.843 --> 00:13:38.625
So, I can write i as v2 minus v
minus divided by R1.

00:13:38.625 --> 00:13:44.156
Let me keep track of those two
and then go ahead and compute

00:13:44.156 --> 00:13:47.437
vOUT.
So, my goal in life is compute

00:13:47.437 --> 00:13:52.500
vOUT as a function of the two
input voltages v1 and v2.

00:13:52.500 --> 00:13:58.125
And just for kicks I have gone
ahead and computed some of the

00:13:58.125 --> 00:14:03.000
intermediate node voltages and
currents.

00:14:03.000 --> 00:14:08.062
How do I write vOUT?
What is vOUT?

00:14:08.062 --> 00:14:12.818
vOUT is simply v minus from
KVL.

00:14:12.818 --> 00:14:21.715
vOUT is simply v minus minus
the drop across this resistor.

00:14:21.715 --> 00:14:30.000
So, the drop across that
resistor is simply iR2.

00:14:30.000 --> 00:14:33.098
From good-old KVL from the
first lecture,

00:14:33.098 --> 00:14:37.823
a voltage minus the drop across
the resistor is equal to vOUT.

00:14:37.823 --> 00:14:40.845
Therefore it's simply v minus
minus iR2.

00:14:40.845 --> 00:14:45.260
One thing to be very cautious
about, I will tell you right

00:14:45.260 --> 00:14:49.830
now, is that the output here
relates to the inversion of the

00:14:49.830 --> 00:14:54.556
voltage across this resistor R2.
Be very, very careful in that

00:14:54.556 --> 00:14:59.359
if I have a voltage across this
resistor here that impacts vOUT

00:14:59.359 --> 00:15:03.000
with a minus sign attached to
it.

00:15:03.000 --> 00:15:08.988
Notice that iR2 is the voltage
across R2 and vOUT relates to

00:15:08.988 --> 00:15:12.844
the negative of that.
Be very cautious.

00:15:12.844 --> 00:15:18.223
That's one of the commonest
silly mistakes I have seen

00:15:18.223 --> 00:15:22.385
people make in solving problems
like this.

00:15:22.385 --> 00:15:27.053
Let's go ahead.
I know v minus and I don't know

00:15:27.053 --> 00:15:29.997
i.
Let me substitute for i for

00:15:29.997 --> 00:15:37.000
now, and that is v2 minus v
minus divided by R1 times R2.

00:15:37.000 --> 00:15:43.500
Let me go ahead and collect all
the v minuses.

00:15:43.500 --> 00:15:51.155
v minus, I get a one here,
minus minus becomes a plus,

00:15:51.155 --> 00:15:56.788
and so I get R2 divided by R1
out there.

00:15:56.788 --> 00:16:03.000
And then I minus v2 R2 divided
by R1.

00:16:03.000 --> 00:16:08.264
That is vOUT.
Now let me go ahead and

00:16:08.264 --> 00:16:15.136
substitute for v minus.
And that is simply v1 R2

00:16:15.136 --> 00:16:20.693
divided by R1 plus R2.
That is v minus.

00:16:20.693 --> 00:16:27.419
And this character here is
simplified to be R1,

00:16:27.419 --> 00:16:34.000
R1 plus R2 minus v2 R2 divided
by R1.

00:16:34.000 --> 00:16:39.532
What do we get?
I cancel these two suckers out

00:16:39.532 --> 00:16:46.418
and what I end up with is v1 R2
divided by R1 minus v2 R2

00:16:46.418 --> 00:16:51.704
divided by R1,
which is simply R2/R1(v1-v2).

00:16:51.704 --> 00:16:58.098
What is interesting here is
that what I have ended up

00:16:58.098 --> 00:17:04.000
building is a very primitive
subtractor.

00:17:04.000 --> 00:17:08.917
So, my output relates to v1
minus v2 multiplied by the

00:17:08.917 --> 00:17:13.000
constant factor given by R2
divided by R1.

00:17:19.000 --> 00:17:22.093
Again, as I pointed out to you
at the beginning of this

00:17:22.093 --> 00:17:25.015
lecture, no knew foundations
today, no new theories,

00:17:25.015 --> 00:17:26.791
no new disciplines,
no new laws.

00:17:26.791 --> 00:17:30.000
We are just going to take what
you have learned --

00:17:30.000 --> 00:17:32.615
Three simple things,
infinite gain,

00:17:32.615 --> 00:17:36.384
infinite input resistance,
zero output resistance,

00:17:36.384 --> 00:17:39.538
plus this new thing v plus
equals v minus.

00:17:39.538 --> 00:17:44.000
And just being armed with those
four principles we are just

00:17:44.000 --> 00:17:48.076
going to charge ahead and
analyze a bunch of circuits.

00:17:48.076 --> 00:17:52.153
It is purely intellectual and
pure applications today.

00:17:52.153 --> 00:17:56.692
This is one way of doing it.
There is another way of solving

00:17:56.692 --> 00:18:00.000
it.
We can solve the circuit.

00:18:00.000 --> 00:18:04.985
Remember, whenever you see a
linear circuit and you see two

00:18:04.985 --> 00:18:09.283
sources or three sources,
just think superposition,

00:18:09.283 --> 00:18:12.206
right?
You see a linear circuit and

00:18:12.206 --> 00:18:15.730
two or three sources,
think superposition.

00:18:15.730 --> 00:18:19.856
We should be able to apply
superposition to this.

00:18:19.856 --> 00:18:23.553
The op amp is simply another
building block.

00:18:23.553 --> 00:18:27.765
It's a linear circuit.
So, let's see if we get the

00:18:27.765 --> 00:18:33.082
same answer.
Let's try to solve the circuit

00:18:33.082 --> 00:18:38.527
using superposition and see if
we get the same answer.

00:18:38.527 --> 00:18:43.972
To do superposition what I am
going to do is build two

00:18:43.972 --> 00:18:48.184
subcircuits.
One subcircuit in which v1 is

00:18:48.184 --> 00:18:52.397
zero, and that subcircuit looks
like this.

00:18:52.397 --> 00:18:58.150
If I set v1 to be zero then I
get R1 parallel R2 going to

00:18:58.150 --> 00:19:03.536
ground.
So, if v1 is set to zero then

00:19:03.536 --> 00:19:09.390
R1 goes to ground.
And I get R1 parallel R2 here.

00:19:09.390 --> 00:19:13.414
And of course I have v2 as
before.

00:19:13.414 --> 00:19:16.829
And this was R1,
this was R2,

00:19:16.829 --> 00:19:21.829
and let me call that vOUT1.
Oh, I'm sorry.

00:19:21.829 --> 00:19:28.048
Let me call it vOUT2
corresponding to that component

00:19:28.048 --> 00:19:35.000
of the output that relates to v2
acting alone.

00:19:35.000 --> 00:19:38.939
Remember superposition?
Build two subcircuits,

00:19:38.939 --> 00:19:43.929
one that depends on v2 and
another one that depends on v1.

00:19:43.929 --> 00:19:46.380
Let's do the second one,
too.

00:19:46.380 --> 00:19:51.282
Second one is v2 going to zero.
Here is my little op amp.

00:19:51.282 --> 00:19:56.360
And what I will do is simply
flip the op amp just to see if

00:19:56.360 --> 00:20:01.000
you can identify some
interesting patterns.

00:20:01.000 --> 00:20:07.568
Just flip the op amp around.
And this is v1 as before.

00:20:07.568 --> 00:20:15.376
And recall that v1 was going to
the plus node through a resistor

00:20:15.376 --> 00:20:19.465
R1.
And then I had a R2 to ground.

00:20:19.465 --> 00:20:23.679
And then let me short v2 to
ground.

00:20:23.679 --> 00:20:30.000
And when I short v2 to ground
what happens?

00:20:30.000 --> 00:20:35.619
When I short v2 to ground what
happens is that the tail of R1

00:20:35.619 --> 00:20:40.208
here goes to ground.
And so it is as if the output

00:20:40.208 --> 00:20:44.984
is connected to the node v minus
through a resistor,

00:20:44.984 --> 00:20:50.416
so it as if the output v R2 is
connected to the minus input

00:20:50.416 --> 00:20:54.631
through a resistor.
We will draw it like this.

00:20:54.631 --> 00:20:58.939
And the minus input goes
through a resistor R1,

00:20:58.939 --> 00:21:02.910
to ground.
If you thought that patterns

00:21:02.910 --> 00:21:07.072
were important in the earlier
part of the course doing voltage

00:21:07.072 --> 00:21:11.030
divider patterns and current
divider patterns and amplifier

00:21:11.030 --> 00:21:14.920
pattern, the source follower
pattern, op amps is all about

00:21:14.920 --> 00:21:17.308
patterns.
You should remember two or

00:21:17.308 --> 00:21:20.720
three simple patterns and be
able to write down the

00:21:20.720 --> 00:21:23.449
expression for those just by
observation.

00:21:23.449 --> 00:21:27.680
So, this is one common pattern
that you have seen before in the

00:21:27.680 --> 00:21:32.000
very first lecture.
And I just wrote it down in

00:21:32.000 --> 00:21:35.111
that manner.
Let me go ahead and solve this

00:21:35.111 --> 00:21:37.925
circuit.
It turns out that this is also

00:21:37.925 --> 00:21:40.888
a pattern.
I will analyze it today but in

00:21:40.888 --> 00:21:45.407
the future v2 going to this node
through R1 and then R2 to the

00:21:45.407 --> 00:21:47.925
output.
You have probably also seen

00:21:47.925 --> 00:21:52.000
this in your recitation.
This one is called an inverting

00:21:52.000 --> 00:21:55.925
connection and this one here is
called a non-inverting

00:21:55.925 --> 00:22:00.000
connection.
Let's go ahead and do vOUT2.

00:22:00.000 --> 00:22:05.015
vOUT2 is simply given by,
notice that since this is

00:22:05.015 --> 00:22:10.331
ground, no current flowing here,
this voltage is zero.

00:22:10.331 --> 00:22:15.647
If this voltage is zero,
this voltage is zero by the v

00:22:15.647 --> 00:22:19.960
plus equals v minus method.
If this is zero,

00:22:19.960 --> 00:22:25.376
the current that goes through
here is v2 divided by R1.

00:22:25.376 --> 00:22:31.294
And that same current must flow
through the resistance R2 as

00:22:31.294 --> 00:22:35.542
well.
If the current v2 divided by R1

00:22:35.542 --> 00:22:40.217
flows through this resistor,
the drop across this resistor

00:22:40.217 --> 00:22:44.236
is simply given by,
let me hide this for a second,

00:22:44.236 --> 00:22:48.255
is simply given by v2.
So, v2 divided by R1 is the

00:22:48.255 --> 00:22:50.388
current here.
This is zero.

00:22:50.388 --> 00:22:54.899
So, the drop across this
resistor is v2 R1 multiplied by

00:22:54.899 --> 00:22:57.195
R2.
That's a drop across this

00:22:57.195 --> 00:23:01.210
resistor.
This voltage is simply zero

00:23:01.210 --> 00:23:03.831
minus a drop across the
resistor.

00:23:03.831 --> 00:23:08.416
So, it's zero minus the drop
across the resistor and that

00:23:08.416 --> 00:23:11.937
gives me v2.
Again, remember this minus sign

00:23:11.937 --> 00:23:16.933
comes in when I want to convert
this to get the output voltage

00:23:16.933 --> 00:23:20.208
from that.
This is a very common pattern.

00:23:20.208 --> 00:23:24.630
It's called an inverting
connection where the output is

00:23:24.630 --> 00:23:29.625
some factor of the input voltage
and the factor is given by R2

00:23:29.625 --> 00:23:35.974
divided by R1.
Let's go ahead and analyze this

00:23:35.974 --> 00:23:39.948
guy now.
What is vOUT1 equal to?

00:23:39.948 --> 00:23:47.128
I should have called this vOUT1
because it relates to v1.

00:23:47.128 --> 00:23:50.846
vOUT1.
There is a v plus here.

00:23:50.846 --> 00:23:58.538
From our first lecture I know
that vOUT1 relates to v plus in

00:23:58.538 --> 00:24:04.916
the following way.
I know that it is v plus times

00:24:04.916 --> 00:24:08.805
the sum of the resistances
divided by R1.

00:24:08.805 --> 00:24:12.597
Based on the first lecture this
is true.

00:24:12.597 --> 00:24:17.944
vOUT1 is simply an amplified
version of v plus where the

00:24:17.944 --> 00:24:23.486
amplification factor is given by
R1 plus R2 divided by R1.

00:24:23.486 --> 00:24:30.000
And I know v plus is simply a
voltage divider action here.

00:24:30.000 --> 00:24:35.817
And I can take a simple voltage
divider action here because the

00:24:35.817 --> 00:24:40.884
current going in is zero.
Looking in here this is as if

00:24:40.884 --> 00:24:45.951
it's an infinite resistance,
so it is as if the element

00:24:45.951 --> 00:24:50.737
simply does not exist.
The voltage here is simply v1

00:24:50.737 --> 00:24:56.179
divided by R1 plus R2 multiplied
by R2, our voltage divider

00:24:56.179 --> 00:24:59.651
pattern.
So, I get v1 times R2 divided

00:24:59.651 --> 00:25:05.000
by R1 plus R2 times R1 plus R2
divided by R1.

00:25:05.000 --> 00:25:14.142
These two cancel out which
gives me vOUT1 is simply v1 R2

00:25:14.142 --> 00:25:21.163
divided by R1.
To get vOUT I add up the two.

00:25:21.163 --> 00:25:28.020
vOUT is vOUT1 plus vOUT2,
which is my goal.

00:25:28.020 --> 00:25:37.000
And that is simply v1 R2 by R1
minus v2 R2 by R1.

00:25:37.000 --> 00:25:40.973
Thankfully what we have here is
the same as here.

00:25:40.973 --> 00:25:45.774
Again, there is really nothing
new that I am going to cover

00:25:45.774 --> 00:25:47.347
today.
Simply apply,

00:25:47.347 --> 00:25:50.327
apply, apply,
four simple principles.

00:25:50.327 --> 00:25:55.377
Here I have used superposition
and I am showing you a circuit.

00:25:55.377 --> 00:26:00.344
So, it turns out with op amps
you should really remember that

00:26:00.344 --> 00:26:04.458
pattern.
You will see it again and again

00:26:04.458 --> 00:26:07.235
and again.
And each time you see it,

00:26:07.235 --> 00:26:11.835
it will save you six minutes of
having to solve the circuit

00:26:11.835 --> 00:26:16.118
without knowing the pattern.
So, remember this pattern.

00:26:16.118 --> 00:26:20.798
You can pick up another three
or four minutes by remembering

00:26:20.798 --> 00:26:24.447
this pattern here.
This pattern is simply v2 R2

00:26:24.447 --> 00:26:28.016
divided by R1.
Imprint those two patterns into

00:26:28.016 --> 00:26:32.406
your brains.
OK, so those are a couple of

00:26:32.406 --> 00:26:35.157
simple circuits using the op
amp.

00:26:35.157 --> 00:26:38.252
We built a subtractor.
The next step,

00:26:38.252 --> 00:26:42.120
let's go ahead and try to build
an integrator.

00:26:42.120 --> 00:26:47.106
Using this little building
block we can go ahead and try to

00:26:47.106 --> 00:26:51.146
build a bunch of circuits.
We can build filters,

00:26:51.146 --> 00:26:55.787
A to D converters and so on.
Let's build an integrator.

00:26:55.787 --> 00:27:00.000
Abstractly I need to build this
box.

00:27:00.000 --> 00:27:04.258
Which when fed a vI,
I want that box to integrate

00:27:04.258 --> 00:27:08.604
and give me a vO which is vI
integrated over time.

00:27:08.604 --> 00:27:13.838
That is what I want to build.
How do I go about building it?

00:27:13.838 --> 00:27:19.427
What I would like to do next is
give you some flavor for design.

00:27:19.427 --> 00:27:23.951
How do you go about designing
things with an op amp?

00:27:23.951 --> 00:27:28.653
Knowing that you do not know
the pattern for this yet,

00:27:28.653 --> 00:27:33.000
how do you go about designing
things?

00:27:33.000 --> 00:27:36.845
Well, let's start with the
following intuition.

00:27:36.845 --> 00:27:41.944
The intuition that I begin with
is that if I have a current i,

00:27:41.944 --> 00:27:46.374
and remember that capacitors
and inductors related to,

00:27:46.374 --> 00:27:51.055
you saw differentiation and
integration happening when we

00:27:51.055 --> 00:27:53.981
dealt with capacitors and
inductors.

00:27:53.981 --> 00:28:00.000
So, I think we have to invoke a
capacitor here or an inductor.

00:28:00.000 --> 00:28:04.131
In this example I invoke a
capacitor.

00:28:04.131 --> 00:28:10.327
Notice that if I stick a
capacitor in here this current

00:28:10.327 --> 00:28:16.065
is i, capacitance C,
then my voltage vO is given by

00:28:16.065 --> 00:28:20.081
what?
Voltage is simply the integral

00:28:20.081 --> 00:28:28.000
of the current flowing through
it or vice versa i is C dv/dt.

00:28:28.000 --> 00:28:36.247
If i is C dv/dt then v is
simply one by C integral.

00:28:36.247 --> 00:28:44.989
If I can pass the current
through a capacitor then the

00:28:44.989 --> 00:28:52.577
voltage across the capacitor
must be a current.

00:28:52.577 --> 00:29:00.000
Notice then that vO is related
to i dt.

00:29:00.000 --> 00:29:02.965
I have some multiplying
constants and so on,

00:29:02.965 --> 00:29:06.689
but fundamentally what I have
found is if I can stick a

00:29:06.689 --> 00:29:11.103
current through a capacitor then
the voltage across the capacitor

00:29:11.103 --> 00:29:13.724
relates to the integral of the
current.

00:29:13.724 --> 00:29:17.034
OK, that's interesting.
So, I have an integral in

00:29:17.034 --> 00:29:18.896
there.
But I have a current.

00:29:18.896 --> 00:29:21.724
Notice my goal was to integrate
a voltage.

00:29:21.724 --> 00:29:25.724
What I figured out how to do
was if I can turn that voltage

00:29:25.724 --> 00:29:31.800
into a current --
If I can turn that voltage into

00:29:31.800 --> 00:29:38.911
a proportional current and then
pump that current through a

00:29:38.911 --> 00:29:44.796
capacitor I will get the
integration that I want.

00:29:44.796 --> 00:29:50.314
How do I convert my vI to i?
How do I do that?

00:29:50.314 --> 00:29:55.708
Well, let's take a stab at it.
Here is my vI.

00:29:55.708 --> 00:30:02.351
Let's take the resistor R.
And remember I need to stick

00:30:02.351 --> 00:30:06.213
the capacitor here.
I have some current I here.

00:30:06.213 --> 00:30:09.236
I don't know what the current
is yet.

00:30:09.236 --> 00:30:13.938
And I stick a voltage here.
And what I am trying to do is

00:30:13.938 --> 00:30:18.389
trying to see if I stick a
voltage and a resistance in

00:30:18.389 --> 00:30:23.175
series then there is some
relationship between the current

00:30:23.175 --> 00:30:27.206
and this voltage.
Recall that I am trying to make

00:30:27.206 --> 00:30:33.000
this current be directly
proportional to the voltage vI.

00:30:33.000 --> 00:30:38.571
But it turns out that i here is
not equal to vI divided by R.

00:30:38.571 --> 00:30:42.564
If i was vI divided by R
somehow, I am done.

00:30:42.564 --> 00:30:46.185
If i was vI divided by R,
by some magic,

00:30:46.185 --> 00:30:50.364
then I have converted my
voltage to a current,

00:30:50.364 --> 00:30:56.028
I feed that current through my
capacitor and vO is my integral

00:30:56.028 --> 00:31:01.312
that I am looking for.
But unfortunately i is not

00:31:01.312 --> 00:31:04.781
equal to vI divided by R.
You know that.

00:31:04.781 --> 00:31:09.762
i relates to vI minus the
capacitor voltage divided by R.

00:31:09.762 --> 00:31:14.743
So, i is not simply vI divided
by R for all time but i is

00:31:14.743 --> 00:31:19.191
really vI minus the capacitor
voltage divided by R.

00:31:19.191 --> 00:31:22.749
And, in fact,
when we did RC circuits you

00:31:22.749 --> 00:31:28.086
wrote this equation to represent
the dynamics of the circuit,

00:31:28.086 --> 00:31:34.918
RC dvO by dt plus vO equals vI.
We wrote down this circuit for

00:31:34.918 --> 00:31:39.589
a first order RC,
wrote this equation for a first

00:31:39.589 --> 00:31:43.383
order RC circuit.
Now, it does turn out,

00:31:43.383 --> 00:31:48.345
to wrap up on this wild goose
chase that we went on,

00:31:48.345 --> 00:31:53.989
it does turn out that if this
term here is much bigger than

00:31:53.989 --> 00:31:57.589
that term.
If this term is much bigger

00:31:57.589 --> 00:32:03.718
than that term then I can ignore
that term and write down RC dvO

00:32:03.718 --> 00:32:10.128
by dt more or less equal to vI.
If that were true,

00:32:10.128 --> 00:32:15.684
this would be true,
and then vO would be more or

00:32:15.684 --> 00:32:20.532
less equal to one by RC integral
of vI dt.

00:32:20.532 --> 00:32:27.034
Again, if this were true.
If this were true for all time

00:32:27.034 --> 00:32:32.000
then vO would be integral of vI
dt.

00:32:32.000 --> 00:32:35.310
Again, remember this is all a
wild goose chase.

00:32:35.310 --> 00:32:39.339
Just write down WGC there just
so you don't get confused.

00:32:39.339 --> 00:32:43.657
I am on this wild goose hunt
here trying to find a way to get

00:32:43.657 --> 00:32:48.191
a current from a voltage which I
can then feed into a capacitor.

00:32:48.191 --> 00:32:52.148
This was one thing I knew,
but this was not what I want.

00:32:52.148 --> 00:32:56.034
But it does turn out to be what
I want when vO is very,

00:32:56.034 --> 00:32:58.985
very small.
So, I see some glimmer of hope

00:32:58.985 --> 00:33:03.230
but not quite.
It turns that in R and C,

00:33:03.230 --> 00:33:08.048
if I make R and C very,
very big, if I have a huge time

00:33:08.048 --> 00:33:12.955
constant, with a huge time
constant the voltage vO looks

00:33:12.955 --> 00:33:17.416
like an integral of vI,
but only when I have a very

00:33:17.416 --> 00:33:21.609
huge time constant.
So, I give up on that track.

00:33:21.609 --> 00:33:25.000
Instead I try something else.

00:33:34.000 --> 00:33:38.164
Another try.
I would like you to notice if

00:33:38.164 --> 00:33:42.328
you take your op amp,
here is your op amp,

00:33:42.328 --> 00:33:48.523
if you take this op amp and you
stick the positive terminal to

00:33:48.523 --> 00:33:53.601
ground, under reasonable
feedback, under reasonable

00:33:53.601 --> 00:34:00.000
negative feedback what do you
notice about the current?

00:34:00.000 --> 00:34:04.907
If I had a current i flowing
here what did you notice?

00:34:04.907 --> 00:34:09.444
Look at this picture.
I had a current i flowing in

00:34:09.444 --> 00:34:14.444
here, v2 divided by R1.
And because this resistance was

00:34:14.444 --> 00:34:19.629
infinite all the current went
through the upper terminal.

00:34:19.629 --> 00:34:24.166
So, this is zero volts.
And by the v plus equals v

00:34:24.166 --> 00:34:30.000
minus method this is also more
or less equal to zero.

00:34:30.000 --> 00:34:35.070
And I have a current i flowing
in here, nothing goes here,

00:34:35.070 --> 00:34:37.917
so then the i must flow up
there.

00:34:37.917 --> 00:34:42.631
So, all I am doing here is
causing a reflection of the

00:34:42.631 --> 00:34:48.058
current from this grounded node.
My current is being reflected

00:34:48.058 --> 00:34:53.217
into, or deflected if you feel
like it, the upper edge here

00:34:53.217 --> 00:34:56.153
after coming in through this
edge.

00:34:56.153 --> 00:35:00.914
That is interesting.
We are just one step away from

00:35:00.914 --> 00:35:02.000
the key insight.

00:35:10.000 --> 00:35:14.314
I have an i coming in here,
an i going out there.

00:35:14.314 --> 00:35:16.921
Notice that,
as I said before,

00:35:16.921 --> 00:35:21.235
this is zero volts.
How do I get my voltage vI to

00:35:21.235 --> 00:35:25.460
look like a current,
to become proportional to a

00:35:25.460 --> 00:35:27.707
current?
It is simple now.

00:35:27.707 --> 00:35:34.000
All I do is put a voltage vI
and put a resistor R out there.

00:35:34.000 --> 00:35:36.776
If I do that,
and since this is zero,

00:35:36.776 --> 00:35:39.939
the current i is given by vI
divided by R.

00:35:39.939 --> 00:35:42.639
I have gotten to where I want
to be.

00:35:42.639 --> 00:35:46.881
So, by using an op amp and
using the fact that the minus

00:35:46.881 --> 00:35:51.278
node here, v minus is at the
same potential as v plus when

00:35:51.278 --> 00:35:55.829
there is negative feedback then
I can stick a resistor here.

00:35:55.829 --> 00:35:59.917
And because this is zero the
current here is simply vI

00:35:59.917 --> 00:36:04.445
divided by R.
I have gotten to the first

00:36:04.445 --> 00:36:07.830
place.
Now all I need to do is simply

00:36:07.830 --> 00:36:13.379
pump this current through a
capacitor and I get the integral

00:36:13.379 --> 00:36:18.457
of the, the voltage becomes an
integral of the current.

00:36:18.457 --> 00:36:22.595
That is easy.
I stick my capacitor here and I

00:36:22.595 --> 00:36:27.956
get my answer out there as vO.
Notice that when I do this,

00:36:27.956 --> 00:36:32.000
let's say this is plus/minus
VC.

00:36:32.000 --> 00:36:34.408
This is zero.
So, vO is minus VC.

00:36:34.408 --> 00:36:38.774
Again, I will keep emphasizing
it maybe 17 times throughout

00:36:38.774 --> 00:36:43.516
this course that if this is zero
then the output here is related

00:36:43.516 --> 00:36:47.053
to the negative of this voltage,
common, common,

00:36:47.053 --> 00:36:50.139
common mistake.
I will be very upset after

00:36:50.139 --> 00:36:54.354
doing all this if I see this
mistake happen in any of the

00:36:54.354 --> 00:36:57.215
future homeworks or finals or
whatever.

00:36:57.215 --> 00:37:05.518
This should not happen.
So, vO is a minus sign here VC.

00:37:05.518 --> 00:37:15.486
And I know that if I have a
current i through a capacitor

00:37:15.486 --> 00:37:22.607
what is VC?
If I have current i through a

00:37:22.607 --> 00:37:29.015
capacitor than this is simply t
i dt.

00:37:29.015 --> 00:37:36.218
And i by design is --
So, I have my integrator.

00:37:36.218 --> 00:37:40.566
It is a two-step process.
I stuck a resistor here,

00:37:40.566 --> 00:37:44.648
so the current became equal to
vI divided by R.

00:37:44.648 --> 00:37:49.706
Then I took that current and
pumped it through a capacitor

00:37:49.706 --> 00:37:54.409
through this terminal here,
and the voltage across the

00:37:54.409 --> 00:38:00.000
capacitor for a current i is
given by this expression.

00:38:00.000 --> 00:38:04.297
This is Capacitors 101.
OK Capacitors 101 says that the

00:38:04.297 --> 00:38:09.151
voltage across the capacitor is
simply one by C integral i dt.

00:38:09.151 --> 00:38:14.164
Another way of looking at it is
the voltage across the capacitor

00:38:14.164 --> 00:38:17.904
is C, I'm sorry,
the current through a capacitor

00:38:17.904 --> 00:38:20.928
is C dv/dt.
This is simply the integral

00:38:20.928 --> 00:38:24.350
form of that equation.
And I am done with my

00:38:24.350 --> 00:38:27.692
integrator.
So, this is another very common

00:38:27.692 --> 00:38:31.221
building block.
Remember this.

00:38:31.221 --> 00:38:36.194
Most of the circuits we will be
seeing with op amps simply

00:38:36.194 --> 00:38:39.422
involve something here and some
there.

00:38:39.422 --> 00:38:43.697
And the output in this
inverting connection is the

00:38:43.697 --> 00:38:47.187
output times,
if it is a resistance it is

00:38:47.187 --> 00:38:51.812
simply R2 divided by R1,
if it's a capacitor I get the

00:38:51.812 --> 00:38:56.000
integral form looking like this.
Yes.

00:39:01.000 --> 00:39:05.965
Can someone tell me where the
negative sign went?

00:39:05.965 --> 00:39:10.000
The blackboard ate it up.
Good catch.

00:39:27.000 --> 00:39:30.483
After all that lecture about
watching the negative sign.

00:39:30.483 --> 00:39:34.220
After this little bit of faux
pas here, now I will be doubly

00:39:34.220 --> 00:39:36.310
mad if you guys make that
mistake.

00:39:36.310 --> 00:39:38.591
All right.
Now that we have built the

00:39:38.591 --> 00:39:42.074
integrator, I could give this
out as a homework problem.

00:39:42.074 --> 00:39:45.685
And you should be able to
design a differentiator based on

00:39:45.685 --> 00:39:49.042
what you've learned here.
You now have the tools to go

00:39:49.042 --> 00:39:52.525
and do some design like this,
but we don't have any more

00:39:52.525 --> 00:39:56.516
homeworks left so I guess I will
go ahead and solve this for you

00:39:56.516 --> 00:40:00.000
right here and do the design for
you.

00:40:00.000 --> 00:40:06.228
The building block that we need
looks like this,

00:40:06.228 --> 00:40:11.662
d/dt here.
Let me take a vI and stick a vI

00:40:11.662 --> 00:40:16.566
in there.
That's what I want to build.

00:40:16.566 --> 00:40:23.722
And what I built here is that
different integrator box.

00:40:23.722 --> 00:40:33.000
And what I would like to do now
is build a differentiator box.

00:40:33.000 --> 00:40:37.427
How do I go about doing it?
I will go really slow here so

00:40:37.427 --> 00:40:42.409
you will have some time to think
about it for yourselves and see

00:40:42.409 --> 00:40:46.758
if you folks are crack op amp
circuit designers already,

00:40:46.758 --> 00:40:49.604
if you have the right instincts
here.

00:40:49.604 --> 00:40:53.241
Again, when you see
differentiation integration

00:40:53.241 --> 00:40:57.037
think capacitors or inductors,
it doesn't matter.

00:40:57.037 --> 00:41:00.990
In fact, as a homework
exercise, you may want to go

00:41:00.990 --> 00:41:07.000
back and see how you can get a
similar effect using inductors.

00:41:07.000 --> 00:41:11.221
Can you play with inductors and
get a similar effect?

00:41:11.221 --> 00:41:15.929
So, inductors are devices that
are a dual of the capacitor.

00:41:15.929 --> 00:41:20.070
Whatever we will do with
capacitors, there must be a

00:41:20.070 --> 00:41:22.667
corresponding way with
inductors.

00:41:22.667 --> 00:41:25.671
You can try it out in your
spare time.

00:41:25.671 --> 00:41:33.037
Let's go back to this one here.
I will stick with the capacitor

00:41:33.037 --> 00:41:40.071
way of looking at things.
I need a differentiation now.

00:41:40.071 --> 00:41:45.932
Remember this.
If I have a vI and I stick this

00:41:45.932 --> 00:41:51.924
across a capacitor,
I have a current C and some

00:41:51.924 --> 00:42:00.000
voltage vc across the capacitor,
what does i relate to?

00:42:00.000 --> 00:42:09.080
i is simply C dv/dt and vc in
this case is simply C dvI/dt.

00:42:09.080 --> 00:42:18.944
If I can stick a voltage across
a capacitor, if my input voltage

00:42:18.944 --> 00:42:28.964
is stuck across a capacitor then
the resulting current relates to

00:42:28.964 --> 00:42:33.384
dvI/dt.
Here we have the opposite

00:42:33.384 --> 00:42:36.722
problem.
By doing this simple trick,

00:42:36.722 --> 00:42:41.109
I can obtain a current that has
the right form.

00:42:41.109 --> 00:42:46.069
Now what I need to do is
somehow convert that current

00:42:46.069 --> 00:42:51.219
into a voltage because the
abstraction that I need is a

00:42:51.219 --> 00:42:54.367
voltage to voltage.
The next step,

00:42:54.367 --> 00:42:59.994
what I need to do is somehow
convert a current to a voltage.

00:42:59.994 --> 00:43:07.912
How do I go about doing that?
Again, remember for the op amp,

00:43:07.912 --> 00:43:14.980
if I have a current i flowing
here then by the reflection

00:43:14.980 --> 00:43:22.300
property i gets pushed up into
this edge, provided that the

00:43:22.300 --> 00:43:30.000
whole circuit is working with
descent negative feedback.

00:43:30.000 --> 00:43:35.552
Given this trick what I can do
is say look, suppose I did this.

00:43:35.552 --> 00:43:40.567
Remember, my goal here is how
do I convert a current to a

00:43:40.567 --> 00:43:43.791
voltage?
I have a current i coming in

00:43:43.791 --> 00:43:48.985
here, and I can turn that into a
voltage because I know the

00:43:48.985 --> 00:43:54.000
current must come out here,
I know this current must come

00:43:54.000 --> 00:43:57.313
out there.
All I have to do is stick a

00:43:57.313 --> 00:44:03.982
resistor in there.
If I stick a resistor in there

00:44:03.982 --> 00:44:08.761
what is vO equal to?
vO is simply iR,

00:44:08.761 --> 00:44:11.283
right?
That's right.

00:44:11.283 --> 00:44:16.725
vO, I get i here,
so i pumps through here.

00:44:16.725 --> 00:44:24.292
Remember, what comes in here
must get reflected up because

00:44:24.292 --> 00:44:30.000
the current going in here is
zero.

00:44:30.000 --> 00:44:35.738
All the i must come out here.
So, that i must pump through

00:44:35.738 --> 00:44:40.067
this resistor.
The drop across this resistor

00:44:40.067 --> 00:44:43.691
is iR.
That's the voltage drop across

00:44:43.691 --> 00:44:47.818
that resistor.
And since this at a virtual

00:44:47.818 --> 00:44:53.959
ground the output here is simply
zero minus this drop which is

00:44:53.959 --> 00:44:57.684
minus iR.
So, I have gotten to where I

00:44:57.684 --> 00:45:02.212
want to be.
I have my current i being

00:45:02.212 --> 00:45:06.371
converted to a voltage.
I have taken my current,

00:45:06.371 --> 00:45:11.858
and I have been able to convert
that into a voltage by sticking

00:45:11.858 --> 00:45:14.955
a resistor in here.
As a final step,

00:45:14.955 --> 00:45:18.141
I simply need to produce the
current.

00:45:18.141 --> 00:45:23.362
And that is pretty easy to do.
Abstractly what I need to do,

00:45:23.362 --> 00:45:28.318
again, this is design here so
we will talk about abstract

00:45:28.318 --> 00:45:32.716
stuff.
If I had a voltage vI,

00:45:32.716 --> 00:45:39.259
I need to produce a current
which relates to C dvI/dt.

00:45:39.259 --> 00:45:44.814
And I know I can do that by
simply doing this.

00:45:44.814 --> 00:45:50.123
By doing this I know my i is C
dvI, correct?

00:45:50.123 --> 00:45:56.666
If I can get this effect,
I put this in quotes because

00:45:56.666 --> 00:46:03.495
that's my pattern.
I am looking for a pattern,

00:46:03.495 --> 00:46:10.875
where a voltage vI is directly
applied across a capacitor.

00:46:10.875 --> 00:46:17.607
And when that happens the
current relates to C dv/dt.

00:46:17.607 --> 00:46:22.785
Let's go back to our op amp
pattern here,

00:46:22.785 --> 00:46:29.000
op amp circuit.
So far I have achieved --

00:46:29.000 --> 00:46:33.732
I just repeated this out there.
And so somehow I need to take

00:46:33.732 --> 00:46:38.307
this pattern here and learn from
that pattern and apply the

00:46:38.307 --> 00:46:40.988
pattern here.
So, what I can do is,

00:46:40.988 --> 00:46:43.354
this is a ground node,
correct?

00:46:43.354 --> 00:46:47.219
Now, the poor little capacitor,
what does it care,

00:46:47.219 --> 00:46:51.242
whether it's a ground node or a
virtual ground node?

00:46:51.242 --> 00:46:55.501
As long as it's a zero volt
node down here what does it

00:46:55.501 --> 00:46:59.760
care?
What I am going to do is stick

00:46:59.760 --> 00:47:04.452
this point, not here but into a
virtual ground node.

00:47:04.452 --> 00:47:10.065
I am going to grab that point,
take it here and stick it here.

00:47:10.065 --> 00:47:14.941
The poor little capacitor
doesn't know the difference.

00:47:14.941 --> 00:47:18.530
I have really suckered the
little beast.

00:47:18.530 --> 00:47:20.830
This is vI.
Remember this.

00:47:20.830 --> 00:47:25.707
My i through the capacitor is
proportional to C dv/dt.

00:47:25.707 --> 00:47:31.135
Instead what I have done is
taken this guy and stuck it here

00:47:31.135 --> 00:47:36.794
to get something like this.
Just remember these four or

00:47:36.794 --> 00:47:39.919
five little tricks.
And you apply them in op amp

00:47:39.919 --> 00:47:42.843
circuits again and again and
again and again.

00:47:42.843 --> 00:47:45.569
So, this is vI,
this is my virtual ground.

00:47:45.569 --> 00:47:48.826
As far as this poor little
capacitor is concerned,

00:47:48.826 --> 00:47:52.815
it is chugging along merrily
thinking that it is connected to

00:47:52.815 --> 00:47:55.274
ground.
Little does it know it is only

00:47:55.274 --> 00:47:58.000
a virtual ground,
all right?

00:47:58.000 --> 00:48:03.902
But the current i here is
simply C dvI/dt.

00:48:03.902 --> 00:48:08.221
And that current,
the C dvI/dt,

00:48:08.221 --> 00:48:15.852
that current flows through here
and gives me vO as iR.

00:48:15.852 --> 00:48:23.770
So, vO is simply minus R.
Let me substitute for i there,

00:48:23.770 --> 00:48:29.241
C dvI/dt.
OK, so notice then that my vO

00:48:29.241 --> 00:48:37.912
is now proportional to dvI/dt.
So, vO is some RC time constant

00:48:37.912 --> 00:48:41.013
times dvI/dt.
Therefore, I have my

00:48:41.013 --> 00:48:45.617
differentiator circuit.
Remember this as a closing

00:48:45.617 --> 00:48:49.000
thought.
Remember this v plus more or

00:48:49.000 --> 00:48:54.073
less equal to v minus trick.
And to the extent possible

00:48:54.073 --> 00:48:59.899
simply use that trick to analyze
op amp circuits under feedback

00:48:59.899 --> 00:49:04.795
and not in saturation.
Just remember these two.

00:49:04.795 --> 00:49:09.058
Very quickly for the demo,
I have a square wave input here

00:49:09.058 --> 00:49:12.423
to the op amp,
that's my vI to the integrator.

00:49:12.423 --> 00:49:16.537
And this is the output vO.
The integral of a square wave

00:49:16.537 --> 00:49:19.229
is a triangular wave,
as you can see.

00:49:19.229 --> 00:49:22.969
And we will do the same thing
for a differentiator.

00:49:22.969 --> 00:49:27.307
And for the differentiator,
I input the square wave to this

00:49:27.307 --> 00:49:31.124
differentiator circuit.
And I get this,

00:49:31.124 --> 00:49:35.695
wherever there is a sharp rise,
I get this huge negative spike

00:49:35.695 --> 00:49:39.142
and a positive spike because of
the minus sign.

00:49:39.142 --> 00:49:41.989
So, this is the differentiator
circuit.

00:49:41.989 --> 00:49:44.387
Then I feed this into the op
amp.

00:49:44.387 --> 00:49:45.387
OK.
Thank you.

