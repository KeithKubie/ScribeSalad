WEBVTT
Kind: captions
Language: en

00:00:00.000 --> 00:00:05.970
All right, let's get moving.
Good morning.

00:00:05.970 --> 00:00:13.106
Let me take a quick poll.
So, how many of you have

00:00:13.106 --> 00:00:17.766
completed Lab 4.
Completed Lab 4?

00:00:17.766 --> 00:00:24.757
Wow, that's great.
So, how many people have begun

00:00:24.757 --> 00:00:30.000
Lab 4?
OK, well that's good.

00:00:30.000 --> 00:00:35.076
I won't ask the last question.
OK so, well I hope you're

00:00:35.076 --> 00:00:40.246
having fun with this lab.
Lab 4 was designed to be almost

00:00:40.246 --> 00:00:44.953
like a mini-project.
And, it sort of ties together a

00:00:44.953 --> 00:00:48.553
lot of the content of the entire
course.

00:00:48.553 --> 00:00:54.184
And, it's not unlike the kind
of systems that people design in

00:00:54.184 --> 00:00:59.630
industry, in systems that go
into a variety of devices like,

00:00:59.630 --> 00:01:03.784
say, for example,
digital CD players and stuff

00:01:03.784 --> 00:01:10.724
like that.
A lot of mixed signal stuff

00:01:10.724 --> 00:01:14.400
goes in.
OK, so today,

00:01:14.400 --> 00:01:24.900
I'm going to continue with our
discussion of energy and CMOS.

00:01:24.900 --> 00:01:34.000
CMOS will be a new topic that I
will introduce.

00:01:34.000 --> 00:01:37.527
So, the last lecture,
we spent a fair bit of time

00:01:37.527 --> 00:01:41.201
talking about energy,
and how to compute the energy

00:01:41.201 --> 00:01:44.507
of our inverter.
So, let me start from where I

00:01:44.507 --> 00:01:48.916
left off, and I've given you a
couple of extra pages of notes

00:01:48.916 --> 00:01:52.738
today just to sort of tie it to
the previous lecture.

00:01:52.738 --> 00:01:57.000
Right now, I'm going to start
off on page three.

00:01:57.000 --> 00:02:02.135
So, what we saw last time was
an inverter of this sort,

00:02:02.135 --> 00:02:07.081
Vs, VIN, and we said,
let's study the situation where

00:02:07.081 --> 00:02:11.361
this inverter was driving a load
capacitor, C.

00:02:11.361 --> 00:02:15.070
Where did this load capacitor
come from?

00:02:15.070 --> 00:02:19.635
Well, this inverter could be
driving one, or two,

00:02:19.635 --> 00:02:23.440
or three, or four other larger
gates, OK?

00:02:23.440 --> 00:02:29.146
So, this C is lumped value of
the gate capacitances of all of

00:02:29.146 --> 00:02:36.148
those inverters.
This may also include some

00:02:36.148 --> 00:02:44.925
component due to wiring
capacitance and stuff like that.

00:02:44.925 --> 00:02:54.340
So, for an inverter like this,
we showed in the last lecture

00:02:54.340 --> 00:03:02.000
that the formula for the average
power was,

00:03:02.000 --> 00:03:07.379
so this was a static power
independent of frequency,

00:03:07.379 --> 00:03:13.497
and this was called dynamic
power, and it had some bearing,

00:03:13.497 --> 00:03:19.194
it's related to the frequency
at which you clocked your

00:03:19.194 --> 00:03:23.308
circuit.
So, this was related to standby

00:03:23.308 --> 00:03:30.960
power, and this to dynamic.
So, what I also said is that I

00:03:30.960 --> 00:03:38.484
gave you a bunch of numbers so
you could compute the power

00:03:38.484 --> 00:03:44.556
consumption of a chip that
included 10^8 gates,

00:03:44.556 --> 00:03:50.627
100 million gates,
and at a frequency of 1 GHz,

00:03:50.627 --> 00:03:57.228
and a bunch of other numbers.
C was given to be 0.1

00:03:57.228 --> 00:04:02.486
femtofarads.
Femto is 10^-15.

00:04:02.486 --> 00:04:08.545
So, F was 10^9.
VS was 5V, and for these

00:04:08.545 --> 00:04:16.936
numbers, if you plonk them down
in something like this,

00:04:16.936 --> 00:04:25.637
for 10^8 gates on a chip,
the average power would be 10^8

00:04:25.637 --> 00:04:32.940
times these two.
So, this would be five squared,

00:04:32.940 --> 00:04:39.000
which is 25,
divided by twice.

00:04:39.000 --> 00:04:45.869
RL was given to be 10
kilo-ohms, so,

00:04:45.869 --> 00:04:52.542
twice, 10^4.
And here we had CVS^2.

00:04:52.542 --> 00:05:00.000
So, C was 10^-16,
0.1 femtofarads.

00:05:00.000 --> 00:05:04.334
Vs^2 was 25,
and F was 10^9.

00:05:04.334 --> 00:05:11.399
So, if you commence through the
numbers here,

00:05:11.399 --> 00:05:20.550
what you end up getting is
something that looks like this,

00:05:20.550 --> 00:05:29.059
10^8 times this guy here.
This is 1.25mW plus this guy

00:05:29.059 --> 00:05:39.260
ends up being 2.5 microwatts.
So, this should come as a bit

00:05:39.260 --> 00:05:43.668
of a shocker.
If I take 1.25mW,

00:05:43.668 --> 00:05:51.601
and multiply that out by 10^8,
this says that each gate

00:05:51.601 --> 00:05:57.184
suffers a standby power loss of
1.25mW.

00:05:57.184 --> 00:06:01.004
So times 10^8,
I get 125kW,

00:06:01.004 --> 00:06:07.942
and this guy yields 250W.
OK, the 250W is manageable.

00:06:07.942 --> 00:06:11.037
It's still high,
and just so you don't think

00:06:11.037 --> 00:06:14.995
that this is unreasonable,
when the Pentium 4 first came

00:06:14.995 --> 00:06:17.513
out, it was consuming 170W of
power.

00:06:17.513 --> 00:06:20.535
OK, you should see the heat
sinks on there.

00:06:20.535 --> 00:06:24.709
There's actually a huge heat
sink with a fan built into the

00:06:24.709 --> 00:06:28.163
top of the heat sink.
OK, today it's down to more

00:06:28.163 --> 00:06:32.625
reasonable numbers like 100W and
so on, but when it came out it

00:06:32.625 --> 00:06:36.588
was in this range.
So it's high but not

00:06:36.588 --> 00:06:39.208
unreasonable.
But this, of course,

00:06:39.208 --> 00:06:42.861
is totally wacko.
OK, imagine carrying a laptop

00:06:42.861 --> 00:06:45.957
around, and the sucker is
blowing 125kW.

00:06:45.957 --> 00:06:49.451
That'll be fun.
So, clearly there's something

00:06:49.451 --> 00:06:52.468
wrong here.
What this is saying is that

00:06:52.468 --> 00:06:57.074
this gate here consumes 125kW,
there are 10^8 of these on a

00:06:57.074 --> 00:07:00.250
single chip.
OK, so we clearly have to do

00:07:00.250 --> 00:07:04.062
something about this,
otherwise the semiconductor

00:07:04.062 --> 00:07:10.214
industry would fail.
So, anybody have any ideas?

00:07:10.214 --> 00:07:14.380
What do you think you might do
here?

00:07:14.380 --> 00:07:21.404
What do you think you might do
to this inverter to make this

00:07:21.404 --> 00:07:26.642
look better, to bring it down?
What can I do?

00:07:26.642 --> 00:07:28.785
Anybody?
Any ideas?

00:07:28.785 --> 00:07:34.463
What do you think?
Well, the problem is that if I

00:07:34.463 --> 00:07:38.322
look at this 125kW,
well, there's a VS term here

00:07:38.322 --> 00:07:41.771
and an RL term here.
So, I can increase RL.

00:07:41.771 --> 00:07:46.041
OK, I can make RL four times or
eight times as large.

00:07:46.041 --> 00:07:49.079
That'll bring the power down
somewhat.

00:07:49.079 --> 00:07:53.266
Can anybody think of any
problem with increasing RL?

00:07:53.266 --> 00:07:55.976
If I make RL really,
really large,

00:07:55.976 --> 00:08:00.000
will I run into other problems?
Yes?

00:08:00.000 --> 00:08:02.894
Exactly, the slowdown of the
inverter.

00:08:02.894 --> 00:08:07.667
Remember, the rise time of the
inverter depends on how quickly

00:08:07.667 --> 00:08:10.640
I can charge this capacitor
through RL.

00:08:10.640 --> 00:08:14.709
So, if I make my RL really
large, I will consume less

00:08:14.709 --> 00:08:19.168
standby power from hundreds of
kilowatts to merely tens of

00:08:19.168 --> 00:08:22.220
kilowatts.
But my gates will run as slow

00:08:22.220 --> 00:08:25.036
as molasses.
So, clearly that's not a

00:08:25.036 --> 00:08:29.731
tradeoff I would like to make.
So, I can reduce my voltage to

00:08:29.731 --> 00:08:34.870
maybe a volt.
But that just reduces it by a

00:08:34.870 --> 00:08:37.246
factor of 25,
VS squared.

00:08:37.246 --> 00:08:40.908
So clearly, this is not going
to work.

00:08:40.908 --> 00:08:47.045
I have to somehow do something
else, and that will be the topic

00:08:47.045 --> 00:08:51.994
of today's lecture.
Also, I will dwell for a moment

00:08:51.994 --> 00:08:55.954
on this term.
So, if you look at the spec

00:08:55.954 --> 00:09:01.200
sheet for the IBM's ASIC
processor that we handed out,

00:09:01.200 --> 00:09:04.664
if you recall,
we talked about power

00:09:04.664 --> 00:09:11.000
dissipation of 0.006 microwatts
per MHz per gate.

00:09:11.000 --> 00:09:14.357
OK, now you see where this is
coming from.

00:09:14.357 --> 00:09:17.961
Per MHz, that's because it's a
multiple of f,

00:09:17.961 --> 00:09:21.155
the power.
Second is that it's per gate,

00:09:21.155 --> 00:09:25.659
so this is the power per gate.
So, as I have more gates,

00:09:25.659 --> 00:09:30.000
I just have that much more
power dissipation.

00:09:30.000 --> 00:09:34.090
It also says power supply
voltage in the range of 0.7 to

00:09:34.090 --> 00:09:36.917
1.3 right next to the power
expression.

00:09:36.917 --> 00:09:40.264
So, you can see why they tell
you all of that,

00:09:40.264 --> 00:09:43.165
because both voltage,
and the frequency,

00:09:43.165 --> 00:09:47.256
and the number of gates come
into the power of equation.

00:09:47.256 --> 00:09:50.082
OK, this really simple
expression here,

00:09:50.082 --> 00:09:54.247
it's amazing how close this is
to what people use for the

00:09:54.247 --> 00:09:59.336
dynamic power in chips.
OK, so as the next step,

00:09:59.336 --> 00:10:04.398
what I'd like to do is,
this guy, what do we do about

00:10:04.398 --> 00:10:07.415
that?
OK, so we've taught you to

00:10:07.415 --> 00:10:13.061
build gates in a particular
matter, but it's a non-starter.

00:10:13.061 --> 00:10:16.663
So, how do we get rid of static
power?

00:10:16.663 --> 00:10:19.876
How do we get rid of static
power?

00:10:19.876 --> 00:10:24.061
OK, to do so,
let's build up a little bit of

00:10:24.061 --> 00:10:27.761
intuition.
OK, so the intuition goes as

00:10:27.761 --> 00:10:31.333
follows.
So let's say I take my

00:10:31.333 --> 00:10:33.757
inverter.
Let me draw the circuit both on

00:10:33.757 --> 00:10:36.000
the on state and in the off
state.

00:10:50.000 --> 00:10:55.477
So, when VIN is high,
when VIN is high,

00:10:55.477 --> 00:11:02.396
I get the MOSFET turning on and
has a resistance,

00:11:02.396 --> 00:11:07.153
RON, and Vo is the output
voltage.

00:11:07.153 --> 00:11:14.072
Similarly, when VIN is low,
so when VIN was high,

00:11:14.072 --> 00:11:20.270
Vo was low because RON is much
less than RL.

00:11:20.270 --> 00:11:27.909
So, this voltage was low,
while here, when VIN is low,

00:11:27.909 --> 00:11:34.684
the MOSFET is off,
and so I have an open circuit

00:11:34.684 --> 00:11:39.623
out here.
And because of that open

00:11:39.623 --> 00:11:43.411
circuit, the voltage here was
going to be high because VS

00:11:43.411 --> 00:11:47.267
would simply appear there.
So let's tailor this and see if

00:11:47.267 --> 00:11:50.447
we can build up some intuition
as to what to do.

00:11:50.447 --> 00:11:53.761
So, when VIN is low,
I don't have any static power

00:11:53.761 --> 00:11:57.820
being dissipated because I don't
have a connection from VS to

00:11:57.820 --> 00:11:59.376
ground.
OK, the current,

00:11:59.376 --> 00:12:03.616
i, is zero.
And, VS simply appears at the

00:12:03.616 --> 00:12:07.045
output.
The reason this is so is have a

00:12:07.045 --> 00:12:09.932
switch here.
So when this is low,

00:12:09.932 --> 00:12:15.165
the switch opens up and cuts
the path from power to ground.

00:12:15.165 --> 00:12:19.586
This is a nice situation.
Here, when VIN was high,

00:12:19.586 --> 00:12:22.654
there was no switch that turns
off.

00:12:22.654 --> 00:12:26.624
Rather, I get a connection from
VS to ground.

00:12:26.624 --> 00:12:30.052
OK, so think about this
situation here.

00:12:30.052 --> 00:12:34.563
The insight here is,
just imagine if I could do the

00:12:34.563 --> 00:12:38.804
following.
Imagine if I could somehow

00:12:38.804 --> 00:12:42.828
magically elevate RL to be a
very, very, very large number,

00:12:42.828 --> 00:12:46.922
if I could make this so high as
to make the power really low

00:12:46.922 --> 00:12:50.044
only in the situation when the
input was high,

00:12:50.044 --> 00:12:51.987
OK?
So, imagine if I could do

00:12:51.987 --> 00:12:57.077
something like this.
Imagine I could open circuit

00:12:57.077 --> 00:13:00.924
this guy, RON,
so when VIN was high,

00:13:00.924 --> 00:13:07.300
if I could, instead of having
an RL here, what if somehow I

00:13:07.300 --> 00:13:11.037
could make this RL become
infinity?

00:13:11.037 --> 00:13:15.764
OK, so in this case,
output VO would be low.

00:13:15.764 --> 00:13:19.831
OK, I get many benefits by
doing this.

00:13:19.831 --> 00:13:25.436
One benefit is that,
look, I have opened this switch

00:13:25.436 --> 00:13:29.833
here so I don't have any standby
current.

00:13:29.833 --> 00:13:35.000
OK, the standby current is
zero.

00:13:35.000 --> 00:13:39.124
The second benefit is that my
output gets dragged down to

00:13:39.124 --> 00:13:41.849
ground, OK?
Out here, my output was VS

00:13:41.849 --> 00:13:45.458
multiplied by RON divided by the
sum of these two.

00:13:45.458 --> 00:13:48.847
Out here, I have a direct
connection to ground,

00:13:48.847 --> 00:13:52.824
and nothing to the power
supply, VS, and so therefore I

00:13:52.824 --> 00:13:56.286
have a nice, solid low.
So the question is that,

00:13:56.286 --> 00:14:01.000
can I get this situation?
OK, that is a key insight.

00:14:01.000 --> 00:14:04.159
So, imagine that somehow,
when this was high,

00:14:04.159 --> 00:14:08.180
I could get this to open up,
much like when this was low,

00:14:08.180 --> 00:14:11.340
I got this to open up.
OK, so think about it.

00:14:11.340 --> 00:14:15.505
So, the intuition is that what
I need instead of a resistor

00:14:15.505 --> 00:14:19.598
here, what if I have something
like the MOSFET that I have

00:14:19.598 --> 00:14:22.039
here?
So, I have a MOSFET here that

00:14:22.039 --> 00:14:25.558
turned off when VIN was low.
OK, what if I did the

00:14:25.558 --> 00:14:30.874
complementary thing?
What if I put in some kind of

00:14:30.874 --> 00:14:35.731
MOSFET here that would turn off
when VIN was high?

00:14:35.731 --> 00:14:41.679
OK, so, much like the MOSFET
turned off when VIN was low down

00:14:41.679 --> 00:14:47.825
here, imagine if I could find a
device that could turn off when

00:14:47.825 --> 00:14:51.195
VIN was high?
OK, this would be on,

00:14:51.195 --> 00:14:56.349
but this would be off.
So the behavior of this device

00:14:56.349 --> 00:15:02.000
would have to be complementary
to this device.

00:15:02.000 --> 00:15:07.437
So, we need some sort of a
switch to introduce this new,

00:15:07.437 --> 00:15:12.875
little MOSFET device with
slightly different properties,

00:15:12.875 --> 00:15:18.511
let me quickly review for you
the properties of the MOSFET

00:15:18.511 --> 00:15:22.762
that we know about,
so our N channel MOSFET,

00:15:22.762 --> 00:15:27.805
also called the NFET,
this is what we've been seeing

00:15:27.805 --> 00:15:31.166
all this while,
is drawn like this.

00:15:31.166 --> 00:15:34.033
I have a gate;
I have a drain;

00:15:34.033 --> 00:15:42.357
I have a source.
And this guy is on when VGS is

00:15:42.357 --> 00:15:52.357
greater than or equal to VT,
OK, and off when VGS is less

00:15:52.357 --> 00:15:57.357
than VT.
You saw this before,

00:15:57.357 --> 00:16:04.914
OK, nothing new here.
So, what I need is a device

00:16:04.914 --> 00:16:09.017
that behaves in a complementary
manner.

00:16:09.017 --> 00:16:13.227
OK, so the device is a P
channel MOSFET.

00:16:13.227 --> 00:16:19.380
By the way, I must point out,
till about 1983-84 until the

00:16:19.380 --> 00:16:24.994
early '80s, that's exactly
pretty much how chips were

00:16:24.994 --> 00:16:29.420
designed, OK,
using an NFET for the switch

00:16:29.420 --> 00:16:34.170
looking down here,
and a variety of different

00:16:34.170 --> 00:16:40.000
kinds of devices to be used as
resistors.

00:16:40.000 --> 00:16:44.230
OK, that's when technology
began moving towards this new

00:16:44.230 --> 00:16:48.153
kind of technology I'm going to
talk about, and that

00:16:48.153 --> 00:16:51.230
dramatically reducing the power
consumed.

00:16:51.230 --> 00:16:55.769
And, the P channel MOSFET was
created, and this guy's called

00:16:55.769 --> 00:16:58.538
the PFET.
It's a complementary device

00:16:58.538 --> 00:17:03.191
that looks as follows.
OK, the difference here is

00:17:03.191 --> 00:17:06.142
that, to show this is
complementary,

00:17:06.142 --> 00:17:09.851
I'll put a little circle here.
It has a gate.

00:17:09.851 --> 00:17:14.488
Just to make things a little
clearer, flip the drain and

00:17:14.488 --> 00:17:17.860
source terminals,
and this guy is on at a

00:17:17.860 --> 00:17:22.918
distinguished threshold voltage
of this with the NFET device,

00:17:22.918 --> 00:17:27.639
let me put an N here to say
that this is the VT for the N

00:17:27.639 --> 00:17:31.504
channel device.
And for this guy,

00:17:31.504 --> 00:17:36.371
this guy came on when VGS was
greater than some voltage.

00:17:36.371 --> 00:17:38.938
So, VTN could be,
for example,

00:17:38.938 --> 00:17:42.035
one volt.
So, VGS was more than one.

00:17:42.035 --> 00:17:44.513
This turned on.
In this case,

00:17:44.513 --> 00:17:49.911
I wanted this to turn on when
VGS is some value which is lower

00:17:49.911 --> 00:17:53.805
than, or much lower than,
the source voltage.

00:17:53.805 --> 00:18:00.000
OK, so this guy turns on when
the gate voltage is higher.

00:18:00.000 --> 00:18:03.954
This guy should turn on when
the gate voltage is

00:18:03.954 --> 00:18:07.572
significantly lower than the
source voltage,

00:18:07.572 --> 00:18:10.180
just the complementary
behavior.

00:18:10.180 --> 00:18:13.882
OK, so when VGS is less than or
equal to VTP.

00:18:13.882 --> 00:18:17.752
And in this case,
the threshold voltage for the

00:18:17.752 --> 00:18:20.781
PMOS device, say,
just as an example,

00:18:20.781 --> 00:18:23.725
maybe -1V.
So this means that if the

00:18:23.725 --> 00:18:25.829
source is at,
say, 5V, OK,

00:18:25.829 --> 00:18:30.456
then this device would turn on
if the gate, for example,

00:18:30.456 --> 00:18:35.000
using that example was less
than 4V.

00:18:35.000 --> 00:18:39.362
So, this is five.
If the gate fell below 4V,

00:18:39.362 --> 00:18:43.521
this guy would turn on.
In this situation,

00:18:43.521 --> 00:18:49.101
remember, if this was at zero,
the gate would have to be

00:18:49.101 --> 00:18:53.666
greater than 1V to turn on.
In this situation,

00:18:53.666 --> 00:18:59.652
the gate has to be less than 4V
if the source was at five to

00:18:59.652 --> 00:19:03.000
turn on.
And, it's off.

00:19:03.000 --> 00:19:06.632
OK, so this is a complementary
device that I postulate that

00:19:06.632 --> 00:19:08.699
behaves in a complementary
manner.

00:19:08.699 --> 00:19:11.518
So, the gate voltage rises,
this guy turns on,

00:19:11.518 --> 00:19:14.587
and in this situation,
when the gate voltage drops

00:19:14.587 --> 00:19:17.280
below the source voltage,
this guy turns on.

00:19:17.280 --> 00:19:20.600
OK, so when there's a rising
guy that turns on in this

00:19:20.600 --> 00:19:24.107
particular situation when it
falls, the gate turns on and

00:19:24.107 --> 00:19:26.300
shows some resistance.
In this case,

00:19:26.300 --> 00:19:29.494
the resistance would be RON.
And to show that it's N

00:19:29.494 --> 00:19:34.482
channel, let me say N.
And in this case,

00:19:34.482 --> 00:19:39.154
the resistance,
when it turns on,

00:19:39.154 --> 00:19:44.411
would be RONp to represent P
channel.

00:19:44.411 --> 00:19:51.420
OK, so now consider the
following circuit for the

00:19:51.420 --> 00:19:56.676
inverter.
So, instead of my resistor,

00:19:56.676 --> 00:20:05.000
I put a complementary device,
OK, and that's it.

00:20:05.000 --> 00:20:09.681
So all I've done here is
replace my resistor with a

00:20:09.681 --> 00:20:14.269
MOSFET that behaves
complementary to the N channel

00:20:14.269 --> 00:20:16.704
MOSFET.
So this is my gate,

00:20:16.704 --> 00:20:19.232
my drain.
This is my source,

00:20:19.232 --> 00:20:22.228
my gate, my source,
and my drain.

00:20:22.228 --> 00:20:27.752
OK, and this guy is called a
pull up, and this guy is called

00:20:27.752 --> 00:20:33.059
a pull down.
OK, and the reason is that this

00:20:33.059 --> 00:20:37.994
guy pulls the output to ground
when it's turned on,

00:20:37.994 --> 00:20:41.153
while this guy,
when switched on,

00:20:41.153 --> 00:20:46.877
will pull this node up to VS.
So, I pull it down or pull it

00:20:46.877 --> 00:20:50.727
up based on when the VIN is high
or low.

00:20:50.727 --> 00:20:54.280
So, let's look at the two
situations.

00:20:54.280 --> 00:20:57.044
So, let's say,
as an example,

00:20:57.044 --> 00:21:00.597
my VS is 5V,
and let's say VIN in one

00:21:00.597 --> 00:21:05.137
situation being 5V,
and another situation being

00:21:05.137 --> 00:21:11.256
equal to 0V.
Let's draw the equivalent

00:21:11.256 --> 00:21:17.638
circuit in both these cases.
So, when VIN is high,

00:21:17.638 --> 00:21:22.978
I have my usual circuit.
When VIN is high,

00:21:22.978 --> 00:21:27.928
this MOSFET,
as before, when VIN is 5V,

00:21:27.928 --> 00:21:35.743
the N channel MOSFET below is
turned on, and so I have an RON

00:21:35.743 --> 00:21:40.344
resistance here.
But remember,

00:21:40.344 --> 00:21:45.517
VIN is 5, and VS is 5V,
then the voltage across the

00:21:45.517 --> 00:21:51.103
source and the gate of this P
channel FET is now equal,

00:21:51.103 --> 00:21:55.758
five and five.
OK, so this one would turn off.

00:21:55.758 --> 00:22:00.000
And that's the circuit that I
get.

00:22:00.000 --> 00:22:05.017
The output is suitably low.
In this situation,

00:22:05.017 --> 00:22:10.147
if VIN is zero,
what happens in this situation?

00:22:10.147 --> 00:22:13.492
Here's my output.
If VIN is 0V,

00:22:13.492 --> 00:22:17.953
the lower device turns off.
This is zero.

00:22:17.953 --> 00:22:21.521
This is zero.
This guy turns off,

00:22:21.521 --> 00:22:26.985
and that's the situation for
the N channel MOSFET.

00:22:26.985 --> 00:22:33.404
How about this guy here?
What happens here?

00:22:33.404 --> 00:22:37.145
This is at 5.
So let me just,

00:22:37.145 --> 00:22:41.820
this is at 5V.
OK, and VIN is at 0V.

00:22:41.820 --> 00:22:47.030
OK, so therefore,
the GS of this is -5V.

00:22:47.030 --> 00:22:52.774
If this is zero and this is
five, G, source,

00:22:52.774 --> 00:22:59.454
and drain, GS is -5V,
and -5V is significantly less

00:22:59.454 --> 00:23:06.000
than the threshold -1V in our
example.

00:23:06.000 --> 00:23:12.608
So, this one will switch on.
And if this one switches on,

00:23:12.608 --> 00:23:17.211
what I end up getting is RONp
out there.

00:23:17.211 --> 00:23:24.055
So, when this one kicks in,
it pulls the output high and VO

00:23:24.055 --> 00:23:28.658
goes high.
So, all I've done is replaced

00:23:28.658 --> 00:23:36.093
my resistor with a complementary
device, which switches off when

00:23:36.093 --> 00:23:41.757
the input is high,
and switches on when the input

00:23:41.757 --> 00:23:46.435
is low.
And the beauty of this is that

00:23:46.435 --> 00:23:50.656
at no point, assuming all the
devices are ideal here,

00:23:50.656 --> 00:23:55.202
at no point do I have a short
circuit between the output,

00:23:55.202 --> 00:23:59.911
do I have a current path from
the output to the ground from

00:23:59.911 --> 00:24:03.970
the supply to ground,
OK, I have this turned off or

00:24:03.970 --> 00:24:09.666
this turned off.
So, this type of logic

00:24:09.666 --> 00:24:18.000
involving a PMOS transistor
here, and the N channel

00:24:18.000 --> 00:24:25.333
transistor here is called CMOS
logic for, OK,

00:24:25.333 --> 00:24:31.166
it's called complementary MOS
logic.

00:24:31.166 --> 00:24:39.400
That's what CMOS comes from.
OK, so I'm sure you've read in

00:24:39.400 --> 00:24:43.880
a number of places that most
digital chips today use CMOS

00:24:43.880 --> 00:24:46.920
technology.
It comes from complementary

00:24:46.920 --> 00:24:51.480
MOS, and complementary comes
from the use of complementary

00:24:51.480 --> 00:24:55.720
transistors: N channel,
P channel, turns on when high,

00:24:55.720 --> 00:24:58.839
turns off when high,
turns off when low,

00:24:58.839 --> 00:25:01.720
turns on when low.
OK, that's exactly

00:25:01.720 --> 00:25:07.627
complementary to each other.
OK, so what you've seen here

00:25:07.627 --> 00:25:13.069
has been the workhorse of the
digital industry for the past

00:25:13.069 --> 00:25:16.166
two decades, 20 years,
CMOS logic.

00:25:16.166 --> 00:25:21.890
OK, and even the most advanced
chip from Intel has an inverter

00:25:21.890 --> 00:25:26.863
that looks exactly like that.
OK, if you count all the

00:25:26.863 --> 00:25:32.211
inverters in the universe today,
I would say a significant

00:25:32.211 --> 00:25:37.372
fraction of those look exactly
like that, no difference,

00:25:37.372 --> 00:25:42.604
just so simple.
So, the key with something like

00:25:42.604 --> 00:25:47.644
that is there is no path from
the power supply to the ground,

00:25:47.644 --> 00:25:51.844
and so by that model,
I did not consume any standby

00:25:51.844 --> 00:25:54.700
power.
OK, my standby power in that

00:25:54.700 --> 00:25:58.395
idealized model is zero.
So, let's compute P.

00:25:58.395 --> 00:26:04.574
So, what is P dynamic?
Let's use the method that we

00:26:04.574 --> 00:26:11.085
adopted in the last lecture,
and draw the equivalent

00:26:11.085 --> 00:26:18.744
circuit, and compute the power.
OK, so I'm going to model the

00:26:18.744 --> 00:26:24.489
following situation,
and assume that I drive a

00:26:24.489 --> 00:26:26.787
capacitive load,
C.

00:26:26.787 --> 00:26:32.276
OK, and as an input,
as I did the last time,

00:26:32.276 --> 00:26:38.021
I'm going to assume I have some
input voltage,

00:26:38.021 --> 00:26:45.074
VIN, that looks like this.
The cycle time,

00:26:45.074 --> 00:26:53.095
T, and the frequency is 1/t,
and let me assume that this is

00:26:53.095 --> 00:26:59.595
T1, and this is T2.
OK, and I'm assuming that T1

00:26:59.595 --> 00:27:09.000
and T2 are both much larger than
the respective time constants.

00:27:09.000 --> 00:27:13.876
OK, the time constants when,
for discharging here,

00:27:13.876 --> 00:27:18.952
is C RONn, and here the
relevant resistance is RONp.

00:27:18.952 --> 00:27:23.132
The charging time constant is
RONp times C.

00:27:23.132 --> 00:27:30.000
OK, so T1 and T2 are assumed to
be much greater than these two.

00:27:30.000 --> 00:27:34.464
So when you look at this,
there's one other benefit

00:27:34.464 --> 00:27:38.839
besides the power benefit,
OK, of using CMOS logic

00:27:38.839 --> 00:27:43.303
compared to using NMOS.
OK, it not only cuts out my

00:27:43.303 --> 00:27:46.339
standby power,
but there is another

00:27:46.339 --> 00:27:51.250
significant advantage which is
almost equal to the power

00:27:51.250 --> 00:27:54.910
advantage of this kind of CMOS
technology.

00:27:54.910 --> 00:28:00.000
Anybody have any ideas?
What's the advantage?

00:28:00.000 --> 00:28:05.302
What does intuition tell you?
Is CMOS going to be faster or

00:28:05.302 --> 00:28:07.222
slower than NMOS?
Why?

00:28:07.222 --> 00:28:11.062
That's right.
The key here is that the NMOS

00:28:11.062 --> 00:28:16.731
design I showed you earlier was
relatively slow because it took

00:28:16.731 --> 00:28:21.302
me a while to charge up the load
capacitor from RL.

00:28:21.302 --> 00:28:24.960
In this situation,
RL will become really,

00:28:24.960 --> 00:28:27.062
really small;
it's RONp.

00:28:27.062 --> 00:28:32.000
It's roughly the same magnitude
as RONm.

00:28:32.000 --> 00:28:35.968
OK, if so both of these on
resistances are more or less

00:28:35.968 --> 00:28:39.275
equal and small,
then the rise time will be of

00:28:39.275 --> 00:28:42.509
the same order of magnitude as
the fall time,

00:28:42.509 --> 00:28:45.595
which makes this much faster
than the NMOS.

00:28:45.595 --> 00:28:49.858
In NMOS, my time constant was
RLC, and RL was pretty large.

00:28:49.858 --> 00:28:53.973
In this case it's RONp C,
and RONp can be made to be very

00:28:53.973 --> 00:28:58.309
small because when it's switched
off, the resistance here is

00:28:58.309 --> 00:29:02.056
infinity.
So, in this situation,

00:29:02.056 --> 00:29:07.757
if I assume T1 and T2 are much
larger than the respective time

00:29:07.757 --> 00:29:12.990
constants, I can go ahead and
draw my equivalent circuit.

00:29:12.990 --> 00:29:16.168
So, here's VS.
So, for charging up,

00:29:16.168 --> 00:29:20.841
let's say this one is going to
a one, or to a high.

00:29:20.841 --> 00:29:24.953
So, I have VS going through a
resistor, RONp,

00:29:24.953 --> 00:29:30.000
to a capacitor,
and this thing is a switch.

00:29:30.000 --> 00:29:34.120
So I have RONp,
an ideal switch,

00:29:34.120 --> 00:29:40.234
going to a capacitor,
C, this is my V out node,

00:29:40.234 --> 00:29:46.481
OK, so it's VS going through a
resistance, RONp,

00:29:46.481 --> 00:29:50.601
an ideal switch,
to a capacitor,

00:29:50.601 --> 00:29:54.322
C.
That's a charging circuit.

00:29:54.322 --> 00:30:00.303
For discharging,
I have C, discharging through

00:30:00.303 --> 00:30:06.284
an ideal switch with RONn.
So, this situation,

00:30:06.284 --> 00:30:12.000
I have an ideal switch,
RONn.

00:30:12.000 --> 00:30:20.571
OK, so that's the equivalent
circuit for something like this.

00:30:20.571 --> 00:30:27.142
So, in this circuit,
during T1, this guy's off,

00:30:27.142 --> 00:30:31.571
and this guy's on,
on during T1,

00:30:31.571 --> 00:30:37.391
and off otherwise.
This guy is on during T2,

00:30:37.391 --> 00:30:41.026
and off otherwise.
OK, so just imagine,

00:30:41.026 --> 00:30:45.139
this guy switches on,
this guy switches off,

00:30:45.139 --> 00:30:49.252
this guy switches on,
this guy switches off,

00:30:49.252 --> 00:30:50.782
OK?
And remember,

00:30:50.782 --> 00:30:56.330
this is exactly the circuit I
had analyzed last time in the

00:30:56.330 --> 00:30:59.965
last lecture,
and the result given by v

00:30:59.965 --> 00:31:03.982
double asterisk.
And that result was simply

00:31:03.982 --> 00:31:10.168
average power being CVS^2f.
That's the exact circuit we

00:31:10.168 --> 00:31:13.461
used to compute the dynamic
power, CVS^2f.

00:31:13.461 --> 00:31:17.155
OK, so we're done.
And how did this come about?

00:31:17.155 --> 00:31:21.411
This came about because the
intuition here is that I'm

00:31:21.411 --> 00:31:26.230
charging up the capacitor fully,
and then I'm discharging the

00:31:26.230 --> 00:31:30.647
capacitor through this other
side, OK, and I'm consuming

00:31:30.647 --> 00:31:35.145
power, dissipating power,
in these two resistances during

00:31:35.145 --> 00:31:39.000
charge up and during the
discharge.

00:31:39.000 --> 00:31:43.554
Half the power gets consumed
during charge up,

00:31:43.554 --> 00:31:49.222
and half during the discharge.
So, I'd like to go back to

00:31:49.222 --> 00:31:54.283
doing a few numbers here,
and taking a look at how,

00:31:54.283 --> 00:31:59.850
even with this expression,
life can get pretty thorny as

00:31:59.850 --> 00:32:04.000
we go ahead into the next
decade.

00:32:04.000 --> 00:32:15.375
OK, so for our previous
example, we assumed that 10^8

00:32:15.375 --> 00:32:22.593
gates, F=1 GHz,
C=0.1 femtofarads,

00:32:22.593 --> 00:32:32.000
VS was 5V, and I don't need RL
anymore.

00:32:32.000 --> 00:32:36.446
OK, why is it that I don't have
any resistance component here?

00:32:36.446 --> 00:32:40.381
I don't have it here because
the power consumed by this

00:32:40.381 --> 00:32:44.900
circuit is independent of those
resistances, provided T1 and T2

00:32:44.900 --> 00:32:48.107
are long enough,
are much longer than the two

00:32:48.107 --> 00:32:50.586
time constants,
RONp C, and RONn C.

00:32:50.586 --> 00:32:53.865
OK, so I don't have RL in my
equation anymore.

00:32:53.865 --> 00:33:00.867
I don't have any standby power.
So, based on this calculation,

00:33:00.867 --> 00:33:08.861
the calculation I did up there
showed that I had 2.5 microwatts

00:33:08.861 --> 00:33:16.468
per gate, and for 10^8 gates I
had 250W for a chip with 10^8

00:33:16.468 --> 00:33:21.110
gates.
So, I'd like to dwell on this,

00:33:21.110 --> 00:33:27.298
if you can move over to page
eight in your notes,

00:33:27.298 --> 00:33:31.682
here.
Let me dwell on this for some

00:33:31.682 --> 00:33:38.000
time, and pontificate on a few
things.

00:33:38.000 --> 00:33:40.044
First of all,
this number,

00:33:40.044 --> 00:33:43.723
as I said before,
is high, but not a disaster.

00:33:43.723 --> 00:33:48.628
OK, so you can't use this in
laptops, but it's quite OK for a

00:33:48.628 --> 00:33:51.081
desktop or a server,
and so on.

00:33:51.081 --> 00:33:55.496
If you just go and put your ear
to a pedestal computer,

00:33:55.496 --> 00:34:00.566
you'll always hear it making a
sound, and that sound is because

00:34:00.566 --> 00:34:07.248
of a big fan that's inside it.
And, if you have a big enough

00:34:07.248 --> 00:34:10.831
fan, 250W is not such a big
deal.

00:34:10.831 --> 00:34:17.103
But, this is certainly a real
problem for mobile devices.

00:34:17.103 --> 00:34:20.800
For a laptop,
this is unthinkable.

00:34:20.800 --> 00:34:24.384
OK, so we have to deal with
this.

00:34:24.384 --> 00:34:30.208
The second issue is the
following, that it's 250W for

00:34:30.208 --> 00:34:34.699
1GHz.
Now, the fastest Pentium 4s

00:34:34.699 --> 00:34:39.400
that money can by today are,
what, how many GHz?

00:34:39.400 --> 00:34:44.000
What's the fastest Pentium 4
you can buy today?

00:34:44.000 --> 00:34:47.599
What's that?
Does anybody have a 4GHz

00:34:47.599 --> 00:34:51.300
Pentium 4 here?
Oh, darn, you beat me.

00:34:51.300 --> 00:34:53.500
Anybody have a 3?
3GHz?

00:34:53.500 --> 00:34:57.099
A couple.
So, I have a couple of 3GHz

00:34:57.099 --> 00:35:03.000
machines, and our lab has a
whole ton of them.

00:35:03.000 --> 00:35:06.587
So, if Intel comes out with
4GHz machines today,

00:35:06.587 --> 00:35:11.242
they've been going up by about
1GHz roughly every year for the

00:35:11.242 --> 00:35:14.753
past couple of years.
And, within three or four

00:35:14.753 --> 00:35:19.103
years, you're going to see
chips, microprocessors that are

00:35:19.103 --> 00:35:22.767
in the 5-10GHz range,
OK, assuming that all other

00:35:22.767 --> 00:35:26.277
things stay equal,
which of course they're not,

00:35:26.277 --> 00:35:29.178
but just to give you some
insight here,

00:35:29.178 --> 00:35:33.604
if I clock these guys and build
circuits that are ten times

00:35:33.604 --> 00:35:37.497
faster, I very soon go up to
2.5kW, again as I said,

00:35:37.497 --> 00:35:42.000
all things being equal which
they're not.

00:35:42.000 --> 00:35:46.253
But just to give you a sense,
as I increase my frequency,

00:35:46.253 --> 00:35:49.443
so does the power consumed by
the chip, OK?

00:35:49.443 --> 00:35:52.329
So, I really have to do
something here.

00:35:52.329 --> 00:35:55.291
So, if I stare at this
equation, CVS^2f,

00:35:55.291 --> 00:35:59.696
I want to increase f because
people will buy computers if I

00:35:59.696 --> 00:36:03.721
have higher frequencies.
And, Intel has managed to use

00:36:03.721 --> 00:36:07.974
its marketing campaigns to
pretty much convince consumers

00:36:07.974 --> 00:36:12.000
that high frequencies are a good
thing.

00:36:12.000 --> 00:36:15.711
OK, and whether they really
mean anything or not,

00:36:15.711 --> 00:36:19.886
that's a different issue.
So, we've got this huge power

00:36:19.886 --> 00:36:22.979
for assuming 5V,
OK, so it turns out that

00:36:22.979 --> 00:36:25.530
microprocessors,
as they come out,

00:36:25.530 --> 00:36:29.860
newer and newer versions run at
lower and lower voltages.

00:36:29.860 --> 00:36:33.881
OK, they invent technologies
that use lower and lower

00:36:33.881 --> 00:36:38.520
voltages, and go from VS 5V to,
today, VS on the order of 1.5

00:36:38.520 --> 00:36:44.331
to 1V, somewhere in that range.
So the moment you do that,

00:36:44.331 --> 00:36:47.201
you get a 25x reduction in
power.

00:36:47.201 --> 00:36:51.955
OK, so in going from 2.5kW,
you would now come down to

00:36:51.955 --> 00:36:56.170
something on the order of 100W,
which is, again,

00:36:56.170 --> 00:37:00.654
much more reasonable,
again, all other things being

00:37:00.654 --> 00:37:03.403
equal.
It turns out that the

00:37:03.403 --> 00:37:07.346
capacitance of devices also
changes as you go to smaller and

00:37:07.346 --> 00:37:10.420
smaller devices.
And, 100W is also pretty high,

00:37:10.420 --> 00:37:13.494
and still not good enough for
mobile computers.

00:37:13.494 --> 00:37:16.701
So, there are many,
many other tricks that people

00:37:16.701 --> 00:37:20.711
use to get even lower powers.
One trick is to play games with

00:37:20.711 --> 00:37:22.649
the clock.
OK, what you do is,

00:37:22.649 --> 00:37:26.725
let's say for example in some
computation you are not going to

00:37:26.725 --> 00:37:30.000
be using your floating point
unit.

00:37:30.000 --> 00:37:33.670
Or let's say I'm going to be
using your integer adder unit.

00:37:33.670 --> 00:37:37.468
OK, so what you can do is you
can turn off the clock to those

00:37:37.468 --> 00:37:41.518
devices so that those devices do
not even switch when they're not

00:37:41.518 --> 00:37:43.924
working.
OK, if I turn off the clock to

00:37:43.924 --> 00:37:46.898
a device, the device isn't even
going to switch,

00:37:46.898 --> 00:37:50.569
it's just going to sit there in
limbo without consuming any

00:37:50.569 --> 00:37:52.848
power.
It's equivalent to turning off

00:37:52.848 --> 00:37:55.759
both transistors.
If you turn off both the PMOS

00:37:55.759 --> 00:37:58.481
and NMOS somehow,
OK, it's not consuming any

00:37:58.481 --> 00:38:01.235
power.
And by doing that,

00:38:01.235 --> 00:38:03.570
you can further cut down the
power.

00:38:03.570 --> 00:38:06.797
So, if you can idle some of
your function units,

00:38:06.797 --> 00:38:10.917
it's called idling a function
unit, idle a function unit for,

00:38:10.917 --> 00:38:14.762
let's say, half the time.
OK, you would cut down power by

00:38:14.762 --> 00:38:17.096
another factor of two.
We can idle,

00:38:17.096 --> 00:38:19.774
then, 75% of the time,
come down to 25W.

00:38:19.774 --> 00:38:23.345
So, those are the classes of
tricks that people play.

00:38:23.345 --> 00:38:26.984
I'm going to stop here and
allow the underground guide

00:38:26.984 --> 00:38:30.691
folks to do the survey.
But, suffice it to say that the

00:38:30.691 --> 00:38:34.948
power discussion that I've gone
through with you is a very high

00:38:34.948 --> 00:38:39.000
level discussion as to the real
thing.

00:38:39.000 --> 00:38:41.611
In real life,
what actually happens is that

00:38:41.611 --> 00:38:44.844
there is a fair amount of
standby power even for CMOS

00:38:44.844 --> 00:38:46.958
logic.
It turns out that although I

00:38:46.958 --> 00:38:50.564
don't have a path from VS to
ground for my two transistors,

00:38:50.564 --> 00:38:53.611
it turns out that there are
many leakage currents.

00:38:53.611 --> 00:38:57.093
OK, currents leak through all
kinds of places through the

00:38:57.093 --> 00:38:59.891
drain of the inverter,
and so on and so forth.

00:38:59.891 --> 00:39:03.000
And so, there is some standby
power.

00:39:03.000 --> 00:39:06.802
So, let me show you a quick
demo while, I guess,

00:39:06.802 --> 00:39:09.715
the review handouts are going
around.

00:39:09.715 --> 00:39:13.761
And this shows the temperature
of my CMOS inverter,

00:39:13.761 --> 00:39:17.807
and as I increase the
frequency, you can just watch

00:39:17.807 --> 00:39:21.933
the temperature go up,
and hopefully we'll blow this

00:39:21.933 --> 00:39:24.603
transistor.
So, I'm increasing the

00:39:24.603 --> 00:39:29.620
frequency as you can see on the
side here, and higher frequency

00:39:29.620 --> 00:39:33.504
implies more power consumption,
more temperature,

00:39:33.504 --> 00:39:37.954
OK, and hopefully you will see
some smoke coming out of,

00:39:37.954 --> 00:39:42.000
OK, I think I blew the
inverter.

00:39:42.000 --> 00:39:46.315
So, the output is gone.
So, it's at 110 degrees there,

00:39:46.315 --> 00:39:49.898
and that blew it.
Sometimes we see smoke come

00:39:49.898 --> 00:39:54.050
out, but I guess today is not
one of our lucky days.

00:39:54.050 --> 00:39:58.854
OK, so let me stop here and
have the underground guide folks

00:39:58.854 --> 00:40:00.387
go through the reviews.

