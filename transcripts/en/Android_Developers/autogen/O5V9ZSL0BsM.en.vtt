WEBVTT
Kind: captions
Language: en

00:00:02.880 --> 00:00:06.789
 
[Music]

00:00:06.789 --> 00:00:06.799
[Music]
 

00:00:06.799 --> 00:00:10.150
[Music]
my name is Esteban I'm the lead of the

00:00:10.150 --> 00:00:10.160
my name is Esteban I'm the lead of the
 

00:00:10.160 --> 00:00:13.280
my name is Esteban I'm the lead of the
profiling sin and the studio and today

00:00:13.280 --> 00:00:13.290
profiling sin and the studio and today
 

00:00:13.290 --> 00:00:14.780
profiling sin and the studio and today
I'm gonna show you all the new features

00:00:14.780 --> 00:00:14.790
I'm gonna show you all the new features
 

00:00:14.790 --> 00:00:17.300
I'm gonna show you all the new features
we have in Android studio 3.2 and some

00:00:17.300 --> 00:00:17.310
we have in Android studio 3.2 and some
 

00:00:17.310 --> 00:00:18.800
we have in Android studio 3.2 and some
of the features that we launched in

00:00:18.800 --> 00:00:18.810
of the features that we launched in
 

00:00:18.810 --> 00:00:25.609
of the features that we launched in
under to do 3.1 in the profilers right

00:00:25.609 --> 00:00:25.619
under to do 3.1 in the profilers right
 

00:00:25.619 --> 00:00:28.730
under to do 3.1 in the profilers right
so I'm gonna be doing a demo for most of

00:00:28.730 --> 00:00:28.740
so I'm gonna be doing a demo for most of
 

00:00:28.740 --> 00:00:31.400
so I'm gonna be doing a demo for most of
the session but just in case you haven't

00:00:31.400 --> 00:00:31.410
the session but just in case you haven't
 

00:00:31.410 --> 00:00:33.380
the session but just in case you haven't
seen the profilers before just just to

00:00:33.380 --> 00:00:33.390
seen the profilers before just just to
 

00:00:33.390 --> 00:00:34.880
seen the profilers before just just to
get an idea how many of you have used

00:00:34.880 --> 00:00:34.890
get an idea how many of you have used
 

00:00:34.890 --> 00:00:39.220
get an idea how many of you have used
the profilers you know okay that's great

00:00:39.220 --> 00:00:39.230
the profilers you know okay that's great
 

00:00:39.230 --> 00:00:41.450
the profilers you know okay that's great
well I was gonna explain that we have

00:00:41.450 --> 00:00:41.460
well I was gonna explain that we have
 

00:00:41.460 --> 00:00:43.250
well I was gonna explain that we have
these profilers to you but most of you

00:00:43.250 --> 00:00:43.260
these profilers to you but most of you
 

00:00:43.260 --> 00:00:45.020
these profilers to you but most of you
have seen them but we have a new

00:00:45.020 --> 00:00:45.030
have seen them but we have a new
 

00:00:45.030 --> 00:00:47.000
have seen them but we have a new
profiler that I'm gonna be introducing

00:00:47.000 --> 00:00:47.010
profiler that I'm gonna be introducing
 

00:00:47.010 --> 00:00:50.240
profiler that I'm gonna be introducing
today that is the energy profiler as you

00:00:50.240 --> 00:00:50.250
today that is the energy profiler as you
 

00:00:50.250 --> 00:00:51.979
today that is the energy profiler as you
know we have the monitors that show you

00:00:51.979 --> 00:00:51.989
know we have the monitors that show you
 

00:00:51.989 --> 00:00:54.680
know we have the monitors that show you
live telemetry from the app we have a

00:00:54.680 --> 00:00:54.690
live telemetry from the app we have a
 

00:00:54.690 --> 00:00:58.310
live telemetry from the app we have a
CPU network memory and the new energy

00:00:58.310 --> 00:00:58.320
CPU network memory and the new energy
 

00:00:58.320 --> 00:01:01.910
CPU network memory and the new energy
profiler and you can dive in into any of

00:01:01.910 --> 00:01:01.920
profiler and you can dive in into any of
 

00:01:01.920 --> 00:01:04.189
profiler and you can dive in into any of
those and for example inspect your

00:01:04.189 --> 00:01:04.199
those and for example inspect your
 

00:01:04.199 --> 00:01:05.840
those and for example inspect your
network requests see where you made the

00:01:05.840 --> 00:01:05.850
network requests see where you made the
 

00:01:05.850 --> 00:01:08.330
network requests see where you made the
request from code see what you actually

00:01:08.330 --> 00:01:08.340
request from code see what you actually
 

00:01:08.340 --> 00:01:11.420
request from code see what you actually
downloaded what was sent you can also

00:01:11.420 --> 00:01:11.430
downloaded what was sent you can also
 

00:01:11.430 --> 00:01:14.510
downloaded what was sent you can also
dive in into the memory profiler see the

00:01:14.510 --> 00:01:14.520
dive in into the memory profiler see the
 

00:01:14.520 --> 00:01:16.249
dive in into the memory profiler see the
breakdown of the memory see how many

00:01:16.249 --> 00:01:16.259
breakdown of the memory see how many
 

00:01:16.259 --> 00:01:17.929
breakdown of the memory see how many
objects you have allocated where you

00:01:17.929 --> 00:01:17.939
objects you have allocated where you
 

00:01:17.939 --> 00:01:22.310
objects you have allocated where you
located them you can also dive into the

00:01:22.310 --> 00:01:22.320
located them you can also dive into the
 

00:01:22.320 --> 00:01:24.410
located them you can also dive into the
CPU profiler I'm gonna be showing some

00:01:24.410 --> 00:01:24.420
CPU profiler I'm gonna be showing some
 

00:01:24.420 --> 00:01:26.749
CPU profiler I'm gonna be showing some
new cool features that we added there in

00:01:26.749 --> 00:01:26.759
new cool features that we added there in
 

00:01:26.759 --> 00:01:32.420
new cool features that we added there in
3.2 specifically systrace again I'm

00:01:32.420 --> 00:01:32.430
3.2 specifically systrace again I'm
 

00:01:32.430 --> 00:01:34.460
3.2 specifically systrace again I'm
gonna ask the question how many of you

00:01:34.460 --> 00:01:34.470
gonna ask the question how many of you
 

00:01:34.470 --> 00:01:38.090
gonna ask the question how many of you
have used this trace before okay cool

00:01:38.090 --> 00:01:38.100
have used this trace before okay cool
 

00:01:38.100 --> 00:01:40.819
have used this trace before okay cool
now systrace is we started with the

00:01:40.819 --> 00:01:40.829
now systrace is we started with the
 

00:01:40.829 --> 00:01:42.649
now systrace is we started with the
first steps of integrating sisters into

00:01:42.649 --> 00:01:42.659
first steps of integrating sisters into
 

00:01:42.659 --> 00:01:44.660
first steps of integrating sisters into
the Android studio CPU profiler I'm

00:01:44.660 --> 00:01:44.670
the Android studio CPU profiler I'm
 

00:01:44.670 --> 00:01:48.289
the Android studio CPU profiler I'm
gonna be demoing that in a few moments

00:01:48.289 --> 00:01:48.299
gonna be demoing that in a few moments
 

00:01:48.299 --> 00:01:51.139
gonna be demoing that in a few moments
and last but not least is the new energy

00:01:51.139 --> 00:01:51.149
and last but not least is the new energy
 

00:01:51.149 --> 00:01:55.359
and last but not least is the new energy
profiler that will guide you in finding

00:01:55.359 --> 00:01:55.369
profiler that will guide you in finding
 

00:01:55.369 --> 00:01:58.780
profiler that will guide you in finding
problems in your app that could lead to

00:01:58.780 --> 00:01:58.790
problems in your app that could lead to
 

00:01:58.790 --> 00:02:02.450
problems in your app that could lead to
energy profiling energy issues I took

00:02:02.450 --> 00:02:02.460
energy profiling energy issues I took
 

00:02:02.460 --> 00:02:03.770
energy profiling energy issues I took
more about that at the end of the

00:02:03.770 --> 00:02:03.780
more about that at the end of the
 

00:02:03.780 --> 00:02:04.580
more about that at the end of the
session

00:02:04.580 --> 00:02:04.590
session
 

00:02:04.590 --> 00:02:07.560
session
and with that that's it that's all this

00:02:07.560 --> 00:02:07.570
and with that that's it that's all this
 

00:02:07.570 --> 00:02:09.300
and with that that's it that's all this
lights and a half so I'm gonna move to

00:02:09.300 --> 00:02:09.310
lights and a half so I'm gonna move to
 

00:02:09.310 --> 00:02:12.570
lights and a half so I'm gonna move to
the demo now and I have to make a

00:02:12.570 --> 00:02:12.580
the demo now and I have to make a
 

00:02:12.580 --> 00:02:17.490
the demo now and I have to make a
disclaimer so all the features that I'm

00:02:17.490 --> 00:02:17.500
disclaimer so all the features that I'm
 

00:02:17.500 --> 00:02:19.890
disclaimer so all the features that I'm
gonna be demoing today are in under

00:02:19.890 --> 00:02:19.900
gonna be demoing today are in under
 

00:02:19.900 --> 00:02:22.290
gonna be demoing today are in under
studio 3.2 canary and there is a reason

00:02:22.290 --> 00:02:22.300
studio 3.2 canary and there is a reason
 

00:02:22.300 --> 00:02:24.240
studio 3.2 canary and there is a reason
why they are not in the stable release

00:02:24.240 --> 00:02:24.250
why they are not in the stable release
 

00:02:24.250 --> 00:02:27.600
why they are not in the stable release
yet so we might be in for a bumpy ride

00:02:27.600 --> 00:02:27.610
yet so we might be in for a bumpy ride
 

00:02:27.610 --> 00:02:29.690
yet so we might be in for a bumpy ride
but I wanted to show you what we have

00:02:29.690 --> 00:02:29.700
but I wanted to show you what we have
 

00:02:29.700 --> 00:02:32.910
but I wanted to show you what we have
and you know if it crashes we just keep

00:02:32.910 --> 00:02:32.920
and you know if it crashes we just keep
 

00:02:32.920 --> 00:02:35.010
and you know if it crashes we just keep
it between us and people watching on

00:02:35.010 --> 00:02:35.020
it between us and people watching on
 

00:02:35.020 --> 00:02:39.290
it between us and people watching on
YouTube and that's it all right so I

00:02:39.290 --> 00:02:39.300
YouTube and that's it all right so I
 

00:02:39.300 --> 00:02:43.200
YouTube and that's it all right so I
brought last week this clock app it's a

00:02:43.200 --> 00:02:43.210
brought last week this clock app it's a
 

00:02:43.210 --> 00:02:46.650
brought last week this clock app it's a
simple clock app that has the clock it

00:02:46.650 --> 00:02:46.660
simple clock app that has the clock it
 

00:02:46.660 --> 00:02:50.490
simple clock app that has the clock it
has a stopwatch that you can click does

00:02:50.490 --> 00:02:50.500
has a stopwatch that you can click does
 

00:02:50.500 --> 00:02:54.330
has a stopwatch that you can click does
something and it has a timer and I want

00:02:54.330 --> 00:02:54.340
something and it has a timer and I want
 

00:02:54.340 --> 00:02:56.880
something and it has a timer and I want
to profile it with you guys so let's

00:02:56.880 --> 00:02:56.890
to profile it with you guys so let's
 

00:02:56.890 --> 00:03:01.340
to profile it with you guys so let's
first start with Network profiler so

00:03:01.340 --> 00:03:01.350
first start with Network profiler so
 

00:03:01.350 --> 00:03:03.900
first start with Network profiler so
this app has a lot of features than a

00:03:03.900 --> 00:03:03.910
this app has a lot of features than a
 

00:03:03.910 --> 00:03:06.449
this app has a lot of features than a
clock app should not have for example in

00:03:06.449 --> 00:03:06.459
clock app should not have for example in
 

00:03:06.459 --> 00:03:09.000
clock app should not have for example in
its internet access it needs to access

00:03:09.000 --> 00:03:09.010
its internet access it needs to access
 

00:03:09.010 --> 00:03:10.979
its internet access it needs to access
location it has a lot of things so we

00:03:10.979 --> 00:03:10.989
location it has a lot of things so we
 

00:03:10.989 --> 00:03:12.570
location it has a lot of things so we
can demo this so please do not write the

00:03:12.570 --> 00:03:12.580
can demo this so please do not write the
 

00:03:12.580 --> 00:03:16.380
can demo this so please do not write the
clock up like this so one of the

00:03:16.380 --> 00:03:16.390
clock up like this so one of the
 

00:03:16.390 --> 00:03:17.910
clock up like this so one of the
features it has is you can change the

00:03:17.910 --> 00:03:17.920
features it has is you can change the
 

00:03:17.920 --> 00:03:21.330
features it has is you can change the
background so if the internet connection

00:03:21.330 --> 00:03:21.340
background so if the internet connection
 

00:03:21.340 --> 00:03:23.940
background so if the internet connection
is good enough this thing is gonna start

00:03:23.940 --> 00:03:23.950
is good enough this thing is gonna start
 

00:03:23.950 --> 00:03:26.250
is good enough this thing is gonna start
downloading some images right now there

00:03:26.250 --> 00:03:26.260
downloading some images right now there
 

00:03:26.260 --> 00:03:27.320
downloading some images right now there
we go

00:03:27.320 --> 00:03:27.330
we go
 

00:03:27.330 --> 00:03:29.460
we go
you can dive in into the network

00:03:29.460 --> 00:03:29.470
you can dive in into the network
 

00:03:29.470 --> 00:03:31.890
you can dive in into the network
profiler you surely have seen this

00:03:31.890 --> 00:03:31.900
profiler you surely have seen this
 

00:03:31.900 --> 00:03:35.520
profiler you surely have seen this
before and you can see all the network

00:03:35.520 --> 00:03:35.530
before and you can see all the network
 

00:03:35.530 --> 00:03:36.900
before and you can see all the network
requests that have been done you can

00:03:36.900 --> 00:03:36.910
requests that have been done you can
 

00:03:36.910 --> 00:03:38.840
requests that have been done you can
click on them and see the actual payload

00:03:38.840 --> 00:03:38.850
click on them and see the actual payload
 

00:03:38.850 --> 00:03:41.940
click on them and see the actual payload
something new that was added in 3.1 is

00:03:41.940 --> 00:03:41.950
something new that was added in 3.1 is
 

00:03:41.950 --> 00:03:45.180
something new that was added in 3.1 is
the ability for us to see what we send

00:03:45.180 --> 00:03:45.190
the ability for us to see what we send
 

00:03:45.190 --> 00:03:46.949
the ability for us to see what we send
not just what we receive but we can say

00:03:46.949 --> 00:03:46.959
not just what we receive but we can say
 

00:03:46.959 --> 00:03:48.900
not just what we receive but we can say
the payload or the custom headers that

00:03:48.900 --> 00:03:48.910
the payload or the custom headers that
 

00:03:48.910 --> 00:03:53.340
the payload or the custom headers that
we use in this case I have one custom

00:03:53.340 --> 00:03:53.350
we use in this case I have one custom
 

00:03:53.350 --> 00:03:56.160
we use in this case I have one custom
header that says Doble Oak there is

00:03:56.160 --> 00:03:56.170
header that says Doble Oak there is
 

00:03:56.170 --> 00:03:59.610
header that says Doble Oak there is
another new feature in 3.14 the network

00:03:59.610 --> 00:03:59.620
another new feature in 3.14 the network
 

00:03:59.620 --> 00:04:03.420
another new feature in 3.14 the network
of filer and that is the threads view so

00:04:03.420 --> 00:04:03.430
of filer and that is the threads view so
 

00:04:03.430 --> 00:04:07.170
of filer and that is the threads view so
as you see here we show you the requests

00:04:07.170 --> 00:04:07.180
as you see here we show you the requests
 

00:04:07.180 --> 00:04:12.060
as you see here we show you the requests
in a timeline but if you choose thread

00:04:12.060 --> 00:04:12.070
in a timeline but if you choose thread
 

00:04:12.070 --> 00:04:13.960
in a timeline but if you choose thread
view what you can see

00:04:13.960 --> 00:04:13.970
view what you can see
 

00:04:13.970 --> 00:04:18.520
view what you can see
on which thread this is and let me close

00:04:18.520 --> 00:04:18.530
on which thread this is and let me close
 

00:04:18.530 --> 00:04:20.229
on which thread this is and let me close
this so you have more space there we go

00:04:20.229 --> 00:04:20.239
this so you have more space there we go
 

00:04:20.239 --> 00:04:22.690
this so you have more space there we go
so you can see each request on which

00:04:22.690 --> 00:04:22.700
so you can see each request on which
 

00:04:22.700 --> 00:04:26.110
so you can see each request on which
thread it was made and if we have more

00:04:26.110 --> 00:04:26.120
thread it was made and if we have more
 

00:04:26.120 --> 00:04:29.050
thread it was made and if we have more
like this I'm using a standard

00:04:29.050 --> 00:04:29.060
like this I'm using a standard
 

00:04:29.060 --> 00:04:31.270
like this I'm using a standard
synchronous task which uses a default

00:04:31.270 --> 00:04:31.280
synchronous task which uses a default
 

00:04:31.280 --> 00:04:33.550
synchronous task which uses a default
executor that will run them sequentially

00:04:33.550 --> 00:04:33.560
executor that will run them sequentially
 

00:04:33.560 --> 00:04:34.990
executor that will run them sequentially
and you can see them and if they were

00:04:34.990 --> 00:04:35.000
and you can see them and if they were
 

00:04:35.000 --> 00:04:36.520
and you can see them and if they were
reusing the same thread you can see them

00:04:36.520 --> 00:04:36.530
reusing the same thread you can see them
 

00:04:36.530 --> 00:04:38.350
reusing the same thread you can see them
to you but if in your app you have more

00:04:38.350 --> 00:04:38.360
to you but if in your app you have more
 

00:04:38.360 --> 00:04:42.040
to you but if in your app you have more
complex threading with Network requests

00:04:42.040 --> 00:04:42.050
complex threading with Network requests
 

00:04:42.050 --> 00:04:43.840
complex threading with Network requests
you can use this view to see what's

00:04:43.840 --> 00:04:43.850
you can use this view to see what's
 

00:04:43.850 --> 00:04:46.780
you can use this view to see what's
going on so those are the two new

00:04:46.780 --> 00:04:46.790
going on so those are the two new
 

00:04:46.790 --> 00:04:49.480
going on so those are the two new
features on the network profiler that we

00:04:49.480 --> 00:04:49.490
features on the network profiler that we
 

00:04:49.490 --> 00:04:52.690
features on the network profiler that we
added in 3.1 and now I'm gonna move to

00:04:52.690 --> 00:04:52.700
added in 3.1 and now I'm gonna move to
 

00:04:52.700 --> 00:04:56.500
added in 3.1 and now I'm gonna move to
the memory profiler let me go to the

00:04:56.500 --> 00:04:56.510
the memory profiler let me go to the
 

00:04:56.510 --> 00:05:00.850
the memory profiler let me go to the
live session if you have seen this view

00:05:00.850 --> 00:05:00.860
live session if you have seen this view
 

00:05:00.860 --> 00:05:02.650
live session if you have seen this view
before we split up how much memory you

00:05:02.650 --> 00:05:02.660
before we split up how much memory you
 

00:05:02.660 --> 00:05:04.180
before we split up how much memory you
are using into different components but

00:05:04.180 --> 00:05:04.190
are using into different components but
 

00:05:04.190 --> 00:05:06.910
are using into different components but
we also show you the number of objects

00:05:06.910 --> 00:05:06.920
we also show you the number of objects
 

00:05:06.920 --> 00:05:09.490
we also show you the number of objects
you have allocated if you are profiling

00:05:09.490 --> 00:05:09.500
you have allocated if you are profiling
 

00:05:09.500 --> 00:05:12.760
you have allocated if you are profiling
on an Android or your phone or newer we

00:05:12.760 --> 00:05:12.770
on an Android or your phone or newer we
 

00:05:12.770 --> 00:05:15.250
on an Android or your phone or newer we
have and this is this is super cool we

00:05:15.250 --> 00:05:15.260
have and this is this is super cool we
 

00:05:15.260 --> 00:05:17.260
have and this is this is super cool we
have a feature called live a location

00:05:17.260 --> 00:05:17.270
have a feature called live a location
 

00:05:17.270 --> 00:05:19.540
have a feature called live a location
tracking remember back in the back in

00:05:19.540 --> 00:05:19.550
tracking remember back in the back in
 

00:05:19.550 --> 00:05:21.310
tracking remember back in the back in
the day was probably last year when you

00:05:21.310 --> 00:05:21.320
the day was probably last year when you
 

00:05:21.320 --> 00:05:24.070
the day was probably last year when you
had to do a location tracking you had to

00:05:24.070 --> 00:05:24.080
had to do a location tracking you had to
 

00:05:24.080 --> 00:05:26.560
had to do a location tracking you had to
click on a button to record the

00:05:26.560 --> 00:05:26.570
click on a button to record the
 

00:05:26.570 --> 00:05:27.670
click on a button to record the
locations and then you would see them

00:05:27.670 --> 00:05:27.680
locations and then you would see them
 

00:05:27.680 --> 00:05:29.530
locations and then you would see them
well if we wanted to know what happened

00:05:29.530 --> 00:05:29.540
well if we wanted to know what happened
 

00:05:29.540 --> 00:05:32.320
well if we wanted to know what happened
here we can see that the object line is

00:05:32.320 --> 00:05:32.330
here we can see that the object line is
 

00:05:32.330 --> 00:05:34.000
here we can see that the object line is
going up as being garbage collections

00:05:34.000 --> 00:05:34.010
going up as being garbage collections
 

00:05:34.010 --> 00:05:37.210
going up as being garbage collections
going up as being garbage collected just

00:05:37.210 --> 00:05:37.220
going up as being garbage collected just
 

00:05:37.220 --> 00:05:38.530
going up as being garbage collected just
if you want to see what's happening just

00:05:38.530 --> 00:05:38.540
if you want to see what's happening just
 

00:05:38.540 --> 00:05:40.600
if you want to see what's happening just
select a range and we will have the

00:05:40.600 --> 00:05:40.610
select a range and we will have the
 

00:05:40.610 --> 00:05:42.130
select a range and we will have the
information of every single object that

00:05:42.130 --> 00:05:42.140
information of every single object that
 

00:05:42.140 --> 00:05:44.350
information of every single object that
was allocated there at which time it was

00:05:44.350 --> 00:05:44.360
was allocated there at which time it was
 

00:05:44.360 --> 00:05:49.000
was allocated there at which time it was
allocated and where in your code

00:05:49.000 --> 00:05:49.010
allocated and where in your code
 

00:05:49.010 --> 00:05:51.040
allocated and where in your code
it was allocated and you can slide this

00:05:51.040 --> 00:05:51.050
it was allocated and you can slide this
 

00:05:51.050 --> 00:05:52.510
it was allocated and you can slide this
window and you can see this thing

00:05:52.510 --> 00:05:52.520
window and you can see this thing
 

00:05:52.520 --> 00:05:54.820
window and you can see this thing
changing so if I slide it over a garbage

00:05:54.820 --> 00:05:54.830
changing so if I slide it over a garbage
 

00:05:54.830 --> 00:05:57.430
changing so if I slide it over a garbage
collection period you will see which

00:05:57.430 --> 00:05:57.440
collection period you will see which
 

00:05:57.440 --> 00:06:00.280
collection period you will see which
objects were Delocated let me close this

00:06:00.280 --> 00:06:00.290
objects were Delocated let me close this
 

00:06:00.290 --> 00:06:05.500
objects were Delocated let me close this
window there we go we can see that there

00:06:05.500 --> 00:06:05.510
window there we go we can see that there
 

00:06:05.510 --> 00:06:07.030
window there we go we can see that there
was a lot of strings yeah located so we

00:06:07.030 --> 00:06:07.040
was a lot of strings yeah located so we
 

00:06:07.040 --> 00:06:08.530
was a lot of strings yeah located so we
can start actually having a look at this

00:06:08.530 --> 00:06:08.540
can start actually having a look at this
 

00:06:08.540 --> 00:06:13.780
can start actually having a look at this
app and see how bad it is written for

00:06:13.780 --> 00:06:13.790
app and see how bad it is written for
 

00:06:13.790 --> 00:06:15.670
app and see how bad it is written for
example if I select this and I want to

00:06:15.670 --> 00:06:15.680
example if I select this and I want to
 

00:06:15.680 --> 00:06:18.070
example if I select this and I want to
see what was located I can see that

00:06:18.070 --> 00:06:18.080
see what was located I can see that
 

00:06:18.080 --> 00:06:19.540
see what was located I can see that
there were a lot of strings allocated I

00:06:19.540 --> 00:06:19.550
there were a lot of strings allocated I
 

00:06:19.550 --> 00:06:21.230
there were a lot of strings allocated I
can click on any one of those

00:06:21.230 --> 00:06:21.240
can click on any one of those
 

00:06:21.240 --> 00:06:23.960
can click on any one of those
where I a located them and I allocated

00:06:23.960 --> 00:06:23.970
where I a located them and I allocated
 

00:06:23.970 --> 00:06:25.969
where I a located them and I allocated
them inside an on draw this is not a

00:06:25.969 --> 00:06:25.979
them inside an on draw this is not a
 

00:06:25.979 --> 00:06:27.950
them inside an on draw this is not a
good idea if you have a custom view and

00:06:27.950 --> 00:06:27.960
good idea if you have a custom view and
 

00:06:27.960 --> 00:06:30.650
good idea if you have a custom view and
you allocate a lot of strings there but

00:06:30.650 --> 00:06:30.660
you allocate a lot of strings there but
 

00:06:30.660 --> 00:06:33.830
you allocate a lot of strings there but
things will happen and we'll see more

00:06:33.830 --> 00:06:33.840
things will happen and we'll see more
 

00:06:33.840 --> 00:06:36.230
things will happen and we'll see more
about that through the CPU profiler but

00:06:36.230 --> 00:06:36.240
about that through the CPU profiler but
 

00:06:36.240 --> 00:06:38.029
about that through the CPU profiler but
this is already starting to tell us

00:06:38.029 --> 00:06:38.039
this is already starting to tell us
 

00:06:38.039 --> 00:06:42.070
this is already starting to tell us
signals about what my app is doing wrong

00:06:42.070 --> 00:06:42.080
signals about what my app is doing wrong
 

00:06:42.080 --> 00:06:45.200
signals about what my app is doing wrong
another new thing that we added in 3.2

00:06:45.200 --> 00:06:45.210
another new thing that we added in 3.2
 

00:06:45.210 --> 00:06:50.420
another new thing that we added in 3.2
is the ability to see j'ni global

00:06:50.420 --> 00:06:50.430
is the ability to see j'ni global
 

00:06:50.430 --> 00:06:51.980
is the ability to see j'ni global
references this is very important

00:06:51.980 --> 00:06:51.990
references this is very important
 

00:06:51.990 --> 00:06:53.210
references this is very important
because a lot of memory leaks occur

00:06:53.210 --> 00:06:53.220
because a lot of memory leaks occur
 

00:06:53.220 --> 00:06:55.370
because a lot of memory leaks occur
because one j9 global reference is

00:06:55.370 --> 00:06:55.380
because one j9 global reference is
 

00:06:55.380 --> 00:06:57.170
because one j9 global reference is
created and we don't know when we

00:06:57.170 --> 00:06:57.180
created and we don't know when we
 

00:06:57.180 --> 00:06:58.339
created and we don't know when we
created it and we don't know where it is

00:06:58.339 --> 00:06:58.349
created it and we don't know where it is
 

00:06:58.349 --> 00:07:02.689
created it and we don't know where it is
so when you select a range what I have

00:07:02.689 --> 00:07:02.699
so when you select a range what I have
 

00:07:02.699 --> 00:07:04.700
so when you select a range what I have
here in my app every time I download an

00:07:04.700 --> 00:07:04.710
here in my app every time I download an
 

00:07:04.710 --> 00:07:07.249
here in my app every time I download an
image I run a filter through it in C++

00:07:07.249 --> 00:07:07.259
image I run a filter through it in C++
 

00:07:07.259 --> 00:07:10.839
image I run a filter through it in C++
to darken it so the font can be seen and

00:07:10.839 --> 00:07:10.849
to darken it so the font can be seen and
 

00:07:10.849 --> 00:07:14.120
to darken it so the font can be seen and
I have a global reference there and I

00:07:14.120 --> 00:07:14.130
I have a global reference there and I
 

00:07:14.130 --> 00:07:16.760
I have a global reference there and I
hope I didn't I did right right so we

00:07:16.760 --> 00:07:16.770
hope I didn't I did right right so we
 

00:07:16.770 --> 00:07:20.240
hope I didn't I did right right so we
have a special key which we call the

00:07:20.240 --> 00:07:20.250
have a special key which we call the
 

00:07:20.250 --> 00:07:21.860
have a special key which we call the
Jana here that when you select it you

00:07:21.860 --> 00:07:21.870
Jana here that when you select it you
 

00:07:21.870 --> 00:07:24.230
Jana here that when you select it you
can see all the global references that

00:07:24.230 --> 00:07:24.240
can see all the global references that
 

00:07:24.240 --> 00:07:27.950
can see all the global references that
existed in this range of time in this

00:07:27.950 --> 00:07:27.960
existed in this range of time in this
 

00:07:27.960 --> 00:07:29.659
existed in this range of time in this
case I have this inter ray and I know I

00:07:29.659 --> 00:07:29.669
case I have this inter ray and I know I
 

00:07:29.669 --> 00:07:32.140
case I have this inter ray and I know I
created one but it should have been gone

00:07:32.140 --> 00:07:32.150
created one but it should have been gone
 

00:07:32.150 --> 00:07:39.370
created one but it should have been gone
so let me go live here and select range

00:07:39.370 --> 00:07:39.380
 
 

00:07:39.380 --> 00:07:44.810
 
and here it is this is my global this is

00:07:44.810 --> 00:07:44.820
and here it is this is my global this is
 

00:07:44.820 --> 00:07:46.399
and here it is this is my global this is
every image that I downloaded I still

00:07:46.399 --> 00:07:46.409
every image that I downloaded I still
 

00:07:46.409 --> 00:07:48.439
every image that I downloaded I still
holding a gene a global reference to it

00:07:48.439 --> 00:07:48.449
holding a gene a global reference to it
 

00:07:48.449 --> 00:07:51.469
holding a gene a global reference to it
and I can actually navigate to the c++

00:07:51.469 --> 00:07:51.479
and I can actually navigate to the c++
 

00:07:51.479 --> 00:07:53.480
and I can actually navigate to the c++
line of code where i created a global

00:07:53.480 --> 00:07:53.490
line of code where i created a global
 

00:07:53.490 --> 00:07:56.600
line of code where i created a global
reference i never let go so i hope this

00:07:56.600 --> 00:07:56.610
reference i never let go so i hope this
 

00:07:56.610 --> 00:07:59.480
reference i never let go so i hope this
is useful to track down problems with

00:07:59.480 --> 00:07:59.490
is useful to track down problems with
 

00:07:59.490 --> 00:08:04.700
is useful to track down problems with
global references in j9 and one more

00:08:04.700 --> 00:08:04.710
global references in j9 and one more
 

00:08:04.710 --> 00:08:08.029
global references in j9 and one more
thing you probably have been seeing all

00:08:08.029 --> 00:08:08.039
thing you probably have been seeing all
 

00:08:08.039 --> 00:08:10.129
thing you probably have been seeing all
the time on the left that we have a new

00:08:10.129 --> 00:08:10.139
the time on the left that we have a new
 

00:08:10.139 --> 00:08:13.790
the time on the left that we have a new
panel called the sessions panel well now

00:08:13.790 --> 00:08:13.800
panel called the sessions panel well now
 

00:08:13.800 --> 00:08:16.490
panel called the sessions panel well now
we allow you to see previous sessions

00:08:16.490 --> 00:08:16.500
we allow you to see previous sessions
 

00:08:16.500 --> 00:08:18.110
we allow you to see previous sessions
that you have been profiled so you can

00:08:18.110 --> 00:08:18.120
that you have been profiled so you can
 

00:08:18.120 --> 00:08:19.939
that you have been profiled so you can
navigate back and compare previous runs

00:08:19.939 --> 00:08:19.949
navigate back and compare previous runs
 

00:08:19.949 --> 00:08:21.230
navigate back and compare previous runs
so if you're working on optimizing your

00:08:21.230 --> 00:08:21.240
so if you're working on optimizing your
 

00:08:21.240 --> 00:08:23.300
so if you're working on optimizing your
app so what did I change you can go back

00:08:23.300 --> 00:08:23.310
app so what did I change you can go back
 

00:08:23.310 --> 00:08:25.309
app so what did I change you can go back
and see if your sessions will at the end

00:08:25.309 --> 00:08:25.319
and see if your sessions will at the end
 

00:08:25.319 --> 00:08:26.809
and see if your sessions will at the end
of the demo hopefully we can go back and

00:08:26.809 --> 00:08:26.819
of the demo hopefully we can go back and
 

00:08:26.819 --> 00:08:28.700
of the demo hopefully we can go back and
see what what we optimized and what

00:08:28.700 --> 00:08:28.710
see what what we optimized and what
 

00:08:28.710 --> 00:08:31.640
see what what we optimized and what
happened but that opened the door for us

00:08:31.640 --> 00:08:31.650
happened but that opened the door for us
 

00:08:31.650 --> 00:08:33.639
happened but that opened the door for us
to do things like this now

00:08:33.639 --> 00:08:33.649
to do things like this now
 

00:08:33.649 --> 00:08:36.850
to do things like this now
can import a file I'm gonna import hip

00:08:36.850 --> 00:08:36.860
can import a file I'm gonna import hip
 

00:08:36.860 --> 00:08:40.959
can import a file I'm gonna import hip
them and this hip them is being imported

00:08:40.959 --> 00:08:40.969
them and this hip them is being imported
 

00:08:40.969 --> 00:08:43.179
them and this hip them is being imported
directly into the new profilers and it

00:08:43.179 --> 00:08:43.189
directly into the new profilers and it
 

00:08:43.189 --> 00:08:45.340
directly into the new profilers and it
creates what we call it fake session for

00:08:45.340 --> 00:08:45.350
creates what we call it fake session for
 

00:08:45.350 --> 00:08:47.499
creates what we call it fake session for
it and you can analyze the hip them as

00:08:47.499 --> 00:08:47.509
it and you can analyze the hip them as
 

00:08:47.509 --> 00:08:49.540
it and you can analyze the hip them as
you are used to in the profilers you can

00:08:49.540 --> 00:08:49.550
you are used to in the profilers you can
 

00:08:49.550 --> 00:08:52.239
you are used to in the profilers you can
also import traces for CPU and

00:08:52.239 --> 00:08:52.249
also import traces for CPU and
 

00:08:52.249 --> 00:08:54.129
also import traces for CPU and
everything we can export we can import

00:08:54.129 --> 00:08:54.139
everything we can export we can import
 

00:08:54.139 --> 00:08:57.129
everything we can export we can import
too so that's pretty handy on this is

00:08:57.129 --> 00:08:57.139
too so that's pretty handy on this is
 

00:08:57.139 --> 00:09:03.220
too so that's pretty handy on this is
new in 3.2 and this is what I wanted to

00:09:03.220 --> 00:09:03.230
new in 3.2 and this is what I wanted to
 

00:09:03.230 --> 00:09:05.290
new in 3.2 and this is what I wanted to
show for memory and now we're gonna go

00:09:05.290 --> 00:09:05.300
show for memory and now we're gonna go
 

00:09:05.300 --> 00:09:12.269
show for memory and now we're gonna go
to CPU and spend most time there right

00:09:12.269 --> 00:09:12.279
to CPU and spend most time there right
 

00:09:12.279 --> 00:09:19.030
to CPU and spend most time there right
all right this is the live session and

00:09:19.030 --> 00:09:19.040
all right this is the live session and
 

00:09:19.040 --> 00:09:22.210
all right this is the live session and
I'm gonna show you one feature that you

00:09:22.210 --> 00:09:22.220
I'm gonna show you one feature that you
 

00:09:22.220 --> 00:09:26.530
I'm gonna show you one feature that you
have alright so one thing that we wanted

00:09:26.530 --> 00:09:26.540
have alright so one thing that we wanted
 

00:09:26.540 --> 00:09:28.869
have alright so one thing that we wanted
to add was the ability to profile since

00:09:28.869 --> 00:09:28.879
to add was the ability to profile since
 

00:09:28.879 --> 00:09:31.600
to add was the ability to profile since
the beginning so as if you've used the

00:09:31.600 --> 00:09:31.610
the beginning so as if you've used the
 

00:09:31.610 --> 00:09:32.799
the beginning so as if you've used the
profile is you notice that if you want

00:09:32.799 --> 00:09:32.809
profile is you notice that if you want
 

00:09:32.809 --> 00:09:34.329
profile is you notice that if you want
to profile your app startup you have to

00:09:34.329 --> 00:09:34.339
to profile your app startup you have to
 

00:09:34.339 --> 00:09:36.160
to profile your app startup you have to
quickly go to CPU profiler and click

00:09:36.160 --> 00:09:36.170
quickly go to CPU profiler and click
 

00:09:36.170 --> 00:09:37.809
quickly go to CPU profiler and click
record so you can see what's happening

00:09:37.809 --> 00:09:37.819
record so you can see what's happening
 

00:09:37.819 --> 00:09:40.720
record so you can see what's happening
well in three point two what you can do

00:09:40.720 --> 00:09:40.730
well in three point two what you can do
 

00:09:40.730 --> 00:09:45.400
well in three point two what you can do
is if you go to the profiling tab we

00:09:45.400 --> 00:09:45.410
is if you go to the profiling tab we
 

00:09:45.410 --> 00:09:47.769
is if you go to the profiling tab we
have a an option that says start

00:09:47.769 --> 00:09:47.779
have a an option that says start
 

00:09:47.779 --> 00:09:50.679
have a an option that says start
recording a method trace on startup so I

00:09:50.679 --> 00:09:50.689
recording a method trace on startup so I
 

00:09:50.689 --> 00:09:52.540
recording a method trace on startup so I
have this ticked you can choose the

00:09:52.540 --> 00:09:52.550
have this ticked you can choose the
 

00:09:52.550 --> 00:09:54.549
have this ticked you can choose the
configuration that you want in this case

00:09:54.549 --> 00:09:54.559
configuration that you want in this case
 

00:09:54.559 --> 00:09:57.100
configuration that you want in this case
I'm gonna use sample java configuration

00:09:57.100 --> 00:09:57.110
I'm gonna use sample java configuration
 

00:09:57.110 --> 00:10:08.260
I'm gonna use sample java configuration
and I'm gonna rerun the app

00:10:08.260 --> 00:10:08.270
 
 

00:10:08.270 --> 00:10:13.060
 
now you can see that they are restarted

00:10:13.060 --> 00:10:13.070
now you can see that they are restarted
 

00:10:13.070 --> 00:10:15.130
now you can see that they are restarted
the profilers took me directly to the

00:10:15.130 --> 00:10:15.140
the profilers took me directly to the
 

00:10:15.140 --> 00:10:17.800
the profilers took me directly to the
CPU profiler and there is already a

00:10:17.800 --> 00:10:17.810
CPU profiler and there is already a
 

00:10:17.810 --> 00:10:19.570
CPU profiler and there is already a
capture in progress from the very

00:10:19.570 --> 00:10:19.580
capture in progress from the very
 

00:10:19.580 --> 00:10:21.370
capture in progress from the very
beginning of the app so I'm gonna stop

00:10:21.370 --> 00:10:21.380
beginning of the app so I'm gonna stop
 

00:10:21.380 --> 00:10:24.519
beginning of the app so I'm gonna stop
it now and we're gonna investigate what

00:10:24.519 --> 00:10:24.529
it now and we're gonna investigate what
 

00:10:24.529 --> 00:10:29.079
it now and we're gonna investigate what
happened there take a few seconds to get

00:10:29.079 --> 00:10:29.089
happened there take a few seconds to get
 

00:10:29.089 --> 00:10:34.329
happened there take a few seconds to get
the data cool I don't know if you can

00:10:34.329 --> 00:10:34.339
the data cool I don't know if you can
 

00:10:34.339 --> 00:10:36.090
the data cool I don't know if you can
see the resolution on that screen but

00:10:36.090 --> 00:10:36.100
see the resolution on that screen but
 

00:10:36.100 --> 00:10:41.590
see the resolution on that screen but
let's have a look and see that I'm gonna

00:10:41.590 --> 00:10:41.600
let's have a look and see that I'm gonna
 

00:10:41.600 --> 00:10:43.510
let's have a look and see that I'm gonna
select the very beginning of the app in

00:10:43.510 --> 00:10:43.520
select the very beginning of the app in
 

00:10:43.520 --> 00:10:44.920
select the very beginning of the app in
fact you can see that the capture

00:10:44.920 --> 00:10:44.930
fact you can see that the capture
 

00:10:44.930 --> 00:10:47.350
fact you can see that the capture
started even before our telemetry could

00:10:47.350 --> 00:10:47.360
started even before our telemetry could
 

00:10:47.360 --> 00:10:49.260
started even before our telemetry could
start getting data from the app right

00:10:49.260 --> 00:10:49.270
start getting data from the app right
 

00:10:49.270 --> 00:10:51.699
start getting data from the app right
our telemetry started here but they have

00:10:51.699 --> 00:10:51.709
our telemetry started here but they have
 

00:10:51.709 --> 00:10:53.470
our telemetry started here but they have
started before and we can see the data

00:10:53.470 --> 00:10:53.480
started before and we can see the data
 

00:10:53.480 --> 00:10:57.610
started before and we can see the data
and if we keep zooming in there you can

00:10:57.610 --> 00:10:57.620
and if we keep zooming in there you can
 

00:10:57.620 --> 00:11:01.180
and if we keep zooming in there you can
see the first uncreate of my main

00:11:01.180 --> 00:11:01.190
see the first uncreate of my main
 

00:11:01.190 --> 00:11:03.660
see the first uncreate of my main
activity and even before that we can see

00:11:03.660 --> 00:11:03.670
activity and even before that we can see
 

00:11:03.670 --> 00:11:06.250
activity and even before that we can see
when all the exits were lowered and the

00:11:06.250 --> 00:11:06.260
when all the exits were lowered and the
 

00:11:06.260 --> 00:11:07.930
when all the exits were lowered and the
very very beginning of your app so with

00:11:07.930 --> 00:11:07.940
very very beginning of your app so with
 

00:11:07.940 --> 00:11:09.670
very very beginning of your app so with
this mechanism you can profile from the

00:11:09.670 --> 00:11:09.680
this mechanism you can profile from the
 

00:11:09.680 --> 00:11:13.480
this mechanism you can profile from the
very beginning optimize the startup time

00:11:13.480 --> 00:11:13.490
very beginning optimize the startup time
 

00:11:13.490 --> 00:11:17.170
very beginning optimize the startup time
of your app cool but let's have a look

00:11:17.170 --> 00:11:17.180
of your app cool but let's have a look
 

00:11:17.180 --> 00:11:19.990
of your app cool but let's have a look
at this capture and see if those strings

00:11:19.990 --> 00:11:20.000
at this capture and see if those strings
 

00:11:20.000 --> 00:11:22.569
at this capture and see if those strings
we saw before are actually causing some

00:11:22.569 --> 00:11:22.579
we saw before are actually causing some
 

00:11:22.579 --> 00:11:25.690
we saw before are actually causing some
problems one of my favorite views in the

00:11:25.690 --> 00:11:25.700
problems one of my favorite views in the
 

00:11:25.700 --> 00:11:28.720
problems one of my favorite views in the
CPU profiler is the flame chart the

00:11:28.720 --> 00:11:28.730
CPU profiler is the flame chart the
 

00:11:28.730 --> 00:11:30.490
CPU profiler is the flame chart the
flame chart aggregates all the coal

00:11:30.490 --> 00:11:30.500
flame chart aggregates all the coal
 

00:11:30.500 --> 00:11:35.079
flame chart aggregates all the coal
stacks that have the same beginning so

00:11:35.079 --> 00:11:35.089
stacks that have the same beginning so
 

00:11:35.089 --> 00:11:36.460
stacks that have the same beginning so
you can see it's basically the top-down

00:11:36.460 --> 00:11:36.470
you can see it's basically the top-down
 

00:11:36.470 --> 00:11:39.220
you can see it's basically the top-down
tree but in a visual way and you can see

00:11:39.220 --> 00:11:39.230
tree but in a visual way and you can see
 

00:11:39.230 --> 00:11:42.400
tree but in a visual way and you can see
that one of the biggest things is my own

00:11:42.400 --> 00:11:42.410
that one of the biggest things is my own
 

00:11:42.410 --> 00:11:45.280
that one of the biggest things is my own
draw the way I wrote this app is on

00:11:45.280 --> 00:11:45.290
draw the way I wrote this app is on
 

00:11:45.290 --> 00:11:47.350
draw the way I wrote this app is on
every frame I'm rendering everything

00:11:47.350 --> 00:11:47.360
every frame I'm rendering everything
 

00:11:47.360 --> 00:11:49.240
every frame I'm rendering everything
again that's not a good way of doing it

00:11:49.240 --> 00:11:49.250
again that's not a good way of doing it
 

00:11:49.250 --> 00:11:51.400
again that's not a good way of doing it
but it's a really good example for the

00:11:51.400 --> 00:11:51.410
but it's a really good example for the
 

00:11:51.410 --> 00:11:54.040
but it's a really good example for the
profilers so you can see that I'm

00:11:54.040 --> 00:11:54.050
profilers so you can see that I'm
 

00:11:54.050 --> 00:11:56.740
profilers so you can see that I'm
rendering and there is a lot of things

00:11:56.740 --> 00:11:56.750
rendering and there is a lot of things
 

00:11:56.750 --> 00:11:58.540
rendering and there is a lot of things
at the top that have to do with the

00:11:58.540 --> 00:11:58.550
at the top that have to do with the
 

00:11:58.550 --> 00:12:01.750
at the top that have to do with the
string formatting and this could be the

00:12:01.750 --> 00:12:01.760
string formatting and this could be the
 

00:12:01.760 --> 00:12:04.930
string formatting and this could be the
source of our string problem that we saw

00:12:04.930 --> 00:12:04.940
source of our string problem that we saw
 

00:12:04.940 --> 00:12:06.639
source of our string problem that we saw
before so it's another symptom that your

00:12:06.639 --> 00:12:06.649
before so it's another symptom that your
 

00:12:06.649 --> 00:12:10.690
before so it's another symptom that your
app is is not doing well one thing that

00:12:10.690 --> 00:12:10.700
app is is not doing well one thing that
 

00:12:10.700 --> 00:12:14.699
app is is not doing well one thing that
I always say about our profilers is that

00:12:14.699 --> 00:12:14.709
I always say about our profilers is that
 

00:12:14.709 --> 00:12:17.199
I always say about our profilers is that
we cannot really tell you what's wrong

00:12:17.199 --> 00:12:17.209
we cannot really tell you what's wrong
 

00:12:17.209 --> 00:12:18.880
we cannot really tell you what's wrong
in your app we can only tell you what

00:12:18.880 --> 00:12:18.890
in your app we can only tell you what
 

00:12:18.890 --> 00:12:20.350
in your app we can only tell you what
your app is doing and then it's up to

00:12:20.350 --> 00:12:20.360
your app is doing and then it's up to
 

00:12:20.360 --> 00:12:20.910
your app is doing and then it's up to
you

00:12:20.910 --> 00:12:20.920
you
 

00:12:20.920 --> 00:12:22.470
you
to say oh I didn't expect this to happen

00:12:22.470 --> 00:12:22.480
to say oh I didn't expect this to happen
 

00:12:22.480 --> 00:12:25.530
to say oh I didn't expect this to happen
because as you can see my app looks fine

00:12:25.530 --> 00:12:25.540
because as you can see my app looks fine
 

00:12:25.540 --> 00:12:29.639
because as you can see my app looks fine
but under the hood is not so let's say

00:12:29.639 --> 00:12:29.649
but under the hood is not so let's say
 

00:12:29.649 --> 00:12:31.530
but under the hood is not so let's say
you have a bug on a label that you put

00:12:31.530 --> 00:12:31.540
you have a bug on a label that you put
 

00:12:31.540 --> 00:12:32.550
you have a bug on a label that you put
wrong and it's in a different position

00:12:32.550 --> 00:12:32.560
wrong and it's in a different position
 

00:12:32.560 --> 00:12:34.259
wrong and it's in a different position
you rather your app you see there

00:12:34.259 --> 00:12:34.269
you rather your app you see there
 

00:12:34.269 --> 00:12:35.490
you rather your app you see there
they're always wrong I need to fix this

00:12:35.490 --> 00:12:35.500
they're always wrong I need to fix this
 

00:12:35.500 --> 00:12:37.110
they're always wrong I need to fix this
but if you have something like a

00:12:37.110 --> 00:12:37.120
but if you have something like a
 

00:12:37.120 --> 00:12:39.300
but if you have something like a
performance issue wrong you won't see it

00:12:39.300 --> 00:12:39.310
performance issue wrong you won't see it
 

00:12:39.310 --> 00:12:41.550
performance issue wrong you won't see it
you won't see it until even we talk

00:12:41.550 --> 00:12:41.560
you won't see it until even we talk
 

00:12:41.560 --> 00:12:43.650
you won't see it until even we talk
about battery later and you will see it

00:12:43.650 --> 00:12:43.660
about battery later and you will see it
 

00:12:43.660 --> 00:12:45.990
about battery later and you will see it
in the field right so we want our

00:12:45.990 --> 00:12:46.000
in the field right so we want our
 

00:12:46.000 --> 00:12:47.730
in the field right so we want our
profilers to be another window to your

00:12:47.730 --> 00:12:47.740
profilers to be another window to your
 

00:12:47.740 --> 00:12:50.340
profilers to be another window to your
app so that you can run your app while

00:12:50.340 --> 00:12:50.350
app so that you can run your app while
 

00:12:50.350 --> 00:12:51.930
app so that you can run your app while
seeing their profilers and then you see

00:12:51.930 --> 00:12:51.940
seeing their profilers and then you see
 

00:12:51.940 --> 00:12:54.000
seeing their profilers and then you see
the problems there because something

00:12:54.000 --> 00:12:54.010
the problems there because something
 

00:12:54.010 --> 00:12:55.829
the problems there because something
that you did not expect start showing

00:12:55.829 --> 00:12:55.839
that you did not expect start showing
 

00:12:55.839 --> 00:12:58.560
that you did not expect start showing
out like me doing a lot of string

00:12:58.560 --> 00:12:58.570
out like me doing a lot of string
 

00:12:58.570 --> 00:13:00.629
out like me doing a lot of string
formatting inside an entre code

00:13:00.629 --> 00:13:00.639
formatting inside an entre code
 

00:13:00.639 --> 00:13:09.079
formatting inside an entre code
cool so let's go to the code what I have

00:13:09.079 --> 00:13:09.089
cool so let's go to the code what I have
 

00:13:09.089 --> 00:13:16.259
cool so let's go to the code what I have
my so I have my own draw and I have a

00:13:16.259 --> 00:13:16.269
my so I have my own draw and I have a
 

00:13:16.269 --> 00:13:17.819
my so I have my own draw and I have a
function called draw time where I draw

00:13:17.819 --> 00:13:17.829
function called draw time where I draw
 

00:13:17.829 --> 00:13:22.410
function called draw time where I draw
the time on my app and I have a wrote a

00:13:22.410 --> 00:13:22.420
the time on my app and I have a wrote a
 

00:13:22.420 --> 00:13:25.079
the time on my app and I have a wrote a
function called draw time string that

00:13:25.079 --> 00:13:25.089
function called draw time string that
 

00:13:25.089 --> 00:13:26.850
function called draw time string that
uses string formatting to draw the time

00:13:26.850 --> 00:13:26.860
uses string formatting to draw the time
 

00:13:26.860 --> 00:13:29.009
uses string formatting to draw the time
and it's probably not a good idea

00:13:29.009 --> 00:13:29.019
and it's probably not a good idea
 

00:13:29.019 --> 00:13:32.280
and it's probably not a good idea
so that's a coincidence I have another

00:13:32.280 --> 00:13:32.290
so that's a coincidence I have another
 

00:13:32.290 --> 00:13:35.130
so that's a coincidence I have another
function that writes that draws the time

00:13:35.130 --> 00:13:35.140
function that writes that draws the time
 

00:13:35.140 --> 00:13:37.079
function that writes that draws the time
without using strings are we gonna try

00:13:37.079 --> 00:13:37.089
without using strings are we gonna try
 

00:13:37.089 --> 00:13:39.360
without using strings are we gonna try
oh before we do that let me show you one

00:13:39.360 --> 00:13:39.370
oh before we do that let me show you one
 

00:13:39.370 --> 00:13:41.910
oh before we do that let me show you one
thing that we have here so how many of

00:13:41.910 --> 00:13:41.920
thing that we have here so how many of
 

00:13:41.920 --> 00:13:43.290
thing that we have here so how many of
you are familiar with this line of code

00:13:43.290 --> 00:13:43.300
you are familiar with this line of code
 

00:13:43.300 --> 00:13:48.090
you are familiar with this line of code
trace dot begin section cool so what

00:13:48.090 --> 00:13:48.100
trace dot begin section cool so what
 

00:13:48.100 --> 00:13:51.120
trace dot begin section cool so what
this line does and together with the end

00:13:51.120 --> 00:13:51.130
this line does and together with the end
 

00:13:51.130 --> 00:13:53.130
this line does and together with the end
section they will create a see stress

00:13:53.130 --> 00:13:53.140
section they will create a see stress
 

00:13:53.140 --> 00:13:55.319
section they will create a see stress
event that you can use systrace to see

00:13:55.319 --> 00:13:55.329
event that you can use systrace to see
 

00:13:55.329 --> 00:13:58.350
event that you can use systrace to see
so before I make my optimization I'm

00:13:58.350 --> 00:13:58.360
so before I make my optimization I'm
 

00:13:58.360 --> 00:14:04.620
so before I make my optimization I'm
gonna show you what happens if i take a

00:14:04.620 --> 00:14:04.630
gonna show you what happens if i take a
 

00:14:04.630 --> 00:14:10.680
gonna show you what happens if i take a
capture using the system trace method so

00:14:10.680 --> 00:14:10.690
capture using the system trace method so
 

00:14:10.690 --> 00:14:12.720
capture using the system trace method so
this is running systrace under the hood

00:14:12.720 --> 00:14:12.730
this is running systrace under the hood
 

00:14:12.730 --> 00:14:14.430
this is running systrace under the hood
and you don't have to go to the python

00:14:14.430 --> 00:14:14.440
and you don't have to go to the python
 

00:14:14.440 --> 00:14:16.829
and you don't have to go to the python
script anymore and get it and then get

00:14:16.829 --> 00:14:16.839
script anymore and get it and then get
 

00:14:16.839 --> 00:14:19.650
script anymore and get it and then get
it back on your own the HTML view we

00:14:19.650 --> 00:14:19.660
it back on your own the HTML view we
 

00:14:19.660 --> 00:14:22.259
it back on your own the HTML view we
will instead show it to you right here

00:14:22.259 --> 00:14:22.269
will instead show it to you right here
 

00:14:22.269 --> 00:14:27.800
will instead show it to you right here
in our app in under studio

00:14:27.800 --> 00:14:27.810
 
 

00:14:27.810 --> 00:14:29.580
 
remember what I mentioned about the

00:14:29.580 --> 00:14:29.590
remember what I mentioned about the
 

00:14:29.590 --> 00:14:30.810
remember what I mentioned about the
bumpy ride

00:14:30.810 --> 00:14:30.820
bumpy ride
 

00:14:30.820 --> 00:14:34.110
bumpy ride
this is it Yugi

00:14:34.110 --> 00:14:34.120
this is it Yugi
 

00:14:34.120 --> 00:14:37.830
this is it Yugi
let me restart the emulator and we'll do

00:14:37.830 --> 00:14:37.840
let me restart the emulator and we'll do
 

00:14:37.840 --> 00:14:40.790
let me restart the emulator and we'll do
it again

00:14:40.790 --> 00:14:40.800
 
 

00:14:40.800 --> 00:14:45.540
 
there we go please please try this at

00:14:45.540 --> 00:14:45.550
there we go please please try this at
 

00:14:45.550 --> 00:14:48.960
there we go please please try this at
home file bugs we will fix them and when

00:14:48.960 --> 00:14:48.970
home file bugs we will fix them and when
 

00:14:48.970 --> 00:14:50.580
home file bugs we will fix them and when
we get this table these issues will be

00:14:50.580 --> 00:14:50.590
we get this table these issues will be
 

00:14:50.590 --> 00:14:57.210
we get this table these issues will be
all sorted out there we go I'm gonna go

00:14:57.210 --> 00:14:57.220
all sorted out there we go I'm gonna go
 

00:14:57.220 --> 00:15:05.759
all sorted out there we go I'm gonna go
to the CPU profiler and use CSUN trace

00:15:05.759 --> 00:15:05.769
 
 

00:15:05.769 --> 00:15:08.790
 
second time's the charm okay so we have

00:15:08.790 --> 00:15:08.800
second time's the charm okay so we have
 

00:15:08.800 --> 00:15:12.679
second time's the charm okay so we have
systems right here let me select and

00:15:12.679 --> 00:15:12.689
systems right here let me select and
 

00:15:12.689 --> 00:15:16.470
systems right here let me select and
zoom into the selection cool one thing

00:15:16.470 --> 00:15:16.480
zoom into the selection cool one thing
 

00:15:16.480 --> 00:15:20.069
zoom into the selection cool one thing
that you notice here that first of all

00:15:20.069 --> 00:15:20.079
that you notice here that first of all
 

00:15:20.079 --> 00:15:22.139
that you notice here that first of all
we have a new section there there called

00:15:22.139 --> 00:15:22.149
we have a new section there there called
 

00:15:22.149 --> 00:15:23.400
we have a new section there there called
the colonel section where we show you

00:15:23.400 --> 00:15:23.410
the colonel section where we show you
 

00:15:23.410 --> 00:15:26.999
the colonel section where we show you
all the CPUs and if you pay close

00:15:26.999 --> 00:15:27.009
all the CPUs and if you pay close
 

00:15:27.009 --> 00:15:27.809
all the CPUs and if you pay close
attention

00:15:27.809 --> 00:15:27.819
attention
 

00:15:27.819 --> 00:15:30.169
attention
we rerender all this thread information

00:15:30.169 --> 00:15:30.179
we rerender all this thread information
 

00:15:30.179 --> 00:15:33.199
we rerender all this thread information
getting all the data from systrace so

00:15:33.199 --> 00:15:33.209
getting all the data from systrace so
 

00:15:33.209 --> 00:15:36.780
getting all the data from systrace so
before the sprint information we get

00:15:36.780 --> 00:15:36.790
before the sprint information we get
 

00:15:36.790 --> 00:15:39.749
before the sprint information we get
sampling the proc file system so it's

00:15:39.749 --> 00:15:39.759
sampling the proc file system so it's
 

00:15:39.759 --> 00:15:41.579
sampling the proc file system so it's
not very accurate but as soon as you

00:15:41.579 --> 00:15:41.589
not very accurate but as soon as you
 

00:15:41.589 --> 00:15:43.650
not very accurate but as soon as you
take a systrace capture you can see

00:15:43.650 --> 00:15:43.660
take a systrace capture you can see
 

00:15:43.660 --> 00:15:46.350
take a systrace capture you can see
exactly where what your thread is doing

00:15:46.350 --> 00:15:46.360
exactly where what your thread is doing
 

00:15:46.360 --> 00:15:47.789
exactly where what your thread is doing
at every moment

00:15:47.789 --> 00:15:47.799
at every moment
 

00:15:47.799 --> 00:15:49.619
at every moment
and more than that if I select one of

00:15:49.619 --> 00:15:49.629
and more than that if I select one of
 

00:15:49.629 --> 00:15:53.069
and more than that if I select one of
those we highlight above on which CPU

00:15:53.069 --> 00:15:53.079
those we highlight above on which CPU
 

00:15:53.079 --> 00:15:56.009
those we highlight above on which CPU
your thread is being scheduled so you

00:15:56.009 --> 00:15:56.019
your thread is being scheduled so you
 

00:15:56.019 --> 00:15:58.979
your thread is being scheduled so you
can look at thread contention or other

00:15:58.979 --> 00:15:58.989
can look at thread contention or other
 

00:15:58.989 --> 00:16:00.629
can look at thread contention or other
things that are kicking you out of the

00:16:00.629 --> 00:16:00.639
things that are kicking you out of the
 

00:16:00.639 --> 00:16:04.049
things that are kicking you out of the
CPU there is a fundamental difference in

00:16:04.049 --> 00:16:04.059
CPU there is a fundamental difference in
 

00:16:04.059 --> 00:16:06.359
CPU there is a fundamental difference in
the way we show sisters here with the

00:16:06.359 --> 00:16:06.369
the way we show sisters here with the
 

00:16:06.369 --> 00:16:09.210
the way we show sisters here with the
way you see it in the HTML view here we

00:16:09.210 --> 00:16:09.220
way you see it in the HTML view here we
 

00:16:09.220 --> 00:16:11.549
way you see it in the HTML view here we
focus on your app so everything here

00:16:11.549 --> 00:16:11.559
focus on your app so everything here
 

00:16:11.559 --> 00:16:15.869
focus on your app so everything here
that is highlighted green even the dark

00:16:15.869 --> 00:16:15.879
that is highlighted green even the dark
 

00:16:15.879 --> 00:16:18.449
that is highlighted green even the dark
green is just your app you can still go

00:16:18.449 --> 00:16:18.459
green is just your app you can still go
 

00:16:18.459 --> 00:16:20.759
green is just your app you can still go
and see the other events and see what

00:16:20.759 --> 00:16:20.769
and see the other events and see what
 

00:16:20.769 --> 00:16:22.109
and see the other events and see what
it's taking is if you or why you're

00:16:22.109 --> 00:16:22.119
it's taking is if you or why you're
 

00:16:22.119 --> 00:16:24.179
it's taking is if you or why you're
being kicked out but we focus on your

00:16:24.179 --> 00:16:24.189
being kicked out but we focus on your
 

00:16:24.189 --> 00:16:25.710
being kicked out but we focus on your
app we show you the threads of your app

00:16:25.710 --> 00:16:25.720
app we show you the threads of your app
 

00:16:25.720 --> 00:16:26.910
app we show you the threads of your app
so you don't have to navigate that

00:16:26.910 --> 00:16:26.920
so you don't have to navigate that
 

00:16:26.920 --> 00:16:31.079
so you don't have to navigate that
gigantic HTML page and we use all the

00:16:31.079 --> 00:16:31.089
gigantic HTML page and we use all the
 

00:16:31.089 --> 00:16:32.400
gigantic HTML page and we use all the
other things that you know about all the

00:16:32.400 --> 00:16:32.410
other things that you know about all the
 

00:16:32.410 --> 00:16:34.259
other things that you know about all the
other captures we use them for systrace

00:16:34.259 --> 00:16:34.269
other captures we use them for systrace
 

00:16:34.269 --> 00:16:36.660
other captures we use them for systrace
for example flame chart or a top-down

00:16:36.660 --> 00:16:36.670
for example flame chart or a top-down
 

00:16:36.670 --> 00:16:41.309
for example flame chart or a top-down
view so let me zoom in the moment in

00:16:41.309 --> 00:16:41.319
view so let me zoom in the moment in
 

00:16:41.319 --> 00:16:45.869
view so let me zoom in the moment in
time there we can see our frames so I

00:16:45.869 --> 00:16:45.879
time there we can see our frames so I
 

00:16:45.879 --> 00:16:49.109
time there we can see our frames so I
have here let me zoom in more and choose

00:16:49.109 --> 00:16:49.119
have here let me zoom in more and choose
 

00:16:49.119 --> 00:16:53.100
have here let me zoom in more and choose
actually my main thread there we go so

00:16:53.100 --> 00:16:53.110
actually my main thread there we go so
 

00:16:53.110 --> 00:16:54.869
actually my main thread there we go so
we can see the choreographer do frame

00:16:54.869 --> 00:16:54.879
we can see the choreographer do frame
 

00:16:54.879 --> 00:16:58.470
we can see the choreographer do frame
and further down we can see the ondraw

00:16:58.470 --> 00:16:58.480
and further down we can see the ondraw
 

00:16:58.480 --> 00:17:03.780
and further down we can see the ondraw
on my custom component and we can see

00:17:03.780 --> 00:17:03.790
on my custom component and we can see
 

00:17:03.790 --> 00:17:06.539
on my custom component and we can see
the draw time remember in the code let

00:17:06.539 --> 00:17:06.549
the draw time remember in the code let
 

00:17:06.549 --> 00:17:08.220
the draw time remember in the code let
me go back to the code and show you in

00:17:08.220 --> 00:17:08.230
me go back to the code and show you in
 

00:17:08.230 --> 00:17:11.819
me go back to the code and show you in
the raw time we have a draw time around

00:17:11.819 --> 00:17:11.829
the raw time we have a draw time around
 

00:17:11.829 --> 00:17:14.010
the raw time we have a draw time around
the section around my time string and

00:17:14.010 --> 00:17:14.020
the section around my time string and
 

00:17:14.020 --> 00:17:15.870
the section around my time string and
you can see that I'm rendering it three

00:17:15.870 --> 00:17:15.880
you can see that I'm rendering it three
 

00:17:15.880 --> 00:17:16.799
you can see that I'm rendering it three
times

00:17:16.799 --> 00:17:16.809
times
 

00:17:16.809 --> 00:17:19.169
times
one for every section of my app and we

00:17:19.169 --> 00:17:19.179
one for every section of my app and we
 

00:17:19.179 --> 00:17:21.360
one for every section of my app and we
can quickly see how long each one of

00:17:21.360 --> 00:17:21.370
can quickly see how long each one of
 

00:17:21.370 --> 00:17:23.970
can quickly see how long each one of
those is taking right so I'm taking 38

00:17:23.970 --> 00:17:23.980
those is taking right so I'm taking 38
 

00:17:23.980 --> 00:17:26.519
those is taking right so I'm taking 38
milliseconds to render a frame if you

00:17:26.519 --> 00:17:26.529
milliseconds to render a frame if you
 

00:17:26.529 --> 00:17:28.649
milliseconds to render a frame if you
want your app to render 60 frames per

00:17:28.649 --> 00:17:28.659
want your app to render 60 frames per
 

00:17:28.659 --> 00:17:30.509
want your app to render 60 frames per
second you'd have to render under 17

00:17:30.509 --> 00:17:30.519
second you'd have to render under 17
 

00:17:30.519 --> 00:17:34.289
second you'd have to render under 17
each friend milliseconds now I'm Way

00:17:34.289 --> 00:17:34.299
each friend milliseconds now I'm Way
 

00:17:34.299 --> 00:17:36.749
each friend milliseconds now I'm Way
over that in fact one of my calls to

00:17:36.749 --> 00:17:36.759
over that in fact one of my calls to
 

00:17:36.759 --> 00:17:39.389
over that in fact one of my calls to
draw time is taking 11 milliseconds so

00:17:39.389 --> 00:17:39.399
draw time is taking 11 milliseconds so
 

00:17:39.399 --> 00:17:41.940
draw time is taking 11 milliseconds so
my app is not doing well it looked okay

00:17:41.940 --> 00:17:41.950
my app is not doing well it looked okay
 

00:17:41.950 --> 00:17:43.560
my app is not doing well it looked okay
but imagine you ship this and people

00:17:43.560 --> 00:17:43.570
but imagine you ship this and people
 

00:17:43.570 --> 00:17:45.269
but imagine you ship this and people
complain this is one of the things that

00:17:45.269 --> 00:17:45.279
complain this is one of the things that
 

00:17:45.279 --> 00:17:48.080
complain this is one of the things that
I was mentioning about you get your app

00:17:48.080 --> 00:17:48.090
I was mentioning about you get your app
 

00:17:48.090 --> 00:17:50.489
I was mentioning about you get your app
but you cut it through the profiler

00:17:50.489 --> 00:17:50.499
but you cut it through the profiler
 

00:17:50.499 --> 00:17:53.310
but you cut it through the profiler
glass to see if it's doing okay cool now

00:17:53.310 --> 00:17:53.320
glass to see if it's doing okay cool now
 

00:17:53.320 --> 00:17:55.320
glass to see if it's doing okay cool now
let's optimize and take another systrace

00:17:55.320 --> 00:17:55.330
let's optimize and take another systrace
 

00:17:55.330 --> 00:18:00.330
let's optimize and take another systrace
capture I'm gonna change the

00:18:00.330 --> 00:18:00.340
capture I'm gonna change the
 

00:18:00.340 --> 00:18:02.909
capture I'm gonna change the
implementation of draw time now instead

00:18:02.909 --> 00:18:02.919
implementation of draw time now instead
 

00:18:02.919 --> 00:18:05.369
implementation of draw time now instead
of using strings I'm using my my custom

00:18:05.369 --> 00:18:05.379
of using strings I'm using my my custom
 

00:18:05.379 --> 00:18:07.649
of using strings I'm using my my custom
formatting is using the same format I'm

00:18:07.649 --> 00:18:07.659
formatting is using the same format I'm
 

00:18:07.659 --> 00:18:09.690
formatting is using the same format I'm
using my custom formatting we'll run it

00:18:09.690 --> 00:18:09.700
using my custom formatting we'll run it
 

00:18:09.700 --> 00:18:11.159
using my custom formatting we'll run it
again with these changes and we'll run

00:18:11.159 --> 00:18:11.169
again with these changes and we'll run
 

00:18:11.169 --> 00:18:13.440
again with these changes and we'll run
it through systrace and see how that

00:18:13.440 --> 00:18:13.450
it through systrace and see how that
 

00:18:13.450 --> 00:18:20.070
it through systrace and see how that
affected my app cool there it is when I

00:18:20.070 --> 00:18:20.080
affected my app cool there it is when I
 

00:18:20.080 --> 00:18:22.289
affected my app cool there it is when I
go to the CPU profiler systrace is

00:18:22.289 --> 00:18:22.299
go to the CPU profiler systrace is
 

00:18:22.299 --> 00:18:24.810
go to the CPU profiler systrace is
chosen for me I'm starting a capture

00:18:24.810 --> 00:18:24.820
chosen for me I'm starting a capture
 

00:18:24.820 --> 00:18:26.850
chosen for me I'm starting a capture
just a few seconds should do because

00:18:26.850 --> 00:18:26.860
just a few seconds should do because
 

00:18:26.860 --> 00:18:27.869
just a few seconds should do because
there are a lot of frames that happen in

00:18:27.869 --> 00:18:27.879
there are a lot of frames that happen in
 

00:18:27.879 --> 00:18:36.580
there are a lot of frames that happen in
there cool we have it here right

00:18:36.580 --> 00:18:36.590
there cool we have it here right
 

00:18:36.590 --> 00:18:39.340
there cool we have it here right
main thread' selected zoom into a

00:18:39.340 --> 00:18:39.350
main thread' selected zoom into a
 

00:18:39.350 --> 00:18:40.990
main thread' selected zoom into a
specific frame we have the choreographer

00:18:40.990 --> 00:18:41.000
specific frame we have the choreographer
 

00:18:41.000 --> 00:18:42.580
specific frame we have the choreographer
do frame in the framework and then it

00:18:42.580 --> 00:18:42.590
do frame in the framework and then it
 

00:18:42.590 --> 00:18:44.880
do frame in the framework and then it
goes down to the clock on draw and you

00:18:44.880 --> 00:18:44.890
goes down to the clock on draw and you
 

00:18:44.890 --> 00:18:47.260
goes down to the clock on draw and you
cannot see anymore

00:18:47.260 --> 00:18:47.270
cannot see anymore
 

00:18:47.270 --> 00:18:49.659
cannot see anymore
the draw time functions because they are

00:18:49.659 --> 00:18:49.669
the draw time functions because they are
 

00:18:49.669 --> 00:18:52.210
the draw time functions because they are
tiny tiny specks down there

00:18:52.210 --> 00:18:52.220
tiny tiny specks down there
 

00:18:52.220 --> 00:18:55.090
tiny tiny specks down there
each one of them now taking 71

00:18:55.090 --> 00:18:55.100
each one of them now taking 71
 

00:18:55.100 --> 00:18:59.200
each one of them now taking 71
microseconds and the ondraw is 13

00:18:59.200 --> 00:18:59.210
microseconds and the ondraw is 13
 

00:18:59.210 --> 00:19:01.080
microseconds and the ondraw is 13
milliseconds now

00:19:01.080 --> 00:19:01.090
milliseconds now
 

00:19:01.090 --> 00:19:04.659
milliseconds now
so we did that now I'm still under 60

00:19:04.659 --> 00:19:04.669
so we did that now I'm still under 60
 

00:19:04.669 --> 00:19:06.039
so we did that now I'm still under 60
frames per second because my app is bad

00:19:06.039 --> 00:19:06.049
frames per second because my app is bad
 

00:19:06.049 --> 00:19:09.789
frames per second because my app is bad
in other places but at this we optimize

00:19:09.789 --> 00:19:09.799
in other places but at this we optimize
 

00:19:09.799 --> 00:19:14.139
in other places but at this we optimize
one part of it cool and that's systrace

00:19:14.139 --> 00:19:14.149
one part of it cool and that's systrace
 

00:19:14.149 --> 00:19:17.860
one part of it cool and that's systrace
and let me mention again sessions so

00:19:17.860 --> 00:19:17.870
and let me mention again sessions so
 

00:19:17.870 --> 00:19:19.210
and let me mention again sessions so
remember I said you can go back and

00:19:19.210 --> 00:19:19.220
remember I said you can go back and
 

00:19:19.220 --> 00:19:21.370
remember I said you can go back and
compare well I have my previous sessions

00:19:21.370 --> 00:19:21.380
compare well I have my previous sessions
 

00:19:21.380 --> 00:19:22.960
compare well I have my previous sessions
here on the left and we can see the

00:19:22.960 --> 00:19:22.970
here on the left and we can see the
 

00:19:22.970 --> 00:19:25.600
here on the left and we can see the
previous histories run that we did so

00:19:25.600 --> 00:19:25.610
previous histories run that we did so
 

00:19:25.610 --> 00:19:27.700
previous histories run that we did so
here it is I can select it again and

00:19:27.700 --> 00:19:27.710
here it is I can select it again and
 

00:19:27.710 --> 00:19:29.470
here it is I can select it again and
look at the main thread and see how bad

00:19:29.470 --> 00:19:29.480
look at the main thread and see how bad
 

00:19:29.480 --> 00:19:32.500
look at the main thread and see how bad
my draw time was and then go back to the

00:19:32.500 --> 00:19:32.510
my draw time was and then go back to the
 

00:19:32.510 --> 00:19:35.409
my draw time was and then go back to the
currently running session and you can

00:19:35.409 --> 00:19:35.419
currently running session and you can
 

00:19:35.419 --> 00:19:36.880
currently running session and you can
keep all of this and of course if you

00:19:36.880 --> 00:19:36.890
keep all of this and of course if you
 

00:19:36.890 --> 00:19:38.649
keep all of this and of course if you
right-click you can export the trace and

00:19:38.649 --> 00:19:38.659
right-click you can export the trace and
 

00:19:38.659 --> 00:19:41.950
right-click you can export the trace and
send you on the bar or want to keep them

00:19:41.950 --> 00:19:41.960
send you on the bar or want to keep them
 

00:19:41.960 --> 00:19:43.480
send you on the bar or want to keep them
you can export these things right here

00:19:43.480 --> 00:19:43.490
you can export these things right here
 

00:19:43.490 --> 00:19:46.510
you can export these things right here
from the session panel oh let me click

00:19:46.510 --> 00:19:46.520
from the session panel oh let me click
 

00:19:46.520 --> 00:19:52.630
from the session panel oh let me click
this right and that's our app 10 minutes

00:19:52.630 --> 00:19:52.640
this right and that's our app 10 minutes
 

00:19:52.640 --> 00:19:55.000
this right and that's our app 10 minutes
and that's our integration with sisters

00:19:55.000 --> 00:19:55.010
and that's our integration with sisters
 

00:19:55.010 --> 00:19:59.500
and that's our integration with sisters
so there is another way of capturing CPU

00:19:59.500 --> 00:19:59.510
so there is another way of capturing CPU
 

00:19:59.510 --> 00:20:04.029
so there is another way of capturing CPU
datum that is through an API in the

00:20:04.029 --> 00:20:04.039
datum that is through an API in the
 

00:20:04.039 --> 00:20:10.590
datum that is through an API in the
debugger let me go to the line of code

00:20:10.590 --> 00:20:10.600
 
 

00:20:10.600 --> 00:20:15.730
 
here is so I have my stopwatch and I'm

00:20:15.730 --> 00:20:15.740
here is so I have my stopwatch and I'm
 

00:20:15.740 --> 00:20:17.139
here is so I have my stopwatch and I'm
gonna change it so every time that I

00:20:17.139 --> 00:20:17.149
gonna change it so every time that I
 

00:20:17.149 --> 00:20:18.220
gonna change it so every time that I
start my stopwatch

00:20:18.220 --> 00:20:18.230
start my stopwatch
 

00:20:18.230 --> 00:20:21.490
start my stopwatch
I'm gonna run start method tracing and

00:20:21.490 --> 00:20:21.500
I'm gonna run start method tracing and
 

00:20:21.500 --> 00:20:24.010
I'm gonna run start method tracing and
every time that I stop it I'm gonna stop

00:20:24.010 --> 00:20:24.020
every time that I stop it I'm gonna stop
 

00:20:24.020 --> 00:20:27.279
every time that I stop it I'm gonna stop
method tracing I need to import the

00:20:27.279 --> 00:20:27.289
method tracing I need to import the
 

00:20:27.289 --> 00:20:30.779
method tracing I need to import the
debug list and I'm gonna rerun the app

00:20:30.779 --> 00:20:30.789
debug list and I'm gonna rerun the app
 

00:20:30.789 --> 00:20:36.310
debug list and I'm gonna rerun the app
now before this when once you run this

00:20:36.310 --> 00:20:36.320
now before this when once you run this
 

00:20:36.320 --> 00:20:38.019
now before this when once you run this
API you had to go and fetch this file

00:20:38.019 --> 00:20:38.029
API you had to go and fetch this file
 

00:20:38.029 --> 00:20:41.169
API you had to go and fetch this file
and open it in either any of your

00:20:41.169 --> 00:20:41.179
and open it in either any of your
 

00:20:41.179 --> 00:20:42.580
and open it in either any of your
favorite profilers that can open a trace

00:20:42.580 --> 00:20:42.590
favorite profilers that can open a trace
 

00:20:42.590 --> 00:20:46.419
favorite profilers that can open a trace
file but right now if I'm the CPU

00:20:46.419 --> 00:20:46.429
file but right now if I'm the CPU
 

00:20:46.429 --> 00:20:50.169
file but right now if I'm the CPU
profiler and I use my stopwatch this is

00:20:50.169 --> 00:20:50.179
profiler and I use my stopwatch this is
 

00:20:50.179 --> 00:20:53.139
profiler and I use my stopwatch this is
what happens so now I'm taking a capture

00:20:53.139 --> 00:20:53.149
what happens so now I'm taking a capture
 

00:20:53.149 --> 00:20:55.330
what happens so now I'm taking a capture
and the studio profile has detected that

00:20:55.330 --> 00:20:55.340
and the studio profile has detected that
 

00:20:55.340 --> 00:20:57.159
and the studio profile has detected that
a capture is being taken place and we're

00:20:57.159 --> 00:20:57.169
a capture is being taken place and we're
 

00:20:57.169 --> 00:20:59.080
a capture is being taken place and we're
showing you there and when I stop it I

00:20:59.080 --> 00:20:59.090
showing you there and when I stop it I
 

00:20:59.090 --> 00:21:00.639
showing you there and when I stop it I
don't need to go and fetch it defined

00:21:00.639 --> 00:21:00.649
don't need to go and fetch it defined
 

00:21:00.649 --> 00:21:02.590
don't need to go and fetch it defined
from anywhere we pull it from the device

00:21:02.590 --> 00:21:02.600
from anywhere we pull it from the device
 

00:21:02.600 --> 00:21:04.840
from anywhere we pull it from the device
and we show it right there so if I start

00:21:04.840 --> 00:21:04.850
and we show it right there so if I start
 

00:21:04.850 --> 00:21:07.810
and we show it right there so if I start
on a stop and I start under stop all

00:21:07.810 --> 00:21:07.820
on a stop and I start under stop all
 

00:21:07.820 --> 00:21:09.070
on a stop and I start under stop all
these captures that aren't actually

00:21:09.070 --> 00:21:09.080
these captures that aren't actually
 

00:21:09.080 --> 00:21:10.720
these captures that aren't actually
overriding each other because they use

00:21:10.720 --> 00:21:10.730
overriding each other because they use
 

00:21:10.730 --> 00:21:12.639
overriding each other because they use
the same file on device we're pulling it

00:21:12.639 --> 00:21:12.649
the same file on device we're pulling it
 

00:21:12.649 --> 00:21:15.279
the same file on device we're pulling it
and showing showing them on studio so

00:21:15.279 --> 00:21:15.289
and showing showing them on studio so
 

00:21:15.289 --> 00:21:16.779
and showing showing them on studio so
that's super handy when you want to

00:21:16.779 --> 00:21:16.789
that's super handy when you want to
 

00:21:16.789 --> 00:21:23.020
that's super handy when you want to
profile exactly a moment in time you can

00:21:23.020 --> 00:21:23.030
profile exactly a moment in time you can
 

00:21:23.030 --> 00:21:24.279
profile exactly a moment in time you can
navigate to all of them and you can see

00:21:24.279 --> 00:21:24.289
navigate to all of them and you can see
 

00:21:24.289 --> 00:21:27.460
navigate to all of them and you can see
them here in the sessions panel too so

00:21:27.460 --> 00:21:27.470
them here in the sessions panel too so
 

00:21:27.470 --> 00:21:31.000
them here in the sessions panel too so
it's pretty cool one more thing we added

00:21:31.000 --> 00:21:31.010
it's pretty cool one more thing we added
 

00:21:31.010 --> 00:21:35.610
it's pretty cool one more thing we added
in 3.1

00:21:35.610 --> 00:21:35.620
 
 

00:21:35.620 --> 00:21:40.840
 
another way of capturing CPU usage using

00:21:40.840 --> 00:21:40.850
another way of capturing CPU usage using
 

00:21:40.850 --> 00:21:44.470
another way of capturing CPU usage using
the C++ something to call simple perf

00:21:44.470 --> 00:21:44.480
the C++ something to call simple perf
 

00:21:44.480 --> 00:21:46.830
the C++ something to call simple perf
that if you go to documentation in

00:21:46.830 --> 00:21:46.840
that if you go to documentation in
 

00:21:46.840 --> 00:21:49.539
that if you go to documentation in
Android developers dot-com you will find

00:21:49.539 --> 00:21:49.549
Android developers dot-com you will find
 

00:21:49.549 --> 00:21:51.490
Android developers dot-com you will find
documentation about simple perf we have

00:21:51.490 --> 00:21:51.500
documentation about simple perf we have
 

00:21:51.500 --> 00:21:53.799
documentation about simple perf we have
a version of simple perf inside Android

00:21:53.799 --> 00:21:53.809
a version of simple perf inside Android
 

00:21:53.809 --> 00:21:56.470
a version of simple perf inside Android
studio and allows you to sample siblings

00:21:56.470 --> 00:21:56.480
studio and allows you to sample siblings
 

00:21:56.480 --> 00:21:58.450
studio and allows you to sample siblings
blast code and see the entire call stack

00:21:58.450 --> 00:21:58.460
blast code and see the entire call stack
 

00:21:58.460 --> 00:22:02.980
blast code and see the entire call stack
of your sim to C++ program I'm not gonna

00:22:02.980 --> 00:22:02.990
of your sim to C++ program I'm not gonna
 

00:22:02.990 --> 00:22:04.180
of your sim to C++ program I'm not gonna
demo that because I don't have a lot of

00:22:04.180 --> 00:22:04.190
demo that because I don't have a lot of
 

00:22:04.190 --> 00:22:07.450
demo that because I don't have a lot of
siblings less cool

00:22:07.450 --> 00:22:07.460
siblings less cool
 

00:22:07.460 --> 00:22:12.159
siblings less cool
so that's CPU profiling and let me know

00:22:12.159 --> 00:22:12.169
so that's CPU profiling and let me know
 

00:22:12.169 --> 00:22:17.470
so that's CPU profiling and let me know
- the energy profiler now so energy is

00:22:17.470 --> 00:22:17.480
- the energy profiler now so energy is
 

00:22:17.480 --> 00:22:19.659
- the energy profiler now so energy is
tricky energy is tricky because there

00:22:19.659 --> 00:22:19.669
tricky energy is tricky because there
 

00:22:19.669 --> 00:22:22.779
tricky energy is tricky because there
are two main sources that use energy on

00:22:22.779 --> 00:22:22.789
are two main sources that use energy on
 

00:22:22.789 --> 00:22:24.549
are two main sources that use energy on
your phone well the screen is obviously

00:22:24.549 --> 00:22:24.559
your phone well the screen is obviously
 

00:22:24.559 --> 00:22:25.810
your phone well the screen is obviously
I'm not even counting screen the screen

00:22:25.810 --> 00:22:25.820
I'm not even counting screen the screen
 

00:22:25.820 --> 00:22:28.480
I'm not even counting screen the screen
is bad it uses a lot of energy but the

00:22:28.480 --> 00:22:28.490
is bad it uses a lot of energy but the
 

00:22:28.490 --> 00:22:30.129
is bad it uses a lot of energy but the
user is using the phone so if you're

00:22:30.129 --> 00:22:30.139
user is using the phone so if you're
 

00:22:30.139 --> 00:22:31.629
user is using the phone so if you're
using a game right it's all the time

00:22:31.629 --> 00:22:31.639
using a game right it's all the time
 

00:22:31.639 --> 00:22:35.139
using a game right it's all the time
using a screen but the battery drain

00:22:35.139 --> 00:22:35.149
using a screen but the battery drain
 

00:22:35.149 --> 00:22:37.360
using a screen but the battery drain
problems usually happen when we use CPU

00:22:37.360 --> 00:22:37.370
problems usually happen when we use CPU
 

00:22:37.370 --> 00:22:39.220
problems usually happen when we use CPU
or network when the user is not aware of

00:22:39.220 --> 00:22:39.230
or network when the user is not aware of
 

00:22:39.230 --> 00:22:41.230
or network when the user is not aware of
this or maybe when we as developers are

00:22:41.230 --> 00:22:41.240
this or maybe when we as developers are
 

00:22:41.240 --> 00:22:46.000
this or maybe when we as developers are
not aware of this so let me go live I'm

00:22:46.000 --> 00:22:46.010
not aware of this so let me go live I'm
 

00:22:46.010 --> 00:22:48.610
not aware of this so let me go live I'm
using a fair amount of CPU on on this

00:22:48.610 --> 00:22:48.620
using a fair amount of CPU on on this
 

00:22:48.620 --> 00:22:54.070
using a fair amount of CPU on on this
app and if I go into the energy profiler

00:22:54.070 --> 00:22:54.080
app and if I go into the energy profiler
 

00:22:54.080 --> 00:22:57.660
app and if I go into the energy profiler
we classify this as light use of energy

00:22:57.660 --> 00:22:57.670
we classify this as light use of energy
 

00:22:57.670 --> 00:23:01.180
we classify this as light use of energy
we will show you here things that this

00:23:01.180 --> 00:23:01.190
we will show you here things that this
 

00:23:01.190 --> 00:23:03.250
we will show you here things that this
is a theoretical model right so we show

00:23:03.250 --> 00:23:03.260
is a theoretical model right so we show
 

00:23:03.260 --> 00:23:06.100
is a theoretical model right so we show
you things that represent how much

00:23:06.100 --> 00:23:06.110
you things that represent how much
 

00:23:06.110 --> 00:23:08.170
you things that represent how much
energy you would be using on modern

00:23:08.170 --> 00:23:08.180
energy you would be using on modern
 

00:23:08.180 --> 00:23:08.740
energy you would be using on modern
phone

00:23:08.740 --> 00:23:08.750
phone
 

00:23:08.750 --> 00:23:10.480
phone
I'm not refining how much energy the

00:23:10.480 --> 00:23:10.490
I'm not refining how much energy the
 

00:23:10.490 --> 00:23:13.180
I'm not refining how much energy the
emulator is using obviously but this is

00:23:13.180 --> 00:23:13.190
emulator is using obviously but this is
 

00:23:13.190 --> 00:23:16.480
emulator is using obviously but this is
to for us to see okay I'm doing well or

00:23:16.480 --> 00:23:16.490
to for us to see okay I'm doing well or
 

00:23:16.490 --> 00:23:17.800
to for us to see okay I'm doing well or
I'm not doing well I'm gonna show you

00:23:17.800 --> 00:23:17.810
I'm not doing well I'm gonna show you
 

00:23:17.810 --> 00:23:19.510
I'm not doing well I'm gonna show you
some things that show up here but

00:23:19.510 --> 00:23:19.520
some things that show up here but
 

00:23:19.520 --> 00:23:21.550
some things that show up here but
obviously the two big factors are CPU

00:23:21.550 --> 00:23:21.560
obviously the two big factors are CPU
 

00:23:21.560 --> 00:23:24.310
obviously the two big factors are CPU
and network and it's not you know the

00:23:24.310 --> 00:23:24.320
and network and it's not you know the
 

00:23:24.320 --> 00:23:26.440
and network and it's not you know the
obvious thing is okay just don't you CPU

00:23:26.440 --> 00:23:26.450
obvious thing is okay just don't you CPU
 

00:23:26.450 --> 00:23:29.560
obvious thing is okay just don't you CPU
and network but how right I am I using

00:23:29.560 --> 00:23:29.570
and network but how right I am I using
 

00:23:29.570 --> 00:23:31.960
and network but how right I am I using
that in the field and the problem is not

00:23:31.960 --> 00:23:31.970
that in the field and the problem is not
 

00:23:31.970 --> 00:23:34.420
that in the field and the problem is not
actually when we use it is the problem

00:23:34.420 --> 00:23:34.430
actually when we use it is the problem
 

00:23:34.430 --> 00:23:36.610
actually when we use it is the problem
is that we don't know we're using it so

00:23:36.610 --> 00:23:36.620
is that we don't know we're using it so
 

00:23:36.620 --> 00:23:38.770
is that we don't know we're using it so
let's say I have a wakelock that runs

00:23:38.770 --> 00:23:38.780
let's say I have a wakelock that runs
 

00:23:38.780 --> 00:23:40.570
let's say I have a wakelock that runs
runs amok and we don't know where it is

00:23:40.570 --> 00:23:40.580
runs amok and we don't know where it is
 

00:23:40.580 --> 00:23:43.750
runs amok and we don't know where it is
and that's using CPU or I have an alarm

00:23:43.750 --> 00:23:43.760
and that's using CPU or I have an alarm
 

00:23:43.760 --> 00:23:45.940
and that's using CPU or I have an alarm
that I didn't set up correctly and that

00:23:45.940 --> 00:23:45.950
that I didn't set up correctly and that
 

00:23:45.950 --> 00:23:48.100
that I didn't set up correctly and that
is called it's waking my app and I'm

00:23:48.100 --> 00:23:48.110
is called it's waking my app and I'm
 

00:23:48.110 --> 00:23:50.380
is called it's waking my app and I'm
making Network requests so it's not

00:23:50.380 --> 00:23:50.390
making Network requests so it's not
 

00:23:50.390 --> 00:23:54.520
making Network requests so it's not
about the actual energy is about all

00:23:54.520 --> 00:23:54.530
about the actual energy is about all
 

00:23:54.530 --> 00:23:55.690
about the actual energy is about all
these things that you could be doing

00:23:55.690 --> 00:23:55.700
these things that you could be doing
 

00:23:55.700 --> 00:23:58.480
these things that you could be doing
incorrectly that could cause battery

00:23:58.480 --> 00:23:58.490
incorrectly that could cause battery
 

00:23:58.490 --> 00:24:00.430
incorrectly that could cause battery
drain in the long term but this is part

00:24:00.430 --> 00:24:00.440
drain in the long term but this is part
 

00:24:00.440 --> 00:24:02.740
drain in the long term but this is part
of what I was saying before that if you

00:24:02.740 --> 00:24:02.750
of what I was saying before that if you
 

00:24:02.750 --> 00:24:04.120
of what I was saying before that if you
look at your app if you look at my app

00:24:04.120 --> 00:24:04.130
look at your app if you look at my app
 

00:24:04.130 --> 00:24:06.070
look at your app if you look at my app
seems to be running seems to be fine if

00:24:06.070 --> 00:24:06.080
seems to be running seems to be fine if
 

00:24:06.080 --> 00:24:07.390
seems to be running seems to be fine if
I were to push this up to the Play Store

00:24:07.390 --> 00:24:07.400
I were to push this up to the Play Store
 

00:24:07.400 --> 00:24:10.030
I were to push this up to the Play Store
and you install it on your phone this is

00:24:10.030 --> 00:24:10.040
and you install it on your phone this is
 

00:24:10.040 --> 00:24:11.710
and you install it on your phone this is
gonna be the most expensive battery

00:24:11.710 --> 00:24:11.720
gonna be the most expensive battery
 

00:24:11.720 --> 00:24:13.870
gonna be the most expensive battery
speaking clock you ever have on your

00:24:13.870 --> 00:24:13.880
speaking clock you ever have on your
 

00:24:13.880 --> 00:24:15.850
speaking clock you ever have on your
phone I'm gonna drain your battery right

00:24:15.850 --> 00:24:15.860
phone I'm gonna drain your battery right
 

00:24:15.860 --> 00:24:17.440
phone I'm gonna drain your battery right
and I don't know it when I've seen this

00:24:17.440 --> 00:24:17.450
and I don't know it when I've seen this
 

00:24:17.450 --> 00:24:20.200
and I don't know it when I've seen this
so by looking at the profilers we can

00:24:20.200 --> 00:24:20.210
so by looking at the profilers we can
 

00:24:20.210 --> 00:24:22.690
so by looking at the profilers we can
see that constantly this is draining CPU

00:24:22.690 --> 00:24:22.700
see that constantly this is draining CPU
 

00:24:22.700 --> 00:24:26.980
see that constantly this is draining CPU
and we can start investigating why like

00:24:26.980 --> 00:24:26.990
and we can start investigating why like
 

00:24:26.990 --> 00:24:28.900
and we can start investigating why like
I said the common mistakes are I have a

00:24:28.900 --> 00:24:28.910
I said the common mistakes are I have a
 

00:24:28.910 --> 00:24:30.610
I said the common mistakes are I have a
white clock that I don't release or I

00:24:30.610 --> 00:24:30.620
white clock that I don't release or I
 

00:24:30.620 --> 00:24:33.130
white clock that I don't release or I
have an alarm so we wanted to give you a

00:24:33.130 --> 00:24:33.140
have an alarm so we wanted to give you a
 

00:24:33.140 --> 00:24:35.050
have an alarm so we wanted to give you a
window so you can see these things

00:24:35.050 --> 00:24:35.060
window so you can see these things
 

00:24:35.060 --> 00:24:36.310
window so you can see these things
happening the same way if you have a

00:24:36.310 --> 00:24:36.320
happening the same way if you have a
 

00:24:36.320 --> 00:24:37.980
happening the same way if you have a
label in the wrong place you can see it

00:24:37.980 --> 00:24:37.990
label in the wrong place you can see it
 

00:24:37.990 --> 00:24:40.840
label in the wrong place you can see it
we want to show you if you have an alarm

00:24:40.840 --> 00:24:40.850
we want to show you if you have an alarm
 

00:24:40.850 --> 00:24:43.000
we want to show you if you have an alarm
that you didn't cancel or you have an

00:24:43.000 --> 00:24:43.010
that you didn't cancel or you have an
 

00:24:43.010 --> 00:24:44.650
that you didn't cancel or you have an
alarm in the wrong place and we're gonna

00:24:44.650 --> 00:24:44.660
alarm in the wrong place and we're gonna
 

00:24:44.660 --> 00:24:47.500
alarm in the wrong place and we're gonna
show you that so let me show you this

00:24:47.500 --> 00:24:47.510
show you that so let me show you this
 

00:24:47.510 --> 00:24:50.500
show you that so let me show you this
piece of my app where I have a timer so

00:24:50.500 --> 00:24:50.510
piece of my app where I have a timer so
 

00:24:50.510 --> 00:24:54.820
piece of my app where I have a timer so
here I can run let's say a 10 second

00:24:54.820 --> 00:24:54.830
here I can run let's say a 10 second
 

00:24:54.830 --> 00:24:57.580
here I can run let's say a 10 second
timer and you can see at the bottom of

00:24:57.580 --> 00:24:57.590
timer and you can see at the bottom of
 

00:24:57.590 --> 00:24:59.530
timer and you can see at the bottom of
the energy profiler that there is a

00:24:59.530 --> 00:24:59.540
the energy profiler that there is a
 

00:24:59.540 --> 00:25:01.120
the energy profiler that there is a
yellow line that

00:25:01.120 --> 00:25:01.130
yellow line that
 

00:25:01.130 --> 00:25:03.669
yellow line that
and pull the tooth tip on it that's an

00:25:03.669 --> 00:25:03.679
and pull the tooth tip on it that's an
 

00:25:03.679 --> 00:25:05.710
and pull the tooth tip on it that's an
alarm or a job we show you both there

00:25:05.710 --> 00:25:05.720
alarm or a job we show you both there
 

00:25:05.720 --> 00:25:08.590
alarm or a job we show you both there
and you can see that when the timer

00:25:08.590 --> 00:25:08.600
and you can see that when the timer
 

00:25:08.600 --> 00:25:11.560
and you can see that when the timer
stopped the alarm went away and if I

00:25:11.560 --> 00:25:11.570
stopped the alarm went away and if I
 

00:25:11.570 --> 00:25:13.840
stopped the alarm went away and if I
start the timer again again I have the

00:25:13.840 --> 00:25:13.850
start the timer again again I have the
 

00:25:13.850 --> 00:25:16.090
start the timer again again I have the
alarm and this actually when I was

00:25:16.090 --> 00:25:16.100
alarm and this actually when I was
 

00:25:16.100 --> 00:25:18.310
alarm and this actually when I was
developing this was useful for me to see

00:25:18.310 --> 00:25:18.320
developing this was useful for me to see
 

00:25:18.320 --> 00:25:18.880
developing this was useful for me to see
okay

00:25:18.880 --> 00:25:18.890
okay
 

00:25:18.890 --> 00:25:20.769
okay
am i doing it right when I stop the

00:25:20.769 --> 00:25:20.779
am i doing it right when I stop the
 

00:25:20.779 --> 00:25:23.049
am i doing it right when I stop the
timer that's my alarm go away when I

00:25:23.049 --> 00:25:23.059
timer that's my alarm go away when I
 

00:25:23.059 --> 00:25:25.389
timer that's my alarm go away when I
started again do I call it back so this

00:25:25.389 --> 00:25:25.399
started again do I call it back so this
 

00:25:25.399 --> 00:25:28.720
started again do I call it back so this
allows you to see this please don't use

00:25:28.720 --> 00:25:28.730
allows you to see this please don't use
 

00:25:28.730 --> 00:25:32.399
allows you to see this please don't use
alarms for ask for a timer on a clock I

00:25:32.399 --> 00:25:32.409
alarms for ask for a timer on a clock I
 

00:25:32.409 --> 00:25:37.149
alarms for ask for a timer on a clock I
also have a wake lock on my stopwatch

00:25:37.149 --> 00:25:37.159
also have a wake lock on my stopwatch
 

00:25:37.159 --> 00:25:38.980
also have a wake lock on my stopwatch
again don't use wake lock for stopwatch

00:25:38.980 --> 00:25:38.990
again don't use wake lock for stopwatch
 

00:25:38.990 --> 00:25:41.680
again don't use wake lock for stopwatch
and you can see that when i started i

00:25:41.680 --> 00:25:41.690
and you can see that when i started i
 

00:25:41.690 --> 00:25:43.600
and you can see that when i started i
acquire a wake lock and when I stop it I

00:25:43.600 --> 00:25:43.610
acquire a wake lock and when I stop it I
 

00:25:43.610 --> 00:25:45.669
acquire a wake lock and when I stop it I
let it go and I can see that it's

00:25:45.669 --> 00:25:45.679
let it go and I can see that it's
 

00:25:45.679 --> 00:25:48.190
let it go and I can see that it's
working fine if the redline keeps going

00:25:48.190 --> 00:25:48.200
working fine if the redline keeps going
 

00:25:48.200 --> 00:25:50.019
working fine if the redline keeps going
I have bug right my app will look the

00:25:50.019 --> 00:25:50.029
I have bug right my app will look the
 

00:25:50.029 --> 00:25:51.850
I have bug right my app will look the
same and I would ship it and people will

00:25:51.850 --> 00:25:51.860
same and I would ship it and people will
 

00:25:51.860 --> 00:25:53.049
same and I would ship it and people will
have problems but you can see it through

00:25:53.049 --> 00:25:53.059
have problems but you can see it through
 

00:25:53.059 --> 00:25:56.820
have problems but you can see it through
this window that way is fine or not and

00:25:56.820 --> 00:25:56.830
this window that way is fine or not and
 

00:25:56.830 --> 00:26:01.930
this window that way is fine or not and
we also track location so if you are

00:26:01.930 --> 00:26:01.940
we also track location so if you are
 

00:26:01.940 --> 00:26:03.700
we also track location so if you are
acquiring location like I'm doing now we

00:26:03.700 --> 00:26:03.710
acquiring location like I'm doing now we
 

00:26:03.710 --> 00:26:05.019
acquiring location like I'm doing now we
have this purple line that shows you

00:26:05.019 --> 00:26:05.029
have this purple line that shows you
 

00:26:05.029 --> 00:26:08.049
have this purple line that shows you
that your current location the emulator

00:26:08.049 --> 00:26:08.059
that your current location the emulator
 

00:26:08.059 --> 00:26:09.700
that your current location the emulator
has a really handy feature that you can

00:26:09.700 --> 00:26:09.710
has a really handy feature that you can
 

00:26:09.710 --> 00:26:12.639
has a really handy feature that you can
actually tell it when to send a location

00:26:12.639 --> 00:26:12.649
actually tell it when to send a location
 

00:26:12.649 --> 00:26:18.639
actually tell it when to send a location
event so in our model we show you that

00:26:18.639 --> 00:26:18.649
event so in our model we show you that
 

00:26:18.649 --> 00:26:22.510
event so in our model we show you that
that is actually using energy and again

00:26:22.510 --> 00:26:22.520
that is actually using energy and again
 

00:26:22.520 --> 00:26:24.490
that is actually using energy and again
you can see it in the purple bar and if

00:26:24.490 --> 00:26:24.500
you can see it in the purple bar and if
 

00:26:24.500 --> 00:26:26.850
you can see it in the purple bar and if
I stop it

00:26:26.850 --> 00:26:26.860
I stop it
 

00:26:26.860 --> 00:26:30.639
I stop it
there we go the purple bar is gone but

00:26:30.639 --> 00:26:30.649
there we go the purple bar is gone but
 

00:26:30.649 --> 00:26:33.700
there we go the purple bar is gone but
more than that as you are using our used

00:26:33.700 --> 00:26:33.710
more than that as you are using our used
 

00:26:33.710 --> 00:26:35.320
more than that as you are using our used
to in our over filers we can select a

00:26:35.320 --> 00:26:35.330
to in our over filers we can select a
 

00:26:35.330 --> 00:26:38.860
to in our over filers we can select a
range and we can show you that you had

00:26:38.860 --> 00:26:38.870
range and we can show you that you had
 

00:26:38.870 --> 00:26:41.880
range and we can show you that you had
an alarm that you had a location request

00:26:41.880 --> 00:26:41.890
an alarm that you had a location request
 

00:26:41.890 --> 00:26:44.529
an alarm that you had a location request
if I move back we can select the weight

00:26:44.529 --> 00:26:44.539
if I move back we can select the weight
 

00:26:44.539 --> 00:26:46.450
if I move back we can select the weight
look and do it in a second more than

00:26:46.450 --> 00:26:46.460
look and do it in a second more than
 

00:26:46.460 --> 00:26:51.039
look and do it in a second more than
that I can show you where the location

00:26:51.039 --> 00:26:51.049
that I can show you where the location
 

00:26:51.049 --> 00:26:52.450
that I can show you where the location
was required which kind of provide I'm

00:26:52.450 --> 00:26:52.460
was required which kind of provide I'm
 

00:26:52.460 --> 00:26:54.370
was required which kind of provide I'm
using a GPS provider so we can see that

00:26:54.370 --> 00:26:54.380
using a GPS provider so we can see that
 

00:26:54.380 --> 00:26:55.960
using a GPS provider so we can see that
we can see the interval times that I

00:26:55.960 --> 00:26:55.970
we can see the interval times that I
 

00:26:55.970 --> 00:26:58.149
we can see the interval times that I
chose where in the code I triggered it I

00:26:58.149 --> 00:26:58.159
chose where in the code I triggered it I
 

00:26:58.159 --> 00:26:59.860
chose where in the code I triggered it I
have a toggle location that happens when

00:26:59.860 --> 00:26:59.870
have a toggle location that happens when
 

00:26:59.870 --> 00:27:05.049
have a toggle location that happens when
I click the button and if I click on the

00:27:05.049 --> 00:27:05.059
I click the button and if I click on the
 

00:27:05.059 --> 00:27:07.810
I click the button and if I click on the
alarm not only I can see when I sell it

00:27:07.810 --> 00:27:07.820
alarm not only I can see when I sell it
 

00:27:07.820 --> 00:27:09.580
alarm not only I can see when I sell it
the first time but when I reset it when

00:27:09.580 --> 00:27:09.590
the first time but when I reset it when
 

00:27:09.590 --> 00:27:11.590
the first time but when I reset it when
I cancel it so you can see all the

00:27:11.590 --> 00:27:11.600
I cancel it so you can see all the
 

00:27:11.600 --> 00:27:12.530
I cancel it so you can see all the
places in the code

00:27:12.530 --> 00:27:12.540
places in the code
 

00:27:12.540 --> 00:27:14.630
places in the code
that that was triggered so I can debug

00:27:14.630 --> 00:27:14.640
that that was triggered so I can debug
 

00:27:14.640 --> 00:27:17.120
that that was triggered so I can debug
problems when this is not happening

00:27:17.120 --> 00:27:17.130
problems when this is not happening
 

00:27:17.130 --> 00:27:19.910
problems when this is not happening
correctly let me go back and show you

00:27:19.910 --> 00:27:19.920
correctly let me go back and show you
 

00:27:19.920 --> 00:27:23.960
correctly let me go back and show you
the the way clock is right there

00:27:23.960 --> 00:27:23.970
the the way clock is right there
 

00:27:23.970 --> 00:27:27.440
the the way clock is right there
I select you can see the wake log and

00:27:27.440 --> 00:27:27.450
I select you can see the wake log and
 

00:27:27.450 --> 00:27:29.240
I select you can see the wake log and
you can see every time that I started I

00:27:29.240 --> 00:27:29.250
you can see every time that I started I
 

00:27:29.250 --> 00:27:31.160
you can see every time that I started I
stopped the stopwatch

00:27:31.160 --> 00:27:31.170
stopped the stopwatch
 

00:27:31.170 --> 00:27:33.200
stopped the stopwatch
I was acquiring and releasing the wake

00:27:33.200 --> 00:27:33.210
I was acquiring and releasing the wake
 

00:27:33.210 --> 00:27:35.030
I was acquiring and releasing the wake
lock and you can see all the call stacks

00:27:35.030 --> 00:27:35.040
lock and you can see all the call stacks
 

00:27:35.040 --> 00:27:37.160
lock and you can see all the call stacks
Portland when that happened so this is

00:27:37.160 --> 00:27:37.170
Portland when that happened so this is
 

00:27:37.170 --> 00:27:39.380
Portland when that happened so this is
the power of this this is not to say

00:27:39.380 --> 00:27:39.390
the power of this this is not to say
 

00:27:39.390 --> 00:27:40.850
the power of this this is not to say
okay you're using a lot of battery well

00:27:40.850 --> 00:27:40.860
okay you're using a lot of battery well
 

00:27:40.860 --> 00:27:42.980
okay you're using a lot of battery well
yeah I'm a game I want to use battery so

00:27:42.980 --> 00:27:42.990
yeah I'm a game I want to use battery so
 

00:27:42.990 --> 00:27:46.970
yeah I'm a game I want to use battery so
it's fine the power of this is so that

00:27:46.970 --> 00:27:46.980
it's fine the power of this is so that
 

00:27:46.980 --> 00:27:48.500
it's fine the power of this is so that
you can see that your app is doing what

00:27:48.500 --> 00:27:48.510
you can see that your app is doing what
 

00:27:48.510 --> 00:27:50.180
you can see that your app is doing what
you think is doing it is not you should

00:27:50.180 --> 00:27:50.190
you think is doing it is not you should
 

00:27:50.190 --> 00:27:58.670
you think is doing it is not you should
go and fix it so cool that's the energy

00:27:58.670 --> 00:27:58.680
go and fix it so cool that's the energy
 

00:27:58.680 --> 00:28:00.800
go and fix it so cool that's the energy
profiler let me show you one more thing

00:28:00.800 --> 00:28:00.810
profiler let me show you one more thing
 

00:28:00.810 --> 00:28:05.600
profiler let me show you one more thing
that I want to show you on the Left we

00:28:05.600 --> 00:28:05.610
that I want to show you on the Left we
 

00:28:05.610 --> 00:28:09.230
that I want to show you on the Left we
have the sessions panel and let's go

00:28:09.230 --> 00:28:09.240
have the sessions panel and let's go
 

00:28:09.240 --> 00:28:13.490
have the sessions panel and let's go
back in time I can stop a current

00:28:13.490 --> 00:28:13.500
back in time I can stop a current
 

00:28:13.500 --> 00:28:17.450
back in time I can stop a current
session like this and then you can click

00:28:17.450 --> 00:28:17.460
session like this and then you can click
 

00:28:17.460 --> 00:28:21.050
session like this and then you can click
on other sessions and we can start

00:28:21.050 --> 00:28:21.060
on other sessions and we can start
 

00:28:21.060 --> 00:28:23.110
on other sessions and we can start
comparing all the captures that we did

00:28:23.110 --> 00:28:23.120
comparing all the captures that we did
 

00:28:23.120 --> 00:28:27.100
comparing all the captures that we did
back from when I started the talk here

00:28:27.100 --> 00:28:27.110
back from when I started the talk here
 

00:28:27.110 --> 00:28:29.240
back from when I started the talk here
and this was the first time we run it

00:28:29.240 --> 00:28:29.250
and this was the first time we run it
 

00:28:29.250 --> 00:28:31.370
and this was the first time we run it
and we keep all this information until

00:28:31.370 --> 00:28:31.380
and we keep all this information until
 

00:28:31.380 --> 00:28:34.070
and we keep all this information until
you restart studio so you can compare

00:28:34.070 --> 00:28:34.080
you restart studio so you can compare
 

00:28:34.080 --> 00:28:37.910
you restart studio so you can compare
runs and let me show you the last thing

00:28:37.910 --> 00:28:37.920
runs and let me show you the last thing
 

00:28:37.920 --> 00:28:40.370
runs and let me show you the last thing
and I want to close with that I'm gonna

00:28:40.370 --> 00:28:40.380
and I want to close with that I'm gonna
 

00:28:40.380 --> 00:28:43.750
and I want to close with that I'm gonna
close a few minutes early

00:28:43.750 --> 00:28:43.760
 
 

00:28:43.760 --> 00:28:46.760
 
all right like I said before I'm

00:28:46.760 --> 00:28:46.770
all right like I said before I'm
 

00:28:46.770 --> 00:28:49.880
all right like I said before I'm
rendering every frame I'm doing

00:28:49.880 --> 00:28:49.890
rendering every frame I'm doing
 

00:28:49.890 --> 00:28:50.780
rendering every frame I'm doing
something that I should not be doing

00:28:50.780 --> 00:28:50.790
something that I should not be doing
 

00:28:50.790 --> 00:28:52.520
something that I should not be doing
that is I mean validating the view all

00:28:52.520 --> 00:28:52.530
that is I mean validating the view all
 

00:28:52.530 --> 00:28:54.940
that is I mean validating the view all
the time and that is using a lot of CPU

00:28:54.940 --> 00:28:54.950
the time and that is using a lot of CPU
 

00:28:54.950 --> 00:28:57.440
the time and that is using a lot of CPU
so let's go back to my activity where I

00:28:57.440 --> 00:28:57.450
so let's go back to my activity where I
 

00:28:57.450 --> 00:29:01.520
so let's go back to my activity where I
have the code but that's it so I have my

00:29:01.520 --> 00:29:01.530
have the code but that's it so I have my
 

00:29:01.530 --> 00:29:03.800
have the code but that's it so I have my
model that I update every frame and then

00:29:03.800 --> 00:29:03.810
model that I update every frame and then
 

00:29:03.810 --> 00:29:06.560
model that I update every frame and then
I invalidate all the time my model has

00:29:06.560 --> 00:29:06.570
I invalidate all the time my model has
 

00:29:06.570 --> 00:29:08.600
I invalidate all the time my model has
the ability to know when it has changed

00:29:08.600 --> 00:29:08.610
the ability to know when it has changed
 

00:29:08.610 --> 00:29:11.150
the ability to know when it has changed
so I'm only going to invalidate the

00:29:11.150 --> 00:29:11.160
so I'm only going to invalidate the
 

00:29:11.160 --> 00:29:11.810
so I'm only going to invalidate the
canvas

00:29:11.810 --> 00:29:11.820
canvas
 

00:29:11.820 --> 00:29:15.590
canvas
whenever something has changed and we're

00:29:15.590 --> 00:29:15.600
whenever something has changed and we're
 

00:29:15.600 --> 00:29:17.660
whenever something has changed and we're
gonna see the impact that that has on

00:29:17.660 --> 00:29:17.670
gonna see the impact that that has on
 

00:29:17.670 --> 00:29:20.480
gonna see the impact that that has on
energy CPU and

00:29:20.480 --> 00:29:20.490
energy CPU and
 

00:29:20.490 --> 00:29:29.690
energy CPU and
right in the app again there we go

00:29:29.690 --> 00:29:29.700
 
 

00:29:29.700 --> 00:29:32.149
 
you can see now that the energy profiler

00:29:32.149 --> 00:29:32.159
you can see now that the energy profiler
 

00:29:32.159 --> 00:29:34.070
you can see now that the energy profiler
most of the time now is below light it

00:29:34.070 --> 00:29:34.080
most of the time now is below light it
 

00:29:34.080 --> 00:29:35.810
most of the time now is below light it
was above medium before we can compare

00:29:35.810 --> 00:29:35.820
was above medium before we can compare
 

00:29:35.820 --> 00:29:38.360
was above medium before we can compare
with previous sessions but of course

00:29:38.360 --> 00:29:38.370
with previous sessions but of course
 

00:29:38.370 --> 00:29:43.399
with previous sessions but of course
when I have to render we can see that

00:29:43.399 --> 00:29:43.409
when I have to render we can see that
 

00:29:43.409 --> 00:29:45.470
when I have to render we can see that
the energy usage starts going up this is

00:29:45.470 --> 00:29:45.480
the energy usage starts going up this is
 

00:29:45.480 --> 00:29:47.960
the energy usage starts going up this is
because I'm rerender in my view every

00:29:47.960 --> 00:29:47.970
because I'm rerender in my view every
 

00:29:47.970 --> 00:29:51.680
because I'm rerender in my view every
time and you can see the effect here you

00:29:51.680 --> 00:29:51.690
time and you can see the effect here you
 

00:29:51.690 --> 00:29:54.200
time and you can see the effect here you
can see it on the memory profiler - if I

00:29:54.200 --> 00:29:54.210
can see it on the memory profiler - if I
 

00:29:54.210 --> 00:29:57.409
can see it on the memory profiler - if I
go back to the memory profiler remember

00:29:57.409 --> 00:29:57.419
go back to the memory profiler remember
 

00:29:57.419 --> 00:29:59.210
go back to the memory profiler remember
that line I was going now above ambient

00:29:59.210 --> 00:29:59.220
that line I was going now above ambient
 

00:29:59.220 --> 00:30:01.250
that line I was going now above ambient
air was collected that is gone I do have

00:30:01.250 --> 00:30:01.260
air was collected that is gone I do have
 

00:30:01.260 --> 00:30:02.570
air was collected that is gone I do have
some objects that are being created and

00:30:02.570 --> 00:30:02.580
some objects that are being created and
 

00:30:02.580 --> 00:30:06.350
some objects that are being created and
they will be claimed later like here but

00:30:06.350 --> 00:30:06.360
they will be claimed later like here but
 

00:30:06.360 --> 00:30:14.720
they will be claimed later like here but
it's not as it was before cool and let

00:30:14.720 --> 00:30:14.730
it's not as it was before cool and let
 

00:30:14.730 --> 00:30:16.519
it's not as it was before cool and let
me stop the demo and go back to the

00:30:16.519 --> 00:30:16.529
me stop the demo and go back to the
 

00:30:16.529 --> 00:30:21.890
me stop the demo and go back to the
slides thank you

00:30:21.890 --> 00:30:21.900
slides thank you
 

00:30:21.900 --> 00:30:43.819
slides thank you
[Music]

