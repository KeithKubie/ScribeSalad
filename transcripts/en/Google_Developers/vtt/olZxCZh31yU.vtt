WEBVTT
Kind: captions
Language: en

00:00:04.069 --> 00:00:05.610
GREG: I want to
bring up Brad Abrams.

00:00:05.610 --> 00:00:09.030
He leads the Product Management
Team for our Developer

00:00:09.030 --> 00:00:10.650
Experiences group,
and he's going

00:00:10.650 --> 00:00:14.139
to give us a demo of Zero to 60
on the Cloud Platform showing

00:00:14.139 --> 00:00:15.305
these productivity features.

00:00:15.305 --> 00:00:15.805
Brad?

00:00:15.805 --> 00:00:18.332
BRAD ABRAMS: Awesome,
thanks, Greg.

00:00:18.332 --> 00:00:19.290
GREG: Do you need that?

00:00:19.290 --> 00:00:21.270
BRAD ABRAMS: No,
I don't need it.

00:00:21.270 --> 00:00:23.820
So in his copious
spare time, Greg's

00:00:23.820 --> 00:00:27.950
been building out this Cloud
Event 2014 application,

00:00:27.950 --> 00:00:29.790
but he ran into a
little snag, and he

00:00:29.790 --> 00:00:34.250
asked me to use my programming
prowess to help him out.

00:00:34.250 --> 00:00:37.750
So what we're looking at here
is the Google Developer Console

00:00:37.750 --> 00:00:39.700
for Greg's application.

00:00:39.700 --> 00:00:43.080
But before we drill into
the console, how many people

00:00:43.080 --> 00:00:44.007
are command line fans?

00:00:44.007 --> 00:00:46.340
How many people are more
productive on the command line?

00:00:46.340 --> 00:00:46.940
Let's hear it, OK.

00:00:46.940 --> 00:00:47.439
GREG: Yep.

00:00:47.439 --> 00:00:47.940
[APPLAUSE]

00:00:47.940 --> 00:00:48.940
BRAD ABRAMS: Great, yes.

00:00:48.940 --> 00:00:49.550
Me too.

00:00:49.550 --> 00:00:51.390
So we're going to start there.

00:00:51.390 --> 00:00:55.060
I'm going to show you our
new gcloud command line tool.

00:00:55.060 --> 00:00:57.490
The reason I'm more
productive on the command line

00:00:57.490 --> 00:01:01.490
is because of keyboard
shortcuts like Tab completion.

00:01:01.490 --> 00:01:03.950
So I can just say
"gcloud," Tab, Tab,

00:01:03.950 --> 00:01:05.860
and that shows me
the list of options

00:01:05.860 --> 00:01:07.590
that are available there.

00:01:07.590 --> 00:01:12.351
And then-- if I can type--
a Tab again completes that.

00:01:12.351 --> 00:01:12.850
Oh, yeah.

00:01:12.850 --> 00:01:14.780
And then what were the
options for components?

00:01:14.780 --> 00:01:15.890
I can't remember.

00:01:15.890 --> 00:01:16.675
Oh, right.

00:01:16.675 --> 00:01:18.010
List is the one I want.

00:01:18.010 --> 00:01:19.320
Tab finishes that out.

00:01:19.320 --> 00:01:20.507
So pretty cool, huh?

00:01:20.507 --> 00:01:21.730
[APPLAUSE]

00:01:21.730 --> 00:01:23.220
OK.

00:01:23.220 --> 00:01:24.120
Oh, fine.

00:01:24.120 --> 00:01:24.680
OK.

00:01:24.680 --> 00:01:29.090
All right, so we have a set of
components that are available.

00:01:29.090 --> 00:01:32.670
I could add, remove those, but I
have what I think I need there,

00:01:32.670 --> 00:01:34.110
so we'll clear that.

00:01:34.110 --> 00:01:36.530
And I'll do another
gcloud command,

00:01:36.530 --> 00:01:42.870
and we'll go ahead--
cloudevent2014-- we'll

00:01:42.870 --> 00:01:45.930
go ahead and bring down
code that Greg's already

00:01:45.930 --> 00:01:48.840
started onto our local
workspace so that we

00:01:48.840 --> 00:01:51.130
can start getting
started with this.

00:01:51.130 --> 00:01:53.370
So let's take a look at
what Greg's already got.

00:01:53.370 --> 00:01:56.360
I'm going to use my second
favorite editor here

00:01:56.360 --> 00:01:59.770
to check out Greg's code.

00:01:59.770 --> 00:02:02.430
And there-- Greg, I
think I see your problem.

00:02:02.430 --> 00:02:04.020
You forgot to give it a title.

00:02:04.020 --> 00:02:10.530
So let's see if we can
do that, so GCP Live!!

00:02:10.530 --> 00:02:12.110
OK, just save that.

00:02:12.110 --> 00:02:15.090
Now, we're going to
use Git to commit that

00:02:15.090 --> 00:02:16.510
to our local repository.

00:02:16.510 --> 00:02:18.711
How many big Git fans
are you-- use Git?

00:02:18.711 --> 00:02:19.210
[APPLAUSE]

00:02:19.210 --> 00:02:19.950
Yes?

00:02:19.950 --> 00:02:21.060
Awesome.

00:02:21.060 --> 00:02:26.870
So I'll do a git commit,
and I'll say, add a title--

00:02:26.870 --> 00:02:27.620
or whatever.

00:02:27.620 --> 00:02:29.870
GREG: Or a "tite."

00:02:29.870 --> 00:02:32.790
BRAD ABRAMS: And then I'm going
to go ahead and do a git push.

00:02:32.790 --> 00:02:36.940
So when I did the gcloud init,
I initialized my local workspace

00:02:36.940 --> 00:02:39.940
with the remote repository
that's hosted for us

00:02:39.940 --> 00:02:41.340
in the Google cloud.

00:02:41.340 --> 00:02:43.630
And now, I've gone
and pushed that up.

00:02:43.630 --> 00:02:46.070
So if we switch over
here to the console,

00:02:46.070 --> 00:02:49.850
you'll see-- when I refresh
this-- that our new source code

00:02:49.850 --> 00:02:53.720
viewer in the console has
that change that we looked at.

00:02:53.720 --> 00:02:56.930
There it is-- "GCP Live!!"

00:02:56.930 --> 00:02:59.690
And now if I switch
over to Releases,

00:02:59.690 --> 00:03:03.370
we see this is the
Git URL that we

00:03:03.370 --> 00:03:05.860
offer as part of every
developer console project.

00:03:05.860 --> 00:03:08.640
You get a free,
private Git repository

00:03:08.640 --> 00:03:11.300
that's accessible to all the
members of your development

00:03:11.300 --> 00:03:12.437
team on this project.

00:03:12.437 --> 00:03:15.020
GREG: Now, that's really cool,
and a lot of people do use Git,

00:03:15.020 --> 00:03:17.040
but a lot of people
also use GitHub--

00:03:17.040 --> 00:03:19.530
whether it's for public
open source projects,

00:03:19.530 --> 00:03:21.010
or even for private repos.

00:03:21.010 --> 00:03:22.500
So is there support
for that too?

00:03:22.500 --> 00:03:23.990
BRAD ABRAMS: Absolutely, Greg.

00:03:23.990 --> 00:03:27.730
At Google, we are
big fans of GitHub.

00:03:27.730 --> 00:03:28.280
And so--

00:03:28.280 --> 00:03:28.410
GREG: How did I know that?

00:03:28.410 --> 00:03:30.960
BRAD ABRAMS: We've gone ahead
and added a Connect a GitHub

00:03:30.960 --> 00:03:31.660
button.

00:03:31.660 --> 00:03:34.400
So all the features I'm
going to show you work great

00:03:34.400 --> 00:03:38.370
if you're using a GitHub
repository or one of ours.

00:03:38.370 --> 00:03:43.540
So regardless of which you
use, as a post-commit action,

00:03:43.540 --> 00:03:45.690
you have your choice
as to what happens.

00:03:45.690 --> 00:03:49.190
We can do a build,
run a set of unit test

00:03:49.190 --> 00:03:51.690
before we deploy
that into production.

00:03:51.690 --> 00:03:54.660
In this case, we've set
it to build with Maven,

00:03:54.660 --> 00:03:58.380
run unit tests, and then
deploy to our cloud platform.

00:03:58.380 --> 00:04:01.420
To give you a peek inside-- a
little bit about what's really

00:04:01.420 --> 00:04:06.150
happening-- when we configured
that build, what we did

00:04:06.150 --> 00:04:09.490
is we spin up a Compute Engine
instance, and we installed,

00:04:09.490 --> 00:04:13.020
on your behalf,
Jenkins, Maven, JDK--

00:04:13.020 --> 00:04:16.190
everything we needed
to do reliable builds.

00:04:16.190 --> 00:04:18.170
And then when that
git push happened,

00:04:18.170 --> 00:04:22.560
we pulled down all the
code and did a clean build.

00:04:22.560 --> 00:04:26.410
And then when that build passed,
we ran all your unit tests

00:04:26.410 --> 00:04:27.940
and then pushed
it to production.

00:04:27.940 --> 00:04:32.090
So you can be more sure you get
a safe, reliable deployment.

00:04:32.090 --> 00:04:35.220
And you can see, as I practice
this demo, the spikes in the

00:04:35.220 --> 00:04:36.940
build machines.

00:04:36.940 --> 00:04:39.760
So if we switch back
over to Cloud Deployment,

00:04:39.760 --> 00:04:42.170
you can see our release history.

00:04:42.170 --> 00:04:44.590
And what you see
here is that we added

00:04:44.590 --> 00:04:47.880
that title, we did a build,
test, and we deployed that

00:04:47.880 --> 00:04:51.420
into production all in the
time we've been talking here.

00:04:51.420 --> 00:04:53.990
So if we switch over and
see Greg's app-- Greg,

00:04:53.990 --> 00:04:56.860
it looks like a little
meme application.

00:04:56.860 --> 00:04:58.880
That's kind of cool.

00:04:58.880 --> 00:05:02.530
And it's going to refresh
with-- and we see these.

00:05:02.530 --> 00:05:05.180
Here are the memes you have.

00:05:05.180 --> 00:05:06.130
Yes.

00:05:06.130 --> 00:05:09.190
That's cute-- petabytes of data.

00:05:09.190 --> 00:05:11.160
And there's the
title that we added.

00:05:11.160 --> 00:05:12.160
That's great.

00:05:12.160 --> 00:05:16.100
I'm interested in what our top
memes are, here at the Cloud

00:05:16.100 --> 00:05:18.120
event, so let's check those out.

00:05:18.120 --> 00:05:20.150
Oh, Greg.

00:05:20.150 --> 00:05:21.690
You have a server error here.

00:05:21.690 --> 00:05:24.810
A 500 server error--
that's not good.

00:05:24.810 --> 00:05:27.620
These kind of issues
are hard enough

00:05:27.620 --> 00:05:29.910
to debug when it's on
your local machine,

00:05:29.910 --> 00:05:32.690
but when you have an issue
like this in production,

00:05:32.690 --> 00:05:34.210
it's even harder.

00:05:34.210 --> 00:05:38.930
So to give you a sense about
debugging this in production,

00:05:38.930 --> 00:05:42.830
I'm going to switch over and
give some simulated load--

00:05:42.830 --> 00:05:46.090
so just going to throw a
lot of traffic at that site.

00:05:46.090 --> 00:05:48.000
I saw some of you
copying down the URL,

00:05:48.000 --> 00:05:52.010
so you might be throwing
some traffic at it as well.

00:05:52.010 --> 00:05:55.510
So we'll go over and look
at how we debug that issue.

00:05:55.510 --> 00:05:59.470
So I'm going to bring up
the new unified logs viewer,

00:05:59.470 --> 00:06:02.660
and we're getting a log
entry for every request that

00:06:02.660 --> 00:06:03.220
comes in.

00:06:03.220 --> 00:06:05.345
And you saw-- I just
threw a bunch of requests

00:06:05.345 --> 00:06:06.780
at this thing.

00:06:06.780 --> 00:06:08.870
And we're aggregating
all those logs

00:06:08.870 --> 00:06:11.570
across every front end
instance that were spinning up

00:06:11.570 --> 00:06:13.670
into a single unified view.

00:06:13.670 --> 00:06:16.160
And so now, I can just
scroll through here.

00:06:16.160 --> 00:06:19.310
And notice, as I'm scrolling,
it's loading new logs,

00:06:19.310 --> 00:06:23.040
so it's easy for me to find
logs that I'm interested in.

00:06:23.040 --> 00:06:25.800
I can also filter these.

00:06:25.800 --> 00:06:28.510
Or in this particular
case, though, I

00:06:28.510 --> 00:06:31.340
want to look for a status
500, because that's

00:06:31.340 --> 00:06:34.070
what we saw-- the
500 server error.

00:06:34.070 --> 00:06:37.600
I can also come in and
filter by date and time.

00:06:37.600 --> 00:06:39.530
So if I get a bug report
at a certain time,

00:06:39.530 --> 00:06:42.570
I can narrow that
down pretty easily.

00:06:42.570 --> 00:06:45.380
These filters can be chained
together with "and" and

00:06:45.380 --> 00:06:48.190
"or" so you can get
exactly what you want.

00:06:48.190 --> 00:06:50.610
OK, so here are the
errors that we're hitting.

00:06:50.610 --> 00:06:52.750
And I can see, Greg,
the problem here

00:06:52.750 --> 00:06:57.800
is in this ominously named
method-- getMemes_Buggy.

00:06:57.800 --> 00:06:59.417
Hmm, that must be the problem.

00:06:59.417 --> 00:07:01.500
GREG: I had to make it
easy for you to find, Brad.

00:07:01.500 --> 00:07:04.640
BRAD ABRAMS: Yes,
I appreciate that.

00:07:04.640 --> 00:07:06.820
So speaking of
finding that, you'll

00:07:06.820 --> 00:07:09.520
notice the next thing we
want to do, as a developer,

00:07:09.520 --> 00:07:11.520
is jump into the
source, because that's

00:07:11.520 --> 00:07:14.100
where we're going to be
able to fix this problem.

00:07:14.100 --> 00:07:16.320
But I have all this
context loaded in my head.

00:07:16.320 --> 00:07:17.870
I need to get to
the source quick

00:07:17.870 --> 00:07:20.352
so I can start
bringing that to bear.

00:07:20.352 --> 00:07:21.810
So what I'm going
to do is-- notice

00:07:21.810 --> 00:07:24.390
that right here, this
is actually a hyperlink.

00:07:24.390 --> 00:07:26.560
So if I click right
on this hyperlink,

00:07:26.560 --> 00:07:30.600
it brings me into the console,
into our source code view,

00:07:30.600 --> 00:07:33.830
with exactly the version
of the source code

00:07:33.830 --> 00:07:35.220
that was deployed
into production

00:07:35.220 --> 00:07:37.130
and that line of highlighted.

00:07:37.130 --> 00:07:38.010
Pretty useful?

00:07:38.010 --> 00:07:42.440
[APPLAUSE]

00:07:42.440 --> 00:07:45.810
So at this point, we could drop
back to the Git command line.

00:07:45.810 --> 00:07:48.550
We could pull that file down
and start operating on it.

00:07:48.550 --> 00:07:51.040
I can click on this
Open in IDE button

00:07:51.040 --> 00:07:54.860
and use a variety of third
party or Google provided IDEs.

00:07:54.860 --> 00:07:57.590
Or because this is
a very quick change,

00:07:57.590 --> 00:08:00.830
I can just click on Edit,
make this change right

00:08:00.830 --> 00:08:03.640
in the browser, and go
ahead and do a commit.

00:08:03.640 --> 00:08:10.100
And we'll just say "Fixed
Greg's buggy code,"

00:08:10.100 --> 00:08:12.530
and we'll deploy
that into production.

00:08:12.530 --> 00:08:15.480
Now, how many of you who have
been debugging a production

00:08:15.480 --> 00:08:18.330
issue, and you've ended up
SSHing into a production

00:08:18.330 --> 00:08:21.060
machine and twiddling
some config file

00:08:21.060 --> 00:08:22.660
or messing with some PHP code?

00:08:22.660 --> 00:08:23.967
Who's done that?

00:08:23.967 --> 00:08:25.550
Yes, I-- who's done
that this morning?

00:08:25.550 --> 00:08:26.410
[LAUGHTER]

00:08:26.410 --> 00:08:27.880
OK, a couple of you.

00:08:27.880 --> 00:08:30.830
And that's maybe
not the best idea,

00:08:30.830 --> 00:08:32.970
and that is not what
we're doing here.

00:08:32.970 --> 00:08:35.320
We're actually committing
this change back

00:08:35.320 --> 00:08:37.400
to the production
Git repository.

00:08:37.400 --> 00:08:39.640
That change is attributed to me.

00:08:39.640 --> 00:08:40.600
It's repeatable.

00:08:40.600 --> 00:08:44.280
All future deployments will
have that code as well.

00:08:44.280 --> 00:08:47.260
And we're running that
full-release pipeline.

00:08:47.260 --> 00:08:49.840
We're building the code
on a clean machine.

00:08:49.840 --> 00:08:52.040
We're running all
our unit tests,

00:08:52.040 --> 00:08:55.860
and we're deploying it only
if all those things pass.

00:08:55.860 --> 00:08:58.910
Now, that takes a minute or
so for those things to happen,

00:08:58.910 --> 00:09:02.730
so let's see if we can view
that deployment in progress.

00:09:02.730 --> 00:09:06.540
So let's open that in a new tab.

00:09:06.540 --> 00:09:08.620
And we should see
our new release.

00:09:08.620 --> 00:09:09.290
There it is.

00:09:09.290 --> 00:09:10.650
We fixed Greg's buggy code.

00:09:10.650 --> 00:09:12.640
Notice, it's already
built and tested

00:09:12.640 --> 00:09:15.560
that in just this short time,
and we've deployed that out

00:09:15.560 --> 00:09:16.830
into production.

00:09:16.830 --> 00:09:19.400
So if we switch over
now and refresh this,

00:09:19.400 --> 00:09:22.790
we should see the
top Cloud memes.

00:09:22.790 --> 00:09:26.080
And of course, they're
all Jeff Dean memes.

00:09:26.080 --> 00:09:27.620
[LAUGHTER]

00:09:27.620 --> 00:09:29.400
Guess that's how it goes.

00:09:29.400 --> 00:09:32.600
So what you've seen
today is it's very easy

00:09:32.600 --> 00:09:36.320
to use tools you already know
and love like Maven, Jenkins,

00:09:36.320 --> 00:09:39.550
and Gradle to be able
to target our platform.

00:09:39.550 --> 00:09:41.190
You've seen how
easy it is to get

00:09:41.190 --> 00:09:44.440
reliable and quick deployments
with our new continuous

00:09:44.440 --> 00:09:46.000
integration system.

00:09:46.000 --> 00:09:48.460
And finally, you
saw how easy it was

00:09:48.460 --> 00:09:50.900
to find and debug an
issue in production

00:09:50.900 --> 00:09:52.410
and get that fixed quickly.

00:09:52.410 --> 00:09:53.069
Thanks, Greg.

00:09:53.069 --> 00:09:53.860
GREG: Thanks, Brad.

00:09:53.860 --> 00:10:01.024
[APPLAUSE]

