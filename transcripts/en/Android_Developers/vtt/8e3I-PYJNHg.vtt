WEBVTT
Kind: captions
Language: en

00:00:00.550 --> 00:00:03.610
VectorDrawable has been
introduced in Android Lollipop

00:00:03.610 --> 00:00:05.290
release for one year.

00:00:05.290 --> 00:00:08.490
We are getting many feedbacks
that a good tool is needed

00:00:08.490 --> 00:00:11.950
for the developers to create
assets for VectorDrawable

00:00:11.950 --> 00:00:15.770
and use them for older
Android versions.

00:00:15.770 --> 00:00:19.130
Hi, this is Tenghui from
Android UI Toolkit team.

00:00:19.130 --> 00:00:22.740
I'm happy to give you an update
on our latest tool support

00:00:22.740 --> 00:00:25.100
to adjust those concerns.

00:00:25.100 --> 00:00:29.690
In Android Studio 1.4, we
introduce a new tool for you

00:00:29.690 --> 00:00:34.320
to either easily pick one vector
asset from material design icon

00:00:34.320 --> 00:00:38.780
library or convert your own
SVG files into your vector

00:00:38.780 --> 00:00:40.510
drawables.

00:00:40.510 --> 00:00:43.990
Moreover, you can use
this vector asset even

00:00:43.990 --> 00:00:47.440
when you are building
against pre-Lollipop release

00:00:47.440 --> 00:00:49.620
without any code change.

00:00:49.620 --> 00:00:52.630
That is very cool, right?

00:00:52.630 --> 00:00:55.010
First, let's dive
into the new UI

00:00:55.010 --> 00:00:58.690
we introduced in
Android Studio 1.4.

00:00:58.690 --> 00:01:02.390
If you right click on any
photos in your application,

00:01:02.390 --> 00:01:05.069
you will see one menu
options call New.

00:01:05.069 --> 00:01:06.260
Click that.

00:01:06.260 --> 00:01:10.370
You will see one sub-menu
called Vector Asset.

00:01:10.370 --> 00:01:11.350
Click that.

00:01:11.350 --> 00:01:15.310
You will be able to see this new
Vector Asset Studio dialogue.

00:01:15.310 --> 00:01:17.410
Assuming right
now, you just want

00:01:17.410 --> 00:01:21.050
to pick one existing vector
asset from material design icon

00:01:21.050 --> 00:01:25.290
library, then you just
click this Choose button.

00:01:25.290 --> 00:01:28.590
Then, you would see a
dialogue with all the asset

00:01:28.590 --> 00:01:30.230
in the library.

00:01:30.230 --> 00:01:34.300
Now, simply just pick one
you like, then hit OK.

00:01:34.300 --> 00:01:37.590
Now, you would see a nice
preview for this vector asset.

00:01:37.590 --> 00:01:39.900
If you are happy
with how it looks,

00:01:39.900 --> 00:01:42.570
then just go ahead
and hit Next button.

00:01:42.570 --> 00:01:44.690
Otherwise, there
are some options

00:01:44.690 --> 00:01:47.030
on the top right
off this dialogue.

00:01:47.030 --> 00:01:50.520
For example, you can change
its width and height,

00:01:50.520 --> 00:01:52.670
and you can modify
the translucency

00:01:52.670 --> 00:01:56.660
of the whole asset, or
add auto-mirroring support

00:01:56.660 --> 00:01:58.880
for right to left language.

00:01:58.880 --> 00:02:02.090
Note that auto-mirroring
support is only for version 21

00:02:02.090 --> 00:02:03.510
and above.

00:02:03.510 --> 00:02:08.539
In some other cases, if I just
want to use your own SVG files,

00:02:08.539 --> 00:02:13.090
then please click this radio
button set, Local SVG File.

00:02:13.090 --> 00:02:16.180
Then you would be able
to open a file browser,

00:02:16.180 --> 00:02:19.130
pick your own SVG
files, then you

00:02:19.130 --> 00:02:22.150
will be able to see
the preview showing up.

00:02:22.150 --> 00:02:25.840
Given SVG is a huge
spec and often contains

00:02:25.840 --> 00:02:29.030
many redundant
information, although we

00:02:29.030 --> 00:02:34.170
will continue to improve our
tool to support more SVG files,

00:02:34.170 --> 00:02:37.540
currently, we don't support
all of the features in our tool

00:02:37.540 --> 00:02:39.220
yet.

00:02:39.220 --> 00:02:43.400
If we find anything in your
SVG file that we don't support,

00:02:43.400 --> 00:02:46.670
we will be report it as
an error at the bottom.

00:02:46.670 --> 00:02:49.680
Please look into the
details of the error message

00:02:49.680 --> 00:02:54.230
and simplify your SVG files
and try to import again.

00:02:54.230 --> 00:02:57.060
Or, if you're happy with
the generated preview,

00:02:57.060 --> 00:02:59.640
then feel free to
go to the next page.

00:02:59.640 --> 00:03:03.500
You will see an SML file
with a preview showing up

00:03:03.500 --> 00:03:06.850
in your res slash
drawable directory,

00:03:06.850 --> 00:03:10.090
and you only need to check
in this simple SML file

00:03:10.090 --> 00:03:12.560
into your [INAUDIBLE].

00:03:12.560 --> 00:03:14.350
Hit the Finish button now.

00:03:14.350 --> 00:03:20.090
Then the vector asset will be
successfully generated for you.

00:03:20.090 --> 00:03:24.060
Now, I will describe how the
backward compatibility works

00:03:24.060 --> 00:03:26.440
and its current limitation.

00:03:26.440 --> 00:03:29.370
First of all, if
your app is targeted

00:03:29.370 --> 00:03:34.010
for Lollipop or newer versions,
then the full API spec

00:03:34.010 --> 00:03:35.250
is supported.

00:03:35.250 --> 00:03:38.180
Feel free to modify and
use the vector drawable

00:03:38.180 --> 00:03:40.180
according to the spec.

00:03:40.180 --> 00:03:45.780
However, we know many of you are
developing on older platforms.

00:03:45.780 --> 00:03:48.010
In order to support
older platforms which

00:03:48.010 --> 00:03:51.320
don't have VectorDrawable,
we have some limitations

00:03:51.320 --> 00:03:52.990
I will mention later.

00:03:52.990 --> 00:03:56.190
Our [INAUDIBLE] system
would generate a PNG asset

00:03:56.190 --> 00:03:59.070
automatically for you.

00:03:59.070 --> 00:04:03.280
Here's how this automatically
generated assets looks like.

00:04:03.280 --> 00:04:07.390
After you build an app, if you
switch to the Project View,

00:04:07.390 --> 00:04:10.560
you would notice there's
a directory called PNGs

00:04:10.560 --> 00:04:13.350
under the generated directory.

00:04:13.350 --> 00:04:16.079
Under this PNGs
directory, you will

00:04:16.079 --> 00:04:19.570
see familiar drawable
directories with different APIs

00:04:19.570 --> 00:04:22.130
and version numbers.

00:04:22.130 --> 00:04:25.100
In simple cases, you will
see a pair of directory

00:04:25.100 --> 00:04:30.210
for one particular DPI, like
here-- one xxxhdpi directory

00:04:30.210 --> 00:04:33.780
containing the PNG file
and correspondingly

00:04:33.780 --> 00:04:37.520
a xxxhdpi version
21 directory which

00:04:37.520 --> 00:04:42.280
contains a copy of the
vector drawable's SML file.

00:04:42.280 --> 00:04:45.060
This file structure
enables the build system

00:04:45.060 --> 00:04:49.580
to pick up the vector drawable
for SDK version 21 and above

00:04:49.580 --> 00:04:54.850
while falling back to PNG
files for older versions.

00:04:54.850 --> 00:04:56.830
There are some
limitations where we

00:04:56.830 --> 00:05:00.080
are dealing with this backward
compatibility support.

00:05:00.080 --> 00:05:02.300
We are trying our
best to show the link

00:05:02.300 --> 00:05:08.130
errors in the vector drawable's
SML file for these limitations.

00:05:08.130 --> 00:05:12.050
First, only a subset of API
features of VectorDrawable

00:05:12.050 --> 00:05:13.750
are supported.

00:05:13.750 --> 00:05:18.440
We are enhancing this now, but
currently, group and click path

00:05:18.440 --> 00:05:23.640
text are not supported, given
we can only have one static PNG

00:05:23.640 --> 00:05:27.560
file generated to replace
VectorDrawable in older Android

00:05:27.560 --> 00:05:28.660
version.

00:05:28.660 --> 00:05:32.130
That also means in the SML
file of VectorDrawable,

00:05:32.130 --> 00:05:36.350
we cannot support dynamic
attributes such as theming

00:05:36.350 --> 00:05:38.460
or auto-mirroring.

00:05:38.460 --> 00:05:42.540
And for performance concerns,
we don't support resources

00:05:42.540 --> 00:05:46.680
reference to other SML files.

00:05:46.680 --> 00:05:50.950
Second, currently, the preview
window inside Andriod Studio

00:05:50.950 --> 00:05:55.010
is using a display engine which
is different from the one used

00:05:55.010 --> 00:06:00.070
in the Vector Asset Studio
dialogue and the build process.

00:06:00.070 --> 00:06:03.250
While we are bridging the gap
between these two engines,

00:06:03.250 --> 00:06:05.960
a good practice is
to use Vector Asset

00:06:05.960 --> 00:06:11.180
Studio to import your asset
and keep the imported result.

00:06:11.180 --> 00:06:14.140
Then, the generated PNGs
will be always the same

00:06:14.140 --> 00:06:17.830
as you see doing
the import process.

00:06:17.830 --> 00:06:21.420
Last, if you have to type
cast the drawable object

00:06:21.420 --> 00:06:26.320
in your Java code, be aware
that on pre-Lollipop devices,

00:06:26.320 --> 00:06:29.630
this drawable should be
cast as BitmapDrawable

00:06:29.630 --> 00:06:32.190
instead of a VectorDrawable.

00:06:32.190 --> 00:06:34.780
Also, set the
drawable's size properly

00:06:34.780 --> 00:06:36.740
to make sure they
show up correctly

00:06:36.740 --> 00:06:39.510
in the older versions.

00:06:39.510 --> 00:06:41.930
With all this tools
update, I want

00:06:41.930 --> 00:06:44.090
to thank all the
people who helped

00:06:44.090 --> 00:06:46.010
to get this tool delivered.

00:06:46.010 --> 00:06:48.910
And I hope you find
this as easier and more

00:06:48.910 --> 00:06:53.060
pleasant to use VectorDrawable
in your application.

00:06:53.060 --> 00:06:56.280
Please follow us on more
updates and improvements

00:06:56.280 --> 00:06:57.740
in the near future.

00:06:57.740 --> 00:06:58.240
Thank you.

00:06:58.240 --> 00:07:00.960
[MUSIC PLAYING]

