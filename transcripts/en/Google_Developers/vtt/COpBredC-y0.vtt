WEBVTT
Kind: captions
Language: en

00:01:03.119 --> 00:01:04.019
IKAI LAN: Hi, everybody.

00:01:04.019 --> 00:01:05.670
Welcome to a very special
edition of

00:01:05.670 --> 00:01:07.040
Google Developers Live.

00:01:07.040 --> 00:01:08.160
My name's Ikai Lan.

00:01:08.160 --> 00:01:09.720
NICK MIHAILOVSKI: And I'm
Nick Mihailovski.

00:01:09.720 --> 00:01:10.920
IKAI LAN: You almost
botched your own

00:01:10.920 --> 00:01:11.870
last name right there.

00:01:11.870 --> 00:01:14.420
It's a hard last name
sometimes, you know?

00:01:14.420 --> 00:01:16.160
It takes a lot of practice
to get it right.

00:01:16.160 --> 00:01:17.610
IKAI LAN: I'm glad you had
to do it instead of me.

00:01:17.610 --> 00:01:19.800
That could've been
me right there.

00:01:19.800 --> 00:01:22.820
So for this show, it's a very
special edition, because we'll

00:01:22.820 --> 00:01:24.490
be talking about Google
Apps Script.

00:01:24.490 --> 00:01:26.630
And we were arguing before the
show about whether this was my

00:01:26.630 --> 00:01:27.810
show or his show.

00:01:27.810 --> 00:01:29.860
Nick is here from the Google
Analytics team, and we're

00:01:29.860 --> 00:01:33.380
going to be talking about ways
that you can speed up how you

00:01:33.380 --> 00:01:35.305
use or optimize--

00:01:35.305 --> 00:01:37.050
whatever verb we want to use--

00:01:37.050 --> 00:01:39.970
you can enhance your Google
Analytics usage using Google

00:01:39.970 --> 00:01:42.060
Apps Script.

00:01:42.060 --> 00:01:43.310
NICK MIHAILOVSKI: Absolutely.

00:01:46.900 --> 00:01:49.010
IKAI LAN: Before we get started,
so there's gonna be

00:01:49.010 --> 00:01:51.840
lots of people joining us on
this show, half of which will

00:01:51.840 --> 00:01:53.850
be coming from Google Analytics
side, and half of us

00:01:53.850 --> 00:01:55.200
will be coming from the
Apps Script side.

00:01:55.200 --> 00:01:57.440
For those of you that don't
know, my name is Ikai Lan.

00:01:57.440 --> 00:01:59.710
I work on the Apps Script
Developer Relations Team.

00:01:59.710 --> 00:02:01.920
We have a regular show that runs
every week where we do

00:02:01.920 --> 00:02:02.690
office hours.

00:02:02.690 --> 00:02:04.830
And what we're trying to do is
we're trying to do more shows

00:02:04.830 --> 00:02:07.630
like this when we talk about
how to use Apps Script with

00:02:07.630 --> 00:02:08.850
other Google properties.

00:02:08.850 --> 00:02:11.560
About two weeks ago, we did
a show about using apps

00:02:11.560 --> 00:02:13.620
[INAUDIBLE] big query, and today
we'll be doing something

00:02:13.620 --> 00:02:16.120
with one of our most popular
APIs, which is a Google

00:02:16.120 --> 00:02:17.180
Analytics API.

00:02:17.180 --> 00:02:21.210
Now, Apps Script, for the
analytics user, it's a way to

00:02:21.210 --> 00:02:23.940
operate and integrate all your
different Google properties.

00:02:23.940 --> 00:02:26.560
So for instance, you might want
to write a spreadsheet

00:02:26.560 --> 00:02:29.820
app that sends out emails or
creates Google documents, and

00:02:29.820 --> 00:02:32.490
that's what you'd use
Apps Script for.

00:02:32.490 --> 00:02:33.290
We have an editor.

00:02:33.290 --> 00:02:33.970
We have an ID.

00:02:33.970 --> 00:02:34.940
It's all cloud based.

00:02:34.940 --> 00:02:37.350
All you need is an internet
connection and a browser, and

00:02:37.350 --> 00:02:40.460
you can start writing code to
automate your work flows.

00:02:40.460 --> 00:02:42.740
And Nick is here because
he works on the

00:02:42.740 --> 00:02:44.180
Google Analytics team.

00:02:44.180 --> 00:02:47.680
And he's going to talk to us
about Google Analytics, the

00:02:47.680 --> 00:02:50.430
analytics API, and some of the
cool stuff that his team has

00:02:50.430 --> 00:02:51.270
been working on.

00:02:51.270 --> 00:02:53.250
I've heard the word magic thrown
around a couple of

00:02:53.250 --> 00:02:55.500
times, so he'll be telling
us about that.

00:02:55.500 --> 00:02:56.610
NICK MIHAILOVSKI: Definitely
a lot of magic in the show

00:02:56.610 --> 00:02:57.180
today, yeah.

00:02:57.180 --> 00:02:57.620
Definitely.

00:02:57.620 --> 00:02:59.230
IKAI LAN: So Nick, why don't you
tell us a little bit about

00:02:59.230 --> 00:02:59.910
Google Analytics.

00:02:59.910 --> 00:03:01.520
I mean, hopefully you've
all heard of this.

00:03:01.520 --> 00:03:03.080
This is one of the most awesome

00:03:03.080 --> 00:03:04.350
properties on the internet.

00:03:04.350 --> 00:03:04.900
NICK MIHAILOVSKI: Absolutely.

00:03:04.900 --> 00:03:08.570
Analytics is fantastic, and
absolutely amazing.

00:03:08.570 --> 00:03:10.770
What Analytics allows you to
do is it allows business

00:03:10.770 --> 00:03:13.780
owners to measure how users
interact with your business.

00:03:13.780 --> 00:03:16.420
So if you own a website, you
can now measure how many

00:03:16.420 --> 00:03:18.900
visitors come to your site, from
where they come, and what

00:03:18.900 --> 00:03:20.580
do they do.

00:03:20.580 --> 00:03:23.780
You can also measure this kind
of content interaction within

00:03:23.780 --> 00:03:26.780
mobile applications, websites,
and we released something new

00:03:26.780 --> 00:03:29.490
called Universal Analytics that
now allows you to bring

00:03:29.490 --> 00:03:32.800
Google Analytics to pretty
much any environment, any

00:03:32.800 --> 00:03:35.710
platform, to measure
user interaction.

00:03:35.710 --> 00:03:39.070
So the Google Analytics platform
is quite robust.

00:03:39.070 --> 00:03:40.490
There's ways to automate

00:03:40.490 --> 00:03:43.020
configuration, to collect data.

00:03:43.020 --> 00:03:45.050
One part that we're really
excited about is

00:03:45.050 --> 00:03:47.100
our reporting APIs.

00:03:47.100 --> 00:03:48.600
And with the reporting
APIs, it allows

00:03:48.600 --> 00:03:50.690
you to get the data--

00:03:50.690 --> 00:03:52.810
the actual reporting data--

00:03:52.810 --> 00:03:54.880
out of Google Analytics and
put it into different

00:03:54.880 --> 00:03:55.990
environments.

00:03:55.990 --> 00:04:00.350
And so what we've done with Apps
Script is we've made it a

00:04:00.350 --> 00:04:02.780
lot easier to use Apps Script
to access your Google

00:04:02.780 --> 00:04:04.250
Analytics data.

00:04:04.250 --> 00:04:04.990
IKAI LAN: Very cool.

00:04:04.990 --> 00:04:06.810
And you work on the API.

00:04:06.810 --> 00:04:09.610
So what is it that people use
the Analytics API for?

00:04:09.610 --> 00:04:11.270
What are some the most
common use cases?

00:04:11.270 --> 00:04:12.430
NICK MIHAILOVSKI: For
the reporting API,

00:04:12.430 --> 00:04:13.470
it's a great question.

00:04:13.470 --> 00:04:15.610
I mean, when you think about how
you're doing analysis, you

00:04:15.610 --> 00:04:17.230
typically are coming
into the reports.

00:04:17.230 --> 00:04:19.730
You have a business question
that you want to answer, and

00:04:19.730 --> 00:04:23.950
so the user interface provides
this really rich experience to

00:04:23.950 --> 00:04:27.090
go in, configure reports, pivot
on different data, and

00:04:27.090 --> 00:04:28.340
really answer the question.

00:04:28.340 --> 00:04:31.790
But what we found is, once you
kind of got your initial

00:04:31.790 --> 00:04:34.420
question answered, what most
people do is they'll return

00:04:34.420 --> 00:04:37.950
back to Google Analytics to
view how that data is

00:04:37.950 --> 00:04:39.270
trending over time.

00:04:39.270 --> 00:04:40.480
Is it improving?

00:04:40.480 --> 00:04:41.970
Is it declining?

00:04:41.970 --> 00:04:46.120
And so this revisiting of
data is an opportunity--

00:04:46.120 --> 00:04:47.330
it's a complex process.

00:04:47.330 --> 00:04:49.080
It's an opportunity
to automate.

00:04:49.080 --> 00:04:52.010
So what lot of people are doing
is saving a lot of time

00:04:52.010 --> 00:04:55.890
automating all the reporting
using our APIs.

00:04:55.890 --> 00:04:58.730
IKAI LAN: Let's use a little
bit more concrete examples.

00:04:58.730 --> 00:05:01.300
Let's say I've got a fantasy
football website where I give

00:05:01.300 --> 00:05:04.100
out tips, because
I'm a champion.

00:05:04.100 --> 00:05:07.780
So I want to figure out what's
the type of data I can track,

00:05:07.780 --> 00:05:09.410
and what would I use
the API for?

00:05:09.410 --> 00:05:11.140
NICK MIHAILOVSKI: So if you have
a fantasy football site,

00:05:11.140 --> 00:05:13.090
the first question you might
answer is how many people are

00:05:13.090 --> 00:05:14.000
coming to my site?

00:05:14.000 --> 00:05:15.980
IKAI LAN: I'd say on the
order of three or four.

00:05:15.980 --> 00:05:16.500
NICK MIHAILOVSKI: Right.

00:05:16.500 --> 00:05:19.220
So ideally, over time, you'd
want to know as the season

00:05:19.220 --> 00:05:21.320
progressed, as you do different
things, is that

00:05:21.320 --> 00:05:23.070
increasing or decreasing?

00:05:23.070 --> 00:05:25.530
So your first experience with
Google Analytics is figuring

00:05:25.530 --> 00:05:26.660
out where does the data live?

00:05:26.660 --> 00:05:28.390
What is that three
or four number?

00:05:28.390 --> 00:05:31.640
But over time, you don't want
to have to log in, click

00:05:31.640 --> 00:05:33.380
around, get that number again.

00:05:33.380 --> 00:05:35.460
You just want that number
to be presented to you.

00:05:35.460 --> 00:05:38.040
That's where the automation of
the reporting API comes in,

00:05:38.040 --> 00:05:41.090
because now you can bring that
data and put it in a dashboard

00:05:41.090 --> 00:05:43.110
that you can just view
automatically without having

00:05:43.110 --> 00:05:44.000
to do all these logins.

00:05:44.000 --> 00:05:45.610
IKAI LAN: And what's some of
the data I can get beyond a

00:05:45.610 --> 00:05:46.630
number of viewers?

00:05:46.630 --> 00:05:47.900
NICK MIHAILOVSKI: It's a
huge amount of data.

00:05:47.900 --> 00:05:50.970
We have over 200 data
points that are API.

00:05:50.970 --> 00:05:51.460
IKAI LAN: 200?

00:05:51.460 --> 00:05:53.300
NICK MIHAILOVSKI: Yeah,
it's pretty crazy.

00:05:53.300 --> 00:05:55.490
You can get data-- geographical
data, so from

00:05:55.490 --> 00:05:58.320
where the world are visitors
coming to your site?

00:05:58.320 --> 00:05:59.980
What was the different
traffic source?

00:05:59.980 --> 00:06:01.440
What was the different ads?

00:06:01.440 --> 00:06:03.230
What content were
they viewing?

00:06:03.230 --> 00:06:06.230
If you're on a mobile device,
you might run a website.

00:06:06.230 --> 00:06:07.520
How many people are coming
to your site

00:06:07.520 --> 00:06:08.750
from a mobile device?

00:06:08.750 --> 00:06:11.570
It's a simple question to answer
using Google Analytics.

00:06:11.570 --> 00:06:12.050
IKAI LAN: OK.

00:06:12.050 --> 00:06:14.640
So I understand that there
was some stuff you were

00:06:14.640 --> 00:06:15.940
going to show me.

00:06:15.940 --> 00:06:16.550
NICK MIHAILOVSKI: Absolutely.

00:06:16.550 --> 00:06:19.890
So one of the things that we've
done is we've worked

00:06:19.890 --> 00:06:21.050
with Apps Script.

00:06:21.050 --> 00:06:23.860
So if you're familiar with Apps
Script, it's a really

00:06:23.860 --> 00:06:26.630
easy way to automate
processes.

00:06:26.630 --> 00:06:29.130
And so the integration we've
done is we've created a couple

00:06:29.130 --> 00:06:33.140
APIs for Google Analytics using
Apps Script allowing you

00:06:33.140 --> 00:06:34.360
to get access to your data.

00:06:34.360 --> 00:06:35.340
IKAI LAN: So a little
bit of background

00:06:35.340 --> 00:06:37.070
on Apps Script again.

00:06:37.070 --> 00:06:40.170
Apps Script-- we started out as
functions for spreadsheets.

00:06:40.170 --> 00:06:42.790
So things such as I want
a custom function.

00:06:42.790 --> 00:06:45.420
And we started branching out
doing more and more things.

00:06:45.420 --> 00:06:47.060
One of the most common
use cases of Apps

00:06:47.060 --> 00:06:48.560
Script is mail merge.

00:06:48.560 --> 00:06:50.890
What you would do is you would
set values, you would set

00:06:50.890 --> 00:06:52.760
email addresses in a
Google spreadsheet.

00:06:52.760 --> 00:06:56.040
The Apps Script will run on a
periodic schedule, maybe once

00:06:56.040 --> 00:06:57.270
a day, maybe once a week.

00:06:57.270 --> 00:07:00.440
It'll go all the way down and
it'll email each person

00:07:00.440 --> 00:07:01.080
individually.

00:07:01.080 --> 00:07:03.530
And that's what we mean when
we say automating and

00:07:03.530 --> 00:07:04.890
scheduling workflows.

00:07:04.890 --> 00:07:07.740
Apps Script allows you to do
this so that you don't have to

00:07:07.740 --> 00:07:11.040
manually do these repetitive
tasks over and over again.

00:07:11.040 --> 00:07:13.290
And that's why I think Apps
Script is such a perfect

00:07:13.290 --> 00:07:16.110
marriage for Google Analytics
and the API, because you have

00:07:16.110 --> 00:07:19.110
this repetitive task of
accessing data that you just

00:07:19.110 --> 00:07:21.120
want to automate over
and over again.

00:07:21.120 --> 00:07:24.420
So what we've done is we've
released these APIs, and along

00:07:24.420 --> 00:07:27.400
with the APIs is we actually
released an application.

00:07:27.400 --> 00:07:30.100
It's called the Google Analytics
reporting automation

00:07:30.100 --> 00:07:32.482
tool, or as what we
call Magic Script.

00:07:32.482 --> 00:07:33.630
IKAI LAN: Magic Script!

00:07:33.630 --> 00:07:34.850
NICK MIHAILOVSKI: So Magic
Script is awesome.

00:07:34.850 --> 00:07:37.550
What we pretty much did is we
looked at all the different

00:07:37.550 --> 00:07:40.510
use cases people had for
creating simple dashboards,

00:07:40.510 --> 00:07:43.380
and we said, instead of having
to write all the code, we'll

00:07:43.380 --> 00:07:45.830
just write the code for them,
include the best practices,

00:07:45.830 --> 00:07:48.080
and release a script that
integrates with Google

00:07:48.080 --> 00:07:51.220
Spreadsheets to allow you to get
all your Google Analytics

00:07:51.220 --> 00:07:53.740
tabular data directly into
Google Spreadsheet.

00:07:53.740 --> 00:07:54.260
IKAI LAN: Very cool.

00:07:54.260 --> 00:07:56.630
And you're going to show
us this right now.

00:07:56.630 --> 00:07:57.220
NICK MIHAILOVSKI: Absolutely.

00:07:57.220 --> 00:07:59.870
So here I have a Google
spreadsheet on my page.

00:08:03.050 --> 00:08:06.880
I've loaded the script before,
and we'll link to some similar

00:08:06.880 --> 00:08:09.180
descriptions on how you can
actually set the script up.

00:08:09.180 --> 00:08:11.480
I've gone ahead and set
the script up already.

00:08:11.480 --> 00:08:13.950
IKAI LAN: And what we'll do is
this show will be posted to

00:08:13.950 --> 00:08:15.510
our standard channel
on YouTube.

00:08:15.510 --> 00:08:19.610
It'll be
YouTube.com/GoogleDevelopers.

00:08:19.610 --> 00:08:21.110
It's where all of
our shows are.

00:08:21.110 --> 00:08:23.280
We will be posting links
to all the things we're

00:08:23.280 --> 00:08:23.980
doing in this show.

00:08:23.980 --> 00:08:26.110
So if you're following along
live, or if you're watching

00:08:26.110 --> 00:08:28.000
the show, you can click
those links.

00:08:28.000 --> 00:08:30.840
You don't need to remember what
we're saying, just wait

00:08:30.840 --> 00:08:32.090
for the show to get posted.

00:08:32.090 --> 00:08:33.510
NICK MIHAILOVSKI: Absolutely.

00:08:33.510 --> 00:08:35.990
So the Magic Script
is installed.

00:08:35.990 --> 00:08:37.750
We're ready to use the magic.

00:08:37.750 --> 00:08:39.390
So the first thing you'll notice
here is there's a new

00:08:39.390 --> 00:08:41.740
menu item we've used.

00:08:41.740 --> 00:08:43.210
It's called Google Analytics.

00:08:43.210 --> 00:08:45.800
IKAI LAN: And for the people
who are new to Apps Script,

00:08:45.800 --> 00:08:48.330
one of the things you can do
using Apps Script is you can

00:08:48.330 --> 00:08:50.920
add custom menus to
spreadsheets.

00:08:50.920 --> 00:08:54.200
And this is a very good thing to
do, because a lot of times,

00:08:54.200 --> 00:08:56.350
the people using your scripts
are going to be people that

00:08:56.350 --> 00:08:58.910
didn't program and don't want
to open up a script editor.

00:08:58.910 --> 00:09:00.040
In fact, they don't
even want to know

00:09:00.040 --> 00:09:01.030
there is a script editor.

00:09:01.030 --> 00:09:02.840
They just want to know,
where is my menu?

00:09:02.840 --> 00:09:04.630
I just want to push a button
and do this thing.

00:09:04.630 --> 00:09:06.120
I want to run the mail merge.

00:09:06.120 --> 00:09:08.050
I want to verify
these columns.

00:09:08.050 --> 00:09:10.330
That's why we allow people
to build custom menus.

00:09:10.330 --> 00:09:12.590
And you guys have taken
advantage of this to build a

00:09:12.590 --> 00:09:14.700
special custom menu for
Google Analytics.

00:09:14.700 --> 00:09:15.220
NICK MIHAILOVSKI: Absolutely.

00:09:15.220 --> 00:09:17.560
If you don't code, you're still
going to get value from

00:09:17.560 --> 00:09:18.380
the Magic Script.

00:09:18.380 --> 00:09:19.550
IKAI LAN: Totally.

00:09:19.550 --> 00:09:20.310
NICK MIHAILOVSKI: So
here's the custom

00:09:20.310 --> 00:09:22.290
menu for Google Analytics.

00:09:22.290 --> 00:09:24.200
There's a couple different
options here that you have

00:09:24.200 --> 00:09:26.120
that I'll talk through
as well.

00:09:26.120 --> 00:09:28.880
What we've also done is when the
script runs, by default,

00:09:28.880 --> 00:09:32.390
it creates this new tab at the
bottom called GA Config, and

00:09:32.390 --> 00:09:33.300
we'll show you how to use it.

00:09:33.300 --> 00:09:36.050
So the first question, the first
task you want to do is

00:09:36.050 --> 00:09:37.840
get some data out
of Analytics.

00:09:37.840 --> 00:09:39.625
So what you do is you
go to the menu, and

00:09:39.625 --> 00:09:42.250
you Create Core Report.

00:09:42.250 --> 00:09:45.540
And that'll go ahead and run a
script that will update the GA

00:09:45.540 --> 00:09:46.870
Config tab.

00:09:46.870 --> 00:09:47.910
And there you go.

00:09:47.910 --> 00:09:50.670
And now when you access data
from Analytics, you generate a

00:09:50.670 --> 00:09:53.630
query, and the query specifies
the data you want to get out

00:09:53.630 --> 00:09:54.620
of the product.

00:09:54.620 --> 00:09:56.810
In this case, there's a couple
required fields.

00:09:56.810 --> 00:09:58.730
The first one is understanding,
in Analytics,

00:09:58.730 --> 00:10:02.170
what is the report profile, what
is the set of data that

00:10:02.170 --> 00:10:03.650
you want the access to?

00:10:03.650 --> 00:10:06.110
And that's defining the query
by what we have here is the

00:10:06.110 --> 00:10:07.870
IDs parameter.

00:10:07.870 --> 00:10:10.110
Now, most people don't know what
their IDs parameter, and

00:10:10.110 --> 00:10:11.280
we know that and
understand it.

00:10:11.280 --> 00:10:14.200
So what we've done is we've
created a little tool under

00:10:14.200 --> 00:10:17.550
the Google Analytics tab here,
Menu, and when you click Find

00:10:17.550 --> 00:10:24.420
Profile IDs, we'll go out using
the API, query all the

00:10:24.420 --> 00:10:27.870
accounts for the authorized
user, and present a dialogue

00:10:27.870 --> 00:10:29.610
that shows you all the IDs
you have access to.

00:10:29.610 --> 00:10:31.620
IKAI LAN: Now, this dialogue may
look nonstandard to people

00:10:31.620 --> 00:10:34.020
using spreadsheets, and the
reason is that it is

00:10:34.020 --> 00:10:34.700
nonstandard.

00:10:34.700 --> 00:10:38.880
So using Apps Script, you can
create custom UIs for your

00:10:38.880 --> 00:10:40.260
spreadsheets.

00:10:40.260 --> 00:10:43.230
You can build them using
HTML and JavaScript

00:10:43.230 --> 00:10:44.650
via the HTML service.

00:10:44.650 --> 00:10:47.110
Alternatively, you can use UI
service, which comes with a

00:10:47.110 --> 00:10:49.750
lot of built in widgets like
charts and drop down boxes,

00:10:49.750 --> 00:10:51.360
and I think that that's what
you guys are doing here.

00:10:51.360 --> 00:10:52.050
NICK MIHAILOVSKI: Absolutely.

00:10:52.050 --> 00:10:55.170
And what's really cool is this
drop down box here is

00:10:55.170 --> 00:10:56.300
dynamically populated.

00:10:56.300 --> 00:10:58.840
So we're actually, for each of
these drop down boxes, we're

00:10:58.840 --> 00:11:02.060
issuing a query to our
API to populate them.

00:11:02.060 --> 00:11:05.970
And as you change various
selections,

00:11:05.970 --> 00:11:07.940
they'll change as well.

00:11:07.940 --> 00:11:11.520
So here we have a
little pause.

00:11:11.520 --> 00:11:13.960
At Google, we all have to
actually update our Macs, and

00:11:13.960 --> 00:11:16.840
I've been so busy preparing this
demo that I haven't had a

00:11:16.840 --> 00:11:19.480
chance to run an update
to Mountain Lion.

00:11:19.480 --> 00:11:21.490
IKAI LAN: I love Murphy's Law.

00:11:21.490 --> 00:11:22.920
Don't you?

00:11:22.920 --> 00:11:24.070
NICK MIHAILOVSKI: We knew
this would run.

00:11:24.070 --> 00:11:25.790
There's no way for
us to change it.

00:11:25.790 --> 00:11:27.370
Fantastic.

00:11:27.370 --> 00:11:31.715
So after a brief interruption to
streamline my data process,

00:11:31.715 --> 00:11:34.110
let's go back to
the demo here.

00:11:34.110 --> 00:11:38.060
So as I was mentioning, what's
cool about these drop downs is

00:11:38.060 --> 00:11:40.420
as you select various drop
downs, we'll actually go

00:11:40.420 --> 00:11:43.720
ahead, query different APIs,
and update that.

00:11:43.720 --> 00:11:46.130
So right there, there was three
queries we issued and

00:11:46.130 --> 00:11:48.760
updated the list and
have different IDs.

00:11:48.760 --> 00:11:50.360
IKAI LAN: What's this
website right here?

00:11:50.360 --> 00:11:52.630
NICK MIHAILOVSKI: So this is
another blogger that we have.

00:11:52.630 --> 00:11:56.250
He's our digital evangelist
at Google, [INAUDIBLE].

00:11:56.250 --> 00:11:57.910
And I've access to
his blog's data.

00:11:57.910 --> 00:12:00.900
So if we wanted to access his
data through the script, we

00:12:00.900 --> 00:12:02.020
can use this ID.

00:12:02.020 --> 00:12:03.230
IKAI LAN: How did that happen?

00:12:03.230 --> 00:12:04.680
NICK MIHAILOVSKI: Well, we're
good friends and we've done a

00:12:04.680 --> 00:12:05.630
lot of shows together.

00:12:05.630 --> 00:12:06.047
IKAI LAN: Yeah?

00:12:06.047 --> 00:12:08.950
No [INAUDIBLE] hacking, right?

00:12:08.950 --> 00:12:10.590
NICK MIHAILOVSKI: So let's go
back to our demo site, the

00:12:10.590 --> 00:12:12.230
Google store.

00:12:12.230 --> 00:12:13.010
It'll take a second.

00:12:13.010 --> 00:12:17.290
So I have a profile here,
and we have one here.

00:12:17.290 --> 00:12:21.000
I'm going to go use the one that
I'm familiar with, which

00:12:21.000 --> 00:12:23.120
is my test one, which is 1174.

00:12:23.120 --> 00:12:24.450
I already know it, because
I've done this

00:12:24.450 --> 00:12:27.090
demo a couple times.

00:12:27.090 --> 00:12:28.700
So the first thing is you figure
out what profile you

00:12:28.700 --> 00:12:29.510
want to get data for.

00:12:29.510 --> 00:12:31.910
The second one is you need to
figure out the date range, and

00:12:31.910 --> 00:12:34.150
so in analytics, you can put
the start and end date.

00:12:34.150 --> 00:12:37.120
We've made a little function
here to really simplify it.

00:12:37.120 --> 00:12:38.710
You can just get the
last n days.

00:12:38.710 --> 00:12:42.010
This is really useful if you
want to automate the script.

00:12:42.010 --> 00:12:43.720
You don't know what today's
data is, because it's

00:12:43.720 --> 00:12:45.000
automatically running.

00:12:45.000 --> 00:12:48.370
So for this, we'll say, let's
get data for the last 28 days.

00:12:48.370 --> 00:12:50.370
Now, you also need to
specify the data

00:12:50.370 --> 00:12:51.660
you get out of Analytics.

00:12:51.660 --> 00:12:54.550
So here we have two values--
metrics and dimensions.

00:12:54.550 --> 00:12:56.810
Metrics represents the
numerical data.

00:12:56.810 --> 00:12:59.310
So we want to get the total
amount of visits

00:12:59.310 --> 00:13:00.910
coming to our site.

00:13:00.910 --> 00:13:03.010
And dimensions represents
the actual rows,

00:13:03.010 --> 00:13:04.410
or the string values.

00:13:04.410 --> 00:13:06.010
So we want to get the source
of traffic coming

00:13:06.010 --> 00:13:07.640
to the site as well.

00:13:07.640 --> 00:13:11.240
So we'll say j source is the
name of them, and we want to

00:13:11.240 --> 00:13:14.420
sort descending by j visits.

00:13:14.420 --> 00:13:16.510
There's a couple other
parameters here that are all

00:13:16.510 --> 00:13:19.700
documented, but the last
important one is defining

00:13:19.700 --> 00:13:21.100
where does the data go
when it's processed?

00:13:21.100 --> 00:13:23.260
IKAI LAN: And before you go on,
I mean, these values are

00:13:23.260 --> 00:13:24.350
totally unfamiliar to me.

00:13:24.350 --> 00:13:25.125
Where did you get these from?

00:13:25.125 --> 00:13:26.370
Is there a list of
these somewhere?

00:13:26.370 --> 00:13:27.620
NICK MIHAILOVSKI: Yeah, that's
actually a great question.

00:13:27.620 --> 00:13:31.070
So we actually have an amazing
set of writers who are doing

00:13:31.070 --> 00:13:33.430
our developer documentations.

00:13:33.430 --> 00:13:34.057
And if you go to
developers.googl

00:13:34.057 --> 00:13:39.320
e.com/analytics, you get
this beautiful site.

00:13:39.320 --> 00:13:43.730
And if you go under the core
reporting API in the reference

00:13:43.730 --> 00:13:47.080
section, we actually give you
a list of all the 200 data

00:13:47.080 --> 00:13:48.150
points that we return.

00:13:48.150 --> 00:13:52.020
So if you click Expand All,
you'll see a huge plethora of

00:13:52.020 --> 00:13:54.310
values for dimensions
and metrics.

00:13:54.310 --> 00:13:55.850
Visits is right here.

00:13:55.850 --> 00:13:58.650
If you want to know what is a
visit, you can click right

00:13:58.650 --> 00:14:00.090
into that, and boom.

00:14:00.090 --> 00:14:02.470
It counts the total number
of sessions.

00:14:02.470 --> 00:14:03.420
IKAI LAN: Very, very cool.

00:14:03.420 --> 00:14:04.880
NICK MIHAILOVSKI: So what we
want to know is the total

00:14:04.880 --> 00:14:08.970
number of sessions for the last
28 days, and show all the

00:14:08.970 --> 00:14:11.260
different traffic sources
that sent that.

00:14:11.260 --> 00:14:14.580
So I'll say my report
will be this sheet.

00:14:14.580 --> 00:14:16.090
IKAI LAN: And what is this
name that you're entering

00:14:16.090 --> 00:14:16.730
right here?

00:14:16.730 --> 00:14:18.370
NICK MIHAILOVSKI: So what we
want to do is put all the

00:14:18.370 --> 00:14:20.840
configurations in the GA
Config tab, right?

00:14:20.840 --> 00:14:23.190
So if we want to run multiple
reports, they're all defined

00:14:23.190 --> 00:14:24.310
in one location.

00:14:24.310 --> 00:14:26.740
But where the data gets
outputted will be to a

00:14:26.740 --> 00:14:27.510
separate tab.

00:14:27.510 --> 00:14:28.990
And so this will be the
name of the tab.

00:14:28.990 --> 00:14:33.490
So what we'll see here is when
this runs, all the data will

00:14:33.490 --> 00:14:34.770
be in the My Report tab.

00:14:34.770 --> 00:14:36.800
IKAI LAN: So one thing that the
Analytics team is doing

00:14:36.800 --> 00:14:40.220
here is they're using
spreadsheets as a UI, and this

00:14:40.220 --> 00:14:41.910
is one of the very powerful
things you can

00:14:41.910 --> 00:14:42.560
do with Apps Script.

00:14:42.560 --> 00:14:45.080
With Apps Script, you can create
your own UIs using UI

00:14:45.080 --> 00:14:46.550
service or HTML service.

00:14:46.550 --> 00:14:49.840
But a lot of people have opted
to use Spreadsheets, because

00:14:49.840 --> 00:14:51.660
Spreadsheets itself
is very powerful.

00:14:51.660 --> 00:14:55.230
You've got sorting, you've got
formulas, you already have a

00:14:55.230 --> 00:14:58.140
lot of things built in that I
would say you get for free

00:14:58.140 --> 00:14:59.650
already by using the
spreadsheets UI.

00:14:59.650 --> 00:15:02.340
And you guys have decided to
go that route, which is--

00:15:02.340 --> 00:15:04.330
so another you guys could have
gone would have been to build

00:15:04.330 --> 00:15:08.060
a pop up box that allows
him to input data.

00:15:08.060 --> 00:15:09.730
But you've got a lot
of options when

00:15:09.730 --> 00:15:10.710
you're building UIs.

00:15:10.710 --> 00:15:13.330
So anyway, part of
my interruption.

00:15:13.330 --> 00:15:14.260
NICK MIHAILOVSKI: Absolutely,
yeah.

00:15:14.260 --> 00:15:15.900
And then I'll show you
a little bit why

00:15:15.900 --> 00:15:16.840
we chose this route.

00:15:16.840 --> 00:15:18.930
I mean, there's definitely
considerations on various

00:15:18.930 --> 00:15:20.960
designs, and this actually
helps us out

00:15:20.960 --> 00:15:22.730
in some other ways.

00:15:22.730 --> 00:15:24.900
Let's go with the standard
approach here.

00:15:24.900 --> 00:15:28.300
Once we've got the configuration
report set up,

00:15:28.300 --> 00:15:31.140
go ahead under analytics menu
and click Get Data.

00:15:31.140 --> 00:15:33.230
So again, we haven't
written any code.

00:15:33.230 --> 00:15:35.790
We've just configured
this script to run.

00:15:35.790 --> 00:15:39.080
The script is going out, using
this configuration, and

00:15:39.080 --> 00:15:39.950
getting some data.

00:15:39.950 --> 00:15:42.000
And so what we've done is now
created a little dialog to

00:15:42.000 --> 00:15:43.910
describe the status
of this report.

00:15:43.910 --> 00:15:47.010
Here we've seen everything is
successful, and we've gone

00:15:47.010 --> 00:15:48.430
ahead and we've written
the results and

00:15:48.430 --> 00:15:50.000
the script is done.

00:15:50.000 --> 00:15:50.650
Fantastic.

00:15:50.650 --> 00:15:52.750
IKAI LAN: The status box could
be a little prettier.

00:15:52.750 --> 00:15:55.930
I mean, I think it's lacking
in the ponies department.

00:15:55.930 --> 00:15:58.020
NICK MIHAILOVSKI: Yeah, if we
had more images, and some

00:15:58.020 --> 00:16:00.330
animated gifs, and some blink
tags, this would definitely

00:16:00.330 --> 00:16:00.520
work better.

00:16:00.520 --> 00:16:01.070
IKAI LAN: Marquee.

00:16:01.070 --> 00:16:01.960
Don't forget marquee.

00:16:01.960 --> 00:16:03.680
NICK MIHAILOVSKI: Marquee
would be perfect.

00:16:03.680 --> 00:16:07.370
So what we've done here,
boom, just like magic.

00:16:07.370 --> 00:16:10.210
We just now have a report of
all our analytics data in

00:16:10.210 --> 00:16:11.150
Google Spreadsheets.

00:16:11.150 --> 00:16:13.800
Here we see all the different
traffic sources.

00:16:13.800 --> 00:16:16.030
Google, right now, for this
site, is returning the most

00:16:16.030 --> 00:16:19.100
traffic, but we see some of the
other search engines, some

00:16:19.100 --> 00:16:21.670
referral traffic from YouTube
and so forth as well.

00:16:21.670 --> 00:16:23.840
So it's a really quick overview
of how easy it is to

00:16:23.840 --> 00:16:25.970
get data using Apps Script
and Spreadsheets.

00:16:25.970 --> 00:16:29.410
IKAI LAN: So, just out of
curiosity, I know what these

00:16:29.410 --> 00:16:30.840
numbers are because
you told me.

00:16:30.840 --> 00:16:34.210
But what would this look like
on the Analytics website?

00:16:34.210 --> 00:16:35.040
NICK MIHAILOVSKI: That's
a good question.

00:16:35.040 --> 00:16:38.100
So if you go on Analytics, you
can see all the data here.

00:16:38.100 --> 00:16:40.720
Here we see for this date
range, we see there's a

00:16:40.720 --> 00:16:42.000
certain amount of visits.

00:16:42.000 --> 00:16:49.910
If we go to Google Analytics
and sign in, and we get our

00:16:49.910 --> 00:16:57.450
report here, we'd be able to
now go into the traffic

00:16:57.450 --> 00:17:00.840
sources overview section, take
a look at the sources--

00:17:00.840 --> 00:17:04.130
remember, we're looking at
sources of traffic--

00:17:04.130 --> 00:17:05.329
and then here's the
source tab.

00:17:05.329 --> 00:17:07.680
And so here, this is the
same view of the data.

00:17:07.680 --> 00:17:09.829
The date range is slightly
different, but here you get

00:17:09.829 --> 00:17:12.510
the top 10, and of course you
can select this down to be the

00:17:12.510 --> 00:17:13.970
top 100 results as well.

00:17:13.970 --> 00:17:15.109
So this is how it would
look in the

00:17:15.109 --> 00:17:16.280
Google Analytics interface.

00:17:16.280 --> 00:17:17.770
IKAI LAN: This is a pretty
robust interface.

00:17:17.770 --> 00:17:21.900
I mean, I guess you've walked
into my trap, which is why

00:17:21.900 --> 00:17:23.420
would you want to export
to a spreadsheet?

00:17:23.420 --> 00:17:24.400
Why use App Script at all?

00:17:24.400 --> 00:17:25.960
Why not just use this website?

00:17:25.960 --> 00:17:26.460
NICK MIHAILOVSKI: Absolutely.

00:17:26.460 --> 00:17:28.660
For people not familiar with
Analytics, you can actually

00:17:28.660 --> 00:17:30.270
export all these different
things.

00:17:30.270 --> 00:17:33.610
For example, to CSV,
to TSV for Excel.

00:17:33.610 --> 00:17:36.730
Now, that totally works in many
cases, but what we really

00:17:36.730 --> 00:17:39.270
wanted to solve for
is two use cases.

00:17:39.270 --> 00:17:41.530
One of them is that the
permissions you have for

00:17:41.530 --> 00:17:44.290
Analytics might be different
than the permissions of data

00:17:44.290 --> 00:17:47.070
you have for people within
your organization.

00:17:47.070 --> 00:17:49.630
And so by using Apps Script,
you actually have to

00:17:49.630 --> 00:17:51.010
authenticate to get access.

00:17:51.010 --> 00:17:53.870
The script has to authenticate,
get access to

00:17:53.870 --> 00:17:55.950
your data, to get the data
into a spreadsheet.

00:17:55.950 --> 00:17:58.900
But once the data is in the
spreadsheet, you now have all

00:17:58.900 --> 00:18:01.190
the Google Docs and Spreadsheets
permissions to

00:18:01.190 --> 00:18:03.310
share that data within
your organization.

00:18:03.310 --> 00:18:06.780
So for some people, they might
not want to have the CEO and

00:18:06.780 --> 00:18:08.470
all the marketing team have
access to their Google

00:18:08.470 --> 00:18:09.510
Analytics data.

00:18:09.510 --> 00:18:12.950
Instead, they have one person
with access to their GA data,

00:18:12.950 --> 00:18:14.490
and then automating
the data into a

00:18:14.490 --> 00:18:16.190
spreadsheet, and share that.

00:18:16.190 --> 00:18:17.770
The other thing is automation.

00:18:17.770 --> 00:18:21.840
So, over time, it takes a lot of
clicks to go into all your

00:18:21.840 --> 00:18:24.450
different reports and
export this to CSV.

00:18:24.450 --> 00:18:26.990
With the Apps Script, you can
completely automate that

00:18:26.990 --> 00:18:29.270
process, saving yourself
a lot of time.

00:18:29.270 --> 00:18:32.610
So really, really easy
ways to automate it.

00:18:32.610 --> 00:18:34.020
IKAI LAN: What are some of the
things that you could do

00:18:34.020 --> 00:18:37.990
after-- and I know the answer
to this question, but I'm

00:18:37.990 --> 00:18:39.730
curious to see if you
know the answer.

00:18:39.730 --> 00:18:41.500
What are some things you can
do after the data's in the

00:18:41.500 --> 00:18:42.040
spreadsheet?

00:18:42.040 --> 00:18:43.620
NICK MIHAILOVSKI: Yeah, so the
first thing you might want to

00:18:43.620 --> 00:18:45.390
do is you might want to
run this every day.

00:18:45.390 --> 00:18:46.780
You don't want to have
to go and recreate

00:18:46.780 --> 00:18:47.820
this all the time.

00:18:47.820 --> 00:18:50.830
So there's some nice features
built into Spreadsheets along

00:18:50.830 --> 00:18:52.870
with Apps Script that you
can use, and one of

00:18:52.870 --> 00:18:54.650
them is called Triggers.

00:18:54.650 --> 00:18:56.670
So if you go under
Tools and you go

00:18:56.670 --> 00:18:57.850
into the script editor--

00:18:57.850 --> 00:19:00.460
IKAI LAN: So this gets a little
bit more advanced.

00:19:00.460 --> 00:19:04.230
So if you are one of these
people that are not a full

00:19:04.230 --> 00:19:08.110
time programmer, you'll still be
able to use this tool, but

00:19:08.110 --> 00:19:09.770
some of the stuff may be a
little bit more advanced.

00:19:09.770 --> 00:19:10.880
This is just a quick warning.

00:19:10.880 --> 00:19:12.330
So this is the script editor.

00:19:12.330 --> 00:19:15.600
This is where you write all of
your code for Apps Script.

00:19:15.600 --> 00:19:18.600
And you'll be able to open this
up and see that all of

00:19:18.600 --> 00:19:21.650
the code for this tool that the
Analytics team has built,

00:19:21.650 --> 00:19:23.700
it's all just standard
Apps Script code.

00:19:23.700 --> 00:19:24.440
NICK MIHAILOVSKI: Absolutely.

00:19:24.440 --> 00:19:26.800
And what's great about this is
because it's just a script,

00:19:26.800 --> 00:19:29.180
all the source is available
for developers.

00:19:29.180 --> 00:19:31.750
So if you want to learn some
best practices of what to do,

00:19:31.750 --> 00:19:32.780
how to set up--

00:19:32.780 --> 00:19:34.910
take the same look at what
we're doing here.

00:19:34.910 --> 00:19:37.720
All this code is completely
available, open source.

00:19:37.720 --> 00:19:40.320
We even have some really nice
documentation in the code

00:19:40.320 --> 00:19:42.140
here, just so that you
know what's going on.

00:19:42.140 --> 00:19:45.970
So aside from the code, if we
wanted to automate running

00:19:45.970 --> 00:19:49.830
this script, under the resources
menu, we have

00:19:49.830 --> 00:19:51.780
something called all
your triggers.

00:19:51.780 --> 00:19:54.860
So what triggers allows you
to do is to run any of the

00:19:54.860 --> 00:19:57.750
functions that have been
defined automatically.

00:19:57.750 --> 00:19:58.040
IKAI LAN: Right.

00:19:58.040 --> 00:20:00.010
And triggers are a
little bit more--

00:20:00.010 --> 00:20:01.510
triggers give you a
lot of options.

00:20:01.510 --> 00:20:03.750
For instance, you can run
them on a set schedule.

00:20:03.750 --> 00:20:05.200
That's one of the primary
use cases.

00:20:05.200 --> 00:20:07.710
But in addition to doing that,
you can also do things like

00:20:07.710 --> 00:20:09.450
set triggers on spreadsheets.

00:20:09.450 --> 00:20:11.930
You can set a spreadsheet so
when the spreadsheet's edited,

00:20:11.930 --> 00:20:13.680
it automatically
runs some code.

00:20:13.680 --> 00:20:16.550
It can run the code when the
spreadsheet's open, and one of

00:20:16.550 --> 00:20:19.940
the ones I like the most is that
it allows you to run code

00:20:19.940 --> 00:20:21.650
whenever someone
submits a form.

00:20:21.650 --> 00:20:24.330
So we use this all the time
whenever we have events.

00:20:24.330 --> 00:20:27.390
Whenever we have events, we like
to do on form submit, and

00:20:27.390 --> 00:20:30.170
we send people an email that
says, hey, thank you for

00:20:30.170 --> 00:20:30.820
registering.

00:20:30.820 --> 00:20:32.600
We have space or we don't
have space for you.

00:20:32.600 --> 00:20:36.360
So triggers are one of the many
ways you can get to your

00:20:36.360 --> 00:20:37.120
Apps Script.

00:20:37.120 --> 00:20:40.640
And I like them because you kind
of say, run this script

00:20:40.640 --> 00:20:42.930
automatically when this
event happens.

00:20:42.930 --> 00:20:44.250
Hence the trigger.

00:20:44.250 --> 00:20:44.650
NICK MIHAILOVSKI: Boom.

00:20:44.650 --> 00:20:45.520
And that's it.

00:20:45.520 --> 00:20:49.220
These triggers, the way we've
use them is to actually

00:20:49.220 --> 00:20:52.640
automate actually getting
data from your account.

00:20:52.640 --> 00:20:56.380
So when you create a new
trigger, here's all the

00:20:56.380 --> 00:20:57.680
functions that we've offered.

00:20:57.680 --> 00:20:59.520
They're the same ones that
are in the menu.

00:20:59.520 --> 00:21:02.280
You can click on the Get Data,
which runs everything, all the

00:21:02.280 --> 00:21:03.500
configurations.

00:21:03.500 --> 00:21:05.075
You can do this time driven.

00:21:05.075 --> 00:21:08.580
You can have it run every day,
and you can have it run

00:21:08.580 --> 00:21:10.200
midnight to 1:00 AM.

00:21:10.200 --> 00:21:13.140
So that way, every night, all
the data is going to be

00:21:13.140 --> 00:21:15.120
retrieved for the
last 28 days.

00:21:15.120 --> 00:21:17.550
If there's any errors with it,
you can actually set it up so

00:21:17.550 --> 00:21:19.480
that it will email if there's an
error, so that way you can

00:21:19.480 --> 00:21:20.520
go back and get that stuff.

00:21:20.520 --> 00:21:21.990
IKAI LAN: And with triggers,
you can manage these

00:21:21.990 --> 00:21:23.140
programmatically.

00:21:23.140 --> 00:21:26.830
So what Nick has shown us here
is how we can set up a trigger

00:21:26.830 --> 00:21:27.780
through the menu.

00:21:27.780 --> 00:21:30.660
But you can also set it up so
that you can dynamically

00:21:30.660 --> 00:21:32.650
create triggers and dynamically
delete triggers,

00:21:32.650 --> 00:21:34.450
and this is very,
very powerful.

00:21:34.450 --> 00:21:35.230
NICK MIHAILOVSKI: Absolutely.

00:21:35.230 --> 00:21:38.060
And so once you've set up the
trigger, you hit Save.

00:21:38.060 --> 00:21:41.780
And now, every night, I'll get
the last 28 days worth of data

00:21:41.780 --> 00:21:43.840
and put them directly into
the spreadsheet.

00:21:43.840 --> 00:21:46.220
So that's a little quick
overview of Magic Script, and

00:21:46.220 --> 00:21:48.820
kind of how we've used Apps
Scripts to build an app that

00:21:48.820 --> 00:21:51.950
makes it super easy for
nontechnical people to

00:21:51.950 --> 00:21:53.700
actually access the Google
Analytics data.

00:21:53.700 --> 00:21:57.240
IKAI LAN: So a little bit more
drilling down on that topic.

00:21:57.240 --> 00:22:00.310
Apps Script allows you go ahead
and do a lot of really

00:22:00.310 --> 00:22:02.060
cool things, like, for instance,
you can email the

00:22:02.060 --> 00:22:04.060
results people on
a nightly basis.

00:22:04.060 --> 00:22:06.210
You can update a Google Doc.

00:22:06.210 --> 00:22:09.190
You can send them out via what's
called URL fetch to an

00:22:09.190 --> 00:22:09.830
external API.

00:22:09.830 --> 00:22:12.560
I was just talking to someone
today who was telling me how

00:22:12.560 --> 00:22:15.500
he uses a cloud print API this
way, and he prints stuff.

00:22:15.500 --> 00:22:17.330
And it was a really funny lunch
conversation, because we

00:22:17.330 --> 00:22:19.080
were talking about how you could
denial of service attack

00:22:19.080 --> 00:22:20.480
his printer.

00:22:20.480 --> 00:22:22.970
But we won't be teaching you
guys how to do this today.

00:22:22.970 --> 00:22:26.700
So one question I have for you
is, you were showing me

00:22:26.700 --> 00:22:28.060
something with a Google
site earlier.

00:22:28.060 --> 00:22:29.090
What was that all about?

00:22:29.090 --> 00:22:29.650
NICK MIHAILOVSKI: Absolutely.

00:22:29.650 --> 00:22:33.470
So Apps Script's completely
automated and integrated with

00:22:33.470 --> 00:22:35.270
all the different Google
properties.

00:22:35.270 --> 00:22:37.840
What's nice about here with
Spreadsheets now that the data

00:22:37.840 --> 00:22:39.640
is in a spreadsheet,
there's some nice

00:22:39.640 --> 00:22:40.840
tools that are included.

00:22:40.840 --> 00:22:43.210
If we wanted to visualize
this, you have all the

00:22:43.210 --> 00:22:44.420
visualization tools here.

00:22:44.420 --> 00:22:47.300
So if we wanted to get a chart
of the top 10 sources of

00:22:47.300 --> 00:22:50.280
traffic, you just click
this little button,

00:22:50.280 --> 00:22:51.870
click Insert, boom.

00:22:51.870 --> 00:22:54.340
You have a nice little chart
that shows this data.

00:22:54.340 --> 00:22:56.340
Very easy way to
have your data.

00:22:56.340 --> 00:22:58.620
IKAI LAN: And this is nice,
because then if you use the

00:22:58.620 --> 00:23:02.130
Google Analytics web API,
you're kind of bound to

00:23:02.130 --> 00:23:04.520
whichever chart's
already defined.

00:23:04.520 --> 00:23:06.830
But if you have some custom need
for charts, if you need

00:23:06.830 --> 00:23:08.610
to integrate with different
spreadsheets, or different

00:23:08.610 --> 00:23:12.460
data sources, this is where Apps
Script really is kind of

00:23:12.460 --> 00:23:15.450
a killer tool for taking all
these different data sources

00:23:15.450 --> 00:23:17.550
and building a single
dashboard for you.

00:23:17.550 --> 00:23:18.310
NICK MIHAILOVSKI: Absolutely.

00:23:18.310 --> 00:23:21.450
And so what's nice about this
is Spreadsheets is also

00:23:21.450 --> 00:23:24.180
integrated with Google Sites
and other Google products.

00:23:24.180 --> 00:23:26.500
And so what I can do is create
a dashboard in Google Sites.

00:23:26.500 --> 00:23:34.940
So if I go to sites.google.com
here, this is the free product

00:23:34.940 --> 00:23:35.520
that you can use.

00:23:35.520 --> 00:23:37.900
I can go ahead and create a new
Google site, and creating

00:23:37.900 --> 00:23:42.130
this is probably the hardest
part, because there's a lot of

00:23:42.130 --> 00:23:44.020
stuff you have to input
in here, like--

00:23:44.020 --> 00:23:45.040
IKAI LAN: I'll bet you
that's taken away.

00:23:45.040 --> 00:23:46.610
I'll bet you that's gone.

00:23:46.610 --> 00:23:47.530
We'll see.

00:23:47.530 --> 00:23:48.290
Now what does this say?

00:23:48.290 --> 00:23:49.135
NICK MIHAILOVSKI: That's
a good question.

00:23:49.135 --> 00:23:52.300
IKAI LAN: Oh, maybe this
means you're a robot.

00:23:52.300 --> 00:23:53.290
NICK MIHAILOVSKI: All right.

00:23:53.290 --> 00:23:55.170
Will it work?

00:23:55.170 --> 00:23:56.310
Oh, it's not available.

00:23:56.310 --> 00:23:57.690
IKAI LAN: Just bang
some keys, dude.

00:23:57.690 --> 00:23:58.310
NICK MIHAILOVSKI: All right.

00:23:58.310 --> 00:23:59.560
There it goes.

00:24:02.180 --> 00:24:03.670
IKAI LAN: And it looks like
the site is being

00:24:03.670 --> 00:24:04.960
created right now.

00:24:04.960 --> 00:24:06.230
NICK MIHAILOVSKI: That's it.

00:24:06.230 --> 00:24:08.090
Here's a brand new
Google site.

00:24:08.090 --> 00:24:13.340
If I want to, I can just click
Edit Page, go to Insert, and

00:24:13.340 --> 00:24:16.610
go ahead and click
under Chart.

00:24:16.610 --> 00:24:18.220
We'll see here's the spreadsheet
that I was working

00:24:18.220 --> 00:24:19.230
with earlier.

00:24:19.230 --> 00:24:22.720
Go ahead and select that, and
you'll see this chart that I

00:24:22.720 --> 00:24:24.410
created from that data
is right there.

00:24:24.410 --> 00:24:26.420
So I can go ahead and
click this chart, go

00:24:26.420 --> 00:24:27.570
ahead and save it.

00:24:27.570 --> 00:24:28.620
It's embedded.

00:24:28.620 --> 00:24:31.170
And what happens now when I save
this page is I'll have

00:24:31.170 --> 00:24:33.260
access to see this chart
directly in Spreadsheets.

00:24:33.260 --> 00:24:35.730
So this is like a beautiful way
that you can actually have

00:24:35.730 --> 00:24:39.130
multiple charts running all on
the same dashboard, and you

00:24:39.130 --> 00:24:42.640
could present his dashboard
to different users who are

00:24:42.640 --> 00:24:45.130
curious about how many people
are going to your fantasy

00:24:45.130 --> 00:24:46.745
football team, and how
many people are

00:24:46.745 --> 00:24:47.670
going to those pages.

00:24:47.670 --> 00:24:48.490
IKAI LAN: Very, very cool.

00:24:48.490 --> 00:24:50.670
So we've got a few
minutes left.

00:24:50.670 --> 00:24:52.690
And there have been some
questions in Google Moderator.

00:24:52.690 --> 00:24:54.690
So let's take some time to
answer a few of these.

00:24:54.690 --> 00:24:55.940
NICK MIHAILOVSKI: For sure.

00:24:57.990 --> 00:24:59.350
MALE SPEAKER: So, Nick and
Ikai, while you're going

00:24:59.350 --> 00:25:01.110
through that, Cesar had a
question on the YouTube

00:25:01.110 --> 00:25:03.330
livestream that was asking
about testing.

00:25:03.330 --> 00:25:05.250
He says he was testing during
the week, and he wants to know

00:25:05.250 --> 00:25:07.590
if there's a way to have the
catalog of metrics and

00:25:07.590 --> 00:25:11.080
dimensions automatic instead
of consulting the guide.

00:25:11.080 --> 00:25:11.740
NICK MIHAILOVSKI: That's
a great question.

00:25:11.740 --> 00:25:16.340
So this has been a big feature
request-- it's is there an API

00:25:16.340 --> 00:25:17.690
for the dimensions
and metrics?

00:25:17.690 --> 00:25:18.730
There currently isn't.

00:25:18.730 --> 00:25:22.160
We have a pretty comprehensive
guide.

00:25:22.160 --> 00:25:23.670
It's something we're
looking at.

00:25:23.670 --> 00:25:26.550
So currently, no, but we're
looking into that.

00:25:26.550 --> 00:25:28.970
But great question.

00:25:28.970 --> 00:25:30.500
IKAI LAN: It's something we
could totally do at some point

00:25:30.500 --> 00:25:33.390
using a drop down via the
spreadsheets popup again.

00:25:33.390 --> 00:25:35.740
But nothing to announce,
right?

00:25:35.740 --> 00:25:36.120
NICK MIHAILOVSKI: Right.

00:25:36.120 --> 00:25:39.320
Right now, we don't
have an API.

00:25:39.320 --> 00:25:41.430
We have a lot of tools, a lot
of people asking for it, but

00:25:41.430 --> 00:25:43.370
definitely great feature
request.

00:25:43.370 --> 00:25:43.900
IKAI LAN: All right.

00:25:43.900 --> 00:25:45.070
Let's go to the Moderator
page.

00:25:45.070 --> 00:25:46.770
NICK MIHAILOVSKI: So the first
question here is from A Taylor

00:25:46.770 --> 00:25:48.540
in McKinney, Texas.

00:25:48.540 --> 00:25:51.460
He asked, how can I pull a
Google Analytics report into a

00:25:51.460 --> 00:25:55.240
temporary Google document that
will expire after 30 days?

00:25:55.240 --> 00:25:56.730
IKAI LAN: Self destructing.

00:25:56.730 --> 00:25:57.340
I like it.

00:25:57.340 --> 00:25:58.640
I like this.

00:25:58.640 --> 00:26:02.430
So this is something that you
can do via triggers, and we

00:26:02.430 --> 00:26:04.380
were just talking about setting
up time triggers.

00:26:04.380 --> 00:26:06.970
And one nice thing is that you
can programmatically create

00:26:06.970 --> 00:26:08.460
triggers using code.

00:26:08.460 --> 00:26:10.280
I don't remember
the exact code.

00:26:10.280 --> 00:26:13.800
It's new trigger, new clock base
trigger, and you set a

00:26:13.800 --> 00:26:15.580
date that you want something
to be deleted.

00:26:15.580 --> 00:26:18.310
And you could totally create
that for a document that says,

00:26:18.310 --> 00:26:21.580
for this document, delete this
bad boy after 30 days if it's

00:26:21.580 --> 00:26:22.150
still around.

00:26:22.150 --> 00:26:24.170
And what it does that, the
document will be gone.

00:26:24.170 --> 00:26:27.480
So it's not built into Docs,
but it's something that you

00:26:27.480 --> 00:26:28.440
can do with Apps Script.

00:26:28.440 --> 00:26:29.570
NICK MIHAILOVSKI: I think that's
what's beautiful about

00:26:29.570 --> 00:26:31.830
Apps Script, is that there's a
feature like this that's not

00:26:31.830 --> 00:26:34.970
within what was provided, you
can definitely write that

00:26:34.970 --> 00:26:37.280
functionality in to
do exactly that.

00:26:37.280 --> 00:26:39.190
That's a great answer.

00:26:39.190 --> 00:26:40.390
So here's the second question.

00:26:40.390 --> 00:26:43.000
This is from Jimmy in
Birmingham, Alabama.

00:26:43.000 --> 00:26:46.070
How can I modify the script to
pull data from multiple GA

00:26:46.070 --> 00:26:48.670
accounts into one report?

00:26:48.670 --> 00:26:50.720
That's a fantastic question.

00:26:50.720 --> 00:26:52.900
I'll actually show you
how easy it is.

00:26:52.900 --> 00:26:57.130
The way we set this up here is
within the actual screen is if

00:26:57.130 --> 00:27:00.370
you go to the GA Config tab,
you can actually create

00:27:00.370 --> 00:27:01.450
multiple reports.

00:27:01.450 --> 00:27:04.620
And so if I create another core
report here, you'll see

00:27:04.620 --> 00:27:07.370
another two columns being added
into the spreadsheet

00:27:07.370 --> 00:27:08.570
here, and there you go.

00:27:08.570 --> 00:27:12.710
And so as long as you specify
the IDS parameter here, now

00:27:12.710 --> 00:27:15.460
you can say whatever the other
IDS parameters you have, this

00:27:15.460 --> 00:27:16.890
could be in a different
account.

00:27:16.890 --> 00:27:19.550
When you call get data,
each of the different

00:27:19.550 --> 00:27:20.590
tabs that you define--

00:27:20.590 --> 00:27:24.110
so, for example, this would
be like report 2--

00:27:24.110 --> 00:27:26.950
the data will be actually
executed sequentially for each

00:27:26.950 --> 00:27:28.140
of these reports.

00:27:28.140 --> 00:27:31.220
So I was talking to one person,
he had 13 reports

00:27:31.220 --> 00:27:32.870
configured in one spreadsheet.

00:27:32.870 --> 00:27:37.280
So every night, 13 queries were
made to update 18 tabs.

00:27:37.280 --> 00:27:38.390
So definitely possible.

00:27:38.390 --> 00:27:40.040
IKAI LAN: And that's really
nice, because then you don't

00:27:40.040 --> 00:27:41.760
have to go 13 different
tabs in your browser.

00:27:41.760 --> 00:27:43.290
You get them all
in one report.

00:27:43.290 --> 00:27:43.880
NICK MIHAILOVSKI: Exactly.

00:27:43.880 --> 00:27:45.290
Super easy.

00:27:45.290 --> 00:27:47.010
MALE SPEAKER: Speaking of
reports, [INAUDIBLE] from

00:27:47.010 --> 00:27:50.060
YouTube asks, can you embed
those reports on a website

00:27:50.060 --> 00:27:52.410
from Apps Script?

00:27:52.410 --> 00:27:53.520
IKAI LAN: You can, yes.

00:27:53.520 --> 00:27:55.430
There's lots of different
ways.

00:27:55.430 --> 00:27:58.960
And one way is, for instance,
with Apps Script you can

00:27:58.960 --> 00:28:02.550
publish a webpage via the HTML
service, and when you do this,

00:28:02.550 --> 00:28:04.960
you can either iframe that data,
and there's one more

00:28:04.960 --> 00:28:07.230
way, which is Apps Script has
something called a content

00:28:07.230 --> 00:28:10.910
service, where you can publish
some kind of JSON result.

00:28:10.910 --> 00:28:13.090
And you can create using
the [? gviz ?]

00:28:13.090 --> 00:28:15.050
library, you can consume
a JSON result by

00:28:15.050 --> 00:28:17.040
setting a data source.

00:28:17.040 --> 00:28:19.930
And that's one thing that
there's an APIs for get data

00:28:19.930 --> 00:28:21.630
source URL and the charts API.

00:28:21.630 --> 00:28:24.360
So using the charts API, you
can spit out a data source

00:28:24.360 --> 00:28:26.840
API, and you can consume that on
a different website, or you

00:28:26.840 --> 00:28:27.980
can use the iframe method.

00:28:27.980 --> 00:28:29.560
You've got a lot of different
ways of doing this.

00:28:29.560 --> 00:28:30.120
NICK MIHAILOVSKI: Absolutely.

00:28:30.120 --> 00:28:33.010
I think one of the easiest ways,
as Ikai was mentioning,

00:28:33.010 --> 00:28:36.130
is if you make the chart public,
you can actually query

00:28:36.130 --> 00:28:39.130
that data source from the
visualization charts API, and

00:28:39.130 --> 00:28:41.640
then you get the data directly
on the page as well.

00:28:41.640 --> 00:28:43.940
It's really interesting, because
we actually have a lot

00:28:43.940 --> 00:28:47.050
of quotas for the analytic
service, so in this case, when

00:28:47.050 --> 00:28:49.090
you put the data into Apps
Script and you query Apps

00:28:49.090 --> 00:28:53.310
Scripts, it actually acts as a
caching layer, so that way you

00:28:53.310 --> 00:28:55.420
can adhere to our quota to get
the data from our service

00:28:55.420 --> 00:28:58.610
once, which is the expensive
part, and then just serving

00:28:58.610 --> 00:29:01.710
the read only data then to all
your users is cheap, and then

00:29:01.710 --> 00:29:02.570
you can get around
it [INAUDIBLE].

00:29:02.570 --> 00:29:03.960
IKAI LAN: And when say
expensive, cheap, you mean

00:29:03.960 --> 00:29:06.790
like computationally,
time wise?

00:29:06.790 --> 00:29:07.130
NICK MIHAILOVSKI: Right.

00:29:07.130 --> 00:29:09.590
So you might have billions of
pages, billions of data points

00:29:09.590 --> 00:29:12.170
that analytics is processing
for any of these given

00:29:12.170 --> 00:29:12.870
queries, right?

00:29:12.870 --> 00:29:15.170
And we've abstracted the
complexity here.

00:29:15.170 --> 00:29:17.470
So for certain queries, they can
be very complex, and so we

00:29:17.470 --> 00:29:20.870
do have different quotas for
our analytics API than

00:29:20.870 --> 00:29:23.580
Spreadsheets has for querying
a data source.

00:29:23.580 --> 00:29:24.610
IKAI LAN: So I think
we've got time for

00:29:24.610 --> 00:29:26.620
just one more question.

00:29:26.620 --> 00:29:27.190
NICK MIHAILOVSKI: Great.

00:29:27.190 --> 00:29:30.200
So the other question here is
from Anna N in New York City,

00:29:30.200 --> 00:29:33.610
and she asks, please tell me how
to compare time periods.

00:29:33.610 --> 00:29:35.430
This is a great question,
Anna.

00:29:35.430 --> 00:29:38.740
It might not be actually
apparent, but the solution

00:29:38.740 --> 00:29:42.330
really is here is to actually
create two queries, where each

00:29:42.330 --> 00:29:45.510
of the different time periods
is slightly different.

00:29:45.510 --> 00:29:47.610
So what I've shown you here is
how you can create data for

00:29:47.610 --> 00:29:49.440
the last n days.

00:29:49.440 --> 00:29:51.450
And so what you can also do
here is you can actually

00:29:51.450 --> 00:29:53.580
create start days
and end days.

00:29:53.580 --> 00:29:57.350
And so what's nice about this
is Spreadsheets has a lot of

00:29:57.350 --> 00:29:59.450
functions built in, and
one of the ones I

00:29:59.450 --> 00:30:01.110
like is the now function.

00:30:01.110 --> 00:30:05.390
And so if I say equals now, it
will give us today's date.

00:30:05.390 --> 00:30:05.950
There it is.

00:30:05.950 --> 00:30:07.670
And the way we wrote the script
is that whether it's

00:30:07.670 --> 00:30:09.870
today's date in this
representation or the other

00:30:09.870 --> 00:30:12.770
representation that we have in
Analytics, the script will

00:30:12.770 --> 00:30:13.890
still run fine.

00:30:13.890 --> 00:30:18.920
So if I do now equals
now minus 7, I'll

00:30:18.920 --> 00:30:20.400
get seven days ago.

00:30:20.400 --> 00:30:24.500
And so for the first query, I'll
have the last seven days,

00:30:24.500 --> 00:30:26.820
where now is automatically
updating.

00:30:26.820 --> 00:30:32.910
And then for the second query,
I'll say the end it will be e

00:30:32.910 --> 00:30:36.200
equals now minus 8, one day
before there, and I'll say

00:30:36.200 --> 00:30:39.950
equals now minus 14.

00:30:39.950 --> 00:30:44.600
And now, as long as I can then
copy and paste the different

00:30:44.600 --> 00:30:48.030
dimensions, when I run these two
reports and execute them,

00:30:48.030 --> 00:30:50.520
you'll see the different date
ranges for that data.

00:30:50.520 --> 00:30:53.980
So, a really simple way to get
two time ranges that are

00:30:53.980 --> 00:30:58.340
always changing day after day
into two different reports.

00:30:58.340 --> 00:30:59.840
IKAI LAN: And with that, I think
we're out of time, which

00:30:59.840 --> 00:31:02.220
is unfortunate, because I feel
like we've got so much to talk

00:31:02.220 --> 00:31:02.920
about here.

00:31:02.920 --> 00:31:03.570
NICK MIHAILOVSKI: Yeah.

00:31:03.570 --> 00:31:04.300
IKAI LAN: Was there
a followup show?

00:31:04.300 --> 00:31:05.360
A sequel?

00:31:05.360 --> 00:31:06.090
NICK MIHAILOVSKI: Potentially.

00:31:06.090 --> 00:31:06.800
Potentially.

00:31:06.800 --> 00:31:07.520
IKAI LAN: We'll see.

00:31:07.520 --> 00:31:10.310
Send this video out to your
friends, and get the views up

00:31:10.310 --> 00:31:11.680
there, and we'll do a sequel.

00:31:11.680 --> 00:31:14.270
Thank you guys so very much
for joining us today, if

00:31:14.270 --> 00:31:14.990
you're on the live show.

00:31:14.990 --> 00:31:16.640
If you're not, thank you for
watching this video.

00:31:16.640 --> 00:31:17.650
My name's Ikai Lan.

00:31:17.650 --> 00:31:19.250
NICK MIHAILOVSKI: And my name's
Nick Mihailovski.

00:31:19.250 --> 00:31:21.330
IKAI LAN: And we'll be catching
you on the next show.

00:31:21.330 --> 00:31:21.561
NICK MIHAILOVSKI: Yep.

00:31:21.561 --> 00:31:21.950
Take care.

00:31:21.950 --> 00:31:23.200
IKAI LAN: Take it easy, guys.

