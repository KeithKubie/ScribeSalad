WEBVTT
Kind: captions
Language: en

00:00:00.620 --> 00:00:06.240
If you imagine the scenario that you are in an office with lots of people who you quite like, but not enough

00:00:06.609 --> 00:00:13.859
to spend time and money on getting them an individual gift, a Secret Santa is the perfect way around that. Because what you do,

00:00:14.320 --> 00:00:16.320
everybody puts their names into a hat,

00:00:16.330 --> 00:00:20.820
everyone picks a single name out of a hat, and you buy one crappy present

00:00:21.970 --> 00:00:27.570
for just one person in the office, then everyone gets to walk away with a crappy present. The important thing, though,

00:00:27.670 --> 00:00:29.670
about Secret Santa, is

00:00:29.769 --> 00:00:34.319
kind of clue's in the name. It is supposed to be secret. Nobody is supposed to know who bought

00:00:34.870 --> 00:00:39.270
anybody else's present, apart from the one that you buy. Everything is completely anonymous. That's sort of a

00:00:39.489 --> 00:00:42.239
fundamental rule of, of the Secret Santa agreement.

00:00:42.240 --> 00:00:46.949
I guess it's so you can get away with buying basically junk for other people.

00:00:46.949 --> 00:00:51.880
I mean they're always crummy, they're always crummy, aren't they? Because people don't really know you. So it's always like,

00:00:52.220 --> 00:00:54.260
bath bubbles! Hooray!

00:00:55.240 --> 00:00:58.060
Or, like, I don't know, a book on numbers.

00:01:00.480 --> 00:01:02.740
Brady: "What about?! You churn out books on numbers!"

00:01:03.340 --> 00:01:06.600
I know. I know that's true.

00:01:07.240 --> 00:01:10.380
But, yeah, like an encyclopedia of numbers, you know?

00:01:10.380 --> 00:01:12.380
Brady: "Right, because you're the math person."

00:01:12.400 --> 00:01:14.860
Yeah, exactly, exactly. Or like, you know, there's a,

00:01:14.860 --> 00:01:19.080
there's a guy who's a geographer here, and every single time he always gets something with a map on it.

00:01:19.080 --> 00:01:22.049
Just a generic bland map. Because obviously he must love maps.

00:01:22.049 --> 00:01:28.139
I think there are two fundamental things that you need for a perfect secret Secret Santa: 1) total anonymity,

00:01:28.659 --> 00:01:33.959
and 2) everyone should have an equal probability of being selected by anybody else, right?

00:01:34.119 --> 00:01:38.219
Those are kind of two fundamental things. Now the normal way that you do this,

00:01:38.400 --> 00:01:43.920
of everybody writing their name down putting in a big bowl and picking a name of a hat, fails on both of those fronts.

00:01:44.380 --> 00:01:48.540
Okay, so imagine you've got everybody who's involved in your Secret Santa sitting around a table.

00:01:48.700 --> 00:01:52.439
Everybody writes their own name onto a piece of paper and drops it into a bowl in the middle.

00:01:52.440 --> 00:01:58.460
And then that bowl is passed around the table and people pick out names of who they're gonna buy the gift for.

00:01:58.460 --> 00:02:03.700
If they pull out their own name, though, they read it and replace it back in the bowl, and then pick another name.

00:02:03.700 --> 00:02:10.620
By doing that, you have to sort of consider the situation where the last person around the table picks out their own name.

00:02:11.320 --> 00:02:17.700
Now if they do that, what, how do you solve it without violating the rule of anonymity?

00:02:18.040 --> 00:02:20.140
Because they can't swap it with anyone else,

00:02:20.340 --> 00:02:23.900
because by doing so, they would know exactly who is buying them a present.

00:02:24.180 --> 00:02:26.400
So, the only real fair thing to do in that situation

00:02:26.400 --> 00:02:29.880
is to scrap whole thing, start all over again. There's quite a good chance of that happening.

00:02:29.880 --> 00:02:32.189
So, if you have twenty people sitting around your table,

00:02:32.290 --> 00:02:35.760
there's a 4% chance that the last person will pull their own name,

00:02:35.760 --> 00:02:41.340
and you have to scrap it, and completely start all over again. If the second to last person pulls their name, if the third to last person

00:02:41.340 --> 00:02:46.060
pulls their name, you know, all sorts of anonymity issues can be violated.

00:02:46.700 --> 00:02:51.140
The chance of anybody pulling anybody else's name is not uniform.

00:02:51.340 --> 00:02:55.860
It depends on where you're sitting around that table. Because what you're looking for in this scenario,

00:02:56.020 --> 00:02:59.680
you are looking for something called a derangement.

00:03:00.040 --> 00:03:05.220
So it's a type of permutation where nobody ends up with their own name, effectively.

00:03:05.480 --> 00:03:11.360
Okay, so imagine you've just got three people playing. You've got A, B and C. Now even though there are six ways

00:03:11.770 --> 00:03:18.329
that this can be reordered, there are only two extra permutations here that could work for Secret Santa.

00:03:18.330 --> 00:03:21.690
Two derangements, they're called. So there are other permutations, of course.

00:03:21.690 --> 00:03:28.259
But the problem is, is that any of these three, in every case, somebody, if they're sitting around table in A, B and C,

00:03:28.959 --> 00:03:32.969
somebody will end up with their own name. So this column here is kind of who that person is pulling out.

00:03:32.970 --> 00:03:36.989
So if A is the first person on the table, they're going to pick their own name in this permutation,

00:03:37.180 --> 00:03:40.980
B will pick their own name in this permutation, and C will pick their own name in that permutation.

00:03:40.980 --> 00:03:44.180
So none of those are allowed. None of those are allowable Secret Santas.

00:03:44.780 --> 00:03:48.880
The question is, how likely is it that each of the people end up

00:03:49.060 --> 00:03:53.759
buying for a particular person? And it turns out that the order that you're sitting around the table

00:03:54.300 --> 00:04:00.160
makes a difference to that. A picks first, then B goes second, and C goes third.

00:04:00.160 --> 00:04:04.900
So, if we think about the bowl of names for A, we know that if A picks out

00:04:04.980 --> 00:04:08.580
their own name, he's going to replace it. Or she.

00:04:09.460 --> 00:04:11.200
They replace it back in the bowl.

00:04:11.200 --> 00:04:15.030
So really there's only two things that, that A can, can pick out

00:04:15.100 --> 00:04:20.579
from that bowl, and then Secret Santa carry on. So that's either B or C. And there's a probability of a half in each case.

00:04:20.580 --> 00:04:22.920
Brady: "Because if they pick A it's a non-game."

00:04:22.920 --> 00:04:24.620
Exactly.

00:04:24.620 --> 00:04:30.820
They read their own name, put it back in the bowl, and then pick again. Okay, so if A ends up picking out B,

00:04:30.900 --> 00:04:37.159
now it's B's go. So B's already out of the pile. So there's only two names left, and either one that B

00:04:37.159 --> 00:04:38.270
can pick is totally fine.

00:04:38.270 --> 00:04:44.090
They're either going to pick A or C. And each of those has probability of a half. However, if A has picked B

00:04:44.090 --> 00:04:45.539
and B has picked A,

00:04:45.539 --> 00:04:52.098
there's only one name left for C to pick from, which is their own name. And that, my friend, is a fail.

00:04:52.099 --> 00:04:56.059
There's a failed Secret Santa. Which means the only fair thing to do, if you want to preserve

00:04:56.190 --> 00:04:58.609
everyone's anonymity, is to start all over again from scratch,

00:04:59.340 --> 00:05:01.489
put your names back in the hat, and then

00:05:02.009 --> 00:05:05.839
start from the beginning. If, instead, B ends up picking C, then we're okay.

00:05:06.199 --> 00:05:09.829
There's only one name left in the hat, and that is A's name, and that's absolutely fine.

00:05:09.830 --> 00:05:15.259
And that's got a probability of happening of 1. So, that's if A ended up picking B in the first place.

00:05:16.050 --> 00:05:20.810
If A ends up picking C, you can still work this through, but there's less going on in this case.

00:05:20.810 --> 00:05:23.569
There's only two names left in the hat, it's B and A.

00:05:23.759 --> 00:05:27.589
B can't pick themselves. If they did, they'd read it, put it back, which means that

00:05:27.590 --> 00:05:33.139
B really only has one name that they can pick out, and the Secret Santa continue, which has to be A.

00:05:33.860 --> 00:05:36.120
And that's gonna happen probability of 1.

00:05:36.120 --> 00:05:39.900
Which means now, once you get to C, there's only one name in the hat, and it's B's name.

00:05:41.129 --> 00:05:44.359
Which also happens with probability of 1.

00:05:44.360 --> 00:05:51.469
Okay, so, now you've got these, there's one failure, one absolutely fine derangement that works for Secret Santa, here, and another one here,

00:05:51.469 --> 00:05:52.889
but you can work out the

00:05:52.889 --> 00:05:56.880
probabilities of each of these happening, if you kind of travel down these arms of the tree.

00:05:56.880 --> 00:05:59.480
This permutation here of C-A-B

00:05:59.780 --> 00:06:01.980
which we have up here, this one here,

00:06:02.560 --> 00:06:08.000
this one is gonna happen with the probability of a half, because it's a half times 1 times 1. This one here, this,

00:06:08.000 --> 00:06:10.100
this other successful arm of

00:06:10.110 --> 00:06:13.039
B-C-A, is gonna happen with the probability of

00:06:13.110 --> 00:06:18.650
a half times a half, which is a quarter. And then the other branch of this, if you like, is a failure.

00:06:19.140 --> 00:06:23.500
So you're also gonna fail with the probability of a quarter.

00:06:23.800 --> 00:06:29.720
Which means that A is much more likely to end up buying for C than they are for B.

00:06:30.460 --> 00:06:32.320
So even though they're, they're just as likely

00:06:33.330 --> 00:06:36.500
to pull out the second person's name as they are the third person's name,

00:06:36.600 --> 00:06:40.700
if they pull out the second person's name, half of the time, the whole thing will then fail,

00:06:40.700 --> 00:06:42.510
so they'll have to start over from scratch.

00:06:42.510 --> 00:06:47.899
So what you end up with in this situation is not only the chance of failure, and having to start it all over again,

00:06:48.360 --> 00:06:51.740
but you also end up with a situation which isn't perfectly random.

00:06:51.740 --> 00:06:55.200
You don't have an equal chance of buying for other people in the office.

00:06:55.400 --> 00:07:02.960
Brady: "So if I'm sitting in a row of three, and I'm the last picker, I know it's most likely that the first picker is buying me a present."

00:07:03.500 --> 00:07:07.160
Yeah, it's twice as likely that the first picker's buying you a present than the second picker.

00:07:07.160 --> 00:07:08.750
Which might help you when you try and

00:07:08.750 --> 00:07:10.750
decide where to sit around the table, because,

00:07:11.250 --> 00:07:15.320
yeah, you don't want, like, some person who's rubbish at presents to be buying for you.

00:07:15.320 --> 00:07:17.220
So the exact probabilities change

00:07:17.220 --> 00:07:23.029
depending on how many people you have, but the, the overall idea is the same. That the probability of

00:07:23.190 --> 00:07:27.079
you buying for a person later on if you go first

00:07:27.360 --> 00:07:31.820
is different to the probability of you buying for somebody earlier on the tree. Um, so overall, I mean, I think

00:07:32.420 --> 00:07:37.120
this version of Secret Santa is pretty rubbish, really. It's got two massive problems with it.

00:07:37.460 --> 00:07:42.080
So what you could do if you wanted, you wait until everyone's got a name, everyone's picked a name out of the hat,

00:07:42.600 --> 00:07:44.030
and that's when you look at it,

00:07:44.030 --> 00:07:48.410
and that's when you decide if, if somebody's got their own name. You call a failure,

00:07:48.410 --> 00:07:49.680
and you start all over again.

00:07:49.680 --> 00:07:52.190
Unfortunately that one's got a 37 percent chance of failing,

00:07:52.440 --> 00:07:57.529
and a 5 percent chance of failing more than three times in a row, by which time I think people are gonna be

00:07:57.660 --> 00:08:02.560
less keen to buy each other presents, and maybe just want to call it a day.

00:08:03.220 --> 00:08:08.320
However, we've got a solution. We've got a Secret Santa system that does actually work. Okay, what you do now

00:08:08.940 --> 00:08:12.679
if you want the perfect Secret Santa setup, you create a series of cards.

00:08:12.740 --> 00:08:19.800
The cards are kind of split in two. And at the top of the card, you write: you are number 4,

00:08:20.240 --> 00:08:25.580
and on the bottom of card, you write: you are buying for number 4.

00:08:25.880 --> 00:08:29.640
So whatever the number is on top, the same number is on bottom. So you do lots of cards, you do one for

00:08:29.650 --> 00:08:33.069
each person. So if you've got 20 people, you write 20 cards. If you've got, whatever,

00:08:33.620 --> 00:08:37.390
three people, you write three cards. You get all of these cards, you lay them on a table,

00:08:37.820 --> 00:08:43.090
shuffle them all around, so you have no idea what order they're in, and then, when you're happy that they're neatly shuffled,

00:08:43.720 --> 00:08:47.660
you go along with a pair of scissors and cut the cards in two.

00:08:47.960 --> 00:08:49.700
So now you have no idea

00:08:49.700 --> 00:08:54.640
what cards are next to each other, and you're kind of cutting along the line. And these scissors that everyone draws in school?

00:08:54.640 --> 00:08:56.640
How do they do them? Like that? They go?

00:08:56.900 --> 00:08:59.260
That's my scissors.

00:08:59.840 --> 00:09:01.460
It's not great.

00:09:01.460 --> 00:09:04.030
You go along and you cut them all up. Now at that point,

00:09:04.420 --> 00:09:08.960
you can create your derangement. And you can do that just by shifting

00:09:09.380 --> 00:09:14.800
the top half of all of the cards along by one. By doing that, you're guaranteeing that the

00:09:14.960 --> 00:09:18.280
number on the top of the card isn't gonna match the number on the bottom of the card.

00:09:18.280 --> 00:09:21.819
So you've definitely got a derangement, definitely got a Secret Santa system that works.

00:09:22.010 --> 00:09:25.299
But, also, because you shuffled them, you have no idea

00:09:25.300 --> 00:09:28.750
what numbers are matching with what numbers. So the next step, everybody

00:09:28.750 --> 00:09:30.820
who's playing Secret Santa comes along, picks up

00:09:31.060 --> 00:09:36.540
a new whole card, so top and bottom half that are now matched up together. Say you pick one up

00:09:36.549 --> 00:09:38.800
and it says you are number 3

00:09:38.800 --> 00:09:42.580
and you're buying for number 27. Then the final thing that happens is

00:09:42.680 --> 00:09:48.549
that you write a list of all of the numbers, put it on the wall of the office or whatever, everyone then comes along,

00:09:48.549 --> 00:09:50.000
they know what number they are,

00:09:50.000 --> 00:09:53.820
because the card that they picked up would have told them, and then they come along and then they write their name.

00:09:54.220 --> 00:09:57.040
Everyone now knows their own number,

00:09:57.040 --> 00:10:03.220
they know the person they're buying for, but they have no idea who else is buying for anyone else in the Secret Santa system,

00:10:03.220 --> 00:10:07.029
and everyone has an equal chance of buying for everybody else.

00:10:07.850 --> 00:10:09.770
I mean there is a final

00:10:09.770 --> 00:10:14.420
way that you could do this, it's a bit simpler, which is just to go online and use one of the free apps.

00:10:14.480 --> 00:10:17.180
But, this is much nicer.

00:10:17.480 --> 00:10:21.560
Brady: "It's fun, you gotta, there gotta be hats and tickets and pulling cards and things."

00:10:21.560 --> 00:10:22.570
Yeah, I agree.

00:10:22.570 --> 00:10:25.560
Let's do the traditional way, non-computer way.

00:10:25.560 --> 00:10:29.260
Brady: "Let me ask you this, mathematician Hannah. Have you ever done this?"

00:10:29.260 --> 00:10:30.500
Nope.

00:10:32.060 --> 00:10:36.520
I'm famously stingy when it comes to buying Christmas presents. I won't get involved.

00:10:37.340 --> 00:10:42.440
If you're in the market for some gifts, and Hannah hasn't put you off the idea of a mathematics book,

00:10:43.430 --> 00:10:45.819
these are books that she's written. You could try them out.

00:10:45.820 --> 00:10:49.690
I'll put links in the description along with links to some Numberphile merchandise

00:10:49.690 --> 00:10:54.309
you could try, like t-shirts and posters. And if you want to see more of Hannah besides here on Numberphile,

00:10:54.590 --> 00:10:59.199
why not check out her recent guest appearance on Objectivity? Links for that as well.

