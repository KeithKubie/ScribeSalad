WEBVTT
Kind: captions
Language: en

00:00:00.000 --> 00:00:07.780
 
[Music]

00:00:07.780 --> 00:00:07.790
[Music]
 

00:00:07.790 --> 00:00:10.640
[Music]
hi my name is Daniel Shan ski and today

00:00:10.640 --> 00:00:10.650
hi my name is Daniel Shan ski and today
 

00:00:10.650 --> 00:00:11.660
hi my name is Daniel Shan ski and today
I'll be showing you how to do an

00:00:11.660 --> 00:00:11.670
I'll be showing you how to do an
 

00:00:11.670 --> 00:00:13.520
I'll be showing you how to do an
animation to expend cells in a ListView

00:00:13.520 --> 00:00:13.530
animation to expend cells in a ListView
 

00:00:13.530 --> 00:00:15.440
animation to expend cells in a ListView
so if you have a list you with certain

00:00:15.440 --> 00:00:15.450
so if you have a list you with certain
 

00:00:15.450 --> 00:00:17.570
so if you have a list you with certain
data and you want to show extra content

00:00:17.570 --> 00:00:17.580
data and you want to show extra content
 

00:00:17.580 --> 00:00:18.890
data and you want to show extra content
associated with every single cell

00:00:18.890 --> 00:00:18.900
associated with every single cell
 

00:00:18.900 --> 00:00:20.870
associated with every single cell
instead of taking the user to a new page

00:00:20.870 --> 00:00:20.880
instead of taking the user to a new page
 

00:00:20.880 --> 00:00:23.090
instead of taking the user to a new page
you can simply click on the cell expand

00:00:23.090 --> 00:00:23.100
you can simply click on the cell expand
 

00:00:23.100 --> 00:00:25.130
you can simply click on the cell expand
it show the extra content collapse it a

00:00:25.130 --> 00:00:25.140
it show the extra content collapse it a
 

00:00:25.140 --> 00:00:27.200
it show the extra content collapse it a
few of the things about animation is

00:00:27.200 --> 00:00:27.210
few of the things about animation is
 

00:00:27.210 --> 00:00:30.050
few of the things about animation is
that as the cell expands it moves around

00:00:30.050 --> 00:00:30.060
that as the cell expands it moves around
 

00:00:30.060 --> 00:00:32.269
that as the cell expands it moves around
all the atoms around it to make room for

00:00:32.269 --> 00:00:32.279
all the atoms around it to make room for
 

00:00:32.279 --> 00:00:35.030
all the atoms around it to make room for
the new extra content and furthermore

00:00:35.030 --> 00:00:35.040
the new extra content and furthermore
 

00:00:35.040 --> 00:00:37.880
the new extra content and furthermore
this new size persists so if you were to

00:00:37.880 --> 00:00:37.890
this new size persists so if you were to
 

00:00:37.890 --> 00:00:39.530
this new size persists so if you were to
expand a cell then scroll away from and

00:00:39.530 --> 00:00:39.540
expand a cell then scroll away from and
 

00:00:39.540 --> 00:00:41.600
expand a cell then scroll away from and
then come back to it the new size will

00:00:41.600 --> 00:00:41.610
then come back to it the new size will
 

00:00:41.610 --> 00:00:43.580
then come back to it the new size will
persist of the expanded cell until it is

00:00:43.580 --> 00:00:43.590
persist of the expanded cell until it is
 

00:00:43.590 --> 00:00:45.740
persist of the expanded cell until it is
collapsed manual by the user by clicking

00:00:45.740 --> 00:00:45.750
collapsed manual by the user by clicking
 

00:00:45.750 --> 00:00:47.869
collapsed manual by the user by clicking
on the cell again a couple of the tricks

00:00:47.869 --> 00:00:47.879
on the cell again a couple of the tricks
 

00:00:47.879 --> 00:00:50.240
on the cell again a couple of the tricks
and the problems that they came across

00:00:50.240 --> 00:00:50.250
and the problems that they came across
 

00:00:50.250 --> 00:00:52.369
and the problems that they came across
while implementing this animation is the

00:00:52.369 --> 00:00:52.379
while implementing this animation is the
 

00:00:52.379 --> 00:00:54.380
while implementing this animation is the
fact that when you animate a cell when

00:00:54.380 --> 00:00:54.390
fact that when you animate a cell when
 

00:00:54.390 --> 00:00:56.510
fact that when you animate a cell when
you change the layout of a cell what's

00:00:56.510 --> 00:00:56.520
you change the layout of a cell what's
 

00:00:56.520 --> 00:00:58.189
you change the layout of a cell what's
going to happen is that some of the some

00:00:58.189 --> 00:00:58.199
going to happen is that some of the some
 

00:00:58.199 --> 00:00:59.479
going to happen is that some of the some
of the other cells around it are going

00:00:59.479 --> 00:00:59.489
of the other cells around it are going
 

00:00:59.489 --> 00:01:01.490
of the other cells around it are going
to disappear they're going to be moved

00:01:01.490 --> 00:01:01.500
to disappear they're going to be moved
 

00:01:01.500 --> 00:01:03.740
to disappear they're going to be moved
outside the bit let the balance of the

00:01:03.740 --> 00:01:03.750
outside the bit let the balance of the
 

00:01:03.750 --> 00:01:04.250
outside the bit let the balance of the
ListView

00:01:04.250 --> 00:01:04.260
ListView
 

00:01:04.260 --> 00:01:06.500
ListView
and when this happens you no longer have

00:01:06.500 --> 00:01:06.510
and when this happens you no longer have
 

00:01:06.510 --> 00:01:09.230
and when this happens you no longer have
a reference to those views so even

00:01:09.230 --> 00:01:09.240
a reference to those views so even
 

00:01:09.240 --> 00:01:10.670
a reference to those views so even
though you still need to animate them to

00:01:10.670 --> 00:01:10.680
though you still need to animate them to
 

00:01:10.680 --> 00:01:12.770
though you still need to animate them to
achieve that animation effect that's

00:01:12.770 --> 00:01:12.780
achieve that animation effect that's
 

00:01:12.780 --> 00:01:14.539
achieve that animation effect that's
problem number one the second problem

00:01:14.539 --> 00:01:14.549
problem number one the second problem
 

00:01:14.549 --> 00:01:16.850
problem number one the second problem
when when working with this is that when

00:01:16.850 --> 00:01:16.860
when when working with this is that when
 

00:01:16.860 --> 00:01:18.710
when when working with this is that when
you change the layout of a certain view

00:01:18.710 --> 00:01:18.720
you change the layout of a certain view
 

00:01:18.720 --> 00:01:21.440
you change the layout of a certain view
in the ListView the container what's

00:01:21.440 --> 00:01:21.450
in the ListView the container what's
 

00:01:21.450 --> 00:01:22.969
in the ListView the container what's
going to happen is that the ListView

00:01:22.969 --> 00:01:22.979
going to happen is that the ListView
 

00:01:22.979 --> 00:01:25.340
going to happen is that the ListView
will try to rearrange the cells as it

00:01:25.340 --> 00:01:25.350
will try to rearrange the cells as it
 

00:01:25.350 --> 00:01:27.800
will try to rearrange the cells as it
wants to make room for it but if you

00:01:27.800 --> 00:01:27.810
wants to make room for it but if you
 

00:01:27.810 --> 00:01:29.260
wants to make room for it but if you
want to achieve some sort of custom

00:01:29.260 --> 00:01:29.270
want to achieve some sort of custom
 

00:01:29.270 --> 00:01:31.670
want to achieve some sort of custom
expansion such that when you expand the

00:01:31.670 --> 00:01:31.680
expansion such that when you expand the
 

00:01:31.680 --> 00:01:33.649
expansion such that when you expand the
cell all the content should be visible

00:01:33.649 --> 00:01:33.659
cell all the content should be visible
 

00:01:33.659 --> 00:01:35.749
cell all the content should be visible
or as much of it as can be visible to

00:01:35.749 --> 00:01:35.759
or as much of it as can be visible to
 

00:01:35.759 --> 00:01:37.940
or as much of it as can be visible to
the user should be visible once you're

00:01:37.940 --> 00:01:37.950
the user should be visible once you're
 

00:01:37.950 --> 00:01:40.160
the user should be visible once you're
going to want to rearrange the cells in

00:01:40.160 --> 00:01:40.170
going to want to rearrange the cells in
 

00:01:40.170 --> 00:01:42.590
going to want to rearrange the cells in
a way that's most optimal for for your

00:01:42.590 --> 00:01:42.600
a way that's most optimal for for your
 

00:01:42.600 --> 00:01:44.690
a way that's most optimal for for your
application and in this case you need to

00:01:44.690 --> 00:01:44.700
application and in this case you need to
 

00:01:44.700 --> 00:01:47.330
application and in this case you need to
tell the ListView exactly how to how to

00:01:47.330 --> 00:01:47.340
tell the ListView exactly how to how to
 

00:01:47.340 --> 00:01:49.700
tell the ListView exactly how to how to
place them on the screen so going

00:01:49.700 --> 00:01:49.710
place them on the screen so going
 

00:01:49.710 --> 00:01:52.910
place them on the screen so going
straight into the demo here we have a

00:01:52.910 --> 00:01:52.920
straight into the demo here we have a
 

00:01:52.920 --> 00:01:55.010
straight into the demo here we have a
list view of chameleons rocks and

00:01:55.010 --> 00:01:55.020
list view of chameleons rocks and
 

00:01:55.020 --> 00:01:58.490
list view of chameleons rocks and
flowers and say click on a cell see how

00:01:58.490 --> 00:01:58.500
flowers and say click on a cell see how
 

00:01:58.500 --> 00:02:01.429
flowers and say click on a cell see how
it expands displacing you text and then

00:02:01.429 --> 00:02:01.439
it expands displacing you text and then
 

00:02:01.439 --> 00:02:03.580
it expands displacing you text and then
you can click again to close it this

00:02:03.580 --> 00:02:03.590
you can click again to close it this
 

00:02:03.590 --> 00:02:07.249
you can click again to close it this
works for every single cell it is it

00:02:07.249 --> 00:02:07.259
works for every single cell it is it
 

00:02:07.259 --> 00:02:09.050
works for every single cell it is it
works for extra content of different

00:02:09.050 --> 00:02:09.060
works for extra content of different
 

00:02:09.060 --> 00:02:11.420
works for extra content of different
sizes and you can also see that see that

00:02:11.420 --> 00:02:11.430
sizes and you can also see that see that
 

00:02:11.430 --> 00:02:12.850
sizes and you can also see that see that
as a cell

00:02:12.850 --> 00:02:12.860
as a cell
 

00:02:12.860 --> 00:02:15.640
as a cell
expands and collapses the content the

00:02:15.640 --> 00:02:15.650
expands and collapses the content the
 

00:02:15.650 --> 00:02:17.620
expands and collapses the content the
extra content the text actually fades in

00:02:17.620 --> 00:02:17.630
extra content the text actually fades in
 

00:02:17.630 --> 00:02:19.750
extra content the text actually fades in
and fades out and this is not only

00:02:19.750 --> 00:02:19.760
and fades out and this is not only
 

00:02:19.760 --> 00:02:21.790
and fades out and this is not only
restricted to text this will also work

00:02:21.790 --> 00:02:21.800
restricted to text this will also work
 

00:02:21.800 --> 00:02:24.250
restricted to text this will also work
with other types of layouts another

00:02:24.250 --> 00:02:24.260
with other types of layouts another
 

00:02:24.260 --> 00:02:26.650
with other types of layouts another
interesting thing about this is that say

00:02:26.650 --> 00:02:26.660
interesting thing about this is that say
 

00:02:26.660 --> 00:02:28.750
interesting thing about this is that say
this cell is at the edge and you want to

00:02:28.750 --> 00:02:28.760
this cell is at the edge and you want to
 

00:02:28.760 --> 00:02:30.580
this cell is at the edge and you want to
expand it you can see that it'll animate

00:02:30.580 --> 00:02:30.590
expand it you can see that it'll animate
 

00:02:30.590 --> 00:02:32.860
expand it you can see that it'll animate
in to make room for it so if you're

00:02:32.860 --> 00:02:32.870
in to make room for it so if you're
 

00:02:32.870 --> 00:02:35.200
in to make room for it so if you're
weird to animate to bring this flower

00:02:35.200 --> 00:02:35.210
weird to animate to bring this flower
 

00:02:35.210 --> 00:02:37.240
weird to animate to bring this flower
down and we click here it'll actually

00:02:37.240 --> 00:02:37.250
down and we click here it'll actually
 

00:02:37.250 --> 00:02:38.710
down and we click here it'll actually
animate upwards instead of animating

00:02:38.710 --> 00:02:38.720
animate upwards instead of animating
 

00:02:38.720 --> 00:02:40.210
animate upwards instead of animating
downwards and then when I click on it it

00:02:40.210 --> 00:02:40.220
downwards and then when I click on it it
 

00:02:40.220 --> 00:02:42.790
downwards and then when I click on it it
makes room for all the other cells in

00:02:42.790 --> 00:02:42.800
makes room for all the other cells in
 

00:02:42.800 --> 00:02:45.040
makes room for all the other cells in
them enemies then back in so dropping

00:02:45.040 --> 00:02:45.050
them enemies then back in so dropping
 

00:02:45.050 --> 00:02:47.290
them enemies then back in so dropping
jumping straight to the code here in

00:02:47.290 --> 00:02:47.300
jumping straight to the code here in
 

00:02:47.300 --> 00:02:48.910
jumping straight to the code here in
custom ListView which extends the

00:02:48.910 --> 00:02:48.920
custom ListView which extends the
 

00:02:48.920 --> 00:02:50.590
custom ListView which extends the
ListView which can expand and collapse

00:02:50.590 --> 00:02:50.600
ListView which can expand and collapse
 

00:02:50.600 --> 00:02:54.729
ListView which can expand and collapse
cells we are first we initiate an item

00:02:54.729 --> 00:02:54.739
cells we are first we initiate an item
 

00:02:54.739 --> 00:02:56.020
cells we are first we initiate an item
let click listener such that when you

00:02:56.020 --> 00:02:56.030
let click listener such that when you
 

00:02:56.030 --> 00:02:57.940
let click listener such that when you
click click and click again you can

00:02:57.940 --> 00:02:57.950
click click and click again you can
 

00:02:57.950 --> 00:02:59.680
click click and click again you can
expand or collapse it respectively and

00:02:59.680 --> 00:02:59.690
expand or collapse it respectively and
 

00:02:59.690 --> 00:03:02.470
expand or collapse it respectively and
then scrolling down furthermore this is

00:03:02.470 --> 00:03:02.480
then scrolling down furthermore this is
 

00:03:02.480 --> 00:03:04.030
then scrolling down furthermore this is
the get top and bottom translations

00:03:04.030 --> 00:03:04.040
the get top and bottom translations
 

00:03:04.040 --> 00:03:06.160
the get top and bottom translations
method so what this does this can be

00:03:06.160 --> 00:03:06.170
method so what this does this can be
 

00:03:06.170 --> 00:03:08.020
method so what this does this can be
customized by you depending kind of user

00:03:08.020 --> 00:03:08.030
customized by you depending kind of user
 

00:03:08.030 --> 00:03:10.479
customized by you depending kind of user
experience you'd like but what in this

00:03:10.479 --> 00:03:10.489
experience you'd like but what in this
 

00:03:10.489 --> 00:03:12.100
experience you'd like but what in this
specific case what I did is always try

00:03:12.100 --> 00:03:12.110
specific case what I did is always try
 

00:03:12.110 --> 00:03:13.690
specific case what I did is always try
to maximize the amount of content that's

00:03:13.690 --> 00:03:13.700
to maximize the amount of content that's
 

00:03:13.700 --> 00:03:16.300
to maximize the amount of content that's
this paid to the user and all it is is

00:03:16.300 --> 00:03:16.310
this paid to the user and all it is is
 

00:03:16.310 --> 00:03:18.580
this paid to the user and all it is is
really just a little bit of math a

00:03:18.580 --> 00:03:18.590
really just a little bit of math a
 

00:03:18.590 --> 00:03:21.009
really just a little bit of math a
little bit of arithmetic using the

00:03:21.009 --> 00:03:21.019
little bit of arithmetic using the
 

00:03:21.019 --> 00:03:22.600
little bit of arithmetic using the
bounds of the ListView using how much

00:03:22.600 --> 00:03:22.610
bounds of the ListView using how much
 

00:03:22.610 --> 00:03:25.150
bounds of the ListView using how much
what the current offset is and using

00:03:25.150 --> 00:03:25.160
what the current offset is and using
 

00:03:25.160 --> 00:03:28.270
what the current offset is and using
what the size of the list view of the

00:03:28.270 --> 00:03:28.280
what the size of the list view of the
 

00:03:28.280 --> 00:03:29.770
what the size of the list view of the
current visible part of the ListView is

00:03:29.770 --> 00:03:29.780
current visible part of the ListView is
 

00:03:29.780 --> 00:03:32.289
current visible part of the ListView is
as well so this will return a bottom on

00:03:32.289 --> 00:03:32.299
as well so this will return a bottom on
 

00:03:32.299 --> 00:03:34.660
as well so this will return a bottom on
the top and all this will say is how

00:03:34.660 --> 00:03:34.670
the top and all this will say is how
 

00:03:34.670 --> 00:03:36.490
the top and all this will say is how
much the bottom and the top bounds of

00:03:36.490 --> 00:03:36.500
much the bottom and the top bounds of
 

00:03:36.500 --> 00:03:38.350
much the bottom and the top bounds of
the expanding or the collapsing cell

00:03:38.350 --> 00:03:38.360
the expanding or the collapsing cell
 

00:03:38.360 --> 00:03:40.990
the expanding or the collapsing cell
should be modified by and use you can

00:03:40.990 --> 00:03:41.000
should be modified by and use you can
 

00:03:41.000 --> 00:03:42.759
should be modified by and use you can
use these as a reference to animate all

00:03:42.759 --> 00:03:42.769
use these as a reference to animate all
 

00:03:42.769 --> 00:03:44.530
use these as a reference to animate all
the cells around the cells being

00:03:44.530 --> 00:03:44.540
the cells around the cells being
 

00:03:44.540 --> 00:03:47.140
the cells around the cells being
expanded or collapsed scrolling down

00:03:47.140 --> 00:03:47.150
expanded or collapsed scrolling down
 

00:03:47.150 --> 00:03:50.949
expanded or collapsed scrolling down
furthermore we really expand the you

00:03:50.949 --> 00:03:50.959
furthermore we really expand the you
 

00:03:50.959 --> 00:03:52.630
furthermore we really expand the you
method which takes in the view that's

00:03:52.630 --> 00:03:52.640
method which takes in the view that's
 

00:03:52.640 --> 00:03:55.330
method which takes in the view that's
being expanded and before we actually

00:03:55.330 --> 00:03:55.340
being expanded and before we actually
 

00:03:55.340 --> 00:03:56.890
being expanded and before we actually
expand anything there's a few things we

00:03:56.890 --> 00:03:56.900
expand anything there's a few things we
 

00:03:56.900 --> 00:03:58.900
expand anything there's a few things we
need to do we need to store what the old

00:03:58.900 --> 00:03:58.910
need to do we need to store what the old
 

00:03:58.910 --> 00:04:01.060
need to do we need to store what the old
bounds of the cell it's about to be

00:04:01.060 --> 00:04:01.070
bounds of the cell it's about to be
 

00:04:01.070 --> 00:04:03.580
bounds of the cell it's about to be
expanded is and we also need to store

00:04:03.580 --> 00:04:03.590
expanded is and we also need to store
 

00:04:03.590 --> 00:04:05.199
expanded is and we also need to store
the top and bottom bounds of all the

00:04:05.199 --> 00:04:05.209
the top and bottom bounds of all the
 

00:04:05.209 --> 00:04:07.960
the top and bottom bounds of all the
cells that are around that expand the

00:04:07.960 --> 00:04:07.970
cells that are around that expand the
 

00:04:07.970 --> 00:04:10.180
cells that are around that expand the
cell that's going to be expanded after

00:04:10.180 --> 00:04:10.190
cell that's going to be expanded after
 

00:04:10.190 --> 00:04:13.150
cell that's going to be expanded after
that we get a reference to the expanding

00:04:13.150 --> 00:04:13.160
that we get a reference to the expanding
 

00:04:13.160 --> 00:04:14.860
that we get a reference to the expanding
layout so even though it's not visible

00:04:14.860 --> 00:04:14.870
layout so even though it's not visible
 

00:04:14.870 --> 00:04:17.500
layout so even though it's not visible
at first the expanding layout is present

00:04:17.500 --> 00:04:17.510
at first the expanding layout is present
 

00:04:17.510 --> 00:04:18.759
at first the expanding layout is present
in every single cell except its

00:04:18.759 --> 00:04:18.769
in every single cell except its
 

00:04:18.769 --> 00:04:20.770
in every single cell except its
visibility is set to gone so it's not

00:04:20.770 --> 00:04:20.780
visibility is set to gone so it's not
 

00:04:20.780 --> 00:04:22.300
visibility is set to gone so it's not
effect its not being rendered it's not

00:04:22.300 --> 00:04:22.310
effect its not being rendered it's not
 

00:04:22.310 --> 00:04:24.370
effect its not being rendered it's not
affecting the layout at all but by

00:04:24.370 --> 00:04:24.380
affecting the layout at all but by
 

00:04:24.380 --> 00:04:25.950
affecting the layout at all but by
sending it to visible

00:04:25.950 --> 00:04:25.960
sending it to visible
 

00:04:25.960 --> 00:04:27.960
sending it to visible
now tell her that we wanna and by

00:04:27.960 --> 00:04:27.970
now tell her that we wanna and by
 

00:04:27.970 --> 00:04:29.370
now tell her that we wanna and by
setting it to visible and having the

00:04:29.370 --> 00:04:29.380
setting it to visible and having the
 

00:04:29.380 --> 00:04:32.939
setting it to visible and having the
cell have its layout set to wrap content

00:04:32.939 --> 00:04:32.949
cell have its layout set to wrap content
 

00:04:32.949 --> 00:04:35.219
cell have its layout set to wrap content
were rushing to be doing is invoking a

00:04:35.219 --> 00:04:35.229
were rushing to be doing is invoking a
 

00:04:35.229 --> 00:04:37.950
were rushing to be doing is invoking a
request layout call without without

00:04:37.950 --> 00:04:37.960
request layout call without without
 

00:04:37.960 --> 00:04:40.110
request layout call without without
having that be here explicitly because

00:04:40.110 --> 00:04:40.120
having that be here explicitly because
 

00:04:40.120 --> 00:04:41.520
having that be here explicitly because
we know that now something that was gone

00:04:41.520 --> 00:04:41.530
we know that now something that was gone
 

00:04:41.530 --> 00:04:43.379
we know that now something that was gone
has been convinced about and we need to

00:04:43.379 --> 00:04:43.389
has been convinced about and we need to
 

00:04:43.389 --> 00:04:46.379
has been convinced about and we need to
render it and like I like I've mentioned

00:04:46.379 --> 00:04:46.389
render it and like I like I've mentioned
 

00:04:46.389 --> 00:04:49.020
render it and like I like I've mentioned
if you have my other animations we what

00:04:49.020 --> 00:04:49.030
if you have my other animations we what
 

00:04:49.030 --> 00:04:50.370
if you have my other animations we what
we're going to want to do is add an on

00:04:50.370 --> 00:04:50.380
we're going to want to do is add an on
 

00:04:50.380 --> 00:04:51.270
we're going to want to do is add an on
pre-drill listener

00:04:51.270 --> 00:04:51.280
pre-drill listener
 

00:04:51.280 --> 00:04:53.400
pre-drill listener
so by invoking said visible we're going

00:04:53.400 --> 00:04:53.410
so by invoking said visible we're going
 

00:04:53.410 --> 00:04:55.230
so by invoking said visible we're going
to change the layout of this cell along

00:04:55.230 --> 00:04:55.240
to change the layout of this cell along
 

00:04:55.240 --> 00:04:57.689
to change the layout of this cell along
with the with the balance and the

00:04:57.689 --> 00:04:57.699
with the with the balance and the
 

00:04:57.699 --> 00:05:00.290
with the with the balance and the
layouts of the cells around it and on

00:05:00.290 --> 00:05:00.300
layouts of the cells around it and on
 

00:05:00.300 --> 00:05:02.550
layouts of the cells around it and on
layout and on measure will get called

00:05:02.550 --> 00:05:02.560
layout and on measure will get called
 

00:05:02.560 --> 00:05:04.770
layout and on measure will get called
the final values for all the cells will

00:05:04.770 --> 00:05:04.780
the final values for all the cells will
 

00:05:04.780 --> 00:05:07.499
the final values for all the cells will
be will be computed but they will not

00:05:07.499 --> 00:05:07.509
be will be computed but they will not
 

00:05:07.509 --> 00:05:08.969
be will be computed but they will not
yet be drawn on the screen so this is

00:05:08.969 --> 00:05:08.979
yet be drawn on the screen so this is
 

00:05:08.979 --> 00:05:10.969
yet be drawn on the screen so this is
the best place to run an animation

00:05:10.969 --> 00:05:10.979
the best place to run an animation
 

00:05:10.979 --> 00:05:13.860
the best place to run an animation
except the thing about this animation

00:05:13.860 --> 00:05:13.870
except the thing about this animation
 

00:05:13.870 --> 00:05:15.659
except the thing about this animation
right here that's going to be a little

00:05:15.659 --> 00:05:15.669
right here that's going to be a little
 

00:05:15.669 --> 00:05:17.129
right here that's going to be a little
different is that we're going to have

00:05:17.129 --> 00:05:17.139
different is that we're going to have
 

00:05:17.139 --> 00:05:19.080
different is that we're going to have
two passes in on preacher instead of

00:05:19.080 --> 00:05:19.090
two passes in on preacher instead of
 

00:05:19.090 --> 00:05:20.550
two passes in on preacher instead of
just one

00:05:20.550 --> 00:05:20.560
just one
 

00:05:20.560 --> 00:05:22.830
just one
during the first free draw pass what we

00:05:22.830 --> 00:05:22.840
during the first free draw pass what we
 

00:05:22.840 --> 00:05:24.629
during the first free draw pass what we
want to do is we want to offset the

00:05:24.629 --> 00:05:24.639
want to do is we want to offset the
 

00:05:24.639 --> 00:05:26.730
want to do is we want to offset the
content in the ListView in such a way

00:05:26.730 --> 00:05:26.740
content in the ListView in such a way
 

00:05:26.740 --> 00:05:29.279
content in the ListView in such a way
such that after we invoke a layout once

00:05:29.279 --> 00:05:29.289
such that after we invoke a layout once
 

00:05:29.289 --> 00:05:31.560
such that after we invoke a layout once
again all the cells that we want

00:05:31.560 --> 00:05:31.570
again all the cells that we want
 

00:05:31.570 --> 00:05:34.140
again all the cells that we want
rendered on the screen will be visible

00:05:34.140 --> 00:05:34.150
rendered on the screen will be visible
 

00:05:34.150 --> 00:05:36.480
rendered on the screen will be visible
and will be accessible to the user so if

00:05:36.480 --> 00:05:36.490
and will be accessible to the user so if
 

00:05:36.490 --> 00:05:38.339
and will be accessible to the user so if
we want if we were not to have this

00:05:38.339 --> 00:05:38.349
we want if we were not to have this
 

00:05:38.349 --> 00:05:40.469
we want if we were not to have this
first pass the list you would arrange

00:05:40.469 --> 00:05:40.479
first pass the list you would arrange
 

00:05:40.479 --> 00:05:43.170
first pass the list you would arrange
all the cells in a way most convenient

00:05:43.170 --> 00:05:43.180
all the cells in a way most convenient
 

00:05:43.180 --> 00:05:45.689
all the cells in a way most convenient
for the solicitor to display the content

00:05:45.689 --> 00:05:45.699
for the solicitor to display the content
 

00:05:45.699 --> 00:05:48.089
for the solicitor to display the content
but if this is not but seeing how we're

00:05:48.089 --> 00:05:48.099
but if this is not but seeing how we're
 

00:05:48.099 --> 00:05:49.709
but if this is not but seeing how we're
animating the top and bottom balance in

00:05:49.709 --> 00:05:49.719
animating the top and bottom balance in
 

00:05:49.719 --> 00:05:51.689
animating the top and bottom balance in
a very custom manner what we need to do

00:05:51.689 --> 00:05:51.699
a very custom manner what we need to do
 

00:05:51.699 --> 00:05:54.570
a very custom manner what we need to do
is specify exactly where we which cells

00:05:54.570 --> 00:05:54.580
is specify exactly where we which cells
 

00:05:54.580 --> 00:05:57.029
is specify exactly where we which cells
we want to we want to have visible the

00:05:57.029 --> 00:05:57.039
we want to we want to have visible the
 

00:05:57.039 --> 00:05:58.709
we want to we want to have visible the
way this is done is through a little bit

00:05:58.709 --> 00:05:58.719
way this is done is through a little bit
 

00:05:58.719 --> 00:06:00.810
way this is done is through a little bit
of math determining how much we need to

00:06:00.810 --> 00:06:00.820
of math determining how much we need to
 

00:06:00.820 --> 00:06:03.029
of math determining how much we need to
offset it by but the key method that I'm

00:06:03.029 --> 00:06:03.039
offset it by but the key method that I'm
 

00:06:03.039 --> 00:06:05.670
offset it by but the key method that I'm
using here is set selection from top so

00:06:05.670 --> 00:06:05.680
using here is set selection from top so
 

00:06:05.680 --> 00:06:08.010
using here is set selection from top so
after determining which cell is going to

00:06:08.010 --> 00:06:08.020
after determining which cell is going to
 

00:06:08.020 --> 00:06:09.870
after determining which cell is going to
be at the very top after my custom

00:06:09.870 --> 00:06:09.880
be at the very top after my custom
 

00:06:09.880 --> 00:06:12.629
be at the very top after my custom
animations my custom changes for the top

00:06:12.629 --> 00:06:12.639
animations my custom changes for the top
 

00:06:12.639 --> 00:06:14.580
animations my custom changes for the top
and bottom bounds are run I know what

00:06:14.580 --> 00:06:14.590
and bottom bounds are run I know what
 

00:06:14.590 --> 00:06:16.020
and bottom bounds are run I know what
the first visible position is going to

00:06:16.020 --> 00:06:16.030
the first visible position is going to
 

00:06:16.030 --> 00:06:18.089
the first visible position is going to
be afterwards and I also know what it's

00:06:18.089 --> 00:06:18.099
be afterwards and I also know what it's
 

00:06:18.099 --> 00:06:20.240
be afterwards and I also know what it's
offset is going to be from the top so

00:06:20.240 --> 00:06:20.250
offset is going to be from the top so
 

00:06:20.250 --> 00:06:23.100
offset is going to be from the top so
doing doing some math then calling set

00:06:23.100 --> 00:06:23.110
doing doing some math then calling set
 

00:06:23.110 --> 00:06:25.770
doing doing some math then calling set
selection on top from top I said I said

00:06:25.770 --> 00:06:25.780
selection on top from top I said I said
 

00:06:25.780 --> 00:06:27.749
selection on top from top I said I said
the offset that I want for the ListView

00:06:27.749 --> 00:06:27.759
the offset that I want for the ListView
 

00:06:27.759 --> 00:06:29.760
the offset that I want for the ListView
and then I call request layout so what

00:06:29.760 --> 00:06:29.770
and then I call request layout so what
 

00:06:29.770 --> 00:06:31.890
and then I call request layout so what
this is going to do is render all the

00:06:31.890 --> 00:06:31.900
this is going to do is render all the
 

00:06:31.900 --> 00:06:33.689
this is going to do is render all the
cells that I need to be rendered on the

00:06:33.689 --> 00:06:33.699
cells that I need to be rendered on the
 

00:06:33.699 --> 00:06:36.060
cells that I need to be rendered on the
screen after having the list should be

00:06:36.060 --> 00:06:36.070
screen after having the list should be
 

00:06:36.070 --> 00:06:38.129
screen after having the list should be
offset by how much I need I'm also going

00:06:38.129 --> 00:06:38.139
offset by how much I need I'm also going
 

00:06:38.139 --> 00:06:39.149
offset by how much I need I'm also going
to be returning full

00:06:39.149 --> 00:06:39.159
to be returning full
 

00:06:39.159 --> 00:06:40.919
to be returning full
from entrepreneur because all I'm doing

00:06:40.919 --> 00:06:40.929
from entrepreneur because all I'm doing
 

00:06:40.929 --> 00:06:42.540
from entrepreneur because all I'm doing
here is offsetting the content but I

00:06:42.540 --> 00:06:42.550
here is offsetting the content but I
 

00:06:42.550 --> 00:06:45.479
here is offsetting the content but I
don't want I don't want it to be I don't

00:06:45.479 --> 00:06:45.489
don't want I don't want it to be I don't
 

00:06:45.489 --> 00:06:47.100
don't want I don't want it to be I don't
want the current state of the ListView

00:06:47.100 --> 00:06:47.110
want the current state of the ListView
 

00:06:47.110 --> 00:06:49.229
want the current state of the ListView
to be redrawn so because if I were to

00:06:49.229 --> 00:06:49.239
to be redrawn so because if I were to
 

00:06:49.239 --> 00:06:50.459
to be redrawn so because if I were to
redraw it in two different states it

00:06:50.459 --> 00:06:50.469
redraw it in two different states it
 

00:06:50.469 --> 00:06:52.379
redraw it in two different states it
would be a very janky and not a very

00:06:52.379 --> 00:06:52.389
would be a very janky and not a very
 

00:06:52.389 --> 00:06:54.449
would be a very janky and not a very
pleasant animation for the user so

00:06:54.449 --> 00:06:54.459
pleasant animation for the user so
 

00:06:54.459 --> 00:06:57.329
pleasant animation for the user so
returning false but still not having

00:06:57.329 --> 00:06:57.339
returning false but still not having
 

00:06:57.339 --> 00:06:59.369
returning false but still not having
removed the pre-drill listener what's

00:06:59.369 --> 00:06:59.379
removed the pre-drill listener what's
 

00:06:59.379 --> 00:07:00.839
removed the pre-drill listener what's
going to happen is it's going to come

00:07:00.839 --> 00:07:00.849
going to happen is it's going to come
 

00:07:00.849 --> 00:07:02.999
going to happen is it's going to come
back to on preacher after the new values

00:07:02.999 --> 00:07:03.009
back to on preacher after the new values
 

00:07:03.009 --> 00:07:05.040
back to on preacher after the new values
have been recomputed at which point we

00:07:05.040 --> 00:07:05.050
have been recomputed at which point we
 

00:07:05.050 --> 00:07:06.329
have been recomputed at which point we
will no longer need the pre-draw

00:07:06.329 --> 00:07:06.339
will no longer need the pre-draw
 

00:07:06.339 --> 00:07:09.899
will no longer need the pre-draw
listener so then we then we go down we

00:07:09.899 --> 00:07:09.909
listener so then we then we go down we
 

00:07:09.909 --> 00:07:11.939
listener so then we then we go down we
can retrieve the values from before for

00:07:11.939 --> 00:07:11.949
can retrieve the values from before for
 

00:07:11.949 --> 00:07:14.239
can retrieve the values from before for
the top and bottom bound changes and

00:07:14.239 --> 00:07:14.249
the top and bottom bound changes and
 

00:07:14.249 --> 00:07:17.129
the top and bottom bound changes and
then we can get straight into calculate

00:07:17.129 --> 00:07:17.139
then we can get straight into calculate
 

00:07:17.139 --> 00:07:19.859
then we can get straight into calculate
on the animations that we need so before

00:07:19.859 --> 00:07:19.869
on the animations that we need so before
 

00:07:19.869 --> 00:07:21.329
on the animations that we need so before
the animation took place we store the

00:07:21.329 --> 00:07:21.339
the animation took place we store the
 

00:07:21.339 --> 00:07:22.799
the animation took place we store the
top and bottom bounds for all the cells

00:07:22.799 --> 00:07:22.809
top and bottom bounds for all the cells
 

00:07:22.809 --> 00:07:25.649
top and bottom bounds for all the cells
that were previously visible and so if

00:07:25.649 --> 00:07:25.659
that were previously visible and so if
 

00:07:25.659 --> 00:07:28.529
that were previously visible and so if
it was visible before it before the

00:07:28.529 --> 00:07:28.539
it was visible before it before the
 

00:07:28.539 --> 00:07:29.969
it was visible before it before the
animation and the cell is still visible

00:07:29.969 --> 00:07:29.979
animation and the cell is still visible
 

00:07:29.979 --> 00:07:32.069
animation and the cell is still visible
after animation we're going to go into

00:07:32.069 --> 00:07:32.079
after animation we're going to go into
 

00:07:32.079 --> 00:07:34.829
after animation we're going to go into
this else case and all we need to do is

00:07:34.829 --> 00:07:34.839
this else case and all we need to do is
 

00:07:34.839 --> 00:07:37.079
this else case and all we need to do is
animate the bounds from the before state

00:07:37.079 --> 00:07:37.089
animate the bounds from the before state
 

00:07:37.089 --> 00:07:38.399
animate the bounds from the before state
to the after state which is very

00:07:38.399 --> 00:07:38.409
to the after state which is very
 

00:07:38.409 --> 00:07:39.439
to the after state which is very
straightforward

00:07:39.439 --> 00:07:39.449
straightforward
 

00:07:39.449 --> 00:07:42.359
straightforward
this this is what happens when the

00:07:42.359 --> 00:07:42.369
this this is what happens when the
 

00:07:42.369 --> 00:07:44.609
this this is what happens when the
parent what I'm going to is this what

00:07:44.609 --> 00:07:44.619
parent what I'm going to is this what
 

00:07:44.619 --> 00:07:46.139
parent what I'm going to is this what
happens when the parent of the view is

00:07:46.139 --> 00:07:46.149
happens when the parent of the view is
 

00:07:46.149 --> 00:07:47.969
happens when the parent of the view is
not not so this means it was visible

00:07:47.969 --> 00:07:47.979
not not so this means it was visible
 

00:07:47.979 --> 00:07:52.379
not not so this means it was visible
before the before the let the layout

00:07:52.379 --> 00:07:52.389
before the before the let the layout
 

00:07:52.389 --> 00:07:54.269
before the before the let the layout
change and it's also present after the

00:07:54.269 --> 00:07:54.279
change and it's also present after the
 

00:07:54.279 --> 00:07:57.959
change and it's also present after the
layout change but say the cell expanded

00:07:57.959 --> 00:07:57.969
layout change but say the cell expanded
 

00:07:57.969 --> 00:07:59.939
layout change but say the cell expanded
so much that the cell will no longer be

00:07:59.939 --> 00:07:59.949
so much that the cell will no longer be
 

00:07:59.949 --> 00:08:01.679
so much that the cell will no longer be
visible after the layer change we're

00:08:01.679 --> 00:08:01.689
visible after the layer change we're
 

00:08:01.689 --> 00:08:04.669
visible after the layer change we're
going to see that our that our views of

00:08:04.669 --> 00:08:04.679
going to see that our that our views of
 

00:08:04.679 --> 00:08:07.829
going to see that our that our views of
parent is null so it's no long no longer

00:08:07.829 --> 00:08:07.839
parent is null so it's no long no longer
 

00:08:07.839 --> 00:08:11.569
parent is null so it's no long no longer
contained in the ListView but up here

00:08:11.569 --> 00:08:11.579
contained in the ListView but up here
 

00:08:11.579 --> 00:08:14.279
contained in the ListView but up here
when when I created in my hash map I

00:08:14.279 --> 00:08:14.289
when when I created in my hash map I
 

00:08:14.289 --> 00:08:17.489
when when I created in my hash map I
said set has transient to true so what

00:08:17.489 --> 00:08:17.499
said set has transient to true so what
 

00:08:17.499 --> 00:08:19.259
said set has transient to true so what
that did is even though it's no longer

00:08:19.259 --> 00:08:19.269
that did is even though it's no longer
 

00:08:19.269 --> 00:08:20.399
that did is even though it's no longer
part of the ListView

00:08:20.399 --> 00:08:20.409
part of the ListView
 

00:08:20.409 --> 00:08:22.169
part of the ListView
this view is not going to be recycled

00:08:22.169 --> 00:08:22.179
this view is not going to be recycled
 

00:08:22.179 --> 00:08:23.790
this view is not going to be recycled
and as long as I store a reference to

00:08:23.790 --> 00:08:23.800
and as long as I store a reference to
 

00:08:23.800 --> 00:08:25.980
and as long as I store a reference to
the solicit myself I can still make use

00:08:25.980 --> 00:08:25.990
the solicit myself I can still make use
 

00:08:25.990 --> 00:08:29.100
the solicit myself I can still make use
of it after after the layout has taken

00:08:29.100 --> 00:08:29.110
of it after after the layout has taken
 

00:08:29.110 --> 00:08:32.459
of it after after the layout has taken
place as long as I long as I have a

00:08:32.459 --> 00:08:32.469
place as long as I long as I have a
 

00:08:32.469 --> 00:08:36.059
place as long as I long as I have a
reference to it so go throwing down here

00:08:36.059 --> 00:08:36.069
reference to it so go throwing down here
 

00:08:36.069 --> 00:08:37.740
reference to it so go throwing down here
all I'm going to do is add the exact

00:08:37.740 --> 00:08:37.750
all I'm going to do is add the exact
 

00:08:37.750 --> 00:08:39.420
all I'm going to do is add the exact
same animation as I do for cells that

00:08:39.420 --> 00:08:39.430
same animation as I do for cells that
 

00:08:39.430 --> 00:08:40.769
same animation as I do for cells that
are still visible after the layout

00:08:40.769 --> 00:08:40.779
are still visible after the layout
 

00:08:40.779 --> 00:08:42.689
are still visible after the layout
except I'm also going to add it to this

00:08:42.689 --> 00:08:42.699
except I'm also going to add it to this
 

00:08:42.699 --> 00:08:45.540
except I'm also going to add it to this
array of mine called M use to draw which

00:08:45.540 --> 00:08:45.550
array of mine called M use to draw which
 

00:08:45.550 --> 00:08:47.670
array of mine called M use to draw which
is going to tell me that this is a view

00:08:47.670 --> 00:08:47.680
is going to tell me that this is a view
 

00:08:47.680 --> 00:08:50.069
is going to tell me that this is a view
that needs to be animated of the screen

00:08:50.069 --> 00:08:50.079
that needs to be animated of the screen
 

00:08:50.079 --> 00:08:52.499
that needs to be animated of the screen
just for animation purposes but it isn't

00:08:52.499 --> 00:08:52.509
just for animation purposes but it isn't
 

00:08:52.509 --> 00:08:52.710
just for animation purposes but it isn't
that

00:08:52.710 --> 00:08:52.720
that
 

00:08:52.720 --> 00:08:54.210
that
doesn't actually need to be rendered for

00:08:54.210 --> 00:08:54.220
doesn't actually need to be rendered for
 

00:08:54.220 --> 00:08:58.920
doesn't actually need to be rendered for
the purposes of ListView now for the

00:08:58.920 --> 00:08:58.930
the purposes of ListView now for the
 

00:08:58.930 --> 00:09:01.379
the purposes of ListView now for the
purses of the ListView use so scrolling

00:09:01.379 --> 00:09:01.389
purses of the ListView use so scrolling
 

00:09:01.389 --> 00:09:04.470
purses of the ListView use so scrolling
down furthermore I add an animation to

00:09:04.470 --> 00:09:04.480
down furthermore I add an animation to
 

00:09:04.480 --> 00:09:06.780
down furthermore I add an animation to
actually expand the balance of the cell

00:09:06.780 --> 00:09:06.790
actually expand the balance of the cell
 

00:09:06.790 --> 00:09:10.470
actually expand the balance of the cell
being expanded and then I also fade in

00:09:10.470 --> 00:09:10.480
being expanded and then I also fade in
 

00:09:10.480 --> 00:09:12.929
being expanded and then I also fade in
the expanding layout text so this does

00:09:12.929 --> 00:09:12.939
the expanding layout text so this does
 

00:09:12.939 --> 00:09:15.150
the expanding layout text so this does
not necessarily have to be text but the

00:09:15.150 --> 00:09:15.160
not necessarily have to be text but the
 

00:09:15.160 --> 00:09:17.309
not necessarily have to be text but the
layout itself is faded in by animating

00:09:17.309 --> 00:09:17.319
layout itself is faded in by animating
 

00:09:17.319 --> 00:09:21.150
layout itself is faded in by animating
its alpha value from 0 to 1 then during

00:09:21.150 --> 00:09:21.160
its alpha value from 0 to 1 then during
 

00:09:21.160 --> 00:09:22.800
its alpha value from 0 to 1 then during
the animation itself I wanted to seal my

00:09:22.800 --> 00:09:22.810
the animation itself I wanted to seal my
 

00:09:22.810 --> 00:09:25.019
the animation itself I wanted to seal my
ListView to prevent some weird behavior

00:09:25.019 --> 00:09:25.029
ListView to prevent some weird behavior
 

00:09:25.029 --> 00:09:27.629
ListView to prevent some weird behavior
that the you if the user were to scroll

00:09:27.629 --> 00:09:27.639
that the you if the user were to scroll
 

00:09:27.639 --> 00:09:31.590
that the you if the user were to scroll
during that time and once my animation

00:09:31.590 --> 00:09:31.600
during that time and once my animation
 

00:09:31.600 --> 00:09:33.420
during that time and once my animation
completes one thing that I really have

00:09:33.420 --> 00:09:33.430
completes one thing that I really have
 

00:09:33.430 --> 00:09:36.540
completes one thing that I really have
to do is make sure to set the transient

00:09:36.540 --> 00:09:36.550
to do is make sure to set the transient
 

00:09:36.550 --> 00:09:38.429
to do is make sure to set the transient
say to false for any views that

00:09:38.429 --> 00:09:38.439
say to false for any views that
 

00:09:38.439 --> 00:09:40.379
say to false for any views that
previously had it to true so that these

00:09:40.379 --> 00:09:40.389
previously had it to true so that these
 

00:09:40.389 --> 00:09:42.600
previously had it to true so that these
views don't get stored but can actually

00:09:42.600 --> 00:09:42.610
views don't get stored but can actually
 

00:09:42.610 --> 00:09:44.699
views don't get stored but can actually
be recycled and make less you scrolling

00:09:44.699 --> 00:09:44.709
be recycled and make less you scrolling
 

00:09:44.709 --> 00:09:48.660
be recycled and make less you scrolling
more efficient afterwards so that that

00:09:48.660 --> 00:09:48.670
more efficient afterwards so that that
 

00:09:48.670 --> 00:09:51.360
more efficient afterwards so that that
was expand view now in this patch draw

00:09:51.360 --> 00:09:51.370
was expand view now in this patch draw
 

00:09:51.370 --> 00:09:52.829
was expand view now in this patch draw
what's going to happen is the only

00:09:52.829 --> 00:09:52.839
what's going to happen is the only
 

00:09:52.839 --> 00:09:55.439
what's going to happen is the only
things that I would want to draw on to

00:09:55.439 --> 00:09:55.449
things that I would want to draw on to
 

00:09:55.449 --> 00:09:56.819
things that I would want to draw on to
the screen that are not on the screen

00:09:56.819 --> 00:09:56.829
the screen that are not on the screen
 

00:09:56.829 --> 00:09:59.579
the screen that are not on the screen
right now are views that were were in

00:09:59.579 --> 00:09:59.589
right now are views that were were in
 

00:09:59.589 --> 00:10:00.960
right now are views that were were in
the ListView but are no longer the list

00:10:00.960 --> 00:10:00.970
the ListView but are no longer the list
 

00:10:00.970 --> 00:10:03.569
the ListView but are no longer the list
you afterwards I only need a reference

00:10:03.569 --> 00:10:03.579
you afterwards I only need a reference
 

00:10:03.579 --> 00:10:05.429
you afterwards I only need a reference
to these during the animation because

00:10:05.429 --> 00:10:05.439
to these during the animation because
 

00:10:05.439 --> 00:10:07.740
to these during the animation because
once the animation completes the user

00:10:07.740 --> 00:10:07.750
once the animation completes the user
 

00:10:07.750 --> 00:10:09.269
once the animation completes the user
should not be able to track with them

00:10:09.269 --> 00:10:09.279
should not be able to track with them
 

00:10:09.279 --> 00:10:11.730
should not be able to track with them
anymore and so since I have a reference

00:10:11.730 --> 00:10:11.740
anymore and so since I have a reference
 

00:10:11.740 --> 00:10:13.799
anymore and so since I have a reference
to the view itself all I need to do is a

00:10:13.799 --> 00:10:13.809
to the view itself all I need to do is a
 

00:10:13.809 --> 00:10:15.689
to the view itself all I need to do is a
chat is translate the canvas

00:10:15.689 --> 00:10:15.699
chat is translate the canvas
 

00:10:15.699 --> 00:10:17.879
chat is translate the canvas
appropriately just its top value because

00:10:17.879 --> 00:10:17.889
appropriately just its top value because
 

00:10:17.889 --> 00:10:20.009
appropriately just its top value because
the cell takes up the whole width I just

00:10:20.009 --> 00:10:20.019
the cell takes up the whole width I just
 

00:10:20.019 --> 00:10:21.259
the cell takes up the whole width I just
need to modify where it's located

00:10:21.259 --> 00:10:21.269
need to modify where it's located
 

00:10:21.269 --> 00:10:24.299
need to modify where it's located
vertically on the screen I draw the view

00:10:24.299 --> 00:10:24.309
vertically on the screen I draw the view
 

00:10:24.309 --> 00:10:26.280
vertically on the screen I draw the view
onto the canvas and then I translate it

00:10:26.280 --> 00:10:26.290
onto the canvas and then I translate it
 

00:10:26.290 --> 00:10:28.980
onto the canvas and then I translate it
back so that the next cell to be drawn

00:10:28.980 --> 00:10:28.990
back so that the next cell to be drawn
 

00:10:28.990 --> 00:10:30.420
back so that the next cell to be drawn
will be drawn in the correct location as

00:10:30.420 --> 00:10:30.430
will be drawn in the correct location as
 

00:10:30.430 --> 00:10:33.299
will be drawn in the correct location as
well scrolling down furthermore into

00:10:33.299 --> 00:10:33.309
well scrolling down furthermore into
 

00:10:33.309 --> 00:10:35.519
well scrolling down furthermore into
collapse you it's going to be very

00:10:35.519 --> 00:10:35.529
collapse you it's going to be very
 

00:10:35.529 --> 00:10:38.490
collapse you it's going to be very
similar in most ways so before the code

00:10:38.490 --> 00:10:38.500
similar in most ways so before the code
 

00:10:38.500 --> 00:10:40.230
similar in most ways so before the code
before the cell is collapsed I want to

00:10:40.230 --> 00:10:40.240
before the cell is collapsed I want to
 

00:10:40.240 --> 00:10:42.329
before the cell is collapsed I want to
store the top and bottom bounds of all

00:10:42.329 --> 00:10:42.339
store the top and bottom bounds of all
 

00:10:42.339 --> 00:10:45.389
store the top and bottom bounds of all
the cells prior to the collapse I want

00:10:45.389 --> 00:10:45.399
the cells prior to the collapse I want
 

00:10:45.399 --> 00:10:47.189
the cells prior to the collapse I want
to set transition to true so nothing

00:10:47.189 --> 00:10:47.199
to set transition to true so nothing
 

00:10:47.199 --> 00:10:48.990
to set transition to true so nothing
gets recycled during the collapse of

00:10:48.990 --> 00:10:49.000
gets recycled during the collapse of
 

00:10:49.000 --> 00:10:51.569
gets recycled during the collapse of
collapsing animation and then the only

00:10:51.569 --> 00:10:51.579
collapsing animation and then the only
 

00:10:51.579 --> 00:10:53.670
collapsing animation and then the only
important thing really important thing

00:10:53.670 --> 00:10:53.680
important thing really important thing
 

00:10:53.680 --> 00:10:55.619
important thing really important thing
to note here is that I know I'm not

00:10:55.619 --> 00:10:55.629
to note here is that I know I'm not
 

00:10:55.629 --> 00:10:57.869
to note here is that I know I'm not
changing the expanding layout visibility

00:10:57.869 --> 00:10:57.879
changing the expanding layout visibility
 

00:10:57.879 --> 00:11:00.210
changing the expanding layout visibility
from visible to gone what I'm actually

00:11:00.210 --> 00:11:00.220
from visible to gone what I'm actually
 

00:11:00.220 --> 00:11:02.579
from visible to gone what I'm actually
doing is setting the height of the

00:11:02.579 --> 00:11:02.589
doing is setting the height of the
 

00:11:02.589 --> 00:11:04.630
doing is setting the height of the
layout to Avira to a custom height

00:11:04.630 --> 00:11:04.640
layout to Avira to a custom height
 

00:11:04.640 --> 00:11:06.940
layout to Avira to a custom height
I calculated that I pre-computer before

00:11:06.940 --> 00:11:06.950
I calculated that I pre-computer before
 

00:11:06.950 --> 00:11:08.980
I calculated that I pre-computer before
which is what its default height is when

00:11:08.980 --> 00:11:08.990
which is what its default height is when
 

00:11:08.990 --> 00:11:11.920
which is what its default height is when
it's in a collapsed state and the reason

00:11:11.920 --> 00:11:11.930
it's in a collapsed state and the reason
 

00:11:11.930 --> 00:11:13.780
it's in a collapsed state and the reason
I can't set the visibility to go on and

00:11:13.780 --> 00:11:13.790
I can't set the visibility to go on and
 

00:11:13.790 --> 00:11:15.070
I can't set the visibility to go on and
just work with the layer change from

00:11:15.070 --> 00:11:15.080
just work with the layer change from
 

00:11:15.080 --> 00:11:17.020
just work with the layer change from
there is because I want to get that

00:11:17.020 --> 00:11:17.030
there is because I want to get that
 

00:11:17.030 --> 00:11:19.600
there is because I want to get that
fading effect as the cell is collapsing

00:11:19.600 --> 00:11:19.610
fading effect as the cell is collapsing
 

00:11:19.610 --> 00:11:22.120
fading effect as the cell is collapsing
on the expanding layout and that fading

00:11:22.120 --> 00:11:22.130
on the expanding layout and that fading
 

00:11:22.130 --> 00:11:24.100
on the expanding layout and that fading
effect cannot be achieved if my if the

00:11:24.100 --> 00:11:24.110
effect cannot be achieved if my if the
 

00:11:24.110 --> 00:11:26.110
effect cannot be achieved if my if the
expanding layered visibility is gone or

00:11:26.110 --> 00:11:26.120
expanding layered visibility is gone or
 

00:11:26.120 --> 00:11:29.770
expanding layered visibility is gone or
invisible so by setting the height to a

00:11:29.770 --> 00:11:29.780
invisible so by setting the height to a
 

00:11:29.780 --> 00:11:32.470
invisible so by setting the height to a
constant value I can then invoke a

00:11:32.470 --> 00:11:32.480
constant value I can then invoke a
 

00:11:32.480 --> 00:11:34.630
constant value I can then invoke a
layout and add an on pre-draw listener

00:11:34.630 --> 00:11:34.640
layout and add an on pre-draw listener
 

00:11:34.640 --> 00:11:38.140
layout and add an on pre-draw listener
like before very similar to the expand

00:11:38.140 --> 00:11:38.150
like before very similar to the expand
 

00:11:38.150 --> 00:11:40.150
like before very similar to the expand
view method I'm going to have two passes

00:11:40.150 --> 00:11:40.160
view method I'm going to have two passes
 

00:11:40.160 --> 00:11:42.160
view method I'm going to have two passes
the first pass is going to offset the

00:11:42.160 --> 00:11:42.170
the first pass is going to offset the
 

00:11:42.170 --> 00:11:43.840
the first pass is going to offset the
ListView in such a ways to account for

00:11:43.840 --> 00:11:43.850
ListView in such a ways to account for
 

00:11:43.850 --> 00:11:45.490
ListView in such a ways to account for
the custom collapse that I'm going to

00:11:45.490 --> 00:11:45.500
the custom collapse that I'm going to
 

00:11:45.500 --> 00:11:48.100
the custom collapse that I'm going to
achieve and once again I'm going to call

00:11:48.100 --> 00:11:48.110
achieve and once again I'm going to call
 

00:11:48.110 --> 00:11:51.370
achieve and once again I'm going to call
set selection from top request a layout

00:11:51.370 --> 00:11:51.380
set selection from top request a layout
 

00:11:51.380 --> 00:11:54.070
set selection from top request a layout
and make sure to return false so the

00:11:54.070 --> 00:11:54.080
and make sure to return false so the
 

00:11:54.080 --> 00:11:56.260
and make sure to return false so the
transient state of the ListView does not

00:11:56.260 --> 00:11:56.270
transient state of the ListView does not
 

00:11:56.270 --> 00:11:59.350
transient state of the ListView does not
get drawn onto the screen and then since

00:11:59.350 --> 00:11:59.360
get drawn onto the screen and then since
 

00:11:59.360 --> 00:12:00.670
get drawn onto the screen and then since
the pre-draw listener is now you have

00:12:00.670 --> 00:12:00.680
the pre-draw listener is now you have
 

00:12:00.680 --> 00:12:02.500
the pre-draw listener is now you have
been removed when a request has been

00:12:02.500 --> 00:12:02.510
been removed when a request has been
 

00:12:02.510 --> 00:12:04.330
been removed when a request has been
called again it'll come back here for

00:12:04.330 --> 00:12:04.340
called again it'll come back here for
 

00:12:04.340 --> 00:12:08.680
called again it'll come back here for
its second pass where I will firstly

00:12:08.680 --> 00:12:08.690
its second pass where I will firstly
 

00:12:08.690 --> 00:12:10.900
its second pass where I will firstly
loop through all the visible children in

00:12:10.900 --> 00:12:10.910
loop through all the visible children in
 

00:12:10.910 --> 00:12:14.950
loop through all the visible children in
the ListView if I find that I do have

00:12:14.950 --> 00:12:14.960
the ListView if I find that I do have
 

00:12:14.960 --> 00:12:17.410
the ListView if I find that I do have
access to the old bounds of that view in

00:12:17.410 --> 00:12:17.420
access to the old bounds of that view in
 

00:12:17.420 --> 00:12:20.770
access to the old bounds of that view in
the ListView that means that this view

00:12:20.770 --> 00:12:20.780
the ListView that means that this view
 

00:12:20.780 --> 00:12:23.260
the ListView that means that this view
was present in listing before and after

00:12:23.260 --> 00:12:23.270
was present in listing before and after
 

00:12:23.270 --> 00:12:26.020
was present in listing before and after
the collapse which at which point all I

00:12:26.020 --> 00:12:26.030
the collapse which at which point all I
 

00:12:26.030 --> 00:12:30.100
the collapse which at which point all I
need to do is is update its bounds and

00:12:30.100 --> 00:12:30.110
need to do is is update its bounds and
 

00:12:30.110 --> 00:12:32.530
need to do is is update its bounds and
then later animate them but if I find

00:12:32.530 --> 00:12:32.540
then later animate them but if I find
 

00:12:32.540 --> 00:12:34.990
then later animate them but if I find
that the I don't have access to the old

00:12:34.990 --> 00:12:35.000
that the I don't have access to the old
 

00:12:35.000 --> 00:12:37.270
that the I don't have access to the old
bounds of this cell that means that this

00:12:37.270 --> 00:12:37.280
bounds of this cell that means that this
 

00:12:37.280 --> 00:12:38.950
bounds of this cell that means that this
cell became visible only after the

00:12:38.950 --> 00:12:38.960
cell became visible only after the
 

00:12:38.960 --> 00:12:40.630
cell became visible only after the
collapse of the view so the collapse of

00:12:40.630 --> 00:12:40.640
collapse of the view so the collapse of
 

00:12:40.640 --> 00:12:42.160
collapse of the view so the collapse of
the view actually made room for new

00:12:42.160 --> 00:12:42.170
the view actually made room for new
 

00:12:42.170 --> 00:12:44.410
the view actually made room for new
cells to appear but since I don't know

00:12:44.410 --> 00:12:44.420
cells to appear but since I don't know
 

00:12:44.420 --> 00:12:47.050
cells to appear but since I don't know
what their old bounds was what their old

00:12:47.050 --> 00:12:47.060
what their old bounds was what their old
 

00:12:47.060 --> 00:12:49.300
what their old bounds was what their old
bounds were I don't have a reference

00:12:49.300 --> 00:12:49.310
bounds were I don't have a reference
 

00:12:49.310 --> 00:12:50.710
bounds were I don't have a reference
point from where I want to animate them

00:12:50.710 --> 00:12:50.720
point from where I want to animate them
 

00:12:50.720 --> 00:12:55.150
point from where I want to animate them
so I just I use the top and bottom

00:12:55.150 --> 00:12:55.160
so I just I use the top and bottom
 

00:12:55.160 --> 00:12:57.720
so I just I use the top and bottom
translation values to account for that

00:12:57.720 --> 00:12:57.730
translation values to account for that
 

00:12:57.730 --> 00:13:01.090
translation values to account for that
scrolling down here I loop through I

00:13:01.090 --> 00:13:01.100
scrolling down here I loop through I
 

00:13:01.100 --> 00:13:03.220
scrolling down here I loop through I
loop through all these same views and

00:13:03.220 --> 00:13:03.230
loop through all these same views and
 

00:13:03.230 --> 00:13:05.770
loop through all these same views and
add the animations to actually animate

00:13:05.770 --> 00:13:05.780
add the animations to actually animate
 

00:13:05.780 --> 00:13:07.510
add the animations to actually animate
them from these old bounds to their new

00:13:07.510 --> 00:13:07.520
them from these old bounds to their new
 

00:13:07.520 --> 00:13:10.690
them from these old bounds to their new
bounds I also want to animate the

00:13:10.690 --> 00:13:10.700
bounds I also want to animate the
 

00:13:10.700 --> 00:13:13.540
bounds I also want to animate the
collapse of the collapsing cell and I

00:13:13.540 --> 00:13:13.550
collapse of the collapsing cell and I
 

00:13:13.550 --> 00:13:15.900
collapse of the collapsing cell and I
want to animate the expanding layout

00:13:15.900 --> 00:13:15.910
want to animate the expanding layout
 

00:13:15.910 --> 00:13:18.239
want to animate the expanding layout
from a value of one to values here so it

00:13:18.239 --> 00:13:18.249
from a value of one to values here so it
 

00:13:18.249 --> 00:13:20.400
from a value of one to values here so it
disappears then I play all of these

00:13:20.400 --> 00:13:20.410
disappears then I play all of these
 

00:13:20.410 --> 00:13:22.650
disappears then I play all of these
together in an animator set and then

00:13:22.650 --> 00:13:22.660
together in an animator set and then
 

00:13:22.660 --> 00:13:25.769
together in an animator set and then
once it's actually done what I do is set

00:13:25.769 --> 00:13:25.779
once it's actually done what I do is set
 

00:13:25.779 --> 00:13:27.329
once it's actually done what I do is set
the expanding layered visibility to gone

00:13:27.329 --> 00:13:27.339
the expanding layered visibility to gone
 

00:13:27.339 --> 00:13:29.129
the expanding layered visibility to gone
so it doesn't get rendered on the screen

00:13:29.129 --> 00:13:29.139
so it doesn't get rendered on the screen
 

00:13:29.139 --> 00:13:31.530
so it doesn't get rendered on the screen
at all anymore and nor is it visible and

00:13:31.530 --> 00:13:31.540
at all anymore and nor is it visible and
 

00:13:31.540 --> 00:13:34.379
at all anymore and nor is it visible and
I also update my layer parameters to a

00:13:34.379 --> 00:13:34.389
I also update my layer parameters to a
 

00:13:34.389 --> 00:13:36.509
I also update my layer parameters to a
rep content because when it's gone I

00:13:36.509 --> 00:13:36.519
rep content because when it's gone I
 

00:13:36.519 --> 00:13:38.519
rep content because when it's gone I
want to just wrap the content which

00:13:38.519 --> 00:13:38.529
want to just wrap the content which
 

00:13:38.529 --> 00:13:40.590
want to just wrap the content which
means that none of the expanding layout

00:13:40.590 --> 00:13:40.600
means that none of the expanding layout
 

00:13:40.600 --> 00:13:45.059
means that none of the expanding layout
should be wrapped and then here get

00:13:45.059 --> 00:13:45.069
should be wrapped and then here get
 

00:13:45.069 --> 00:13:47.249
should be wrapped and then here get
animation this is actually how I animate

00:13:47.249 --> 00:13:47.259
animation this is actually how I animate
 

00:13:47.259 --> 00:13:51.540
animation this is actually how I animate
the top and bottom bounds in use since

00:13:51.540 --> 00:13:51.550
the top and bottom bounds in use since
 

00:13:51.550 --> 00:13:54.480
the top and bottom bounds in use since
top and bottom have associated setters

00:13:54.480 --> 00:13:54.490
top and bottom have associated setters
 

00:13:54.490 --> 00:13:56.759
top and bottom have associated setters
in views called set top and set bottom

00:13:56.759 --> 00:13:56.769
in views called set top and set bottom
 

00:13:56.769 --> 00:14:01.559
in views called set top and set bottom
these values can be animated as I would

00:14:01.559 --> 00:14:01.569
these values can be animated as I would
 

00:14:01.569 --> 00:14:03.030
these values can be animated as I would
like them to be and then I just return

00:14:03.030 --> 00:14:03.040
like them to be and then I just return
 

00:14:03.040 --> 00:14:04.579
like them to be and then I just return
an object animator that does what I need

00:14:04.579 --> 00:14:04.589
an object animator that does what I need
 

00:14:04.589 --> 00:14:06.840
an object animator that does what I need
the one other thing that I wanted to

00:14:06.840 --> 00:14:06.850
the one other thing that I wanted to
 

00:14:06.850 --> 00:14:09.449
the one other thing that I wanted to
mention in this animation is how I

00:14:09.449 --> 00:14:09.459
mention in this animation is how I
 

00:14:09.459 --> 00:14:12.989
mention in this animation is how I
actually managed to achieve the collapse

00:14:12.989 --> 00:14:12.999
actually managed to achieve the collapse
 

00:14:12.999 --> 00:14:16.499
actually managed to achieve the collapse
of the expanding layout as while fading

00:14:16.499 --> 00:14:16.509
of the expanding layout as while fading
 

00:14:16.509 --> 00:14:19.619
of the expanding layout as while fading
it out so what's what's going to happen

00:14:19.619 --> 00:14:19.629
it out so what's what's going to happen
 

00:14:19.629 --> 00:14:21.480
it out so what's what's going to happen
is when I set the height of the layout

00:14:21.480 --> 00:14:21.490
is when I set the height of the layout
 

00:14:21.490 --> 00:14:25.590
is when I set the height of the layout
to be collapsed 8 the list you will not

00:14:25.590 --> 00:14:25.600
to be collapsed 8 the list you will not
 

00:14:25.600 --> 00:14:27.210
to be collapsed 8 the list you will not
want to render the expanding layer

00:14:27.210 --> 00:14:27.220
want to render the expanding layer
 

00:14:27.220 --> 00:14:28.859
want to render the expanding layer
because it's not visible on the screen

00:14:28.859 --> 00:14:28.869
because it's not visible on the screen
 

00:14:28.869 --> 00:14:31.739
because it's not visible on the screen
so what I do here is override on measure

00:14:31.739 --> 00:14:31.749
so what I do here is override on measure
 

00:14:31.749 --> 00:14:35.309
so what I do here is override on measure
on size and on size change and what I'm

00:14:35.309 --> 00:14:35.319
on size and on size change and what I'm
 

00:14:35.319 --> 00:14:36.689
on size and on size change and what I'm
telling you to do is that when it

00:14:36.689 --> 00:14:36.699
telling you to do is that when it
 

00:14:36.699 --> 00:14:39.210
telling you to do is that when it
doesn't want to display the expanding

00:14:39.210 --> 00:14:39.220
doesn't want to display the expanding
 

00:14:39.220 --> 00:14:41.939
doesn't want to display the expanding
the expanding layout content but if it

00:14:41.939 --> 00:14:41.949
the expanding layout content but if it
 

00:14:41.949 --> 00:14:44.489
the expanding layout content but if it
previously was in expanding layout state

00:14:44.489 --> 00:14:44.499
previously was in expanding layout state
 

00:14:44.499 --> 00:14:46.650
previously was in expanding layout state
by overriding on measure and returning

00:14:46.650 --> 00:14:46.660
by overriding on measure and returning
 

00:14:46.660 --> 00:14:47.939
by overriding on measure and returning
the bigger height as opposed to a

00:14:47.939 --> 00:14:47.949
the bigger height as opposed to a
 

00:14:47.949 --> 00:14:50.129
the bigger height as opposed to a
smaller height will will keep it visible

00:14:50.129 --> 00:14:50.139
smaller height will will keep it visible
 

00:14:50.139 --> 00:14:53.189
smaller height will will keep it visible
and that's that lets me animate its

00:14:53.189 --> 00:14:53.199
and that's that lets me animate its
 

00:14:53.199 --> 00:14:55.169
and that's that lets me animate its
alpha value and once it's complete

00:14:55.169 --> 00:14:55.179
alpha value and once it's complete
 

00:14:55.179 --> 00:14:56.669
alpha value and once it's complete
completely collapsed that's when I set

00:14:56.669 --> 00:14:56.679
completely collapsed that's when I set
 

00:14:56.679 --> 00:14:58.410
completely collapsed that's when I set
it to gone because I don't have anything

00:14:58.410 --> 00:14:58.420
it to gone because I don't have anything
 

00:14:58.420 --> 00:15:01.199
it to gone because I don't have anything
else to do with it so that's how you can

00:15:01.199 --> 00:15:01.209
else to do with it so that's how you can
 

00:15:01.209 --> 00:15:03.600
else to do with it so that's how you can
expand expand eclipse cells and ListView

00:15:03.600 --> 00:15:03.610
expand expand eclipse cells and ListView
 

00:15:03.610 --> 00:15:06.480
expand expand eclipse cells and ListView
thanks for watching

