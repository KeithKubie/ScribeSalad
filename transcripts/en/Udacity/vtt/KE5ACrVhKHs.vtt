WEBVTT
Kind: captions
Language: en

00:00:01.345 --> 00:00:04.010
So, all of this conversation
just got me thinking.

00:00:04.010 --> 00:00:09.110
It would be so much simpler if the off
variable just had the email embedded it,

00:00:09.110 --> 00:00:13.205
instead of limiting us to just
having the UID of the provider.

00:00:13.205 --> 00:00:16.761
I've heard about custom tokens,
not really sure what they are.

00:00:16.761 --> 00:00:19.870
Can I use that to my
advantage in some way?

00:00:19.870 --> 00:00:21.638
&gt;&gt; Yeah,
that would solve a lot of this problem.

00:00:21.638 --> 00:00:22.640
&gt;&gt; Cool.
&gt;&gt; Yeah,

00:00:22.640 --> 00:00:25.284
if only I had told you that sooner.

00:00:25.284 --> 00:00:26.867
&gt;&gt; [LAUGH]
&gt;&gt; But, no,

00:00:26.867 --> 00:00:30.577
what you would do is you would need to
mint a custom token, as it's called.

00:00:30.577 --> 00:00:32.506
And essentially, what that means is,

00:00:32.506 --> 00:00:36.187
we have all kinds of libraries that you
can use on a trusted environment, so

00:00:36.187 --> 00:00:38.828
that you don't ude on
the Android device of the user.

00:00:38.828 --> 00:00:42.078
But you can run them on pretty
much any server environment or

00:00:42.078 --> 00:00:43.900
any other trusted environment.

00:00:43.900 --> 00:00:48.137
Essentially, you'd get to encode
whatever information you want and

00:00:48.137 --> 00:00:50.934
you sign it with the secret
of your fire base and

00:00:50.934 --> 00:00:54.617
you then use that as the off
variable in your security rules.

00:00:54.617 --> 00:00:58.196
And that means that you can put
any information you want in there.

00:00:58.196 --> 00:01:02.637
So if you've already verified the user's
email address, for example, you can just

00:01:02.637 --> 00:01:06.214
put it in there and then in your
security rules you can say auth.email

00:01:06.214 --> 00:01:09.997
and use it directly instead of having
to load it from your mapping table.

00:01:09.997 --> 00:01:12.009
&gt;&gt; That actually sounds pretty awesome.

00:01:12.009 --> 00:01:16.681
Are there, so this seems like something
that people probably do fairly commonly.

00:01:16.681 --> 00:01:20.049
Are there any sort of prepackaged or
third-party options or

00:01:20.049 --> 00:01:23.481
options that you would suggest
that already could get me up and

00:01:23.481 --> 00:01:26.137
running with creating
custom tokens quickly.

00:01:26.137 --> 00:01:30.803
&gt;&gt; Yeah, definitely, so for custom
tokens, typically if you have your own

00:01:30.803 --> 00:01:35.027
existing user table then you need
to start making your own tokens.

00:01:35.027 --> 00:01:39.460
But if you want to integrate with all
kinds of existing like social providers

00:01:39.460 --> 00:01:41.606
like to Google or Facebook but also,

00:01:41.606 --> 00:01:44.947
provider's firebase doesn't
support like Linked In.

00:01:44.947 --> 00:01:47.548
And then you could choose Alt zero and
date.

00:01:47.548 --> 00:01:50.086
Essentially, means
the question taken for you and

00:01:50.086 --> 00:01:53.460
provide a lot more information to
the author board that you can use.

00:01:53.460 --> 00:01:54.099
&gt;&gt; Okay.

00:01:54.099 --> 00:01:54.952
Cool.

00:01:54.952 --> 00:01:59.970
So basically what I'm hearing, is that
I could run a tiny bit of server code

00:01:59.970 --> 00:02:05.162
on even my own Android phone, but will
probably somewhere better than that.

00:02:05.162 --> 00:02:07.962
And then that would verify that
the users are actually own the email

00:02:07.962 --> 00:02:09.620
addresses that they say that they own.

00:02:09.620 --> 00:02:13.610
And that I could use a service
like auth zero to then attach

00:02:13.610 --> 00:02:17.210
that email address to the off token and
easily use it throughout my rules.

00:02:17.210 --> 00:02:18.610
&gt;&gt; Yeah.

00:02:18.610 --> 00:02:20.370
&gt;&gt; Well Puff that sounds like a plan.

00:02:20.370 --> 00:02:22.320
So, thanks for
taking the time to talk to us today,

00:02:22.320 --> 00:02:24.437
I'm sure you have important
things to get to at Google.

00:02:26.650 --> 00:02:29.410
The funny thing is,
that before we started talking I

00:02:29.410 --> 00:02:33.280
really was not a security believer, I
didn't think it was that big of a deal.

00:02:33.280 --> 00:02:36.360
But what I'm realizing is
that security is something

00:02:36.360 --> 00:02:39.450
that you need to be thinking about even
at the stage that you're thinking about

00:02:39.450 --> 00:02:42.730
how your data is going to be organized,
and it's super important to get right.

00:02:42.730 --> 00:02:44.720
So, thank you so much for
showing me that.

00:02:44.720 --> 00:02:46.340
&gt;&gt; No, thanks for
allowing me to explain this,

00:02:46.340 --> 00:02:49.420
because indeed security is
very important with Firebase.

00:02:49.420 --> 00:02:51.110
Right when you start data modeling,
as you say,

00:02:51.110 --> 00:02:54.920
you must also figure out how you
want to secure the database.

00:02:54.920 --> 00:02:59.806
Because if you don't, you never know who
you can trust in this world, do you?

00:02:59.806 --> 00:03:02.979
[SOUND]

